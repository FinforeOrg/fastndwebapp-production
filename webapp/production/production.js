steal.loading('webapp/core/finfore.js','jquery/view/tmpl/tmpl.js','jquery/view/view.js','jquery/jquery.js','webapp/core/utils.js','webapp/core/api.js','webapp/lib/jquery.mobile.js','webapp/lib/flash_detect_min.js','webapp/lib/jquery-ui/jquery-ui.min.js','webapp/lib/mediaelement/mediaelement-and-player.js','webapp/lib/toast/jquery.toastmessage.js','webapp/lib/jquery-impromptu.3.1.js','webapp/lib/iscroll.js','webapp/views/desktop.tmpl','webapp/views/tab-view.tmpl','webapp/views/login.tmpl','webapp/views/addcompanymobile.tmpl','webapp/views/profile.tmpl','webapp/views/panel.controlgroup.tmpl','webapp/views/manage.tmpl','webapp/views/manage.feed-infos.tmpl','webapp/views/manage.panels.tmpl','webapp/views/manage.source.tmpl','webapp/views/signup.tmpl','webapp/views/help.tmpl','webapp/core/core.js','webapp/core/desktop.js','webapp/core/manage.js','webapp/core/login.js','webapp/core/signup.js','webapp/core/profile.js','webapp/core/addcompany.js','webapp/core/help.js','webapp/views/module.tmpl','webapp/views/module.feed.tmpl','webapp/views/module.feed.management.tmpl','webapp/views/module.podcast.tmpl','webapp/views/module.podcast.management.tmpl','webapp/views/module.twitter.tmpl','webapp/views/module.twitter.tweet.tmpl','webapp/views/module.twitter.management.tmpl','webapp/views/module.prices.tmpl','webapp/views/module.prices.management.tmpl','webapp/views/module.portfolio.tmpl','webapp/views/module.portfolio.management.tmpl','webapp/views/module.agenda.tmpl','webapp/views/module.linkedin.tmpl','webapp/views/module.linkedin.management.tmpl','webapp/views/module.blinkx.tmpl','webapp/views/module.keyword.management.tmpl','webapp/views/module.keyword.tmpl','webapp/modules/feed.js','webapp/modules/podcast.js','webapp/modules/twitter.js','webapp/modules/prices.js','webapp/modules/portfolio.js','webapp/modules/agenda.js','webapp/modules/linkedin.js','webapp/modules/blinkx.js','webapp/modules/keyword.js');
steal({src: 'webapp/production/production.css', has: ['webapp/lib/jquery.mobile.css','webapp/lib/mediaelement/mediaelementplayer.css','webapp/lib/toast/jquery.toastmessage.css','webapp/css/shared.css','webapp/css/base.css','webapp/css/management.css']});
steal("jquery/view/tmpl").then("//webapp/core/utils.js","//webapp/core/api.js").then(function(){jQuery.support.cors=true;$(document).bind("mobileinit",function(){$.extend($.mobile,{ajaxEnabled:false,autoInitialize:false,hashListeningEnabled:false,defaultPageTransition:"none",defaultDialogTransition:"slidedown",pushStateEnabled:false,linkBindingEnabled:false});$.extend($.mobile.changePage.defaults,{changeHash:false});$.mobile.allowCrossDomainPages=true})}).then("//webapp/lib/jquery.mobile.js","//webapp/lib/jquery.mobile.css").then(function(){Loader.show()}).then("//webapp/lib/flash_detect_min.js",
"//webapp/lib/jquery-ui/jquery-ui.min.js","//webapp/lib/mediaelement/mediaelement-and-player.js","//webapp/lib/toast/jquery.toastmessage.js","//webapp/lib/jquery-impromptu.3.1.js","//webapp/lib/iscroll.js").then("//webapp/views/desktop.tmpl","//webapp/views/tab-view.tmpl","//webapp/views/login.tmpl","//webapp/views/addcompanymobile.tmpl","//webapp/views/profile.tmpl","//webapp/views/panel.controlgroup.tmpl","//webapp/views/manage.tmpl","//webapp/views/manage.feed-infos.tmpl","//webapp/views/manage.panels.tmpl",
"//webapp/views/manage.source.tmpl","//webapp/views/signup.tmpl","//webapp/views/help.tmpl").then("../lib/mediaelement/mediaelementplayer.css","../lib/toast/jquery.toastmessage.css").then("../css/shared.css").then("../css/base.css").then("../css/management.css").then("./core.js").then("./desktop.js","./manage.js","./login.js","./signup.js","./profile.js","./addcompany.js","./help.js").then("//webapp/views/module.tmpl","//webapp/views/module.feed.tmpl","//webapp/views/module.feed.management.tmpl",
"//webapp/views/module.podcast.tmpl","//webapp/views/module.podcast.management.tmpl","//webapp/views/module.twitter.tmpl","//webapp/views/module.twitter.tweet.tmpl","//webapp/views/module.twitter.management.tmpl","//webapp/views/module.prices.tmpl","//webapp/views/module.prices.management.tmpl","//webapp/views/module.portfolio.tmpl","//webapp/views/module.portfolio.management.tmpl","//webapp/views/module.agenda.tmpl","//webapp/views/module.linkedin.tmpl","//webapp/views/module.linkedin.management.tmpl",
"//webapp/views/module.blinkx.tmpl","//webapp/views/module.keyword.management.tmpl","//webapp/views/module.keyword.tmpl").then("../modules/feed.js","../modules/podcast.js","../modules/twitter.js","../modules/prices.js","../modules/portfolio.js","../modules/agenda.js","../modules/linkedin.js","../modules/blinkx.js","../modules/keyword.js").then(function(){typeof window.hideBrowserNotice!="function"&&finfore.init()});steal.loaded("webapp/core/finfore.js");
steal("jquery/view").then(function(){function f(D,P,W,Z){Z={data:Z||(P?P.data:{}),_wrap:P?P._wrap:null,tmpl:null,parent:P||null,nodes:[],calls:r,nest:p,wrap:u,html:x,update:A};D&&jQuery.extend(Z,D,{nodes:[],parent:P});if(W){Z.tmpl=W;Z._ctnt=Z._ctnt||Z.tmpl(jQuery,Z);Z.key=++t;(G.length?O:J)[t]=Z}return Z}function c(D,P,W){var Z;W=W?jQuery.map(W,function(la){return typeof la==="string"?D.key?la.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+F+'="'+D.key+'" $2'):la:c(la,D,la._ctnt)}):D;if(P)return W;
W=W.join("");W.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(la,oa,M,S){Z=jQuery(M).get();j(Z);if(oa)Z=e(oa).concat(Z);if(S)Z=Z.concat(e(S))});return Z?Z:e(W)}function e(D){var P=document.createElement("div");P.innerHTML=D;return jQuery.makeArray(P.childNodes)}function a(D){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(D).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(P,W,Z,la,oa,M,S){P=jQuery.tmpl.tag[Z];if(!P)throw"Template command not found: "+Z;Z=P._default||[];if(M&&!/\w$/.test(oa)){oa+=M;M=""}if(oa){oa=n(oa);S=S?","+n(S)+")":M?")":"";S=M?oa.indexOf(".")>-1?oa+M:"("+oa+").call($item"+S:oa;M=M?S:"(typeof("+oa+")==='function'?("+oa+").call($item):("+oa+"))"}else M=S=Z.$1||"null";la=n(la);return"');"+P[W?"close":"open"].split("$notnull_1").join(oa?"typeof("+oa+")!=='undefined' && ("+oa+")!=null":"true").split("$1a").join(M).split("$1").join(S).split("$2").join(la?
la.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(aa,na,V,ra){return(ra=ra?","+ra+")":V?")":"")?"("+na+").call($item"+ra:aa}):Z.$2||"")+"_.push('"})+"');}return _;")}function d(D,P){D._wrap=c(D,true,jQuery.isArray(P)?P:[z.test(P)?P:jQuery(P).html()]).join("")}function n(D){return D?D.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function o(D){var P=document.createElement("div");P.appendChild(D.cloneNode(true));return P.innerHTML}function j(D){function P(na){function V(Da){Da+=W;q=oa[Da]=oa[Da]||
f(q,J[q.parent.key+W]||q.parent,null,true)}var ra,sa=na,q,wa;if(wa=na.getAttribute(F)){for(;sa.parentNode&&(sa=sa.parentNode).nodeType===1&&!(ra=sa.getAttribute(F)););if(ra!==wa){sa=sa.parentNode?sa.nodeType===11?0:sa.getAttribute(F)||0:0;if(!(q=J[wa])){q=O[wa];q=f(q,J[sa]||O[sa],null,true);q.key=++t;J[t]=q}H&&V(wa)}na.removeAttribute(F)}else if(H&&(q=jQuery.data(na,"tmplItem"))){V(q.key);J[q.key]=q;sa=(sa=jQuery.data(na.parentNode,"tmplItem"))?sa.key:0}if(q){for(ra=q;ra&&ra.key!=sa;){ra.nodes.push(na);
ra=ra.parent}delete q._ctnt;delete q._wrap;jQuery.data(na,"tmplItem",q)}}var W="_"+H,Z,la,oa={},M,S,aa;M=0;for(S=D.length;M<S;M++)if((Z=D[M]).nodeType===1){la=Z.getElementsByTagName("*");for(aa=la.length-1;aa>=0;aa--)P(la[aa]);P(Z)}}function r(D,P,W,Z){if(!D)return G.pop();G.push({_:D,tmpl:P,item:this,data:W,options:Z})}function p(D,P,W){return jQuery.tmpl(jQuery.template(D),P,W,this)}function u(D,P){var W=D.options||{};W.wrapped=P;return jQuery.tmpl(jQuery.template(D.tmpl),D.data,W,D.item)}function x(D,
P){var W=this._wrap;return jQuery.map(jQuery(jQuery.isArray(W)?W.join(""):W).filter(D||"*"),function(Z){return P?Z.innerText||Z.textContent:Z.outerHTML||o(Z)})}function A(){var D=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(D[0]);jQuery(D).remove()}var E=jQuery.fn.domManip,F="_tmplitem",z=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,J={},O={},L,w={key:0,data:{}},t=0,H=0,G=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(D,
P){jQuery.fn[D]=function(W){var Z=[];W=jQuery(W);var la,oa,M;la=this.length===1&&this[0].parentNode;L=J||{};if(la&&la.nodeType===11&&la.childNodes.length===1&&W.length===1){W[P](this[0]);Z=this}else{oa=0;for(M=W.length;oa<M;oa++){H=oa;la=(oa>0?this.clone(true):this).get();jQuery.fn[P].apply(jQuery(W[oa]),la);Z=Z.concat(la)}H=0;Z=this.pushStack(Z,D,W.selector)}W=L;L=null;jQuery.tmpl.complete(W);return Z}});jQuery.fn.extend({tmpl:function(D,P,W){return jQuery.tmpl(this[0],D,P,W)},tmplItem:function(){return jQuery.tmplItem(this[0])},
template:function(D){return jQuery.template(D,this[0])},domManip:function(D,P,W){if(D[0]&&D[0].nodeType){for(var Z=jQuery.makeArray(arguments),la=D.length,oa=0,M;oa<la&&!(M=jQuery.data(D[oa++],"tmplItem")););if(la>1)Z[0]=[jQuery.makeArray(D)];if(M&&H)Z[2]=function(S){jQuery.tmpl.afterManip(this,S,W)};E.apply(this,Z)}else E.apply(this,arguments);H=0;L||jQuery.tmpl.complete(J);return this}});jQuery.extend({tmpl:function(D,P,W,Z){var la=!Z;if(la){Z=w;D=jQuery.template[D]||jQuery.template(null,D);O={}}else if(!D){D=
Z.tmpl;J[Z.key]=Z;Z.nodes=[];Z.wrapped&&d(Z,Z.wrapped);return jQuery(c(Z,null,Z.tmpl(jQuery,Z)))}if(!D)return[];if(typeof P==="function")P=P.call(Z||{});W&&W.wrapped&&d(W,W.wrapped);P=jQuery.isArray(P)?jQuery.map(P,function(oa){return oa?f(W,Z,D,oa):null}):[f(W,Z,D,P)];return la?jQuery(c(Z,null,P)):P},tmplItem:function(D){var P;if(D instanceof jQuery)D=D[0];for(;D&&D.nodeType===1&&!(P=jQuery.data(D,"tmplItem"))&&(D=D.parentNode););return P||w},template:function(D,P){if(P){if(typeof P==="string")P=
a(P);else if(P instanceof jQuery)P=P[0]||{};if(P.nodeType)P=jQuery.data(P,"tmpl")||jQuery.data(P,"tmpl",a(P.innerHTML));return typeof D==="string"?(jQuery.template[D]=P):P}return D?typeof D!=="string"?jQuery.template(null,D):jQuery.template[D]||jQuery.template(null,z.test(D)?D:jQuery(D)):null},encode:function(D){return(""+D).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},
wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){J=
{}},afterManip:function(D,P,W){var Z=P.nodeType===11?jQuery.makeArray(P.childNodes):P.nodeType===1?[P]:[];W.call(D,P);j(Z);H++}});$.View.register({suffix:"tmpl",renderer:function(D,P){var W=$.template(null,P);return function(Z){return W.call($,$,{data:Z}).join("")}},script:function(D,P){return"function(data){return ("+$.template(null,P)+").call(jQuery, jQuery, {data: data}).join(''); }"}});jQuery.View.ext=".tmpl"});steal.loaded("jquery/view/tmpl/tmpl.js");
steal("jquery").then(function(f){var c=function(L){return L.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},e=f.makeArray,a=1,d=f.View=function(L,w,t,H){if(typeof t==="function"){H=t;t=undefined}var G=r(w);if(G.length){var D=f.Deferred();G.push(o(L,true));f.when.apply(f,G).then(function(W){var Z=e(arguments),la=Z.pop()[0];if(j(w))w=p(W);else for(var oa in w)if(j(w[oa]))w[oa]=p(Z.shift());Z=la(w,t);D.resolve(Z);H&&H(Z)});return D.promise()}else{var P;G=typeof H==="function";D=o(L,G);if(G){P=D;D.done(function(W){H(W(w,
t))})}else D.done(function(W){P=W(w,t)});return P}},n=function(L,w){if(!L.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+w;},o=function(L,w){return f.ajax({url:L,dataType:"view",async:w})},j=function(L){return L&&f.isFunction(L.always)},r=function(L){var w=[];if(j(L))return[L];else for(var t in L)j(L[t])&&w.push(L[t]);return w},p=function(L){return f.isArray(L)&&L.length===3&&L[1]==="success"?L[0]:L};f.ajaxTransport("view",function(L,w){var t=w.url;L=t.match(/\.[\w\d]+$/);
var H,G,D,P,W=function(la){la=H.renderer(D,la);if(d.cache)d.cached[D]=la;return{view:la}};if(G=document.getElementById(t))L="."+G.type.match(/\/(x\-)?(.+)/)[2];if(!L){L=d.ext;t+=d.ext}D=c(t);if(t.match(/^\/\//)){var Z=t.substr(2);t=typeof steal==="undefined"?(t="/"+Z):steal.root.mapJoin(Z)+""}H=d.types[L];return{send:function(la,oa){if(d.cached[D])return oa(200,"success",{view:d.cached[D]});else if(G)oa(200,"success",W(G.innerHTML));else P=f.ajax({async:w.async,url:t,dataType:"text",error:function(){n("",
t);oa(404)},success:function(M){n(M,t);oa(200,"success",W(M))}})},abort:function(){P&&P.abort()}}});f.extend(d,{hookups:{},hookup:function(L){var w=++a;d.hookups[w]=L;return w},cached:{},cache:true,register:function(L){this.types["."+L.suffix]=L;window.steal&&steal.type(L.suffix+" view js",function(w,t){var H=d.types["."+w.type],G=c(w.rootSrc+"");w.text=H.script(G,w.text);t()})},types:{},ext:".ejs",registerScript:function(L,w,t){return"$.View.preload('"+w+"',"+d.types["."+L].script(w,t)+");"},preload:function(L,
w){d.cached[L]=function(t,H){return w.call(t,t,H)}}});window.steal&&steal.type("view js",function(L,w){var t=d.types["."+L.type],H=c(L.rootSrc+"");L.text="steal('"+(t.plugin||"jquery/view/"+L.type)+"').then(function($){$.View.preload('"+H+"',"+L.text+");\n})";w()});var u,x,A,E,F,z,J,O={val:true,text:true};u=function(L){var w=f.fn[L];f.fn[L]=function(){var t=e(arguments),H,G,D=this;if(j(t[0])){t[0].done(function(P){x.call(D,[P],w)});return this}else if(A(t)){if(H=z(t)){G=t[H];t[H]=function(P){x.call(D,
[P],w);G.call(D,P)};d.apply(d,t);return this}t=d.apply(d,t);if(j(t)){t.done(function(P){x.call(D,[P],w)});return this}else t=[t]}return O[L]?w.apply(this,t):x.call(this,t,w)}};x=function(L,w){var t;for(var H in d.hookups)break;if(H&&L[0]&&E(L[0])){t=d.hookups;d.hookups={};L[0]=f(L[0])}w=w.apply(this,L);t&&J(L[0],t);return w};A=function(L){var w=typeof L[1];return typeof L[0]=="string"&&(w=="object"||w=="function")&&!F(L[1])};F=function(L){return L.nodeType||L.jquery};E=function(L){if(F(L))return true;
else if(typeof L==="string"){L=f.trim(L);return L.substr(0,1)==="<"&&L.substr(L.length-1,1)===">"&&L.length>=3}else return false};z=function(L){return typeof L[3]==="function"?3:typeof L[2]==="function"&&2};J=function(L,w){var t,H=0,G,D;L=L.filter(function(){return this.nodeType!=3});L=L.add("[data-view-id]",L);for(t=L.length;H<t;H++)if(L[H].getAttribute&&(G=L[H].getAttribute("data-view-id"))&&(D=w[G])){D(L[H],G);delete w[G];L[H].removeAttribute("data-view-id")}f.extend(d.hookups,w)};f.fn.hookup=
function(){var L=d.hookups;d.hookups={};J(this,L);return this};f.each(["prepend","append","after","before","text","html","replaceWith","val"],function(L,w){u(w)})});steal.loaded("jquery/view/view.js");
(function(f,c){function e(h){var k=wa[h]={},s,v;h=h.split(/\s+/);s=0;for(v=h.length;s<v;s++)k[h[s]]=true;return k}function a(h,k,s){if(s===c&&h.nodeType===1){s="data-"+k.replace(Aa,"-$1").toLowerCase();s=h.getAttribute(s);if(typeof s==="string"){try{s=s==="true"?true:s==="false"?false:s==="null"?null:q.isNumeric(s)?parseFloat(s):Ga.test(s)?q.parseJSON(s):s}catch(v){}q.data(h,k,s)}else s=c}return s}function d(h){for(var k in h)if(!(k==="data"&&q.isEmptyObject(h[k])))if(k!=="toJSON")return false;return true}
function n(h,k,s){var v=k+"defer",y=k+"queue",B=k+"mark",K=q._data(h,v);if(K&&(s==="queue"||!q._data(h,y))&&(s==="mark"||!q._data(h,B)))setTimeout(function(){if(!q._data(h,y)&&!q._data(h,B)){q.removeData(h,v,true);K.fire()}},0)}function o(){return false}function j(){return true}function r(h){return!h||!h.parentNode||h.parentNode.nodeType===11}function p(h,k,s){k=k||0;if(q.isFunction(k))return q.grep(h,function(y,B){return!!k.call(y,B,y)===s});else if(k.nodeType)return q.grep(h,function(y){return y===
k===s});else if(typeof k==="string"){var v=q.grep(h,function(y){return y.nodeType===1});if(Eb.test(k))return q.filter(k,v,!s);else k=q.filter(k,v)}return q.grep(h,function(y){return q.inArray(y,k)>=0===s})}function u(h){var k=ib.split("|");h=h.createDocumentFragment();if(h.createElement)for(;k.length;)h.createElement(k.pop());return h}function x(h){return q.nodeName(h,"table")?h.getElementsByTagName("tbody")[0]||h.appendChild(h.ownerDocument.createElement("tbody")):h}function A(h,k){if(!(k.nodeType!==
1||!q.hasData(h))){var s,v,y;v=q._data(h);h=q._data(k,v);var B=v.events;if(B){delete h.handle;h.events={};for(s in B){v=0;for(y=B[s].length;v<y;v++)q.event.add(k,s+(B[s][v].namespace?".":"")+B[s][v].namespace,B[s][v],B[s][v].data)}}if(h.data)h.data=q.extend({},h.data)}}function E(h,k){var s;if(k.nodeType===1){k.clearAttributes&&k.clearAttributes();k.mergeAttributes&&k.mergeAttributes(h);s=k.nodeName.toLowerCase();if(s==="object")k.outerHTML=h.outerHTML;else if(s==="input"&&(h.type==="checkbox"||h.type===
"radio")){if(h.checked)k.defaultChecked=k.checked=h.checked;if(k.value!==h.value)k.value=h.value}else if(s==="option")k.selected=h.defaultSelected;else if(s==="input"||s==="textarea")k.defaultValue=h.defaultValue;k.removeAttribute(q.expando)}}function F(h){return typeof h.getElementsByTagName!=="undefined"?h.getElementsByTagName("*"):typeof h.querySelectorAll!=="undefined"?h.querySelectorAll("*"):[]}function z(h){if(h.type==="checkbox"||h.type==="radio")h.defaultChecked=h.checked}function J(h){var k=
(h.nodeName||"").toLowerCase();if(k==="input")z(h);else k!=="script"&&typeof h.getElementsByTagName!=="undefined"&&q.grep(h.getElementsByTagName("input"),z)}function O(h){var k=V.createElement("div");jb.appendChild(k);k.innerHTML=h.outerHTML;return k.firstChild}function L(h,k){k.src?q.ajax({url:k.src,async:false,dataType:"script"}):q.globalEval((k.text||k.textContent||k.innerHTML||"").replace(Fb,"/*$0*/"));k.parentNode&&k.parentNode.removeChild(k)}function w(h,k,s){var v=k==="width"?h.offsetWidth:
h.offsetHeight,y=k==="width"?Gb:Hb,B=0,K=y.length;if(v>0){if(s!=="border")for(;B<K;B++){s||(v-=parseFloat(q.css(h,"padding"+y[B]))||0);if(s==="margin")v+=parseFloat(q.css(h,s+y[B]))||0;else v-=parseFloat(q.css(h,"border"+y[B]+"Width"))||0}return v+"px"}v=Wa(h,k,k);if(v<0||v==null)v=h.style[k]||0;v=parseFloat(v)||0;if(s)for(;B<K;B++){v+=parseFloat(q.css(h,"padding"+y[B]))||0;if(s!=="padding")v+=parseFloat(q.css(h,"border"+y[B]+"Width"))||0;if(s==="margin")v+=parseFloat(q.css(h,s+y[B]))||0}return v+
"px"}function t(h){return function(k,s){if(typeof k!=="string"){s=k;k="*"}if(q.isFunction(s)){k=k.toLowerCase().split(kb);for(var v=0,y=k.length,B,K;v<y;v++){B=k[v];if(K=/^\+/.test(B))B=B.substr(1)||"*";B=h[B]=h[B]||[];B[K?"unshift":"push"](s)}}}}function H(h,k,s,v,y,B){y=y||k.dataTypes[0];B=B||{};B[y]=true;y=h[y];for(var K=0,N=y?y.length:0,Q=h===cb,T;K<N&&(Q||!T);K++){T=y[K](k,s,v);if(typeof T==="string")if(!Q||B[T])T=c;else{k.dataTypes.unshift(T);T=H(h,k,s,v,T,B)}}if((Q||!T)&&!B["*"])T=H(h,k,s,
v,"*",B);return T}function G(h,k){var s,v,y=q.ajaxSettings.flatOptions||{};for(s in k)if(k[s]!==c)(y[s]?h:v||(v={}))[s]=k[s];v&&q.extend(true,h,v)}function D(h,k,s,v){if(q.isArray(k))q.each(k,function(B,K){s||Ib.test(h)?v(h,K):D(h+"["+(typeof K==="object"||q.isArray(K)?B:"")+"]",K,s,v)});else if(!s&&k!=null&&typeof k==="object")for(var y in k)D(h+"["+y+"]",k[y],s,v);else v(h,k)}function P(h,k,s){var v=h.contents,y=h.dataTypes,B=h.responseFields,K,N,Q,T;for(N in B)if(N in s)k[B[N]]=s[N];for(;y[0]===
"*";){y.shift();if(K===c)K=h.mimeType||k.getResponseHeader("content-type")}if(K)for(N in v)if(v[N]&&v[N].test(K)){y.unshift(N);break}if(y[0]in s)Q=y[0];else{for(N in s){if(!y[0]||h.converters[N+" "+y[0]]){Q=N;break}T||(T=N)}Q=Q||T}if(Q){Q!==y[0]&&y.unshift(Q);return s[Q]}}function W(h,k){if(h.dataFilter)k=h.dataFilter(k,h.dataType);var s=h.dataTypes,v={},y,B,K=s.length,N,Q=s[0],T,fa,Y,ia,ea;for(y=1;y<K;y++){if(y===1)for(B in h.converters)if(typeof B==="string")v[B.toLowerCase()]=h.converters[B];T=
Q;Q=s[y];if(Q==="*")Q=T;else if(T!=="*"&&T!==Q){fa=T+" "+Q;Y=v[fa]||v["* "+Q];if(!Y){ea=c;for(ia in v){N=ia.split(" ");if(N[0]===T||N[0]==="*")if(ea=v[N[1]+" "+Q]){ia=v[ia];if(ia===true)Y=ea;else if(ea===true)Y=ia;break}}}Y||ea||q.error("No conversion from "+fa.replace(" "," to "));if(Y!==true)k=Y?Y(k):ea(ia(k))}}return k}function Z(){try{return new f.XMLHttpRequest}catch(h){}}function la(){try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(h){}}function oa(){setTimeout(M,0);return $a=q.now()}
function M(){$a=c}function S(h,k){var s={};q.each(lb.concat.apply([],lb.slice(0,k)),function(){s[this]=h});return s}function aa(h){if(!db[h]){var k=V.body,s=q("<"+h+">").appendTo(k),v=s.css("display");s.remove();if(v==="none"||v===""){if(!Pa){Pa=V.createElement("iframe");Pa.frameBorder=Pa.width=Pa.height=0}k.appendChild(Pa);if(!Xa||!Pa.createElement){Xa=(Pa.contentWindow||Pa.contentDocument).document;Xa.write((V.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Xa.close()}s=Xa.createElement(h);
Xa.body.appendChild(s);v=q.css(s,"display");k.removeChild(Pa)}db[h]=v}return db[h]}function na(h){return q.isWindow(h)?h:h.nodeType===9?h.defaultView||h.parentWindow:false}var V=f.document,ra=f.navigator,sa=f.location,q=function(){function h(){if(!k.isReady){try{V.documentElement.doScroll("left")}catch(R){setTimeout(h,1);return}k.ready()}}var k=function(R,ca){return new k.fn.init(R,ca,y)},s=f.jQuery,v=f.$,y,B=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,K=/\S/,N=/^\s+/,Q=/\s+$/,T=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
fa=/^[\],:{}\s]*$/,Y=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,ia=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ea=/(?:^|:|,)(?:\s*\[)+/g,ta=/(webkit)[ \/]([\w.]+)/,Ba=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ea=/(msie) ([\w.]+)/,Ca=/(mozilla)(?:.*? rv:([\w.]+))?/,Ra=/-([a-z]|[0-9])/ig,ua=/^-ms-/,Qa=function(R,ca){return(ca+"").toUpperCase()},Oa=ra.userAgent,C,I,U=Object.prototype.toString,X=Object.prototype.hasOwnProperty,ba=Array.prototype.push,da=Array.prototype.slice,ja=String.prototype.trim,
ma=Array.prototype.indexOf,xa={};k.fn=k.prototype={constructor:k,init:function(R,ca,ka){var ga;if(!R)return this;if(R.nodeType){this.context=this[0]=R;this.length=1;return this}if(R==="body"&&!ca&&V.body){this.context=V;this[0]=V.body;this.selector=R;this.length=1;return this}if(typeof R==="string")if((ga=R.charAt(0)==="<"&&R.charAt(R.length-1)===">"&&R.length>=3?[null,R,null]:B.exec(R))&&(ga[1]||!ca))if(ga[1]){ka=(ca=ca instanceof k?ca[0]:ca)?ca.ownerDocument||ca:V;if(R=T.exec(R))if(k.isPlainObject(ca)){R=
[V.createElement(R[1])];k.fn.attr.call(R,ca,true)}else R=[ka.createElement(R[1])];else{R=k.buildFragment([ga[1]],[ka]);R=(R.cacheable?k.clone(R.fragment):R.fragment).childNodes}return k.merge(this,R)}else{if((ca=V.getElementById(ga[2]))&&ca.parentNode){if(ca.id!==ga[2])return ka.find(R);this.length=1;this[0]=ca}this.context=V;this.selector=R;return this}else return!ca||ca.jquery?(ca||ka).find(R):this.constructor(ca).find(R);else if(k.isFunction(R))return ka.ready(R);if(R.selector!==c){this.selector=
R.selector;this.context=R.context}return k.makeArray(R,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return da.call(this,0)},get:function(R){return R==null?this.toArray():R<0?this[this.length+R]:this[R]},pushStack:function(R,ca,ka){var ga=this.constructor();k.isArray(R)?ba.apply(ga,R):k.merge(ga,R);ga.prevObject=this;ga.context=this.context;if(ca==="find")ga.selector=this.selector+(this.selector?" ":"")+ka;else if(ca)ga.selector=this.selector+"."+
ca+"("+ka+")";return ga},each:function(R,ca){return k.each(this,R,ca)},ready:function(R){k.bindReady();C.add(R);return this},eq:function(R){R=+R;return R===-1?this.slice(R):this.slice(R,R+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(da.apply(this,arguments),"slice",da.call(arguments).join(","))},map:function(R){return this.pushStack(k.map(this,function(ca,ka){return R.call(ca,ka,ca)}))},end:function(){return this.prevObject||this.constructor(null)},
push:ba,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var R,ca,ka,ga,ya,va=arguments[0]||{},Fa=1,Ha=arguments.length,eb=false;if(typeof va==="boolean"){eb=va;va=arguments[1]||{};Fa=2}if(typeof va!=="object"&&!k.isFunction(va))va={};if(Ha===Fa){va=this;--Fa}for(;Fa<Ha;Fa++)if((R=arguments[Fa])!=null)for(ca in R){ka=va[ca];ga=R[ca];if(va!==ga)if(eb&&ga&&(k.isPlainObject(ga)||(ya=k.isArray(ga)))){if(ya){ya=false;ka=ka&&k.isArray(ka)?ka:[]}else ka=ka&&k.isPlainObject(ka)?
ka:{};va[ca]=k.extend(eb,ka,ga)}else if(ga!==c)va[ca]=ga}return va};k.extend({noConflict:function(R){if(f.$===k)f.$=v;if(R&&f.jQuery===k)f.jQuery=s;return k},isReady:false,readyWait:1,holdReady:function(R){if(R)k.readyWait++;else k.ready(true)},ready:function(R){if(R===true&&!--k.readyWait||R!==true&&!k.isReady){if(!V.body)return setTimeout(k.ready,1);k.isReady=true;if(!(R!==true&&--k.readyWait>0)){C.fireWith(V,[k]);k.fn.trigger&&k(V).trigger("ready").off("ready")}}},bindReady:function(){if(!C){C=
k.Callbacks("once memory");if(V.readyState==="complete")return setTimeout(k.ready,1);if(V.addEventListener){V.addEventListener("DOMContentLoaded",I,false);f.addEventListener("load",k.ready,false)}else if(V.attachEvent){V.attachEvent("onreadystatechange",I);f.attachEvent("onload",k.ready);var R=false;try{R=f.frameElement==null}catch(ca){}V.documentElement.doScroll&&R&&h()}}},isFunction:function(R){return k.type(R)==="function"},isArray:Array.isArray||function(R){return k.type(R)==="array"},isWindow:function(R){return R&&
typeof R==="object"&&"setInterval"in R},isNumeric:function(R){return!isNaN(parseFloat(R))&&isFinite(R)},type:function(R){return R==null?String(R):xa[U.call(R)]||"object"},isPlainObject:function(R){if(!R||k.type(R)!=="object"||R.nodeType||k.isWindow(R))return false;try{if(R.constructor&&!X.call(R,"constructor")&&!X.call(R.constructor.prototype,"isPrototypeOf"))return false}catch(ca){return false}var ka;for(ka in R);return ka===c||X.call(R,ka)},isEmptyObject:function(R){for(var ca in R)return false;
return true},error:function(R){throw new Error(R);},parseJSON:function(R){if(typeof R!=="string"||!R)return null;R=k.trim(R);if(f.JSON&&f.JSON.parse)return f.JSON.parse(R);if(fa.test(R.replace(Y,"@").replace(ia,"]").replace(ea,"")))return(new Function("return "+R))();k.error("Invalid JSON: "+R)},parseXML:function(R){var ca,ka;try{if(f.DOMParser){ka=new DOMParser;ca=ka.parseFromString(R,"text/xml")}else{ca=new ActiveXObject("Microsoft.XMLDOM");ca.async="false";ca.loadXML(R)}}catch(ga){ca=c}if(!ca||
!ca.documentElement||ca.getElementsByTagName("parsererror").length)k.error("Invalid XML: "+R);return ca},noop:function(){},globalEval:function(R){if(R&&K.test(R))(f.execScript||function(ca){f.eval.call(f,ca)})(R)},camelCase:function(R){return R.replace(ua,"ms-").replace(Ra,Qa)},nodeName:function(R,ca){return R.nodeName&&R.nodeName.toUpperCase()===ca.toUpperCase()},each:function(R,ca,ka){var ga,ya=0,va=R.length,Fa=va===c||k.isFunction(R);if(ka)if(Fa)for(ga in R){if(ca.apply(R[ga],ka)===false)break}else for(;ya<
va;){if(ca.apply(R[ya++],ka)===false)break}else if(Fa)for(ga in R){if(ca.call(R[ga],ga,R[ga])===false)break}else for(;ya<va;)if(ca.call(R[ya],ya,R[ya++])===false)break;return R},trim:ja?function(R){return R==null?"":ja.call(R)}:function(R){return R==null?"":R.toString().replace(N,"").replace(Q,"")},makeArray:function(R,ca){ca=ca||[];if(R!=null){var ka=k.type(R);R.length==null||ka==="string"||ka==="function"||ka==="regexp"||k.isWindow(R)?ba.call(ca,R):k.merge(ca,R)}return ca},inArray:function(R,ca,
ka){var ga;if(ca){if(ma)return ma.call(ca,R,ka);ga=ca.length;for(ka=ka?ka<0?Math.max(0,ga+ka):ka:0;ka<ga;ka++)if(ka in ca&&ca[ka]===R)return ka}return-1},merge:function(R,ca){var ka=R.length,ga=0;if(typeof ca.length==="number")for(var ya=ca.length;ga<ya;ga++)R[ka++]=ca[ga];else for(;ca[ga]!==c;)R[ka++]=ca[ga++];R.length=ka;return R},grep:function(R,ca,ka){var ga=[],ya;ka=!!ka;for(var va=0,Fa=R.length;va<Fa;va++){ya=!!ca(R[va],va);ka!==ya&&ga.push(R[va])}return ga},map:function(R,ca,ka){var ga,ya,
va=[],Fa=0,Ha=R.length;if(R instanceof k||Ha!==c&&typeof Ha==="number"&&(Ha>0&&R[0]&&R[Ha-1]||Ha===0||k.isArray(R)))for(;Fa<Ha;Fa++){ga=ca(R[Fa],Fa,ka);if(ga!=null)va[va.length]=ga}else for(ya in R){ga=ca(R[ya],ya,ka);if(ga!=null)va[va.length]=ga}return va.concat.apply([],va)},guid:1,proxy:function(R,ca){if(typeof ca==="string"){var ka=R[ca];ca=R;R=ka}if(!k.isFunction(R))return c;var ga=da.call(arguments,2);ka=function(){return R.apply(ca,ga.concat(da.call(arguments)))};ka.guid=R.guid=R.guid||ka.guid||
k.guid++;return ka},access:function(R,ca,ka,ga,ya,va){var Fa=R.length;if(typeof ca==="object"){for(var Ha in ca)k.access(R,Ha,ca[Ha],ga,ya,ka);return R}if(ka!==c){ga=!va&&ga&&k.isFunction(ka);for(Ha=0;Ha<Fa;Ha++)ya(R[Ha],ca,ga?ka.call(R[Ha],Ha,ya(R[Ha],ca)):ka,va);return R}return Fa?ya(R[0],ca):c},now:function(){return(new Date).getTime()},uaMatch:function(R){R=R.toLowerCase();R=ta.exec(R)||Ba.exec(R)||Ea.exec(R)||R.indexOf("compatible")<0&&Ca.exec(R)||[];return{browser:R[1]||"",version:R[2]||"0"}},
sub:function(){function R(ka,ga){return new R.fn.init(ka,ga)}k.extend(true,R,this);R.superclass=this;R.fn=R.prototype=this();R.fn.constructor=R;R.sub=this.sub;R.fn.init=function(ka,ga){if(ga&&ga instanceof k&&!(ga instanceof R))ga=R(ga);return k.fn.init.call(this,ka,ga,ca)};R.fn.init.prototype=R.fn;var ca=R(V);return R},browser:{}});k.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(R,ca){xa["[object "+ca+"]"]=ca.toLowerCase()});Oa=k.uaMatch(Oa);if(Oa.browser){k.browser[Oa.browser]=
true;k.browser.version=Oa.version}if(k.browser.webkit)k.browser.safari=true;if(K.test("\u00a0")){N=/^[\s\xA0]+/;Q=/[\s\xA0]+$/}y=k(V);if(V.addEventListener)I=function(){V.removeEventListener("DOMContentLoaded",I,false);k.ready()};else if(V.attachEvent)I=function(){if(V.readyState==="complete"){V.detachEvent("onreadystatechange",I);k.ready()}};return k}(),wa={};q.Callbacks=function(h){h=h?wa[h]||e(h):{};var k=[],s=[],v,y,B,K,N,Q=function(Y){var ia,ea,ta,Ba;ia=0;for(ea=Y.length;ia<ea;ia++){ta=Y[ia];
Ba=q.type(ta);if(Ba==="array")Q(ta);else if(Ba==="function")if(!h.unique||!fa.has(ta))k.push(ta)}},T=function(Y,ia){ia=ia||[];v=!h.memory||[Y,ia];y=true;N=B||0;B=0;for(K=k.length;k&&N<K;N++)if(k[N].apply(Y,ia)===false&&h.stopOnFalse){v=true;break}y=false;if(k)if(h.once)if(v===true)fa.disable();else k=[];else if(s&&s.length){v=s.shift();fa.fireWith(v[0],v[1])}},fa={add:function(){if(k){var Y=k.length;Q(arguments);if(y)K=k.length;else if(v&&v!==true){B=Y;T(v[0],v[1])}}return this},remove:function(){if(k)for(var Y=
arguments,ia=0,ea=Y.length;ia<ea;ia++)for(var ta=0;ta<k.length;ta++)if(Y[ia]===k[ta]){if(y)if(ta<=K){K--;ta<=N&&N--}k.splice(ta--,1);if(h.unique)break}return this},has:function(Y){if(k)for(var ia=0,ea=k.length;ia<ea;ia++)if(Y===k[ia])return true;return false},empty:function(){k=[];return this},disable:function(){k=s=v=c;return this},disabled:function(){return!k},lock:function(){s=c;if(!v||v===true)fa.disable();return this},locked:function(){return!s},fireWith:function(Y,ia){if(s)if(y)h.once||s.push([Y,
ia]);else h.once&&v||T(Y,ia);return this},fire:function(){fa.fireWith(this,arguments);return this},fired:function(){return!!v}};return fa};var Da=[].slice;q.extend({Deferred:function(h){var k=q.Callbacks("once memory"),s=q.Callbacks("once memory"),v=q.Callbacks("memory"),y="pending",B={resolve:k,reject:s,notify:v},K={done:k.add,fail:s.add,progress:v.add,state:function(){return y},isResolved:k.fired,isRejected:s.fired,then:function(T,fa,Y){N.done(T).fail(fa).progress(Y);return this},always:function(){N.done.apply(N,
arguments).fail.apply(N,arguments);return this},pipe:function(T,fa,Y){return q.Deferred(function(ia){q.each({done:[T,"resolve"],fail:[fa,"reject"],progress:[Y,"notify"]},function(ea,ta){var Ba=ta[0],Ea=ta[1],Ca;q.isFunction(Ba)?N[ea](function(){(Ca=Ba.apply(this,arguments))&&q.isFunction(Ca.promise)?Ca.promise().then(ia.resolve,ia.reject,ia.notify):ia[Ea+"With"](this===N?ia:this,[Ca])}):N[ea](ia[Ea])})}).promise()},promise:function(T){if(T==null)T=K;else for(var fa in K)T[fa]=K[fa];return T}},N=K.promise({}),
Q;for(Q in B){N[Q]=B[Q].fire;N[Q+"With"]=B[Q].fireWith}N.done(function(){y="resolved"},s.disable,v.lock).fail(function(){y="rejected"},k.disable,v.lock);h&&h.call(N,N);return N},when:function(h){function k(fa){return function(Y){v[fa]=arguments.length>1?Da.call(arguments,0):Y;--N||Q.resolveWith(Q,v)}}function s(fa){return function(Y){K[fa]=arguments.length>1?Da.call(arguments,0):Y;Q.notifyWith(T,K)}}var v=Da.call(arguments,0),y=0,B=v.length,K=new Array(B),N=B,Q=B<=1&&h&&q.isFunction(h.promise)?h:
q.Deferred(),T=Q.promise();if(B>1){for(;y<B;y++)if(v[y]&&v[y].promise&&q.isFunction(v[y].promise))v[y].promise().then(k(y),Q.reject,s(y));else--N;N||Q.resolveWith(Q,v)}else if(Q!==h)Q.resolveWith(Q,B?[h]:[]);return T}});q.support=function(){var h,k,s,v,y,B,K,N,Q=V.createElement("div");Q.setAttribute("className","t");Q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";k=Q.getElementsByTagName("*");s=Q.getElementsByTagName("a")[0];
if(!k||!k.length||!s)return{};v=V.createElement("select");y=v.appendChild(V.createElement("option"));k=Q.getElementsByTagName("input")[0];h={leadingWhitespace:Q.firstChild.nodeType===3,tbody:!Q.getElementsByTagName("tbody").length,htmlSerialize:!!Q.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:s.getAttribute("href")==="/a",opacity:/^0.55/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:k.value==="on",optSelected:y.selected,getSetAttribute:Q.className!==
"t",enctype:!!V.createElement("form").enctype,html5Clone:V.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};k.checked=true;h.noCloneChecked=k.cloneNode(true).checked;v.disabled=true;h.optDisabled=!y.disabled;try{delete Q.test}catch(T){h.deleteExpando=false}if(!Q.addEventListener&&Q.attachEvent&&Q.fireEvent){Q.attachEvent("onclick",
function(){h.noCloneEvent=false});Q.cloneNode(true).fireEvent("onclick")}k=V.createElement("input");k.value="t";k.setAttribute("type","radio");h.radioValue=k.value==="t";k.setAttribute("checked","checked");Q.appendChild(k);s=V.createDocumentFragment();s.appendChild(Q.lastChild);h.checkClone=s.cloneNode(true).cloneNode(true).lastChild.checked;h.appendChecked=k.checked;s.removeChild(k);s.appendChild(Q);Q.innerHTML="";if(f.getComputedStyle){k=V.createElement("div");k.style.width="0";k.style.marginRight=
"0";Q.style.width="2px";Q.appendChild(k);h.reliableMarginRight=(parseInt((f.getComputedStyle(k,null)||{marginRight:0}).marginRight,10)||0)===0}if(Q.attachEvent)for(K in{submit:1,change:1,focusin:1}){k="on"+K;N=k in Q;if(!N){Q.setAttribute(k,"return;");N=typeof Q[k]==="function"}h[K+"Bubbles"]=N}s.removeChild(Q);s=v=y=k=Q=k=null;q(function(){var fa,Y,ia,ea,ta=V.getElementsByTagName("body")[0];if(ta){fa=V.createElement("div");fa.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";
ta.insertBefore(fa,ta.firstChild);Q=V.createElement("div");fa.appendChild(Q);Q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";B=Q.getElementsByTagName("td");N=B[0].offsetHeight===0;B[0].style.display="";B[1].style.display="none";h.reliableHiddenOffsets=N&&B[0].offsetHeight===0;Q.innerHTML="";Q.style.width=Q.style.paddingLeft="1px";q.boxModel=h.boxModel=Q.offsetWidth===2;if(typeof Q.style.zoom!=="undefined"){Q.style.display="inline";Q.style.zoom=1;h.inlineBlockNeedsLayout=
Q.offsetWidth===2;Q.style.display="";Q.innerHTML="<div style='width:4px;'></div>";h.shrinkWrapBlocks=Q.offsetWidth!==2}Q.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";Q.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
Y=Q.firstChild;ia=Y.firstChild;ea={doesNotAddBorder:ia.offsetTop!==5,doesAddBorderForTableAndCells:Y.nextSibling.firstChild.firstChild.offsetTop===5};ia.style.position="fixed";ia.style.top="20px";ea.fixedPosition=ia.offsetTop===20||ia.offsetTop===15;ia.style.position=ia.style.top="";Y.style.overflow="hidden";Y.style.position="relative";ea.subtractsBorderForOverflowNotVisible=ia.offsetTop===-5;ea.doesNotIncludeMarginInBodyOffset=ta.offsetTop!==1;ta.removeChild(fa);Q=null;q.extend(h,ea)}});return h}();
var Ga=/^(?:\{.*\}|\[.*\])$/,Aa=/([A-Z])/g;q.extend({cache:{},uuid:0,expando:"jQuery"+(q.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(h){h=h.nodeType?q.cache[h[q.expando]]:h[q.expando];return!!h&&!d(h)},data:function(h,k,s,v){if(q.acceptData(h)){var y;y=q.expando;var B=typeof k==="string",K=h.nodeType,N=K?q.cache:h,Q=K?h[y]:h[y]&&y,T=k==="events";if(!((!Q||!N[Q]||!T&&!v&&!N[Q].data)&&B&&s===c)){if(!Q)if(K)h[y]=
Q=++q.uuid;else Q=y;if(!N[Q]){N[Q]={};if(!K)N[Q].toJSON=q.noop}if(typeof k==="object"||typeof k==="function")if(v)N[Q]=q.extend(N[Q],k);else N[Q].data=q.extend(N[Q].data,k);y=h=N[Q];if(!v){if(!h.data)h.data={};h=h.data}if(s!==c)h[q.camelCase(k)]=s;if(T&&!h[k])return y.events;if(B){s=h[k];if(s==null)s=h[q.camelCase(k)]}else s=h;return s}}},removeData:function(h,k,s){if(q.acceptData(h)){var v,y,B,K=q.expando,N=h.nodeType,Q=N?q.cache:h,T=N?h[K]:K;if(Q[T]){if(k)if(v=s?Q[T]:Q[T].data){if(!q.isArray(k))if(k in
v)k=[k];else{k=q.camelCase(k);k=k in v?[k]:k.split(" ")}y=0;for(B=k.length;y<B;y++)delete v[k[y]];if(!(s?d:q.isEmptyObject)(v))return}if(!s){delete Q[T].data;if(!d(Q[T]))return}if(q.support.deleteExpando||!Q.setInterval)delete Q[T];else Q[T]=null;if(N)if(q.support.deleteExpando)delete h[K];else if(h.removeAttribute)h.removeAttribute(K);else h[K]=null}}},_data:function(h,k,s){return q.data(h,k,s,true)},acceptData:function(h){if(h.nodeName){var k=q.noData[h.nodeName.toLowerCase()];if(k)return!(k===
true||h.getAttribute("classid")!==k)}return true}});q.fn.extend({data:function(h,k){var s,v,y,B=null;if(typeof h==="undefined"){if(this.length){B=q.data(this[0]);if(this[0].nodeType===1&&!q._data(this[0],"parsedAttrs")){v=this[0].attributes;for(var K=0,N=v.length;K<N;K++){y=v[K].name;if(y.indexOf("data-")===0){y=q.camelCase(y.substring(5));a(this[0],y,B[y])}}q._data(this[0],"parsedAttrs",true)}}return B}else if(typeof h==="object")return this.each(function(){q.data(this,h)});s=h.split(".");s[1]=s[1]?
"."+s[1]:"";if(k===c){B=this.triggerHandler("getData"+s[1]+"!",[s[0]]);if(B===c&&this.length){B=q.data(this[0],h);B=a(this[0],h,B)}return B===c&&s[1]?this.data(s[0]):B}else return this.each(function(){var Q=q(this),T=[s[0],k];Q.triggerHandler("setData"+s[1]+"!",T);q.data(this,h,k);Q.triggerHandler("changeData"+s[1]+"!",T)})},removeData:function(h){return this.each(function(){q.removeData(this,h)})}});q.extend({_mark:function(h,k){if(h){k=(k||"fx")+"mark";q._data(h,k,(q._data(h,k)||0)+1)}},_unmark:function(h,
k,s){if(h!==true){s=k;k=h;h=false}if(k){s=s||"fx";var v=s+"mark";if(h=h?0:(q._data(k,v)||1)-1)q._data(k,v,h);else{q.removeData(k,v,true);n(k,s,"mark")}}},queue:function(h,k,s){var v;if(h){k=(k||"fx")+"queue";v=q._data(h,k);if(s)if(!v||q.isArray(s))v=q._data(h,k,q.makeArray(s));else v.push(s);return v||[]}},dequeue:function(h,k){k=k||"fx";var s=q.queue(h,k),v=s.shift(),y={};if(v==="inprogress")v=s.shift();if(v){k==="fx"&&s.unshift("inprogress");q._data(h,k+".run",y);v.call(h,function(){q.dequeue(h,
k)},y)}if(!s.length){q.removeData(h,k+"queue "+k+".run",true);n(h,k,"queue")}}});q.fn.extend({queue:function(h,k){if(typeof h!=="string"){k=h;h="fx"}if(k===c)return q.queue(this[0],h);return this.each(function(){var s=q.queue(this,h,k);h==="fx"&&s[0]!=="inprogress"&&q.dequeue(this,h)})},dequeue:function(h){return this.each(function(){q.dequeue(this,h)})},delay:function(h,k){h=q.fx?q.fx.speeds[h]||h:h;k=k||"fx";return this.queue(k,function(s,v){var y=setTimeout(s,h);v.stop=function(){clearTimeout(y)}})},
clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,k){function s(){--B||v.resolveWith(y,[y])}if(typeof h!=="string"){k=h;h=c}h=h||"fx";var v=q.Deferred(),y=this;k=y.length;var B=1,K=h+"defer",N=h+"queue";h=h+"mark";for(var Q;k--;)if(Q=q.data(y[k],K,c,true)||(q.data(y[k],N,c,true)||q.data(y[k],h,c,true))&&q.data(y[k],K,q.Callbacks("once memory"),true)){B++;Q.add(s)}s();return v.promise()}});var Ja=/[\n\t\r]/g,Ma=/\s+/,ha=/\r/g,pa=/^(?:button|input)$/i,qa=/^(?:button|input|object|select|textarea)$/i,
za=/^a(?:rea)?$/i,Ia=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ka=q.support.getSetAttribute,La,Sa,Za;q.fn.extend({attr:function(h,k){return q.access(this,h,k,true,q.attr)},removeAttr:function(h){return this.each(function(){q.removeAttr(this,h)})},prop:function(h,k){return q.access(this,h,k,true,q.prop)},removeProp:function(h){h=q.propFix[h]||h;return this.each(function(){try{this[h]=c;delete this[h]}catch(k){}})},
addClass:function(h){var k,s,v,y,B,K,N;if(q.isFunction(h))return this.each(function(Q){q(this).addClass(h.call(this,Q,this.className))});if(h&&typeof h==="string"){k=h.split(Ma);s=0;for(v=this.length;s<v;s++){y=this[s];if(y.nodeType===1)if(!y.className&&k.length===1)y.className=h;else{B=" "+y.className+" ";K=0;for(N=k.length;K<N;K++)~B.indexOf(" "+k[K]+" ")||(B+=k[K]+" ");y.className=q.trim(B)}}}return this},removeClass:function(h){var k,s,v,y,B,K,N;if(q.isFunction(h))return this.each(function(Q){q(this).removeClass(h.call(this,
Q,this.className))});if(h&&typeof h==="string"||h===c){k=(h||"").split(Ma);s=0;for(v=this.length;s<v;s++){y=this[s];if(y.nodeType===1&&y.className)if(h){B=(" "+y.className+" ").replace(Ja," ");K=0;for(N=k.length;K<N;K++)B=B.replace(" "+k[K]+" "," ");y.className=q.trim(B)}else y.className=""}}return this},toggleClass:function(h,k){var s=typeof h,v=typeof k==="boolean";if(q.isFunction(h))return this.each(function(y){q(this).toggleClass(h.call(this,y,this.className,k),k)});return this.each(function(){if(s===
"string")for(var y,B=0,K=q(this),N=k,Q=h.split(Ma);y=Q[B++];){N=v?N:!K.hasClass(y);K[N?"addClass":"removeClass"](y)}else if(s==="undefined"||s==="boolean"){this.className&&q._data(this,"__className__",this.className);this.className=this.className||h===false?"":q._data(this,"__className__")||""}})},hasClass:function(h){h=" "+h+" ";for(var k=0,s=this.length;k<s;k++)if(this[k].nodeType===1&&(" "+this[k].className+" ").replace(Ja," ").indexOf(h)>-1)return true;return false},val:function(h){var k,s,v,
y=this[0];if(arguments.length){v=q.isFunction(h);return this.each(function(B){var K=q(this);if(this.nodeType===1){B=v?h.call(this,B,K.val()):h;if(B==null)B="";else if(typeof B==="number")B+="";else if(q.isArray(B))B=q.map(B,function(N){return N==null?"":N+""});k=q.valHooks[this.nodeName.toLowerCase()]||q.valHooks[this.type];if(!k||!("set"in k)||k.set(this,B,"value")===c)this.value=B}})}else if(y){if((k=q.valHooks[y.nodeName.toLowerCase()]||q.valHooks[y.type])&&"get"in k&&(s=k.get(y,"value"))!==c)return s;
s=y.value;return typeof s==="string"?s.replace(ha,""):s==null?"":s}}});q.extend({valHooks:{option:{get:function(h){var k=h.attributes.value;return!k||k.specified?h.value:h.text}},select:{get:function(h){var k,s,v=h.selectedIndex,y=[],B=h.options,K=h.type==="select-one";if(v<0)return null;h=K?v:0;for(s=K?v+1:B.length;h<s;h++){k=B[h];if(k.selected&&(q.support.optDisabled?!k.disabled:k.getAttribute("disabled")===null)&&(!k.parentNode.disabled||!q.nodeName(k.parentNode,"optgroup"))){k=q(k).val();if(K)return k;
y.push(k)}}if(K&&!y.length&&B.length)return q(B[v]).val();return y},set:function(h,k){var s=q.makeArray(k);q(h).find("option").each(function(){this.selected=q.inArray(q(this).val(),s)>=0});if(!s.length)h.selectedIndex=-1;return s}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(h,k,s,v){var y,B,K=h.nodeType;if(!(!h||K===3||K===8||K===2)){if(v&&k in q.attrFn)return q(h)[k](s);if(typeof h.getAttribute==="undefined")return q.prop(h,k,s);if(v=
K!==1||!q.isXMLDoc(h)){k=k.toLowerCase();B=q.attrHooks[k]||(Ia.test(k)?Sa:La)}if(s!==c)if(s===null)q.removeAttr(h,k);else if(B&&"set"in B&&v&&(y=B.set(h,s,k))!==c)return y;else{h.setAttribute(k,""+s);return s}else if(B&&"get"in B&&v&&(y=B.get(h,k))!==null)return y;else{y=h.getAttribute(k);return y===null?c:y}}},removeAttr:function(h,k){var s,v,y,B=0;if(k&&h.nodeType===1){s=k.toLowerCase().split(Ma);for(y=s.length;B<y;B++)if(v=s[B]){k=q.propFix[v]||v;q.attr(h,v,"");h.removeAttribute(Ka?v:k);if(Ia.test(v)&&
k in h)h[k]=false}}},attrHooks:{type:{set:function(h,k){if(pa.test(h.nodeName)&&h.parentNode)q.error("type property can't be changed");else if(!q.support.radioValue&&k==="radio"&&q.nodeName(h,"input")){var s=h.value;h.setAttribute("type",k);if(s)h.value=s;return k}}},value:{get:function(h,k){if(La&&q.nodeName(h,"button"))return La.get(h,k);return k in h?h.value:null},set:function(h,k,s){if(La&&q.nodeName(h,"button"))return La.set(h,k,s);h.value=k}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",
"for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(h,k,s){var v,y,B=h.nodeType;if(!(!h||B===3||B===8||B===2)){if(B!==1||!q.isXMLDoc(h)){k=q.propFix[k]||k;y=q.propHooks[k]}return s!==c?y&&"set"in y&&(v=y.set(h,s,k))!==c?v:(h[k]=s):y&&"get"in y&&(v=y.get(h,k))!==null?v:h[k]}},propHooks:{tabIndex:{get:function(h){var k=
h.getAttributeNode("tabindex");return k&&k.specified?parseInt(k.value,10):qa.test(h.nodeName)||za.test(h.nodeName)&&h.href?0:c}}}});q.attrHooks.tabindex=q.propHooks.tabIndex;Sa={get:function(h,k){var s,v=q.prop(h,k);return v===true||typeof v!=="boolean"&&(s=h.getAttributeNode(k))&&s.nodeValue!==false?k.toLowerCase():c},set:function(h,k,s){if(k===false)q.removeAttr(h,s);else{k=q.propFix[s]||s;if(k in h)h[k]=true;h.setAttribute(s,s.toLowerCase())}return s}};if(!Ka){Za={name:true,id:true};La=q.valHooks.button=
{get:function(h,k){return(h=h.getAttributeNode(k))&&(Za[k]?h.nodeValue!=="":h.specified)?h.nodeValue:c},set:function(h,k,s){var v=h.getAttributeNode(s);if(!v){v=V.createAttribute(s);h.setAttributeNode(v)}return v.nodeValue=k+""}};q.attrHooks.tabindex.set=La.set;q.each(["width","height"],function(h,k){q.attrHooks[k]=q.extend(q.attrHooks[k],{set:function(s,v){if(v===""){s.setAttribute(k,"auto");return v}}})});q.attrHooks.contenteditable={get:La.get,set:function(h,k,s){if(k==="")k="false";La.set(h,k,
s)}}}q.support.hrefNormalized||q.each(["href","src","width","height"],function(h,k){q.attrHooks[k]=q.extend(q.attrHooks[k],{get:function(s){s=s.getAttribute(k,2);return s===null?c:s}})});if(!q.support.style)q.attrHooks.style={get:function(h){return h.style.cssText.toLowerCase()||c},set:function(h,k){return h.style.cssText=""+k}};if(!q.support.optSelected)q.propHooks.selected=q.extend(q.propHooks.selected,{get:function(){return null}});if(!q.support.enctype)q.propFix.enctype="encoding";q.support.checkOn||
q.each(["radio","checkbox"],function(){q.valHooks[this]={get:function(h){return h.getAttribute("value")===null?"on":h.value}}});q.each(["radio","checkbox"],function(){q.valHooks[this]=q.extend(q.valHooks[this],{set:function(h,k){if(q.isArray(k))return h.checked=q.inArray(q(h).val(),k)>=0}})});var Ta=/^(?:textarea|input|select)$/i,mb=/^([^\.]*)?(?:\.(.+))?$/,Jb=/\bhover(\.\S+)?\b/,Kb=/^key/,Lb=/^(?:mouse|contextmenu)|click/,nb=/^(?:focusinfocus|focusoutblur)$/,Mb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
Nb=function(h){if(h=Mb.exec(h)){h[1]=(h[1]||"").toLowerCase();h[3]=h[3]&&new RegExp("(?:^|\\s)"+h[3]+"(?:\\s|$)")}return h},Ob=function(h,k){var s=h.attributes||{};return(!k[1]||h.nodeName.toLowerCase()===k[1])&&(!k[2]||(s.id||{}).value===k[2])&&(!k[3]||k[3].test((s["class"]||{}).value))},ob=function(h){return q.event.special.hover?h:h.replace(Jb,"mouseenter$1 mouseleave$1")};q.event={add:function(h,k,s,v,y){var B,K,N,Q,T,fa,Y,ia,ea;if(!(h.nodeType===3||h.nodeType===8||!k||!s||!(B=q._data(h)))){if(s.handler){Y=
s;s=Y.handler}if(!s.guid)s.guid=q.guid++;N=B.events;if(!N)B.events=N={};K=B.handle;if(!K){B.handle=K=function(ta){return typeof q!=="undefined"&&(!ta||q.event.triggered!==ta.type)?q.event.dispatch.apply(K.elem,arguments):c};K.elem=h}k=q.trim(ob(k)).split(" ");for(B=0;B<k.length;B++){Q=mb.exec(k[B])||[];T=Q[1];fa=(Q[2]||"").split(".").sort();ea=q.event.special[T]||{};T=(y?ea.delegateType:ea.bindType)||T;ea=q.event.special[T]||{};Q=q.extend({type:T,origType:Q[1],data:v,handler:s,guid:s.guid,selector:y,
quick:Nb(y),namespace:fa.join(".")},Y);ia=N[T];if(!ia){ia=N[T]=[];ia.delegateCount=0;if(!ea.setup||ea.setup.call(h,v,fa,K)===false)if(h.addEventListener)h.addEventListener(T,K,false);else h.attachEvent&&h.attachEvent("on"+T,K)}if(ea.add){ea.add.call(h,Q);if(!Q.handler.guid)Q.handler.guid=s.guid}y?ia.splice(ia.delegateCount++,0,Q):ia.push(Q);q.event.global[T]=true}h=null}},global:{},remove:function(h,k,s,v,y){var B=q.hasData(h)&&q._data(h),K,N,Q,T,fa,Y,ia,ea,ta,Ba;if(B&&(ia=B.events)){k=q.trim(ob(k||
"")).split(" ");for(K=0;K<k.length;K++){N=mb.exec(k[K])||[];Q=T=N[1];N=N[2];if(Q){ea=q.event.special[Q]||{};Q=(v?ea.delegateType:ea.bindType)||Q;ta=ia[Q]||[];fa=ta.length;N=N?new RegExp("(^|\\.)"+N.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(Y=0;Y<ta.length;Y++){Ba=ta[Y];if((y||T===Ba.origType)&&(!s||s.guid===Ba.guid)&&(!N||N.test(Ba.namespace))&&(!v||v===Ba.selector||v==="**"&&Ba.selector)){ta.splice(Y--,1);Ba.selector&&ta.delegateCount--;ea.remove&&ea.remove.call(h,Ba)}}if(ta.length===
0&&fa!==ta.length){if(!ea.teardown||ea.teardown.call(h,N)===false)q.removeEvent(h,Q,B.handle);delete ia[Q]}}else for(Q in ia)q.event.remove(h,Q+k[K],s,v,true)}if(q.isEmptyObject(ia)){if(k=B.handle)k.elem=null;q.removeData(h,["events","handle"],true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(h,k,s,v){if(!(s&&(s.nodeType===3||s.nodeType===8))){var y=h.type||h,B=[],K,N,Q,T,fa;if(!nb.test(y+q.event.triggered)){if(y.indexOf("!")>=0){y=y.slice(0,-1);K=true}if(y.indexOf(".")>=
0){B=y.split(".");y=B.shift();B.sort()}if(!((!s||q.event.customEvent[y])&&!q.event.global[y])){h=typeof h==="object"?h[q.expando]?h:new q.Event(y,h):new q.Event(y);h.type=y;h.isTrigger=true;h.exclusive=K;h.namespace=B.join(".");h.namespace_re=h.namespace?new RegExp("(^|\\.)"+B.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;K=y.indexOf(":")<0?"on"+y:"";if(s){h.result=c;if(!h.target)h.target=s;k=k!=null?q.makeArray(k):[];k.unshift(h);Q=q.event.special[y]||{};if(!(Q.trigger&&Q.trigger.apply(s,k)===false)){fa=
[[s,Q.bindType||y]];if(!v&&!Q.noBubble&&!q.isWindow(s)){T=Q.delegateType||y;B=nb.test(T+y)?s:s.parentNode;for(N=null;B;B=B.parentNode){fa.push([B,T]);N=B}if(N&&N===s.ownerDocument)fa.push([N.defaultView||N.parentWindow||f,T])}for(N=0;N<fa.length&&!h.isPropagationStopped();N++){B=fa[N][0];h.type=fa[N][1];(T=(q._data(B,"events")||{})[h.type]&&q._data(B,"handle"))&&T.apply(B,k);(T=K&&B[K])&&q.acceptData(B)&&T.apply(B,k)===false&&h.preventDefault()}h.type=y;if(!v&&!h.isDefaultPrevented())if((!Q._default||
Q._default.apply(s.ownerDocument,k)===false)&&!(y==="click"&&q.nodeName(s,"a"))&&q.acceptData(s))if(K&&s[y]&&(y!=="focus"&&y!=="blur"||h.target.offsetWidth!==0)&&!q.isWindow(s)){if(N=s[K])s[K]=null;q.event.triggered=y;s[y]();q.event.triggered=c;if(N)s[K]=N}return h.result}}else{s=q.cache;for(N in s)s[N].events&&s[N].events[y]&&q.event.trigger(h,k,s[N].handle.elem,true)}}}}},dispatch:function(h){h=q.event.fix(h||f.event);var k=(q._data(this,"events")||{})[h.type]||[],s=k.delegateCount,v=[].slice.call(arguments,
0),y=!h.exclusive&&!h.namespace,B=[],K,N,Q,T,fa,Y,ia;v[0]=h;h.delegateTarget=this;if(s&&!h.target.disabled&&!(h.button&&h.type==="click")){Q=q(this);Q.context=this.ownerDocument||this;for(N=h.target;N!=this;N=N.parentNode||this){fa={};Y=[];Q[0]=N;for(K=0;K<s;K++){T=k[K];ia=T.selector;if(fa[ia]===c)fa[ia]=T.quick?Ob(N,T.quick):Q.is(ia);fa[ia]&&Y.push(T)}Y.length&&B.push({elem:N,matches:Y})}}k.length>s&&B.push({elem:this,matches:k.slice(s)});for(K=0;K<B.length&&!h.isPropagationStopped();K++){s=B[K];
h.currentTarget=s.elem;for(k=0;k<s.matches.length&&!h.isImmediatePropagationStopped();k++){T=s.matches[k];if(y||!h.namespace&&!T.namespace||h.namespace_re&&h.namespace_re.test(T.namespace)){h.data=T.data;h.handleObj=T;T=((q.event.special[T.origType]||{}).handle||T.handler).apply(s.elem,v);if(T!==c){h.result=T;if(T===false){h.preventDefault();h.stopPropagation()}}}}}return h.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(h,k){if(h.which==null)h.which=k.charCode!=null?k.charCode:k.keyCode;return h}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(h,k){var s,v,y=k.button,B=k.fromElement;if(h.pageX==null&&k.clientX!=null){s=h.target.ownerDocument||V;v=s.documentElement;s=s.body;h.pageX=k.clientX+(v&&v.scrollLeft||s&&s.scrollLeft||0)-(v&&v.clientLeft||
s&&s.clientLeft||0);h.pageY=k.clientY+(v&&v.scrollTop||s&&s.scrollTop||0)-(v&&v.clientTop||s&&s.clientTop||0)}if(!h.relatedTarget&&B)h.relatedTarget=B===h.target?k.toElement:B;if(!h.which&&y!==c)h.which=y&1?1:y&2?3:y&4?2:0;return h}},fix:function(h){if(h[q.expando])return h;var k,s,v=h,y=q.event.fixHooks[h.type]||{},B=y.props?this.props.concat(y.props):this.props;h=q.Event(v);for(k=B.length;k;){s=B[--k];h[s]=v[s]}if(!h.target)h.target=v.srcElement||V;if(h.target.nodeType===3)h.target=h.target.parentNode;
if(h.metaKey===c)h.metaKey=h.ctrlKey;return y.filter?y.filter(h,v):h},special:{ready:{setup:q.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(h,k,s){if(q.isWindow(this))this.onbeforeunload=s},teardown:function(h,k){if(this.onbeforeunload===k)this.onbeforeunload=null}}},simulate:function(h,k,s,v){h=q.extend(new q.Event,s,{type:h,isSimulated:true,originalEvent:{}});v?q.event.trigger(h,null,k):q.event.dispatch.call(k,h);h.isDefaultPrevented()&&
s.preventDefault()}};q.event.handle=q.event.dispatch;q.removeEvent=V.removeEventListener?function(h,k,s){h.removeEventListener&&h.removeEventListener(k,s,false)}:function(h,k,s){h.detachEvent&&h.detachEvent("on"+k,s)};q.Event=function(h,k){if(!(this instanceof q.Event))return new q.Event(h,k);if(h&&h.type){this.originalEvent=h;this.type=h.type;this.isDefaultPrevented=h.defaultPrevented||h.returnValue===false||h.getPreventDefault&&h.getPreventDefault()?j:o}else this.type=h;k&&q.extend(this,k);this.timeStamp=
h&&h.timeStamp||q.now();this[q.expando]=true};q.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var h=this.originalEvent;if(h)if(h.preventDefault)h.preventDefault();else h.returnValue=false},stopPropagation:function(){this.isPropagationStopped=j;var h=this.originalEvent;if(h){h.stopPropagation&&h.stopPropagation();h.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o};
q.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(h,k){q.event.special[h]={delegateType:k,bindType:k,handle:function(s){var v=this,y=s.relatedTarget,B=s.handleObj,K;if(!y||y!==v&&!q.contains(v,y)){s.type=B.origType;K=B.handler.apply(this,arguments);s.type=k}return K}}});if(!q.support.submitBubbles)q.event.special.submit={setup:function(){if(q.nodeName(this,"form"))return false;q.event.add(this,"click._submit keypress._submit",function(h){h=h.target;if((h=q.nodeName(h,"input")||q.nodeName(h,
"button")?h.form:c)&&!h._submit_attached){q.event.add(h,"submit._submit",function(k){this.parentNode&&!k.isTrigger&&q.event.simulate("submit",this.parentNode,k,true)});h._submit_attached=true}})},teardown:function(){if(q.nodeName(this,"form"))return false;q.event.remove(this,"._submit")}};if(!q.support.changeBubbles)q.event.special.change={setup:function(){if(Ta.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){q.event.add(this,"propertychange._change",function(h){if(h.originalEvent.propertyName===
"checked")this._just_changed=true});q.event.add(this,"click._change",function(h){if(this._just_changed&&!h.isTrigger){this._just_changed=false;q.event.simulate("change",this,h,true)}})}return false}q.event.add(this,"beforeactivate._change",function(h){h=h.target;if(Ta.test(h.nodeName)&&!h._change_attached){q.event.add(h,"change._change",function(k){this.parentNode&&!k.isSimulated&&!k.isTrigger&&q.event.simulate("change",this.parentNode,k,true)});h._change_attached=true}})},handle:function(h){var k=
h.target;if(this!==k||h.isSimulated||h.isTrigger||k.type!=="radio"&&k.type!=="checkbox")return h.handleObj.handler.apply(this,arguments)},teardown:function(){q.event.remove(this,"._change");return Ta.test(this.nodeName)}};q.support.focusinBubbles||q.each({focus:"focusin",blur:"focusout"},function(h,k){var s=0,v=function(y){q.event.simulate(k,y.target,q.event.fix(y),true)};q.event.special[k]={setup:function(){s++===0&&V.addEventListener(h,v,true)},teardown:function(){--s===0&&V.removeEventListener(h,
v,true)}}});q.fn.extend({on:function(h,k,s,v,y){var B,K;if(typeof h==="object"){if(typeof k!=="string"){s=k;k=c}for(K in h)this.on(K,k,s,h[K],y);return this}if(s==null&&v==null){v=k;s=k=c}else if(v==null)if(typeof k==="string"){v=s;s=c}else{v=s;s=k;k=c}if(v===false)v=o;else if(!v)return this;if(y===1){B=v;v=function(N){q().off(N);return B.apply(this,arguments)};v.guid=B.guid||(B.guid=q.guid++)}return this.each(function(){q.event.add(this,h,v,s,k)})},one:function(h,k,s,v){return this.on.call(this,
h,k,s,v,1)},off:function(h,k,s){if(h&&h.preventDefault&&h.handleObj){var v=h.handleObj;q(h.delegateTarget).off(v.namespace?v.type+"."+v.namespace:v.type,v.selector,v.handler);return this}if(typeof h==="object"){for(v in h)this.off(v,k,h[v]);return this}if(k===false||typeof k==="function"){s=k;k=c}if(s===false)s=o;return this.each(function(){q.event.remove(this,h,s,k)})},bind:function(h,k,s){return this.on(h,null,k,s)},unbind:function(h,k){return this.off(h,null,k)},live:function(h,k,s){q(this.context).on(h,
this.selector,k,s);return this},die:function(h,k){q(this.context).off(h,this.selector||"**",k);return this},delegate:function(h,k,s,v){return this.on(k,h,s,v)},undelegate:function(h,k,s){return arguments.length==1?this.off(h,"**"):this.off(k,h,s)},trigger:function(h,k){return this.each(function(){q.event.trigger(h,k,this)})},triggerHandler:function(h,k){if(this[0])return q.event.trigger(h,k,this[0],true)},toggle:function(h){var k=arguments,s=h.guid||q.guid++,v=0,y=function(B){var K=(q._data(this,
"lastToggle"+h.guid)||0)%v;q._data(this,"lastToggle"+h.guid,K+1);B.preventDefault();return k[K].apply(this,arguments)||false};for(y.guid=s;v<k.length;)k[v++].guid=s;return this.click(y)},hover:function(h,k){return this.mouseenter(h).mouseleave(k||h)}});q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(h,k){q.fn[k]=function(s,
v){if(v==null){v=s;s=null}return arguments.length>0?this.on(k,null,s,v):this.trigger(k)};if(q.attrFn)q.attrFn[k]=true;if(Kb.test(k))q.event.fixHooks[k]=q.event.keyHooks;if(Lb.test(k))q.event.fixHooks[k]=q.event.mouseHooks});(function(){function h(C,I,U,X,ba,da){ba=0;for(var ja=X.length;ba<ja;ba++){var ma=X[ba];if(ma){var xa=false;for(ma=ma[C];ma;){if(ma[v]===U){xa=X[ma.sizset];break}if(ma.nodeType===1&&!da){ma[v]=U;ma.sizset=ba}if(ma.nodeName.toLowerCase()===I){xa=ma;break}ma=ma[C]}X[ba]=xa}}}function k(C,
I,U,X,ba,da){ba=0;for(var ja=X.length;ba<ja;ba++){var ma=X[ba];if(ma){var xa=false;for(ma=ma[C];ma;){if(ma[v]===U){xa=X[ma.sizset];break}if(ma.nodeType===1){if(!da){ma[v]=U;ma.sizset=ba}if(typeof I!=="string"){if(ma===I){xa=true;break}}else if(Y.filter(I,[ma]).length>0){xa=ma;break}}ma=ma[C]}X[ba]=xa}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,v="sizcache"+(Math.random()+"").replace(".",""),y=0,B=Object.prototype.toString,
K=false,N=true,Q=/\\/g,T=/\r\n/g,fa=/\W/;[0,0].sort(function(){N=false;return 0});var Y=function(C,I,U,X){U=U||[];var ba=I=I||V;if(I.nodeType!==1&&I.nodeType!==9)return[];if(!C||typeof C!=="string")return U;var da,ja,ma,xa,R,ca=true,ka=Y.isXML(I),ga=[],ya=C;do{s.exec("");if(da=s.exec(ya)){ya=da[3];ga.push(da[1]);if(da[2]){xa=da[3];break}}}while(da);if(ga.length>1&&ta.exec(C))if(ga.length===2&&ea.relative[ga[0]])ja=Oa(ga[0]+ga[1],I,X);else for(ja=ea.relative[ga[0]]?[I]:Y(ga.shift(),I);ga.length;){C=
ga.shift();if(ea.relative[C])C+=ga.shift();ja=Oa(C,ja,X)}else{if(!X&&ga.length>1&&I.nodeType===9&&!ka&&ea.match.ID.test(ga[0])&&!ea.match.ID.test(ga[ga.length-1])){da=Y.find(ga.shift(),I,ka);I=da.expr?Y.filter(da.expr,da.set)[0]:da.set[0]}if(I){da=X?{expr:ga.pop(),set:Ca(X)}:Y.find(ga.pop(),ga.length===1&&(ga[0]==="~"||ga[0]==="+")&&I.parentNode?I.parentNode:I,ka);ja=da.expr?Y.filter(da.expr,da.set):da.set;if(ga.length>0)ma=Ca(ja);else ca=false;for(;ga.length;){da=R=ga.pop();if(ea.relative[R])da=
ga.pop();else R="";if(da==null)da=I;ea.relative[R](ma,da,ka)}}else ma=[]}ma||(ma=ja);ma||Y.error(R||C);if(B.call(ma)==="[object Array]")if(ca)if(I&&I.nodeType===1)for(C=0;ma[C]!=null;C++){if(ma[C]&&(ma[C]===true||ma[C].nodeType===1&&Y.contains(I,ma[C])))U.push(ja[C])}else for(C=0;ma[C]!=null;C++)ma[C]&&ma[C].nodeType===1&&U.push(ja[C]);else U.push.apply(U,ma);else Ca(ma,U);if(xa){Y(xa,ba,U,X);Y.uniqueSort(U)}return U};Y.uniqueSort=function(C){if(ua){K=N;C.sort(ua);if(K)for(var I=1;I<C.length;I++)C[I]===
C[I-1]&&C.splice(I--,1)}return C};Y.matches=function(C,I){return Y(C,null,null,I)};Y.matchesSelector=function(C,I){return Y(I,null,null,[C]).length>0};Y.find=function(C,I,U){var X,ba,da,ja,ma,xa;if(!C)return[];ba=0;for(da=ea.order.length;ba<da;ba++){ma=ea.order[ba];if(ja=ea.leftMatch[ma].exec(C)){xa=ja[1];ja.splice(1,1);if(xa.substr(xa.length-1)!=="\\"){ja[1]=(ja[1]||"").replace(Q,"");X=ea.find[ma](ja,I,U);if(X!=null){C=C.replace(ea.match[ma],"");break}}}}X||(X=typeof I.getElementsByTagName!=="undefined"?
I.getElementsByTagName("*"):[]);return{set:X,expr:C}};Y.filter=function(C,I,U,X){for(var ba,da,ja,ma,xa,R,ca,ka,ga=C,ya=[],va=I,Fa=I&&I[0]&&Y.isXML(I[0]);C&&I.length;){for(ja in ea.filter)if((ba=ea.leftMatch[ja].exec(C))!=null&&ba[2]){R=ea.filter[ja];xa=ba[1];da=false;ba.splice(1,1);if(xa.substr(xa.length-1)!=="\\"){if(va===ya)ya=[];if(ea.preFilter[ja])if(ba=ea.preFilter[ja](ba,va,U,ya,X,Fa)){if(ba===true)continue}else da=ma=true;if(ba)for(ca=0;(xa=va[ca])!=null;ca++)if(xa){ma=R(xa,ba,ca,va);ka=X^
ma;if(U&&ma!=null)if(ka)da=true;else va[ca]=false;else if(ka){ya.push(xa);da=true}}if(ma!==c){U||(va=ya);C=C.replace(ea.match[ja],"");if(!da)return[];break}}}if(C===ga)if(da==null)Y.error(C);else break;ga=C}return va};Y.error=function(C){throw new Error("Syntax error, unrecognized expression: "+C);};var ia=Y.getText=function(C){var I,U;I=C.nodeType;var X="";if(I)if(I===1||I===9)if(typeof C.textContent==="string")return C.textContent;else if(typeof C.innerText==="string")return C.innerText.replace(T,
"");else for(C=C.firstChild;C;C=C.nextSibling)X+=ia(C);else{if(I===3||I===4)return C.nodeValue}else for(I=0;U=C[I];I++)if(U.nodeType!==8)X+=ia(U);return X},ea=Y.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(C){return C.getAttribute("href")},type:function(C){return C.getAttribute("type")}},relative:{"+":function(C,I){var U=typeof I==="string",X=U&&!fa.test(I);U=U&&!X;if(X)I=I.toLowerCase();X=0;for(var ba=C.length,da;X<ba;X++)if(da=C[X]){for(;(da=da.previousSibling)&&
da.nodeType!==1;);C[X]=U||da&&da.nodeName.toLowerCase()===I?da||false:da===I}U&&Y.filter(I,C,true)},">":function(C,I){var U,X=typeof I==="string",ba=0,da=C.length;if(X&&!fa.test(I))for(I=I.toLowerCase();ba<da;ba++){if(U=C[ba]){U=U.parentNode;C[ba]=U.nodeName.toLowerCase()===I?U:false}}else{for(;ba<da;ba++)if(U=C[ba])C[ba]=X?U.parentNode:U.parentNode===I;X&&Y.filter(I,C,true)}},"":function(C,I,U){var X,ba=y++,da=k;if(typeof I==="string"&&!fa.test(I)){X=I=I.toLowerCase();da=h}da("parentNode",I,ba,C,
X,U)},"~":function(C,I,U){var X,ba=y++,da=k;if(typeof I==="string"&&!fa.test(I)){X=I=I.toLowerCase();da=h}da("previousSibling",I,ba,C,X,U)}},find:{ID:function(C,I,U){if(typeof I.getElementById!=="undefined"&&!U)return(C=I.getElementById(C[1]))&&C.parentNode?[C]:[]},NAME:function(C,I){if(typeof I.getElementsByName!=="undefined"){var U=[];I=I.getElementsByName(C[1]);for(var X=0,ba=I.length;X<ba;X++)I[X].getAttribute("name")===C[1]&&U.push(I[X]);return U.length===0?null:U}},TAG:function(C,I){if(typeof I.getElementsByTagName!==
"undefined")return I.getElementsByTagName(C[1])}},preFilter:{CLASS:function(C,I,U,X,ba,da){C=" "+C[1].replace(Q,"")+" ";if(da)return C;da=0;for(var ja;(ja=I[da])!=null;da++)if(ja)if(ba^(ja.className&&(" "+ja.className+" ").replace(/[\t\n\r]/g," ").indexOf(C)>=0))U||X.push(ja);else if(U)I[da]=false;return false},ID:function(C){return C[1].replace(Q,"")},TAG:function(C){return C[1].replace(Q,"").toLowerCase()},CHILD:function(C){if(C[1]==="nth"){C[2]||Y.error(C[0]);C[2]=C[2].replace(/^\+|\s*/g,"");var I=
/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(C[2]==="even"&&"2n"||C[2]==="odd"&&"2n+1"||!/\D/.test(C[2])&&"0n+"+C[2]||C[2]);C[2]=I[1]+(I[2]||1)-0;C[3]=I[3]-0}else C[2]&&Y.error(C[0]);C[0]=y++;return C},ATTR:function(C,I,U,X,ba,da){I=C[1]=C[1].replace(Q,"");if(!da&&ea.attrMap[I])C[1]=ea.attrMap[I];C[4]=(C[4]||C[5]||"").replace(Q,"");if(C[2]==="~=")C[4]=" "+C[4]+" ";return C},PSEUDO:function(C,I,U,X,ba){if(C[1]==="not")if((s.exec(C[3])||"").length>1||/^\w/.test(C[3]))C[3]=Y(C[3],null,null,I);else{C=Y.filter(C[3],
I,U,true^ba);U||X.push.apply(X,C);return false}else if(ea.match.POS.test(C[0])||ea.match.CHILD.test(C[0]))return true;return C},POS:function(C){C.unshift(true);return C}},filters:{enabled:function(C){return C.disabled===false&&C.type!=="hidden"},disabled:function(C){return C.disabled===true},checked:function(C){return C.checked===true},selected:function(C){return C.selected===true},parent:function(C){return!!C.firstChild},empty:function(C){return!C.firstChild},has:function(C,I,U){return!!Y(U[3],C).length},
header:function(C){return/h\d/i.test(C.nodeName)},text:function(C){var I=C.getAttribute("type"),U=C.type;return C.nodeName.toLowerCase()==="input"&&"text"===U&&(I===U||I===null)},radio:function(C){return C.nodeName.toLowerCase()==="input"&&"radio"===C.type},checkbox:function(C){return C.nodeName.toLowerCase()==="input"&&"checkbox"===C.type},file:function(C){return C.nodeName.toLowerCase()==="input"&&"file"===C.type},password:function(C){return C.nodeName.toLowerCase()==="input"&&"password"===C.type},
submit:function(C){var I=C.nodeName.toLowerCase();return(I==="input"||I==="button")&&"submit"===C.type},image:function(C){return C.nodeName.toLowerCase()==="input"&&"image"===C.type},reset:function(C){var I=C.nodeName.toLowerCase();return(I==="input"||I==="button")&&"reset"===C.type},button:function(C){var I=C.nodeName.toLowerCase();return I==="input"&&"button"===C.type||I==="button"},input:function(C){return/input|select|textarea|button/i.test(C.nodeName)},focus:function(C){return C===C.ownerDocument.activeElement}},
setFilters:{first:function(C,I){return I===0},last:function(C,I,U,X){return I===X.length-1},even:function(C,I){return I%2===0},odd:function(C,I){return I%2===1},lt:function(C,I,U){return I<U[3]-0},gt:function(C,I,U){return I>U[3]-0},nth:function(C,I,U){return U[3]-0===I},eq:function(C,I,U){return U[3]-0===I}},filter:{PSEUDO:function(C,I,U,X){var ba=I[1],da=ea.filters[ba];if(da)return da(C,U,I,X);else if(ba==="contains")return(C.textContent||C.innerText||ia([C])||"").indexOf(I[3])>=0;else if(ba===
"not"){I=I[3];U=0;for(X=I.length;U<X;U++)if(I[U]===C)return false;return true}else Y.error(ba)},CHILD:function(C,I){var U,X,ba,da;U=I[1];var ja=C;switch(U){case "only":case "first":for(;ja=ja.previousSibling;)if(ja.nodeType===1)return false;if(U==="first")return true;ja=C;case "last":for(;ja=ja.nextSibling;)if(ja.nodeType===1)return false;return true;case "nth":U=I[2];X=I[3];if(U===1&&X===0)return true;I=I[0];if((ba=C.parentNode)&&(ba[v]!==I||!C.nodeIndex)){da=0;for(ja=ba.firstChild;ja;ja=ja.nextSibling)if(ja.nodeType===
1)ja.nodeIndex=++da;ba[v]=I}C=C.nodeIndex-X;return U===0?C===0:C%U===0&&C/U>=0}},ID:function(C,I){return C.nodeType===1&&C.getAttribute("id")===I},TAG:function(C,I){return I==="*"&&C.nodeType===1||!!C.nodeName&&C.nodeName.toLowerCase()===I},CLASS:function(C,I){return(" "+(C.className||C.getAttribute("class"))+" ").indexOf(I)>-1},ATTR:function(C,I){var U=I[1];C=Y.attr?Y.attr(C,U):ea.attrHandle[U]?ea.attrHandle[U](C):C[U]!=null?C[U]:C.getAttribute(U);U=C+"";var X=I[2];I=I[4];return C==null?X==="!=":
!X&&Y.attr?C!=null:X==="="?U===I:X==="*="?U.indexOf(I)>=0:X==="~="?(" "+U+" ").indexOf(I)>=0:!I?U&&C!==false:X==="!="?U!==I:X==="^="?U.indexOf(I)===0:X==="$="?U.substr(U.length-I.length)===I:X==="|="?U===I||U.substr(0,I.length+1)===I+"-":false},POS:function(C,I,U,X){var ba=ea.setFilters[I[2]];if(ba)return ba(C,U,I,X)}}},ta=ea.match.POS,Ba=function(C,I){return"\\"+(I-0+1)};for(var Ea in ea.match){ea.match[Ea]=new RegExp(ea.match[Ea].source+/(?![^\[]*\])(?![^\(]*\))/.source);ea.leftMatch[Ea]=new RegExp(/(^(?:.|\r|\n)*?)/.source+
ea.match[Ea].source.replace(/\\(\d+)/g,Ba))}var Ca=function(C,I){C=Array.prototype.slice.call(C,0);if(I){I.push.apply(I,C);return I}return C};try{Array.prototype.slice.call(V.documentElement.childNodes,0)}catch(Ra){Ca=function(C,I){var U=0;I=I||[];if(B.call(C)==="[object Array]")Array.prototype.push.apply(I,C);else if(typeof C.length==="number")for(var X=C.length;U<X;U++)I.push(C[U]);else for(;C[U];U++)I.push(C[U]);return I}}var ua,Qa;if(V.documentElement.compareDocumentPosition)ua=function(C,I){if(C===
I){K=true;return 0}if(!C.compareDocumentPosition||!I.compareDocumentPosition)return C.compareDocumentPosition?-1:1;return C.compareDocumentPosition(I)&4?-1:1};else{ua=function(C,I){if(C===I){K=true;return 0}else if(C.sourceIndex&&I.sourceIndex)return C.sourceIndex-I.sourceIndex;var U,X,ba=[],da=[];U=C.parentNode;X=I.parentNode;var ja=U;if(U===X)return Qa(C,I);else if(U){if(!X)return 1}else return-1;for(;ja;){ba.unshift(ja);ja=ja.parentNode}for(ja=X;ja;){da.unshift(ja);ja=ja.parentNode}U=ba.length;
X=da.length;for(ja=0;ja<U&&ja<X;ja++)if(ba[ja]!==da[ja])return Qa(ba[ja],da[ja]);return ja===U?Qa(C,da[ja],-1):Qa(ba[ja],I,1)};Qa=function(C,I,U){if(C===I)return U;for(C=C.nextSibling;C;){if(C===I)return-1;C=C.nextSibling}return 1}}(function(){var C=V.createElement("div"),I="script"+(new Date).getTime(),U=V.documentElement;C.innerHTML="<a name='"+I+"'/>";U.insertBefore(C,U.firstChild);if(V.getElementById(I)){ea.find.ID=function(X,ba,da){if(typeof ba.getElementById!=="undefined"&&!da)return(ba=ba.getElementById(X[1]))?
ba.id===X[1]||typeof ba.getAttributeNode!=="undefined"&&ba.getAttributeNode("id").nodeValue===X[1]?[ba]:c:[]};ea.filter.ID=function(X,ba){var da=typeof X.getAttributeNode!=="undefined"&&X.getAttributeNode("id");return X.nodeType===1&&da&&da.nodeValue===ba}}U.removeChild(C);U=C=null})();(function(){var C=V.createElement("div");C.appendChild(V.createComment(""));if(C.getElementsByTagName("*").length>0)ea.find.TAG=function(I,U){U=U.getElementsByTagName(I[1]);if(I[1]==="*"){I=[];for(var X=0;U[X];X++)U[X].nodeType===
1&&I.push(U[X]);U=I}return U};C.innerHTML="<a href='#'></a>";if(C.firstChild&&typeof C.firstChild.getAttribute!=="undefined"&&C.firstChild.getAttribute("href")!=="#")ea.attrHandle.href=function(I){return I.getAttribute("href",2)};C=null})();V.querySelectorAll&&function(){var C=Y,I=V.createElement("div");I.innerHTML="<p class='TEST'></p>";if(!(I.querySelectorAll&&I.querySelectorAll(".TEST").length===0)){Y=function(X,ba,da,ja){ba=ba||V;if(!ja&&!Y.isXML(ba)){var ma=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(X);
if(ma&&(ba.nodeType===1||ba.nodeType===9))if(ma[1])return Ca(ba.getElementsByTagName(X),da);else if(ma[2]&&ea.find.CLASS&&ba.getElementsByClassName)return Ca(ba.getElementsByClassName(ma[2]),da);if(ba.nodeType===9){if(X==="body"&&ba.body)return Ca([ba.body],da);else if(ma&&ma[3]){var xa=ba.getElementById(ma[3]);if(xa&&xa.parentNode){if(xa.id===ma[3])return Ca([xa],da)}else return Ca([],da)}try{return Ca(ba.querySelectorAll(X),da)}catch(R){}}else if(ba.nodeType===1&&ba.nodeName.toLowerCase()!=="object"){ma=
ba;var ca=(xa=ba.getAttribute("id"))||"__sizzle__",ka=ba.parentNode,ga=/^\s*[+~]/.test(X);if(xa)ca=ca.replace(/'/g,"\\$&");else ba.setAttribute("id",ca);if(ga&&ka)ba=ba.parentNode;try{if(!ga||ka)return Ca(ba.querySelectorAll("[id='"+ca+"'] "+X),da)}catch(ya){}finally{xa||ma.removeAttribute("id")}}}return C(X,ba,da,ja)};for(var U in C)Y[U]=C[U];I=null}}();(function(){var C=V.documentElement,I=C.matchesSelector||C.mozMatchesSelector||C.webkitMatchesSelector||C.msMatchesSelector;if(I){var U=!I.call(V.createElement("div"),
"div"),X=false;try{I.call(V.documentElement,"[test!='']:sizzle")}catch(ba){X=true}Y.matchesSelector=function(da,ja){ja=ja.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!Y.isXML(da))try{if(X||!ea.match.PSEUDO.test(ja)&&!/!=/.test(ja)){var ma=I.call(da,ja);if(ma||!U||da.document&&da.document.nodeType!==11)return ma}}catch(xa){}return Y(ja,null,null,[da]).length>0}}})();(function(){var C=V.createElement("div");C.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!C.getElementsByClassName||
C.getElementsByClassName("e").length===0)){C.lastChild.className="e";if(C.getElementsByClassName("e").length!==1){ea.order.splice(1,0,"CLASS");ea.find.CLASS=function(I,U,X){if(typeof U.getElementsByClassName!=="undefined"&&!X)return U.getElementsByClassName(I[1])};C=null}}})();Y.contains=V.documentElement.contains?function(C,I){return C!==I&&(C.contains?C.contains(I):true)}:V.documentElement.compareDocumentPosition?function(C,I){return!!(C.compareDocumentPosition(I)&16)}:function(){return false};
Y.isXML=function(C){return(C=(C?C.ownerDocument||C:0).documentElement)?C.nodeName!=="HTML":false};var Oa=function(C,I,U){var X,ba=[],da="";for(I=I.nodeType?[I]:I;X=ea.match.PSEUDO.exec(C);){da+=X[0];C=C.replace(ea.match.PSEUDO,"")}C=ea.relative[C]?C+"*":C;X=0;for(var ja=I.length;X<ja;X++)Y(C,I[X],ba,U);return Y.filter(da,ba)};Y.attr=q.attr;Y.selectors.attrMap={};q.find=Y;q.expr=Y.selectors;q.expr[":"]=q.expr.filters;q.unique=Y.uniqueSort;q.text=Y.getText;q.isXMLDoc=Y.isXML;q.contains=Y.contains})();
var Pb=/Until$/,Qb=/^(?:parents|prevUntil|prevAll)/,Rb=/,/,Eb=/^.[^:#\[\.,]*$/,Sb=Array.prototype.slice,pb=q.expr.match.POS,Tb={children:true,contents:true,next:true,prev:true};q.fn.extend({find:function(h){var k=this,s,v;if(typeof h!=="string")return q(h).filter(function(){s=0;for(v=k.length;s<v;s++)if(q.contains(k[s],this))return true});var y=this.pushStack("","find",h),B,K,N;s=0;for(v=this.length;s<v;s++){B=y.length;q.find(h,this[s],y);if(s>0)for(K=B;K<y.length;K++)for(N=0;N<B;N++)if(y[N]===y[K]){y.splice(K--,
1);break}}return y},has:function(h){var k=q(h);return this.filter(function(){for(var s=0,v=k.length;s<v;s++)if(q.contains(this,k[s]))return true})},not:function(h){return this.pushStack(p(this,h,false),"not",h)},filter:function(h){return this.pushStack(p(this,h,true),"filter",h)},is:function(h){return!!h&&(typeof h==="string"?pb.test(h)?q(h,this.context).index(this[0])>=0:q.filter(h,this).length>0:this.filter(h).length>0)},closest:function(h,k){var s=[],v,y,B=this[0];if(q.isArray(h)){for(y=1;B&&B.ownerDocument&&
B!==k;){for(v=0;v<h.length;v++)q(B).is(h[v])&&s.push({selector:h[v],elem:B,level:y});B=B.parentNode;y++}return s}var K=pb.test(h)||typeof h!=="string"?q(h,k||this.context):0;v=0;for(y=this.length;v<y;v++)for(B=this[v];B;)if(K?K.index(B)>-1:q.find.matchesSelector(B,h)){s.push(B);break}else{B=B.parentNode;if(!B||!B.ownerDocument||B===k||B.nodeType===11)break}s=s.length>1?q.unique(s):s;return this.pushStack(s,"closest",h)},index:function(h){if(!h)return this[0]&&this[0].parentNode?this.prevAll().length:
-1;if(typeof h==="string")return q.inArray(this[0],q(h));return q.inArray(h.jquery?h[0]:h,this)},add:function(h,k){h=typeof h==="string"?q(h,k):q.makeArray(h&&h.nodeType?[h]:h);k=q.merge(this.get(),h);return this.pushStack(r(h[0])||r(k[0])?k:q.unique(k))},andSelf:function(){return this.add(this.prevObject)}});q.each({parent:function(h){return(h=h.parentNode)&&h.nodeType!==11?h:null},parents:function(h){return q.dir(h,"parentNode")},parentsUntil:function(h,k,s){return q.dir(h,"parentNode",s)},next:function(h){return q.nth(h,
2,"nextSibling")},prev:function(h){return q.nth(h,2,"previousSibling")},nextAll:function(h){return q.dir(h,"nextSibling")},prevAll:function(h){return q.dir(h,"previousSibling")},nextUntil:function(h,k,s){return q.dir(h,"nextSibling",s)},prevUntil:function(h,k,s){return q.dir(h,"previousSibling",s)},siblings:function(h){return q.sibling(h.parentNode.firstChild,h)},children:function(h){return q.sibling(h.firstChild)},contents:function(h){return q.nodeName(h,"iframe")?h.contentDocument||h.contentWindow.document:
q.makeArray(h.childNodes)}},function(h,k){q.fn[h]=function(s,v){var y=q.map(this,k,s);Pb.test(h)||(v=s);if(v&&typeof v==="string")y=q.filter(v,y);y=this.length>1&&!Tb[h]?q.unique(y):y;if((this.length>1||Rb.test(v))&&Qb.test(h))y=y.reverse();return this.pushStack(y,h,Sb.call(arguments).join(","))}});q.extend({filter:function(h,k,s){if(s)h=":not("+h+")";return k.length===1?q.find.matchesSelector(k[0],h)?[k[0]]:[]:q.find.matches(h,k)},dir:function(h,k,s){var v=[];for(h=h[k];h&&h.nodeType!==9&&(s===c||
h.nodeType!==1||!q(h).is(s));){h.nodeType===1&&v.push(h);h=h[k]}return v},nth:function(h,k,s){k=k||1;for(var v=0;h;h=h[s])if(h.nodeType===1&&++v===k)break;return h},sibling:function(h,k){for(var s=[];h;h=h.nextSibling)h.nodeType===1&&h!==k&&s.push(h);return s}});var ib="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ub=/ jQuery\d+="(?:\d+|null)"/g,fb=/^\s+/,qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
rb=/<([\w:]+)/,Vb=/<tbody/i,Wb=/<|&#?\w+;/,Xb=/<(?:script|style)/i,Yb=/<(?:script|object|embed|option|style)/i,sb=new RegExp("<(?:"+ib+")","i"),tb=/checked\s*(?:[^=]|=\s*.checked.)/i,Zb=/\/(java|ecma)script/i,Fb=/^\s*<!(?:\[CDATA\[|\-\-)/,Na={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>",
"</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},jb=u(V);Na.optgroup=Na.option;Na.tbody=Na.tfoot=Na.colgroup=Na.caption=Na.thead;Na.th=Na.td;if(!q.support.htmlSerialize)Na._default=[1,"div<div>","</div>"];q.fn.extend({text:function(h){if(q.isFunction(h))return this.each(function(k){var s=q(this);s.text(h.call(this,k,s.text()))});if(typeof h!=="object"&&h!==c)return this.empty().append((this[0]&&this[0].ownerDocument||V).createTextNode(h));return q.text(this)},wrapAll:function(h){if(q.isFunction(h))return this.each(function(s){q(this).wrapAll(h.call(this,
s))});if(this[0]){var k=q(h,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&k.insertBefore(this[0]);k.map(function(){for(var s=this;s.firstChild&&s.firstChild.nodeType===1;)s=s.firstChild;return s}).append(this)}return this},wrapInner:function(h){if(q.isFunction(h))return this.each(function(k){q(this).wrapInner(h.call(this,k))});return this.each(function(){var k=q(this),s=k.contents();s.length?s.wrapAll(h):k.append(h)})},wrap:function(h){var k=q.isFunction(h);return this.each(function(s){q(this).wrapAll(k?
h.call(this,s):h)})},unwrap:function(){return this.parent().each(function(){q.nodeName(this,"body")||q(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(h){this.nodeType===1&&this.appendChild(h)})},prepend:function(){return this.domManip(arguments,true,function(h){this.nodeType===1&&this.insertBefore(h,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(k){this.parentNode.insertBefore(k,
this)});else if(arguments.length){var h=q.clean(arguments);h.push.apply(h,this.toArray());return this.pushStack(h,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(k){this.parentNode.insertBefore(k,this.nextSibling)});else if(arguments.length){var h=this.pushStack(this,"after",arguments);h.push.apply(h,q.clean(arguments));return h}},remove:function(h,k){for(var s=0,v;(v=this[s])!=null;s++)if(!h||q.filter(h,[v]).length){if(!k&&v.nodeType===
1){q.cleanData(v.getElementsByTagName("*"));q.cleanData([v])}v.parentNode&&v.parentNode.removeChild(v)}return this},empty:function(){for(var h=0,k;(k=this[h])!=null;h++)for(k.nodeType===1&&q.cleanData(k.getElementsByTagName("*"));k.firstChild;)k.removeChild(k.firstChild);return this},clone:function(h,k){h=h==null?false:h;k=k==null?h:k;return this.map(function(){return q.clone(this,h,k)})},html:function(h){if(h===c)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Ub,""):null;else if(typeof h===
"string"&&!Xb.test(h)&&(q.support.leadingWhitespace||!fb.test(h))&&!Na[(rb.exec(h)||["",""])[1].toLowerCase()]){h=h.replace(qb,"<$1></$2>");try{for(var k=0,s=this.length;k<s;k++)if(this[k].nodeType===1){q.cleanData(this[k].getElementsByTagName("*"));this[k].innerHTML=h}}catch(v){this.empty().append(h)}}else q.isFunction(h)?this.each(function(y){var B=q(this);B.html(h.call(this,y,B.html()))}):this.empty().append(h);return this},replaceWith:function(h){if(this[0]&&this[0].parentNode){if(q.isFunction(h))return this.each(function(k){var s=
q(this),v=s.html();s.replaceWith(h.call(this,k,v))});if(typeof h!=="string")h=q(h).detach();return this.each(function(){var k=this.nextSibling,s=this.parentNode;q(this).remove();k?q(k).before(h):q(s).append(h)})}else return this.length?this.pushStack(q(q.isFunction(h)?h():h),"replaceWith",h):this},detach:function(h){return this.remove(h,true)},domManip:function(h,k,s){var v,y,B,K=h[0],N=[];if(!q.support.checkClone&&arguments.length===3&&typeof K==="string"&&tb.test(K))return this.each(function(){q(this).domManip(h,
k,s,true)});if(q.isFunction(K))return this.each(function(Y){var ia=q(this);h[0]=K.call(this,Y,k?ia.html():c);ia.domManip(h,k,s)});if(this[0]){v=K&&K.parentNode;v=q.support.parentNode&&v&&v.nodeType===11&&v.childNodes.length===this.length?{fragment:v}:q.buildFragment(h,this,N);B=v.fragment;if(y=B.childNodes.length===1?(B=B.firstChild):B.firstChild){k=k&&q.nodeName(y,"tr");for(var Q=0,T=this.length,fa=T-1;Q<T;Q++)s.call(k?x(this[Q],y):this[Q],v.cacheable||T>1&&Q<fa?q.clone(B,true,true):B)}N.length&&
q.each(N,L)}return this}});q.buildFragment=function(h,k,s){var v,y,B,K,N=h[0];if(k&&k[0])K=k[0].ownerDocument||k[0];K.createDocumentFragment||(K=V);if(h.length===1&&typeof N==="string"&&N.length<512&&K===V&&N.charAt(0)==="<"&&!Yb.test(N)&&(q.support.checkClone||!tb.test(N))&&(q.support.html5Clone||!sb.test(N))){y=true;if((B=q.fragments[N])&&B!==1)v=B}if(!v){v=K.createDocumentFragment();q.clean(h,K,v,s)}if(y)q.fragments[N]=B?v:1;return{fragment:v,cacheable:y}};q.fragments={};q.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(h,k){q.fn[h]=function(s){var v=[];s=q(s);var y=this.length===1&&this[0].parentNode;if(y&&y.nodeType===11&&y.childNodes.length===1&&s.length===1){s[k](this[0]);return this}else{y=0;for(var B=s.length;y<B;y++){var K=(y>0?this.clone(true):this).get();q(s[y])[k](K);v=v.concat(K)}return this.pushStack(v,h,s.selector)}}});q.extend({clone:function(h,k,s){var v,y,B,K=q.support.html5Clone||!sb.test("<"+h.nodeName)?
h.cloneNode(true):O(h);if((!q.support.noCloneEvent||!q.support.noCloneChecked)&&(h.nodeType===1||h.nodeType===11)&&!q.isXMLDoc(h)){E(h,K);v=F(h);y=F(K);for(B=0;v[B];++B)y[B]&&E(v[B],y[B])}if(k){A(h,K);if(s){v=F(h);y=F(K);for(B=0;v[B];++B)A(v[B],y[B])}}return K},clean:function(h,k,s,v){k=k||V;if(typeof k.createElement==="undefined")k=k.ownerDocument||k[0]&&k[0].ownerDocument||V;for(var y=[],B,K=0,N;(N=h[K])!=null;K++){if(typeof N==="number")N+="";if(N){if(typeof N==="string")if(Wb.test(N)){N=N.replace(qb,
"<$1></$2>");B=(rb.exec(N)||["",""])[1].toLowerCase();var Q=Na[B]||Na._default,T=Q[0],fa=k.createElement("div");k===V?jb.appendChild(fa):u(k).appendChild(fa);for(fa.innerHTML=Q[1]+N+Q[2];T--;)fa=fa.lastChild;if(!q.support.tbody){T=Vb.test(N);Q=B==="table"&&!T?fa.firstChild&&fa.firstChild.childNodes:Q[1]==="<table>"&&!T?fa.childNodes:[];for(B=Q.length-1;B>=0;--B)q.nodeName(Q[B],"tbody")&&!Q[B].childNodes.length&&Q[B].parentNode.removeChild(Q[B])}!q.support.leadingWhitespace&&fb.test(N)&&fa.insertBefore(k.createTextNode(fb.exec(N)[0]),
fa.firstChild);N=fa.childNodes}else N=k.createTextNode(N);var Y;if(!q.support.appendChecked)if(N[0]&&typeof(Y=N.length)==="number")for(B=0;B<Y;B++)J(N[B]);else J(N);if(N.nodeType)y.push(N);else y=q.merge(y,N)}}if(s){h=function(ia){return!ia.type||Zb.test(ia.type)};for(K=0;y[K];K++)if(v&&q.nodeName(y[K],"script")&&(!y[K].type||y[K].type.toLowerCase()==="text/javascript"))v.push(y[K].parentNode?y[K].parentNode.removeChild(y[K]):y[K]);else{if(y[K].nodeType===1){k=q.grep(y[K].getElementsByTagName("script"),
h);y.splice.apply(y,[K+1,0].concat(k))}s.appendChild(y[K])}}return y},cleanData:function(h){for(var k,s,v=q.cache,y=q.event.special,B=q.support.deleteExpando,K=0,N;(N=h[K])!=null;K++)if(!(N.nodeName&&q.noData[N.nodeName.toLowerCase()]))if(s=N[q.expando]){if((k=v[s])&&k.events){for(var Q in k.events)y[Q]?q.event.remove(N,Q):q.removeEvent(N,Q,k.handle);if(k.handle)k.handle.elem=null}if(B)delete N[q.expando];else N.removeAttribute&&N.removeAttribute(q.expando);delete v[s]}}});var gb=/alpha\([^)]*\)/i,
$b=/opacity=([^)]*)/,ac=/([A-Z]|^ms)/g,ub=/^-?\d+(?:px)?$/i,bc=/^-?\d/,cc=/^([\-+])=([\-+.\de]+)/,dc={position:"absolute",visibility:"hidden",display:"block"},Gb=["Left","Right"],Hb=["Top","Bottom"],Wa,vb,wb;q.fn.css=function(h,k){if(arguments.length===2&&k===c)return this;return q.access(this,h,k,true,function(s,v,y){return y!==c?q.style(s,v,y):q.css(s,v)})};q.extend({cssHooks:{opacity:{get:function(h,k){if(k){h=Wa(h,"opacity","opacity");return h===""?"1":h}else return h.style.opacity}}},cssNumber:{fillOpacity:true,
fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":q.support.cssFloat?"cssFloat":"styleFloat"},style:function(h,k,s,v){if(!(!h||h.nodeType===3||h.nodeType===8||!h.style)){var y,B=q.camelCase(k),K=h.style,N=q.cssHooks[B];k=q.cssProps[B]||B;if(s!==c){v=typeof s;if(v==="string"&&(y=cc.exec(s))){s=+(y[1]+1)*+y[2]+parseFloat(q.css(h,k));v="number"}if(!(s==null||v==="number"&&isNaN(s))){if(v==="number"&&!q.cssNumber[B])s+="px";if(!N||!("set"in
N)||(s=N.set(h,s))!==c)try{K[k]=s}catch(Q){}}}else{if(N&&"get"in N&&(y=N.get(h,false,v))!==c)return y;return K[k]}}},css:function(h,k,s){var v,y;k=q.camelCase(k);y=q.cssHooks[k];k=q.cssProps[k]||k;if(k==="cssFloat")k="float";if(y&&"get"in y&&(v=y.get(h,true,s))!==c)return v;else if(Wa)return Wa(h,k)},swap:function(h,k,s){var v={};for(var y in k){v[y]=h.style[y];h.style[y]=k[y]}s.call(h);for(y in k)h.style[y]=v[y]}});q.curCSS=q.css;q.each(["height","width"],function(h,k){q.cssHooks[k]={get:function(s,
v,y){var B;if(v){if(s.offsetWidth!==0)return w(s,k,y);else q.swap(s,dc,function(){B=w(s,k,y)});return B}},set:function(s,v){if(ub.test(v)){v=parseFloat(v);if(v>=0)return v+"px"}else return v}}});if(!q.support.opacity)q.cssHooks.opacity={get:function(h,k){return $b.test((k&&h.currentStyle?h.currentStyle.filter:h.style.filter)||"")?parseFloat(RegExp.$1)/100+"":k?"1":""},set:function(h,k){var s=h.style;h=h.currentStyle;var v=q.isNumeric(k)?"alpha(opacity="+k*100+")":"",y=h&&h.filter||s.filter||"";s.zoom=
1;if(k>=1&&q.trim(y.replace(gb,""))===""){s.removeAttribute("filter");if(h&&!h.filter)return}s.filter=gb.test(y)?y.replace(gb,v):y+" "+v}};q(function(){if(!q.support.reliableMarginRight)q.cssHooks.marginRight={get:function(h,k){var s;q.swap(h,{display:"inline-block"},function(){s=k?Wa(h,"margin-right","marginRight"):h.style.marginRight});return s}}});if(V.defaultView&&V.defaultView.getComputedStyle)vb=function(h,k){var s,v,y;k=k.replace(ac,"-$1").toLowerCase();if((v=h.ownerDocument.defaultView)&&
(y=v.getComputedStyle(h,null))){s=y.getPropertyValue(k);if(s===""&&!q.contains(h.ownerDocument.documentElement,h))s=q.style(h,k)}return s};if(V.documentElement.currentStyle)wb=function(h,k){var s,v,y=h.currentStyle&&h.currentStyle[k],B=h.style;if(y===null&&B&&(s=B[k]))y=s;if(!ub.test(y)&&bc.test(y)){s=B.left;if(v=h.runtimeStyle&&h.runtimeStyle.left)h.runtimeStyle.left=h.currentStyle.left;B.left=k==="fontSize"?"1em":y||0;y=B.pixelLeft+"px";B.left=s;if(v)h.runtimeStyle.left=v}return y===""?"auto":y};
Wa=vb||wb;if(q.expr&&q.expr.filters){q.expr.filters.hidden=function(h){var k=h.offsetHeight;return h.offsetWidth===0&&k===0||!q.support.reliableHiddenOffsets&&(h.style&&h.style.display||q.css(h,"display"))==="none"};q.expr.filters.visible=function(h){return!q.expr.filters.hidden(h)}}var ec=/%20/g,Ib=/\[\]$/,xb=/\r?\n/g,fc=/#.*$/,gc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,hc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ic=/^(?:GET|HEAD)$/,
jc=/^\/\//,yb=/\?/,kc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,lc=/^(?:select|textarea)/i,kb=/\s+/,mc=/([?&])_=[^&]*/,zb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ab=q.fn.load,cb={},Bb={},Ua,Va,Cb=["*/"]+["*"];try{Ua=sa.href}catch(sc){Ua=V.createElement("a");Ua.href="";Ua=Ua.href}Va=zb.exec(Ua.toLowerCase())||[];q.fn.extend({load:function(h,k,s){if(typeof h!=="string"&&Ab)return Ab.apply(this,arguments);else if(!this.length)return this;var v=h.indexOf(" ");if(v>=0){var y=h.slice(v,
h.length);h=h.slice(0,v)}v="GET";if(k)if(q.isFunction(k)){s=k;k=c}else if(typeof k==="object"){k=q.param(k,q.ajaxSettings.traditional);v="POST"}var B=this;q.ajax({url:h,type:v,dataType:"html",data:k,complete:function(K,N,Q){Q=K.responseText;if(K.isResolved()){K.done(function(T){Q=T});B.html(y?q("<div>").append(Q.replace(kc,"")).find(y):Q)}s&&B.each(s,[Q,N,K])}});return this},serialize:function(){return q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
q.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||lc.test(this.nodeName)||hc.test(this.type))}).map(function(h,k){h=q(this).val();return h==null?null:q.isArray(h)?q.map(h,function(s){return{name:k.name,value:s.replace(xb,"\r\n")}}):{name:k.name,value:h.replace(xb,"\r\n")}}).get()}});q.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(h,k){q.fn[k]=function(s){return this.on(k,s)}});q.each(["get","post"],function(h,
k){q[k]=function(s,v,y,B){if(q.isFunction(v)){B=B||y;y=v;v=c}return q.ajax({type:k,url:s,data:v,success:y,dataType:B})}});q.extend({getScript:function(h,k){return q.get(h,c,k,"script")},getJSON:function(h,k,s){return q.get(h,k,s,"json")},ajaxSetup:function(h,k){if(k)G(h,q.ajaxSettings);else{k=h;h=q.ajaxSettings}G(h,k);return h},ajaxSettings:{url:Ua,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Va[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",
processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Cb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":f.String,"text html":true,"text json":q.parseJSON,"text xml":q.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:t(cb),ajaxTransport:t(Bb),ajax:function(h,k){function s(C,I,U,X){if(Ea!==2){Ea=2;Ba&&clearTimeout(Ba);ta=
c;ia=X||"";ua.readyState=C>0?4:0;var ba,da,ja;X=I;U=U?P(v,ua,U):c;var ma;if(C>=200&&C<300||C===304){if(v.ifModified){if(ma=ua.getResponseHeader("Last-Modified"))q.lastModified[T]=ma;if(ma=ua.getResponseHeader("Etag"))q.etag[T]=ma}if(C===304){X="notmodified";ba=true}else try{da=W(v,U);X="success";ba=true}catch(xa){X="parsererror";ja=xa}}else{ja=X;if(!X||C){X="error";if(C<0)C=0}}ua.status=C;ua.statusText=""+(I||X);ba?K.resolveWith(y,[da,X,ua]):K.rejectWith(y,[ua,X,ja]);ua.statusCode(Q);Q=c;if(Ca)B.trigger("ajax"+
(ba?"Success":"Error"),[ua,v,ba?da:ja]);N.fireWith(y,[ua,X]);if(Ca){B.trigger("ajaxComplete",[ua,v]);--q.active||q.event.trigger("ajaxStop")}}}if(typeof h==="object"){k=h;h=c}k=k||{};var v=q.ajaxSetup({},k),y=v.context||v,B=y!==v&&(y.nodeType||y instanceof q)?q(y):q.event,K=q.Deferred(),N=q.Callbacks("once memory"),Q=v.statusCode||{},T,fa={},Y={},ia,ea,ta,Ba,Ea=0,Ca,Ra,ua={readyState:0,setRequestHeader:function(C,I){if(!Ea){var U=C.toLowerCase();C=Y[U]=Y[U]||C;fa[C]=I}return this},getAllResponseHeaders:function(){return Ea===
2?ia:null},getResponseHeader:function(C){var I;if(Ea===2){if(!ea)for(ea={};I=gc.exec(ia);)ea[I[1].toLowerCase()]=I[2];I=ea[C.toLowerCase()]}return I===c?null:I},overrideMimeType:function(C){if(!Ea)v.mimeType=C;return this},abort:function(C){C=C||"abort";ta&&ta.abort(C);s(0,C);return this}};K.promise(ua);ua.success=ua.done;ua.error=ua.fail;ua.complete=N.add;ua.statusCode=function(C){if(C){var I;if(Ea<2)for(I in C)Q[I]=[Q[I],C[I]];else{I=C[ua.status];ua.then(I,I)}}return this};v.url=((h||v.url)+"").replace(fc,
"").replace(jc,Va[1]+"//");v.dataTypes=q.trim(v.dataType||"*").toLowerCase().split(kb);if(v.crossDomain==null){h=zb.exec(v.url.toLowerCase());v.crossDomain=!!(h&&(h[1]!=Va[1]||h[2]!=Va[2]||(h[3]||(h[1]==="http:"?80:443))!=(Va[3]||(Va[1]==="http:"?80:443))))}if(v.data&&v.processData&&typeof v.data!=="string")v.data=q.param(v.data,v.traditional);H(cb,v,k,ua);if(Ea===2)return false;Ca=v.global;v.type=v.type.toUpperCase();v.hasContent=!ic.test(v.type);Ca&&q.active++===0&&q.event.trigger("ajaxStart");
if(!v.hasContent){if(v.data){v.url+=(yb.test(v.url)?"&":"?")+v.data;delete v.data}T=v.url;if(v.cache===false){h=q.now();var Qa=v.url.replace(mc,"$1_="+h);v.url=Qa+(Qa===v.url?(yb.test(v.url)?"&":"?")+"_="+h:"")}}if(v.data&&v.hasContent&&v.contentType!==false||k.contentType)ua.setRequestHeader("Content-Type",v.contentType);if(v.ifModified){T=T||v.url;q.lastModified[T]&&ua.setRequestHeader("If-Modified-Since",q.lastModified[T]);q.etag[T]&&ua.setRequestHeader("If-None-Match",q.etag[T])}ua.setRequestHeader("Accept",
v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+(v.dataTypes[0]!=="*"?", "+Cb+"; q=0.01":""):v.accepts["*"]);for(Ra in v.headers)ua.setRequestHeader(Ra,v.headers[Ra]);if(v.beforeSend&&(v.beforeSend.call(y,ua,v)===false||Ea===2)){ua.abort();return false}for(Ra in{success:1,error:1,complete:1})ua[Ra](v[Ra]);if(ta=H(Bb,v,k,ua)){ua.readyState=1;Ca&&B.trigger("ajaxSend",[ua,v]);if(v.async&&v.timeout>0)Ba=setTimeout(function(){ua.abort("timeout")},v.timeout);try{Ea=1;ta.send(fa,s)}catch(Oa){if(Ea<
2)s(-1,Oa);else throw Oa;}}else s(-1,"No Transport");return ua},param:function(h,k){var s=[],v=function(B,K){K=q.isFunction(K)?K():K;s[s.length]=encodeURIComponent(B)+"="+encodeURIComponent(K)};if(k===c)k=q.ajaxSettings.traditional;if(q.isArray(h)||h.jquery&&!q.isPlainObject(h))q.each(h,function(){v(this.name,this.value)});else for(var y in h)D(y,h[y],k,v);return s.join("&").replace(ec,"+")}});q.extend({active:0,lastModified:{},etag:{}});var nc=q.now(),ab=/(\=)\?(&|$)|\?\?/i;q.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){return q.expando+"_"+nc++}});q.ajaxPrefilter("json jsonp",function(h,k,s){k=h.contentType==="application/x-www-form-urlencoded"&&typeof h.data==="string";if(h.dataTypes[0]==="jsonp"||h.jsonp!==false&&(ab.test(h.url)||k&&ab.test(h.data))){var v,y=h.jsonpCallback=q.isFunction(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,B=f[y],K=h.url,N=h.data,Q="$1"+y+"$2";if(h.jsonp!==false){K=K.replace(ab,Q);if(h.url===K){if(k)N=N.replace(ab,Q);if(h.data===N)K+=(/\?/.test(K)?"&":"?")+
h.jsonp+"="+y}}h.url=K;h.data=N;f[y]=function(T){v=[T]};s.always(function(){f[y]=B;v&&q.isFunction(B)&&f[y](v[0])});h.converters["script json"]=function(){v||q.error(y+" was not called");return v[0]};h.dataTypes[0]="json";return"script"}});q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(h){q.globalEval(h);return h}}});q.ajaxPrefilter("script",function(h){if(h.cache===
c)h.cache=false;if(h.crossDomain){h.type="GET";h.global=false}});q.ajaxTransport("script",function(h){if(h.crossDomain){var k,s=V.head||V.getElementsByTagName("head")[0]||V.documentElement;return{send:function(v,y){k=V.createElement("script");k.async="async";if(h.scriptCharset)k.charset=h.scriptCharset;k.src=h.url;k.onload=k.onreadystatechange=function(B,K){if(K||!k.readyState||/loaded|complete/.test(k.readyState)){k.onload=k.onreadystatechange=null;s&&k.parentNode&&s.removeChild(k);k=c;K||y(200,
"success")}};s.insertBefore(k,s.firstChild)},abort:function(){k&&k.onload(0,1)}}}});var hb=f.ActiveXObject?function(){for(var h in Ya)Ya[h](0,1)}:false,oc=0,Ya;q.ajaxSettings.xhr=f.ActiveXObject?function(){return!this.isLocal&&Z()||la()}:Z;(function(h){q.extend(q.support,{ajax:!!h,cors:!!h&&"withCredentials"in h})})(q.ajaxSettings.xhr());q.support.ajax&&q.ajaxTransport(function(h){if(!h.crossDomain||q.support.cors){var k;return{send:function(s,v){var y=h.xhr(),B,K;h.username?y.open(h.type,h.url,h.async,
h.username,h.password):y.open(h.type,h.url,h.async);if(h.xhrFields)for(K in h.xhrFields)y[K]=h.xhrFields[K];h.mimeType&&y.overrideMimeType&&y.overrideMimeType(h.mimeType);if(!h.crossDomain&&!s["X-Requested-With"])s["X-Requested-With"]="XMLHttpRequest";try{for(K in s)y.setRequestHeader(K,s[K])}catch(N){}y.send(h.hasContent&&h.data||null);k=function(Q,T){var fa,Y,ia,ea,ta;try{if(k&&(T||y.readyState===4)){k=c;if(B){y.onreadystatechange=q.noop;hb&&delete Ya[B]}if(T)y.readyState!==4&&y.abort();else{fa=
y.status;ia=y.getAllResponseHeaders();ea={};if((ta=y.responseXML)&&ta.documentElement)ea.xml=ta;ea.text=y.responseText;try{Y=y.statusText}catch(Ba){Y=""}if(!fa&&h.isLocal&&!h.crossDomain)fa=ea.text?200:404;else if(fa===1223)fa=204}}}catch(Ea){T||v(-1,Ea)}ea&&v(fa,Y,ea,ia)};if(!h.async||y.readyState===4)k();else{B=++oc;if(hb){if(!Ya){Ya={};q(f).unload(hb)}Ya[B]=k}y.onreadystatechange=k}},abort:function(){k&&k(0,1)}}}});var db={},Pa,Xa,pc=/^(?:toggle|show|hide)$/,qc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
bb,lb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],$a;q.fn.extend({show:function(h,k,s){if(h||h===0)return this.animate(S("show",3),h,k,s);else{s=0;for(var v=this.length;s<v;s++){h=this[s];if(h.style){k=h.style.display;if(!q._data(h,"olddisplay")&&k==="none")k=h.style.display="";k===""&&q.css(h,"display")==="none"&&q._data(h,"olddisplay",aa(h.nodeName))}}for(s=0;s<v;s++){h=this[s];if(h.style){k=h.style.display;
if(k===""||k==="none")h.style.display=q._data(h,"olddisplay")||""}}return this}},hide:function(h,k,s){if(h||h===0)return this.animate(S("hide",3),h,k,s);else{s=0;for(var v=this.length;s<v;s++){h=this[s];if(h.style){k=q.css(h,"display");k!=="none"&&!q._data(h,"olddisplay")&&q._data(h,"olddisplay",k)}}for(s=0;s<v;s++)if(this[s].style)this[s].style.display="none";return this}},_toggle:q.fn.toggle,toggle:function(h,k,s){var v=typeof h==="boolean";if(q.isFunction(h)&&q.isFunction(k))this._toggle.apply(this,
arguments);else h==null||v?this.each(function(){var y=v?h:q(this).is(":hidden");q(this)[y?"show":"hide"]()}):this.animate(S("toggle",3),h,k,s);return this},fadeTo:function(h,k,s,v){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:k},h,s,v)},animate:function(h,k,s,v){function y(){B.queue===false&&q._mark(this);var K=q.extend({},B),N=this.nodeType===1,Q=N&&q(this).is(":hidden"),T,fa,Y,ia,ea;K.animatedProperties={};for(Y in h){T=q.camelCase(Y);if(Y!==T){h[T]=h[Y];delete h[Y]}fa=
h[T];if(q.isArray(fa)){K.animatedProperties[T]=fa[1];fa=h[T]=fa[0]}else K.animatedProperties[T]=K.specialEasing&&K.specialEasing[T]||K.easing||"swing";if(fa==="hide"&&Q||fa==="show"&&!Q)return K.complete.call(this);if(N&&(T==="height"||T==="width")){K.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(q.css(this,"display")==="inline"&&q.css(this,"float")==="none")if(!q.support.inlineBlockNeedsLayout||aa(this.nodeName)==="inline")this.style.display="inline-block";else this.style.zoom=
1}}if(K.overflow!=null)this.style.overflow="hidden";for(Y in h){N=new q.fx(this,K,Y);fa=h[Y];if(pc.test(fa))if(T=q._data(this,"toggle"+Y)||(fa==="toggle"?Q?"show":"hide":0)){q._data(this,"toggle"+Y,T==="show"?"hide":"show");N[T]()}else N[fa]();else{T=qc.exec(fa);ia=N.cur();if(T){fa=parseFloat(T[2]);ea=T[3]||(q.cssNumber[Y]?"":"px");if(ea!=="px"){q.style(this,Y,(fa||1)+ea);ia=(fa||1)/N.cur()*ia;q.style(this,Y,ia+ea)}if(T[1])fa=(T[1]==="-="?-1:1)*fa+ia;N.custom(ia,fa,ea)}else N.custom(ia,fa,"")}}return true}
var B=q.speed(k,s,v);if(q.isEmptyObject(h))return this.each(B.complete,[false]);h=q.extend({},h);return B.queue===false?this.each(y):this.queue(B.queue,y)},stop:function(h,k,s){if(typeof h!=="string"){s=k;k=h;h=c}if(k&&h!==false)this.queue(h||"fx",[]);return this.each(function(){function v(Q,T,fa){T=T[fa];q.removeData(Q,fa,true);T.stop(s)}var y,B=false,K=q.timers,N=q._data(this);s||q._unmark(true,this);if(h==null)for(y in N)N[y]&&N[y].stop&&y.indexOf(".run")===y.length-4&&v(this,N,y);else if(N[y=
h+".run"]&&N[y].stop)v(this,N,y);for(y=K.length;y--;)if(K[y].elem===this&&(h==null||K[y].queue===h)){s?K[y](true):K[y].saveState();B=true;K.splice(y,1)}s&&B||q.dequeue(this,h)})}});q.each({slideDown:S("show",1),slideUp:S("hide",1),slideToggle:S("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(h,k){q.fn[h]=function(s,v,y){return this.animate(k,s,v,y)}});q.extend({speed:function(h,k,s){var v=h&&typeof h==="object"?q.extend({},h):{complete:s||!s&&k||
q.isFunction(h)&&h,duration:h,easing:s&&k||k&&!q.isFunction(k)&&k};v.duration=q.fx.off?0:typeof v.duration==="number"?v.duration:v.duration in q.fx.speeds?q.fx.speeds[v.duration]:q.fx.speeds._default;if(v.queue==null||v.queue===true)v.queue="fx";v.old=v.complete;v.complete=function(y){q.isFunction(v.old)&&v.old.call(this);if(v.queue)q.dequeue(this,v.queue);else y!==false&&q._unmark(this)};return v},easing:{linear:function(h,k,s,v){return s+v*h},swing:function(h,k,s,v){return(-Math.cos(h*Math.PI)/
2+0.5)*v+s}},timers:[],fx:function(h,k,s){this.options=k;this.elem=h;this.prop=s;k.orig=k.orig||{}}});q.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(q.fx.step[this.prop]||q.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var h,k=q.css(this.elem,this.prop);return isNaN(h=parseFloat(k))?!k||k==="auto"?0:k:h},custom:function(h,k,s){function v(K){return y.step(K)}
var y=this,B=q.fx;this.startTime=$a||oa();this.end=k;this.now=this.start=h;this.pos=this.state=0;this.unit=s||this.unit||(q.cssNumber[this.prop]?"":"px");v.queue=this.options.queue;v.elem=this.elem;v.saveState=function(){y.options.hide&&q._data(y.elem,"fxshow"+y.prop)===c&&q._data(y.elem,"fxshow"+y.prop,y.start)};if(v()&&q.timers.push(v)&&!bb)bb=setInterval(B.tick,B.interval)},show:function(){var h=q._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=h||q.style(this.elem,this.prop);
this.options.show=true;h!==c?this.custom(this.cur(),h):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());q(this.elem).show()},hide:function(){this.options.orig[this.prop]=q._data(this.elem,"fxshow"+this.prop)||q.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(h){var k,s=$a||oa(),v=true,y=this.elem,B=this.options;if(h||s>=B.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();B.animatedProperties[this.prop]=true;
for(k in B.animatedProperties)if(B.animatedProperties[k]!==true)v=false;if(v){B.overflow!=null&&!q.support.shrinkWrapBlocks&&q.each(["","X","Y"],function(K,N){y.style["overflow"+N]=B.overflow[K]});B.hide&&q(y).hide();if(B.hide||B.show)for(k in B.animatedProperties){q.style(y,k,B.orig[k]);q.removeData(y,"fxshow"+k,true);q.removeData(y,"toggle"+k,true)}if(h=B.complete){B.complete=false;h.call(y)}}return false}else{if(B.duration==Infinity)this.now=s;else{h=s-this.startTime;this.state=h/B.duration;this.pos=
q.easing[B.animatedProperties[this.prop]](this.state,h,0,1,B.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};q.extend(q.fx,{tick:function(){for(var h,k=q.timers,s=0;s<k.length;s++){h=k[s];!h()&&k[s]===h&&k.splice(s--,1)}k.length||q.fx.stop()},interval:13,stop:function(){clearInterval(bb);bb=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(h){q.style(h.elem,"opacity",h.now)},_default:function(h){if(h.elem.style&&h.elem.style[h.prop]!=null)h.elem.style[h.prop]=
h.now+h.unit;else h.elem[h.prop]=h.now}}});q.each(["width","height"],function(h,k){q.fx.step[k]=function(s){q.style(s.elem,k,Math.max(0,s.now)+s.unit)}});if(q.expr&&q.expr.filters)q.expr.filters.animated=function(h){return q.grep(q.timers,function(k){return h===k.elem}).length};var rc=/^t(?:able|d|h)$/i,Db=/^(?:body|html)$/i;q.fn.offset="getBoundingClientRect"in V.documentElement?function(h){var k=this[0],s;if(h)return this.each(function(K){q.offset.setOffset(this,h,K)});if(!k||!k.ownerDocument)return null;
if(k===k.ownerDocument.body)return q.offset.bodyOffset(k);try{s=k.getBoundingClientRect()}catch(v){}var y=k.ownerDocument,B=y.documentElement;if(!s||!q.contains(B,k))return s?{top:s.top,left:s.left}:{top:0,left:0};k=y.body;y=na(y);return{top:s.top+(y.pageYOffset||q.support.boxModel&&B.scrollTop||k.scrollTop)-(B.clientTop||k.clientTop||0),left:s.left+(y.pageXOffset||q.support.boxModel&&B.scrollLeft||k.scrollLeft)-(B.clientLeft||k.clientLeft||0)}}:function(h){var k=this[0];if(h)return this.each(function(fa){q.offset.setOffset(this,
h,fa)});if(!k||!k.ownerDocument)return null;if(k===k.ownerDocument.body)return q.offset.bodyOffset(k);var s,v=k.offsetParent,y=k,B=k.ownerDocument,K=B.documentElement,N=B.body;s=(B=B.defaultView)?B.getComputedStyle(k,null):k.currentStyle;for(var Q=k.offsetTop,T=k.offsetLeft;(k=k.parentNode)&&k!==N&&k!==K;){if(q.support.fixedPosition&&s.position==="fixed")break;s=B?B.getComputedStyle(k,null):k.currentStyle;Q-=k.scrollTop;T-=k.scrollLeft;if(k===v){Q+=k.offsetTop;T+=k.offsetLeft;if(q.support.doesNotAddBorder&&
!(q.support.doesAddBorderForTableAndCells&&rc.test(k.nodeName))){Q+=parseFloat(s.borderTopWidth)||0;T+=parseFloat(s.borderLeftWidth)||0}y=v;v=k.offsetParent}if(q.support.subtractsBorderForOverflowNotVisible&&s.overflow!=="visible"){Q+=parseFloat(s.borderTopWidth)||0;T+=parseFloat(s.borderLeftWidth)||0}s=s}if(s.position==="relative"||s.position==="static"){Q+=N.offsetTop;T+=N.offsetLeft}if(q.support.fixedPosition&&s.position==="fixed"){Q+=Math.max(K.scrollTop,N.scrollTop);T+=Math.max(K.scrollLeft,
N.scrollLeft)}return{top:Q,left:T}};q.offset={bodyOffset:function(h){var k=h.offsetTop,s=h.offsetLeft;if(q.support.doesNotIncludeMarginInBodyOffset){k+=parseFloat(q.css(h,"marginTop"))||0;s+=parseFloat(q.css(h,"marginLeft"))||0}return{top:k,left:s}},setOffset:function(h,k,s){var v=q.css(h,"position");if(v==="static")h.style.position="relative";var y=q(h),B=y.offset(),K=q.css(h,"top"),N=q.css(h,"left"),Q={},T={};if((v==="absolute"||v==="fixed")&&q.inArray("auto",[K,N])>-1){T=y.position();v=T.top;N=
T.left}else{v=parseFloat(K)||0;N=parseFloat(N)||0}if(q.isFunction(k))k=k.call(h,s,B);if(k.top!=null)Q.top=k.top-B.top+v;if(k.left!=null)Q.left=k.left-B.left+N;"using"in k?k.using.call(h,Q):y.css(Q)}};q.fn.extend({position:function(){if(!this[0])return null;var h=this[0],k=this.offsetParent(),s=this.offset(),v=Db.test(k[0].nodeName)?{top:0,left:0}:k.offset();s.top-=parseFloat(q.css(h,"marginTop"))||0;s.left-=parseFloat(q.css(h,"marginLeft"))||0;v.top+=parseFloat(q.css(k[0],"borderTopWidth"))||0;v.left+=
parseFloat(q.css(k[0],"borderLeftWidth"))||0;return{top:s.top-v.top,left:s.left-v.left}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent||V.body;h&&!Db.test(h.nodeName)&&q.css(h,"position")==="static";)h=h.offsetParent;return h})}});q.each(["Left","Top"],function(h,k){var s="scroll"+k;q.fn[s]=function(v){var y,B;if(v===c){y=this[0];if(!y)return null;return(B=na(y))?"pageXOffset"in B?B[h?"pageYOffset":"pageXOffset"]:q.support.boxModel&&B.document.documentElement[s]||
B.document.body[s]:y[s]}return this.each(function(){if(B=na(this))B.scrollTo(!h?v:q(B).scrollLeft(),h?v:q(B).scrollTop());else this[s]=v})}});q.each(["Height","Width"],function(h,k){var s=k.toLowerCase();q.fn["inner"+k]=function(){var v=this[0];return v?v.style?parseFloat(q.css(v,s,"padding")):this[s]():null};q.fn["outer"+k]=function(v){var y=this[0];return y?y.style?parseFloat(q.css(y,s,v?"margin":"border")):this[s]():null};q.fn[s]=function(v){var y=this[0];if(!y)return v==null?null:this;if(q.isFunction(v))return this.each(function(N){var Q=
q(this);Q[s](v.call(this,N,Q[s]()))});if(q.isWindow(y)){var B=y.document.documentElement["client"+k],K=y.document.body;return y.document.compatMode==="CSS1Compat"&&B||K&&K["client"+k]||B}else if(y.nodeType===9)return Math.max(y.documentElement["client"+k],y.body["scroll"+k],y.documentElement["scroll"+k],y.body["offset"+k],y.documentElement["offset"+k]);else if(v===c){y=q.css(y,s);B=parseFloat(y);return q.isNumeric(B)?B:y}else return this.css(s,typeof v==="string"?v:v+"px")}});f.jQuery=f.$=q;typeof define===
"function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return q})})(window);steal.loaded("jquery/jquery.js");window.Storage=window.localStorage;var storage=function(){try{localStorage.setItem("testLocalStorage","testLocalStorage");return true}catch(f){return false}}();
storage||function(){var f=function(c){function e(r,p,u){var x;if(u){x=new Date;x.setTime(x.getTime()+u*24*60*60*1E3);u="; expires="+x.toGMTString()}else u="";document.cookie=r+"="+p+u+"; path=/"}function a(r){r=r+"=";var p=document.cookie.split(";"),u,x;for(u=0;u<p.length;u++){for(x=p[u];x.charAt(0)==" ";)x=x.substring(1,x.length);if(x.indexOf(r)==0)return x.substring(r.length,x.length)}return null}function d(r){r=JSON.stringify(r);if(c=="session")window.name=r;else e("localStorage",r,365)}function n(){if(c==
"session")window.name="";else e("localStorage","",365)}function o(){var r=c=="session"?window.name:a("localStorage");return r?JSON.parse(r):{}}var j=o();return{length:0,clear:function(){j={};this.length=0;n()},getItem:function(r){return j[r]===undefined?null:j[r]},key:function(r){var p=0;for(var u in j)if(p==r)return u;else p++;return null},removeItem:function(r){delete j[r];this.length--;d(j)},setItem:function(r,p){j[r]=p+"";this.length++;d(j)}}};window.Storage=new f("local");window.sessionStorage=
new f("session")}();
(function(){if(!("JSON"in window&&JSON.stringify&&JSON.parse)){if(!this.JSON)this.JSON={};(function(){function f(p){return p<10?"0"+p:p}function c(p){d.lastIndex=0;return d.test(p)?'"'+p.replace(d,function(u){var x=j[u];return typeof x==="string"?x:"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+p+'"'}function e(p,u){var x,A,E=n,F,z=u[p];if(z&&typeof z==="object"&&typeof z.toJSON==="function")z=z.toJSON(p);if(typeof r==="function")z=r.call(u,p,z);switch(typeof z){case "string":return c(z);case "number":return isFinite(z)?
String(z):"null";case "boolean":case "null":return String(z);case "object":if(!z)return"null";n+=o;F=[];if(Object.prototype.toString.apply(z)==="[object Array]"){A=z.length;for(p=0;p<A;p+=1)F[p]=e(p,z)||"null";u=F.length===0?"[]":n?"[\n"+n+F.join(",\n"+n)+"\n"+E+"]":"["+F.join(",")+"]";n=E;return u}if(r&&typeof r==="object"){A=r.length;for(p=0;p<A;p+=1){x=r[p];if(typeof x==="string")if(u=e(x,z))F.push(c(x)+(n?": ":":")+u)}}else for(x in z)if(Object.hasOwnProperty.call(z,x))if(u=e(x,z))F.push(c(x)+
(n?": ":":")+u);u=F.length===0?"{}":n?"{\n"+n+F.join(",\n"+n)+"\n"+E+"}":"{"+F.join(",")+"}";n=E;return u}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,o,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;if(typeof JSON.stringify!=="function")JSON.stringify=function(p,u,x){var A;o=n="";if(typeof x==="number")for(A=0;A<x;A+=1)o+=" ";else if(typeof x==="string")o=x;if((r=u)&&typeof u!=="function"&&(typeof u!=="object"||typeof u.length!=="number"))throw new Error("JSON.stringify");return e("",
{"":p})};if(typeof JSON.parse!=="function")JSON.parse=function(p,u){function x(A,E){var F,z,J=A[E];if(J&&typeof J==="object")for(F in J)if(Object.hasOwnProperty.call(J,F)){z=x(J,F);if(z!==undefined)J[F]=z;else delete J[F]}return u.call(A,E,J)}p=String(p);a.lastIndex=0;if(a.test(p))p=p.replace(a,function(A){return"\\u"+("0000"+A.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(p.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){p=eval("("+p+")");return typeof u==="function"?x({"":p},""):p}throw new SyntaxError("JSON.parse");}})()}})();function empty(f){if(!f)return false;var c;for(c=f.childNodes.length-1;c>=0;c--)f.removeChild(f.childNodes[c])}$.extend({linkUrl:function(f){if(f)return f.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1" target="_blank">$1</a>')}});
$.extend({URLEncode:function(f){if(!f)return false;var c="",e=0;f=f.toString();for(var a=/(^[a-zA-Z0-9_.]*)/;e<f.length;){var d=a.exec(f.substr(e));if(d!=null&&d.length>1&&d[1]!=""){c+=d[1];e+=d[1].length}else{if(f[e]==" ")c+="+";else{d=f.charCodeAt(e).toString(16);c+="%"+(d.length<2?"0":"")+d.toUpperCase()}e++}}return c},URLDecode:function(f){f=f;for(var c,e=/(%[^%]{2})/;(m=e.exec(f))!=null&&m.length>1&&m[1]!="";){b=parseInt(m[1].substr(1),16);c=String.fromCharCode(b);f=f.replace(m[1],c)}return f}});
$.extend({encode64:function(f){var c="",e,a,d,n,o,j,r=0;for(f=function(p){p=p.replace(/\r\n/g,"\n");for(var u="",x=0;x<p.length;x++){var A=p.charCodeAt(x);if(A<128)u+=String.fromCharCode(A);else{if(A>127&&A<2048)u+=String.fromCharCode(A>>6|192);else{u+=String.fromCharCode(A>>12|224);u+=String.fromCharCode(A>>6&63|128)}u+=String.fromCharCode(A&63|128)}}return u}(f);r<f.length;){e=f.charCodeAt(r++);a=f.charCodeAt(r++);d=f.charCodeAt(r++);n=e>>2;e=(e&3)<<4|a>>4;o=(a&15)<<2|d>>6;j=d&63;if(isNaN(a))o=
j=64;else if(isNaN(d))j=64;c=c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)}return c}});
$.fn.serializeObject=function(){var f={},c=this.serializeArray();$.each(c,function(){if(f[this.name]!==undefined){f[this.name].push||(f[this.name]=[f[this.name]]);f[this.name].push(this.value||"")}else f[this.name]=this.value||""});return f};steal.loaded("webapp/core/utils.js");
var WebService={connectError:"<strong>Could not connect to FastND web service. </strong><br>Please try again in a few minutes. <br> Sorry for the delay in accessing our service. If the problem persists, please contact us.",auth:function(f){$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/user_sessions.json",type:"POST",data:{user_session:{login:f.username,password:f.password}},success:function(c){f.complete&&f.complete(c)},error:function(){$().toastmessage("showErrorToast","<strong>Invalid Username or Password</strong><br /> Please try again. ")},
complete:function(){$.mobile.hidePageLoadingMsg()}})},focus:function(f){var c=function(e,a){e=e.title.toLowerCase();a=a.title.toLowerCase();if(e<a)return-1;if(e>a)return 1;return 0};$.ajax({url:finforeBaseUrl+"/category_focus.json",type:"GET",success:function(e){e[0].profiles.sort(c);e[1].profiles.sort(c);e[2].profiles.sort(c);f.complete&&f.complete(e)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"});Loader.hide()}})},updateUser:function(f){Loader.show();
$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:f.data},success:function(c){finfore.data.user=c;finfore.storeData({user:c});f.complete&&f.complete(c)},error:function(){$().toastmessage("showToast",{text:"There was a problem updating your profile. Please try again later. ",type:"error",sticky:true})},complete:function(){Loader.hide()}})},refreshUser:function(f){Loader.show();$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"GET",success:function(c){finfore.data.user=
c;finfore.storeData({user:c});f.complete&&f.complete(c)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"})},complete:function(){Loader.hide()}})},updateCompanies:function(f){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:{user_company_tabs_attributes:f.userCompanyTabs}},success:function(){f.complete&&f.complete()}})},updateColumns:function(f){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+
".json",type:"PUT",data:{user:{feed_accounts_attributes:f.columns}},success:function(){f.complete&&f.complete()}})},getColumn:function(){},getCompanies:function(f){f||(f={});$.ajax({url:finforeBaseUrl+"/feed_infos.json",type:"GET",data:{category:"all_companies"},success:function(c){f.success&&f.success(c)}})}},Loader={$body:$("body"),show:function(){this.$body.addClass("ui-loading")},hide:function(){this.$body.removeClass("ui-loading")}},feedReader={},callbackCounter=-1;
feedReader.get=function(f){var c="select channel.title, channel.item.title, channel.item.link, channel.item.enclosure, channel.item.description, channel.item.date, channel.item.pubDate from xml where url in(";$.each(f.sources,function(n,o){if(n!==0)c+=",";c+='"'+o+'"'});c+=') | unique(field="channel.item.link") | sort(field="channel.item.date", descending="true") | sort(field="channel.item.pubDate", descending="true")  | truncate(count='+f.limit+")";var e="feedReaderCallback";if(f.callbackId)e+=f.callbackId;
else{callbackCounter++;e+=callbackCounter}window[e]=function(n){feedReaderCallback(n,f);delete window[e]};var a="http://query.yahooapis.com/v1/public/yql?q="+$.URLEncode(c)+"&format=json&diagnostics=false&_maxage=300&callback="+e;if((finfore.smallScreen||touchSupport)&&!f.podcast)a=finforeAppUrl+"mobileProxy.php?url="+$.URLEncode(a)+"&mode=native&user_agent="+$.URLEncode("Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20100101 Firefox/12.0");var d=document.createElement("script");d.type="text/javascript";
d.src=a;document.body.appendChild(d)};
function feedReaderCallback(f,c){var e=[],a="";if(f.query&&f.query.results&&f.query.results.rss){if(!$.isArray(f.query.results.rss))f.query.results.rss=[f.query.results.rss];e=$.map(f.query.results.rss,function(d){if(!d.channel.item)return null;if(d.channel.item.description)a=d.channel.item.description.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";else if(d.channel.item.summary)a=d.channel.item.summary.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";try{return{title:d.channel.item.title.replace(/(<([^>]+)>)/ig,""),
link:d.channel.item.link,description:a,pubDate:d.channel.item.pubDate?new Date(d.channel.item.pubDate):new Date(d.channel.item.date),source:d.channel.title,enclosure:d.channel.item.enclosure}}catch(n){return null}})}c.complete(e)}steal.loaded("webapp/core/api.js");
(function(f,c,e){typeof define==="function"&&define.amd?define(["jquery"],function(a){e(a,f,c);return a.mobile}):e(f.jQuery,f,c)})(this,document,function(f,c,e){(function(a,d,n,o){function j(ha){for(;ha&&typeof ha.originalEvent!=="undefined";)ha=ha.originalEvent;return ha}function r(ha,pa){var qa=ha.type,za,Ia,Ka;ha=a.Event(ha);ha.type=pa;za=ha.originalEvent;Ia=a.event.props;if(qa.search(/^(mouse|click)/)>-1)Ia=M;if(za)for(Ka=Ia.length;Ka;){pa=Ia[--Ka];ha[pa]=za[pa]}if(qa.search(/mouse(down|up)|click/)>
-1&&!ha.which)ha.which=1;if(qa.search(/^touch/)!==-1){pa=j(za);qa=pa.touches;pa=pa.changedTouches;if(qa=qa&&qa.length?qa[0]:pa&&pa.length?pa[0]:o){za=0;for(len=oa.length;za<len;za++){pa=oa[za];ha[pa]=qa[pa]}}}return ha}function p(ha){for(var pa={},qa,za;ha;){qa=a.data(ha,Z);for(za in qa)if(qa[za])pa[za]=pa.hasVirtualBinding=true;ha=ha.parentNode}return pa}function u(ha,pa){for(var qa;ha;){if((qa=a.data(ha,Z))&&(!pa||qa[pa]))return ha;ha=ha.parentNode}return null}function x(){wa=false}function A(){wa=
true}function E(){Ja=0;sa.length=0;q=false;A()}function F(){x()}function z(){J();aa=setTimeout(function(){aa=0;E()},a.vmouse.resetTimerDuration)}function J(){if(aa){clearTimeout(aa);aa=0}}function O(ha,pa,qa){var za;if(qa&&qa[ha]||!qa&&u(pa.target,ha)){za=r(pa,ha);a(pa.target).trigger(za)}return za}function L(ha){var pa=a.data(ha.target,la);if(!q&&(!Ja||Ja!==pa))if(pa=O("v"+ha.type,ha)){pa.isDefaultPrevented()&&ha.preventDefault();pa.isPropagationStopped()&&ha.stopPropagation();pa.isImmediatePropagationStopped()&&
ha.stopImmediatePropagation()}}function w(ha){var pa=j(ha).touches,qa;if(pa&&pa.length===1){qa=ha.target;pa=p(qa);if(pa.hasVirtualBinding){Ja=Aa++;a.data(qa,la,Ja);J();F();ra=false;qa=j(ha).touches[0];na=qa.pageX;V=qa.pageY;O("vmouseover",ha,pa);O("vmousedown",ha,pa)}}}function t(ha){if(!wa){ra||O("vmousecancel",ha,p(ha.target));ra=true;z()}}function H(ha){if(!wa){var pa=j(ha).touches[0],qa=ra,za=a.vmouse.moveDistanceThreshold;ra=ra||Math.abs(pa.pageX-na)>za||Math.abs(pa.pageY-V)>za;flags=p(ha.target);
ra&&!qa&&O("vmousecancel",ha,flags);O("vmousemove",ha,flags);z()}}function G(ha){if(!wa){A();var pa=p(ha.target),qa;O("vmouseup",ha,pa);if(!ra)if((qa=O("vclick",ha,pa))&&qa.isDefaultPrevented()){qa=j(ha).changedTouches[0];sa.push({touchID:Ja,x:qa.clientX,y:qa.clientY});q=true}O("vmouseout",ha,pa);ra=false;z()}}function D(ha){ha=a.data(ha,Z);var pa;if(ha)for(pa in ha)if(ha[pa])return true;return false}function P(){}function W(ha){var pa=ha.substr(1);return{setup:function(){D(this)||a.data(this,Z,{});
a.data(this,Z)[ha]=true;S[ha]=(S[ha]||0)+1;S[ha]===1&&Ga.bind(pa,L);a(this).bind(pa,P);if(Da){S.touchstart=(S.touchstart||0)+1;S.touchstart===1&&Ga.bind("touchstart",w).bind("touchend",G).bind("touchmove",H).bind("scroll",t)}},teardown:function(){--S[ha];S[ha]||Ga.unbind(pa,L);if(Da){--S.touchstart;S.touchstart||Ga.unbind("touchstart",w).unbind("touchmove",H).unbind("touchend",G).unbind("scroll",t)}var qa=a(this),za=a.data(this,Z);if(za)za[ha]=false;qa.unbind(pa,P);D(this)||qa.removeData(Z)}}}var Z=
"virtualMouseBindings",la="virtualTouchID";d="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var oa="clientX clientY pageX pageY screenX screenY".split(" "),M=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:[]),S={},aa=0,na=0,V=0,ra=false,sa=[],q=false,wa=false,Da="addEventListener"in n,Ga=a(n),Aa=1,Ja=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Ma=0;Ma<d.length;Ma++)a.event.special[d[Ma]]=W(d[Ma]);
Da&&n.addEventListener("click",function(ha){var pa=sa.length,qa=ha.target,za,Ia,Ka,La,Sa;if(pa){za=ha.clientX;Ia=ha.clientY;threshold=a.vmouse.clickDistanceThreshold;for(Ka=qa;Ka;){for(La=0;La<pa;La++){Sa=sa[La];if(Ka===qa&&Math.abs(Sa.x-za)<threshold&&Math.abs(Sa.y-Ia)<threshold||a.data(Ka,la)===Sa.touchID){ha.preventDefault();ha.stopPropagation();return}}Ka=Ka.parentNode}}},true)})(jQuery,c,e);(function(a,d,n){function o(E){E=E||location.href;return"#"+E.replace(/^[^#]*#?(.*)$/,"$1")}var j="hashchange",
r=e,p,u=a.event.special,x=r.documentMode,A="on"+j in d&&(x===n||x>7);a.fn[j]=function(E){return E?this.bind(j,E):this.trigger(j)};a.fn[j].delay=50;u[j]=a.extend(u[j],{setup:function(){if(A)return false;a(p.start)},teardown:function(){if(A)return false;a(p.stop)}});p=function(){function E(){var t=o(),H=w(J);if(t!==J){L(J=t,H);a(d).trigger(j)}else if(H!==J)location.href=location.href.replace(/#.*/,"")+H;z=setTimeout(E,a.fn[j].delay)}var F={},z,J=o(),O=function(t){return t},L=O,w=O;F.start=function(){z||
E()};F.stop=function(){z&&clearTimeout(z);z=n};a.browser.msie&&!A&&function(){var t,H;F.start=function(){if(!t){H=(H=a.fn[j].src)&&H+o();t=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){H||L(o());E()}).attr("src",H||"javascript:0").insertAfter("body")[0].contentWindow;r.onpropertychange=function(){try{if(event.propertyName==="title")t.document.title=r.title}catch(G){}}}};F.stop=O;w=function(){return o(t.location.href)};L=function(G,D){var P=t.document,W=a.fn[j].domain;if(G!==
D){P.title=r.title;P.open();W&&P.write('<script>document.domain="'+W+'"<\/script>');P.close();t.location.hash=G}}}();return F}()})(jQuery,this);(function(a,d){if(a.cleanData){var n=a.cleanData;a.cleanData=function(j){for(var r=0,p;(p=j[r])!=null;r++)a(p).triggerHandler("remove");n(j)}}else{var o=a.fn.remove;a.fn.remove=function(j,r){return this.each(function(){if(!r)if(!j||a.filter(j,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return o.call(a(this),j,
r)})}}a.widget=function(j,r,p){var u=j.split(".")[0],x;j=j.split(".")[1];x=u+"-"+j;if(!p){p=r;r=a.Widget}a.expr[":"][x]=function(A){return!!a.data(A,j)};a[u]=a[u]||{};a[u][j]=function(A,E){arguments.length&&this._createWidget(A,E)};r=new r;r.options=a.extend(true,{},r.options);a[u][j].prototype=a.extend(true,r,{namespace:u,widgetName:j,widgetEventPrefix:a[u][j].prototype.widgetEventPrefix||j,widgetBaseClass:x},p);a.widget.bridge(j,a[u][j])};a.widget.bridge=function(j,r){a.fn[j]=function(p){var u=
typeof p==="string",x=Array.prototype.slice.call(arguments,1),A=this;p=!u&&x.length?a.extend.apply(null,[true,p].concat(x)):p;if(u&&p.charAt(0)==="_")return A;u?this.each(function(){var E=a.data(this,j);if(!E)throw"cannot call methods on "+j+" prior to initialization; attempted to call method '"+p+"'";if(!a.isFunction(E[p]))throw"no such method '"+p+"' for "+j+" widget instance";var F=E[p].apply(E,x);if(F!==E&&F!==d){A=F;return false}}):this.each(function(){var E=a.data(this,j);E?E.option(p||{})._init():
a.data(this,j,new r(p,this))});return A}};a.Widget=function(j,r){arguments.length&&this._createWidget(j,r)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(j,r){a.data(r,this.widgetName,this);this.element=a(r);this.options=a.extend(true,{},this.options,this._getCreateOptions(),j);var p=this;this.element.bind("remove."+this.widgetName,function(){p.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var j=
{};if(a.metadata)j=a.metadata.get(element)[this.widgetName];return j},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(j,r){var p=j;if(arguments.length===0)return a.extend({},this.options);if(typeof j==="string"){if(r===d)return this.options[j];
p={};p[j]=r}this._setOptions(p);return this},_setOptions:function(j){var r=this;a.each(j,function(p,u){r._setOption(p,u)});return this},_setOption:function(j,r){this.options[j]=r;if(j==="disabled")this.widget()[r?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",r);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(j,r,p){var u=this.options[j];r=a.Event(r);
r.type=(j===this.widgetEventPrefix?j:this.widgetEventPrefix+j).toLowerCase();p=p||{};if(r.originalEvent){j=a.event.props.length;for(var x;j;){x=a.event.props[--j];r[x]=r.originalEvent[x]}}this.element.trigger(r,p);return!(a.isFunction(u)&&u.call(this.element[0],r,p)===false||r.isDefaultPrevented())}}})(jQuery);(function(a,d){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var n=this.element,
o={};a.each(this.options,function(j){var r=n.jqmData(j.replace(/[A-Z]/g,function(p){return"-"+p.toLowerCase()}));if(r!==d)o[j]=r});return o},enhanceWithin:function(n,o){this.enhance(a(this.options.initSelector,a(n)),o)},enhance:function(n,o){n=a(n);n=a.mobile.enhanceable(n);if(o&&n.length){o=(o=a.mobile.closestPageData(n))&&o.keepNativeSelector()||"";n=n.not(o)}n[this.widgetName]()},raise:function(n){throw"Widget ["+this.widgetName+"]: "+n;}})})(jQuery);(function(a,d){var n={};a.mobile=a.extend({},
{version:"1.1.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:false,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",autoInitializePage:true,
pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(r){if(a.type(r)!==
"number")r=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;setTimeout(function(){d.scrollTo(0,r);a(e).trigger("silentscroll",{x:0,y:r})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:n,nsNormalize:function(r){if(r)return n[r]||(n[r]=a.camelCase(a.mobile.ns+r))},getInheritedTheme:function(r,p){r=r[0];for(var u="",x=/ui-(bar|body|overlay)-([a-z])\b/,A,E;r;){A=r.className||"";if((E=x.exec(A))&&(u=E[2]))break;r=r.parentNode}return u||p||
"a"},closestPageData:function(r){return r.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(r){return this.haveParents(r,"enhance")},hijackable:function(r){return this.haveParents(r,"ajax")},haveParents:function(r,p){if(!a.mobile.ignoreContentEnabled)return r;for(var u=r.length,x=a(),A,E,F,z=0;z<u;z++){E=r.eq(z);F=false;for(A=r[z];A;){if((A.getAttribute?A.getAttribute("data-"+a.mobile.ns+p):"")==="false"){F=true;break}A=A.parentNode}F||(x=x.add(E))}return x}},
a.mobile);a.fn.jqmData=function(r,p){var u;if(typeof r!="undefined"){if(r)r=a.mobile.nsNormalize(r);u=this.data.apply(this,arguments.length<2?[r]:[r,p])}return u};a.jqmData=function(r,p,u){var x;if(typeof p!="undefined")x=a.data(r,p?a.mobile.nsNormalize(p):p,u);return x};a.fn.jqmRemoveData=function(r){return this.removeData(a.mobile.nsNormalize(r))};a.jqmRemoveData=function(r,p){return a.removeData(r,a.mobile.nsNormalize(p))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=
function(r){r=a(r);(r.jqmData("dependents")||a()).remove();r.remove()};a.fn.addDependents=function(r){a.addDependents(a(this),r)};a.addDependents=function(r,p){var u=a(r).jqmData("dependents")||a();a(r).jqmData("dependents",a.merge(u,p))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};a.fn.jqmEnhanceable=function(){return a.mobile.enhanceable(this)};a.fn.jqmHijackable=function(){return a.mobile.hijackable(this)};var o=a.find,j=/:jqmData\(([^)]*)\)/g;a.find=function(r,
p,u,x){r=r.replace(j,"[data-"+(a.mobile.ns||"")+"$1]");return o.call(this,r,p,u,x)};a.extend(a.find,o);a.find.matches=function(r,p){return a.find(r,null,null,p)};a.find.matchesSelector=function(r,p){return a.find(p,null,null,[r]).length>0}})(jQuery,this);(function(a){a(c);var d=a("html");a.mobile.media=function(){var n={},o=a("<div id='jquery-mediatest'>"),j=a("<body>").append(o);return function(r){if(!(r in n)){var p=e.createElement("style"),u="@media "+r+" { #jquery-mediatest { position:absolute; } }";
p.type="text/css";if(p.styleSheet)p.styleSheet.cssText=u;else p.appendChild(e.createTextNode(u));d.prepend(j).prepend(p);n[r]=o.css("position")==="absolute";j.add(p).remove()}return n[r]}}()})(jQuery);(function(a,d){function n(z){var J=z.charAt(0).toUpperCase()+z.substr(1);z=(z+" "+x.join(J+" ")+J).split(" ");for(var O in z)if(u[z[O]]!==d)return true}function o(z,J,O){var L=e.createElement("div"),w=function(D){return D.charAt(0).toUpperCase()+D.substr(1)},t=function(D){return"-"+D.charAt(0).toLowerCase()+
D.substr(1)+"-"},H=function(D){var P=t(D)+z+": "+J+";";D=w(D)+w(z);L.setAttribute("style",P);if(L.style[D])G=true};O=O?[O]:x;var G;for(i=0;i<O.length;i++)H(O[i]);return!!G}function j(){return o("perspective","10px","moz")||a.mobile.media("(-"+x.join("-transform-3d),(-")+"-transform-3d),(transform-3d)")}function r(){var z=location.protocol+"//"+location.host+location.pathname+"ui-dir/",J=a("head base"),O=null,L="",w;if(J.length)L=J.attr("href");else J=O=a("<base>",{href:z}).appendTo("head");w=a("<a href='testurl' />").prependTo(p)[0].href;
J[0].href=L||location.pathname;O&&O.remove();return w.indexOf(z)===0}var p=a("<body>").prependTo("html"),u=p[0].style,x=["Webkit","Moz","O"],A="palmGetResource"in c,E=c.operamini&&{}.toString.call(c.operamini)==="[object OperaMini]",F=c.blackberry;a.extend(a.mobile,{browser:{}});a.mobile.browser.ie=function(){for(var z=3,J=e.createElement("div"),O=J.all||[];J.innerHTML="<!--[if gt IE "+ ++z+"]><br><![endif]--\>",O[0];);return z>4?z:!z}();a.extend(a.support,{orientation:"orientation"in c&&"onorientationchange"in
c,touch:"ontouchend"in e,cssTransitions:"WebKitTransitionEvent"in c||o("transition","height 100ms linear"),pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!n("content"),touchOverflow:!!n("overflowScrolling"),cssTransform3d:j(),boxShadow:!!n("boxShadow")&&!F,scrollTop:("pageXOffset"in c||"scrollTop"in e.documentElement||"scrollTop"in p[0])&&!A&&!E,dynamicBaseTag:r()});p.remove();A=function(){var z=c.navigator.userAgent;return z.indexOf("Nokia")>
-1&&(z.indexOf("Symbian/3")>-1||z.indexOf("Series60/5")>-1)&&z.indexOf("AppleWebKit")>-1&&z.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=7};a.mobile.ajaxBlacklist=c.blackberry&&!c.WebKitPoint||E||A;A&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);(function(a,
d,n){function o(x,A,E){var F=E.type;E.type=A;a.event.handle.call(x,E);E.type=F}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(x,A){a.fn[A]=function(E){return E?this.bind(A,E):this.trigger(A)};a.attrFn[A]=true});var j=a.support.touch,r=j?"touchstart":"mousedown",p=j?"touchend":"mouseup",u=j?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function x(z,J){E=J;
o(A,E?"scrollstart":"scrollstop",z)}var A=this,E,F;a(A).bind("touchmove scroll",function(z){if(a.event.special.scrollstart.enabled){E||x(z,true);clearTimeout(F);F=setTimeout(function(){x(z,false)},50)}})}};a.event.special.tap={setup:function(){var x=this,A=a(x);A.bind("vmousedown",function(E){function F(){clearTimeout(L)}function z(){F();A.unbind("vclick",J).unbind("vmouseup",F);a(e).unbind("vmousecancel",z)}function J(w){z();O==w.target&&o(x,"tap",w)}if(E.which&&E.which!==1)return false;var O=E.target,
L;A.bind("vmouseup",F).bind("vclick",J);a(e).bind("vmousecancel",z);L=setTimeout(function(){o(x,"taphold",a.Event("taphold",{target:O}))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var x=a(this);x.bind(r,function(A){function E(O){if(z){var L=O.originalEvent.touches?O.originalEvent.touches[0]:O;J={time:(new Date).getTime(),coords:[L.pageX,L.pageY]};Math.abs(z.coords[0]-J.coords[0])>
a.event.special.swipe.scrollSupressionThreshold&&O.preventDefault()}}var F=A.originalEvent.touches?A.originalEvent.touches[0]:A,z={time:(new Date).getTime(),coords:[F.pageX,F.pageY],origin:a(A.target)},J;x.bind(u,E).one(p,function(){x.unbind(u,E);if(z&&J)if(J.time-z.time<a.event.special.swipe.durationThreshold&&Math.abs(z.coords[0]-J.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(z.coords[1]-J.coords[1])<a.event.special.swipe.verticalDistanceThreshold)z.origin.trigger("swipe").trigger(z.coords[0]>
J.coords[0]?"swipeleft":"swiperight");z=J=n})})}};(function(x,A){function E(){var t=z();if(t!==J){J=t;F.trigger("orientationchange")}}var F=x(A),z,J,O,L,w={"0":true,"180":true};if(x.support.orientation){O=A.innerWidth||x(A).width();L=A.innerHeight||x(A).height();O=O>L&&O-L>50;L=w[A.orientation];if(O&&L||!O&&!L)w={"-90":true,"90":true}}x.event.special.orientationchange={setup:function(){if(x.support.orientation&&x.mobile.orientationChangeEnabled)return false;J=z();F.bind("throttledresize",E)},teardown:function(){if(x.support.orientation&&
x.mobile.orientationChangeEnabled)return false;F.unbind("throttledresize",E)},add:function(t){var H=t.handler;t.handler=function(G){G.orientation=z();return H.apply(this,arguments)}}};x.event.special.orientationchange.orientation=z=function(){var t=true;t=e.documentElement;return(t=x.support.orientation?w[A.orientation]:t&&t.clientWidth/t.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,d);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",x)},teardown:function(){a(this).unbind("resize",
x)}};var x=function(){F=(new Date).getTime();z=F-A;if(z>=250){A=F;a(this).trigger("throttledresize")}else{E&&clearTimeout(E);E=setTimeout(x,250-z)}},A=0,E,F,z})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(x,A){a.event.special[x]={setup:function(){a(this).bind(A,a.noop)}}})})(jQuery,this);(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var d=
this;if(d._trigger("beforecreate")===false)return false;d.element.attr("tabindex","0").addClass("ui-page ui-body-"+d.options.theme).bind("pagebeforehide",function(){d.removeContainerBackground()}).bind("pagebeforeshow",function(){d.setContainerBackground()})},removeContainerBackground:function(){a.mobile.pageContainer.removeClass("ui-overlay-"+a.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(d){if(this.options.theme)a.mobile.pageContainer.addClass("ui-overlay-"+
(d||this.options.theme))},keepNativeSelector:function(){var d=this.options;if(d.keepNative&&a.trim(d.keepNative)&&d.keepNative!==d.keepNativeDefault)return[d.keepNative,d.keepNativeDefault].join(", ");return d.keepNativeDefault}})})(jQuery);(function(a,d,n){var o=function(r){if(r===n)r=true;return function(p,u,x,A){var E=new a.Deferred,F=u?" reverse":"",z=a.mobile.urlHistory.getActive().lastScroll||a.mobile.defaultHomeScroll,J=a.mobile.getScreenHeight(),O=a.mobile.maxTransitionWidth!==false&&a(d).width()>
a.mobile.maxTransitionWidth,L=!a.support.cssTransitions||O||!p||p==="none",w=function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+p)},t=function(){a.event.special.scrollstart.enabled=false;d.scrollTo(0,z);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},H=function(){A.removeClass(a.mobile.activePageClass+" out in reverse "+p).height("")};O=function(){r?A.animationComplete(G):G();A.height(J+a(d).scrollTop()).addClass(p+" out"+F)};var G=function(){A&&
r&&H();D()},D=function(){x.addClass(a.mobile.activePageClass);a.mobile.focusPage(x);x.height(J+z);t();L||x.animationComplete(P);x.addClass(p+" in"+F);L&&P()},P=function(){r||A&&H();x.removeClass("out in reverse "+p).height("");w();a(d).scrollTop()!==z&&t();E.resolve(p,u,x,A,true)};w();A&&!L?O():G();return E.promise()}},j=o();o=o(false);a.mobile.defaultTransitionHandler=j;a.mobile.transitionHandlers={"default":a.mobile.defaultTransitionHandler,sequential:j,simultaneous:o};a.mobile.transitionFallbacks=
{}})(jQuery,this);(function(a,d){function n(M){if(J&&(!J.closest(".ui-page-active").length||M))J.removeClass(a.mobile.activeBtnClass);J=null}function o(){w=false;L.length>0&&a.mobile.changePage.apply(null,L.pop())}function j(M,S,aa,na){S&&S.data("page")._trigger("beforehide",null,{nextPage:M});M.data("page")._trigger("beforeshow",null,{prevPage:S||a("")});a.mobile.hidePageLoadingMsg();if(aa&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[aa])aa=a.mobile.transitionFallbacks[aa];aa=(a.mobile.transitionHandlers[aa||
"default"]||a.mobile.defaultTransitionHandler)(aa,na,M,S);aa.done(function(){S&&S.data("page")._trigger("hide",null,{nextPage:M});M.data("page")._trigger("show",null,{prevPage:S||a("")})});return aa}function r(){return c.innerHeight||a(c).height()}function p(){var M=a("."+a.mobile.activePageClass),S=parseFloat(M.css("padding-top")),aa=parseFloat(M.css("padding-bottom"));M.css("min-height",r()-S-aa)}function u(M,S){S&&M.attr("data-"+a.mobile.ns+"role",S);M.page()}function x(M){for(;M;){if(typeof M.nodeName===
"string"&&M.nodeName.toLowerCase()=="a")break;M=M.parentNode}return M}function A(M){M=a(M).closest(".ui-page").jqmData("url");var S=D.hrefNoHash;if(!M||!z.isPath(M))M=S;return z.makeUrlAbsolute(M,S)}var E=a(c);a("html");var F=a("head"),z={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(M){if(a.type(M)==="object")return M;M=z.urlParseRE.exec(M||
"")||[];return{href:M[0]||"",hrefNoHash:M[1]||"",hrefNoSearch:M[2]||"",domain:M[3]||"",protocol:M[4]||"",doubleSlash:M[5]||"",authority:M[6]||"",username:M[8]||"",password:M[9]||"",host:M[10]||"",hostname:M[11]||"",port:M[12]||"",pathname:M[13]||"",directory:M[14]||"",filename:M[15]||"",search:M[16]||"",hash:M[17]||""}},makePathAbsolute:function(M,S){if(M&&M.charAt(0)==="/")return M;M=M||"";S=(S=S?S.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?S.split("/"):[];M=M.split("/");for(var aa=0;aa<M.length;aa++){var na=
M[aa];switch(na){case ".":break;case "..":S.length&&S.pop();break;default:S.push(na);break}}return"/"+S.join("/")},isSameDomain:function(M,S){return z.parseUrl(M).domain===z.parseUrl(S).domain},isRelativeUrl:function(M){return z.parseUrl(M).protocol===""},isAbsoluteUrl:function(M){return z.parseUrl(M).protocol!==""},makeUrlAbsolute:function(M,S){if(!z.isRelativeUrl(M))return M;M=z.parseUrl(M);S=z.parseUrl(S);var aa=M.protocol||S.protocol,na=M.protocol?M.doubleSlash:M.doubleSlash||S.doubleSlash,V=
M.authority||S.authority,ra=M.pathname!=="",sa=z.makePathAbsolute(M.pathname||S.filename,S.pathname);return aa+na+V+sa+(M.search||!ra&&S.search||"")+M.hash},addSearchParams:function(M,S){M=z.parseUrl(M);S=typeof S==="object"?a.param(S):S;var aa=M.search||"?";return M.hrefNoSearch+aa+(aa.charAt(aa.length-1)!=="?"?"&":"")+S+(M.hash||"")},convertUrlToDataUrl:function(M){var S=z.parseUrl(M);if(z.isEmbeddedPage(S))return S.hash.split(t)[0].replace(/^#/,"");else if(z.isSameDomain(S,D))return S.hrefNoHash.replace(D.domain,
"");return M},get:function(M){if(M===d)M=location.hash;return z.stripHash(M).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(M){var S="&"+a.mobile.subPageUrlKey;return M&&M.split(S)[0].split(t)[0]},set:function(M){location.hash=M},isPath:function(M){return/\//.test(M)},clean:function(M){return M.replace(D.domain,"")},stripHash:function(M){return M.replace(/^#/,"")},cleanHash:function(M){return z.stripHash(M.replace(/\?.*$/,"").replace(t,""))},isExternal:function(M){M=z.parseUrl(M);return M.protocol&&
M.domain!==G.domain?true:false},hasProtocol:function(M){return/^(:?\w+:)/.test(M)},isFirstPageUrl:function(M){M=z.parseUrl(z.makeUrlAbsolute(M,D));var S=a.mobile.firstPage;S=S&&S[0]?S[0].id:d;return(M.hrefNoHash===G.hrefNoHash||P&&M.hrefNoHash===D.hrefNoHash)&&(!M.hash||M.hash==="#"||S&&M.hash.replace(/^#/,"")===S)},isEmbeddedPage:function(M){M=z.parseUrl(M);if(M.protocol!=="")return M.hash&&(M.hrefNoHash===G.hrefNoHash||P&&M.hrefNoHash===D.hrefNoHash);return/^#/.test(M.href)}},J=null,O={stack:[],
activeIndex:0,getActive:function(){return O.stack[O.activeIndex]},getPrev:function(){return O.stack[O.activeIndex-1]},getNext:function(){return O.stack[O.activeIndex+1]},addNew:function(M,S,aa,na,V){O.getNext()&&O.clearForward();O.stack.push({url:M,transition:S,title:aa,pageUrl:na,role:V});O.activeIndex=O.stack.length-1},clearForward:function(){O.stack=O.stack.slice(0,O.activeIndex+1)},directHashChange:function(M){var S,aa,na;this.getActive();a.each(O.stack,function(V,ra){if(M.currentUrl===ra.url){S=
V<O.activeIndex;aa=!S;na=V}});this.activeIndex=na!==d?na:this.activeIndex;if(S)(M.either||M.isBack)(true);else if(aa)(M.either||M.isForward)(false)},ignoreNextHashChange:false},L=[],w=false,t="&ui-state=dialog",H=F.children("base"),G=z.parseUrl(location.href),D=H.length?z.parseUrl(z.makeUrlAbsolute(H.attr("href"),G.href)):G,P=G.hrefNoHash!==D.hrefNoHash,W=a.support.dynamicBaseTag?{element:H.length?H:a("<base>",{href:D.hrefNoHash}).prependTo(F),set:function(M){W.element.attr("href",z.makeUrlAbsolute(M,
D))},reset:function(){W.element.attr("href",D.hrefNoHash)}}:d;a.mobile.focusPage=function(M){var S=M.find("[autofocus]"),aa=M.find(".ui-title:eq(0)");if(S.length)S.focus();else aa.length?aa.focus():M.focus()};var Z=true,la,oa;la=function(){if(Z){var M=a.mobile.urlHistory.getActive();if(M){var S=E.scrollTop();M.lastScroll=S<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:S}}};oa=function(){setTimeout(la,100)};E.bind(a.support.pushState?"popstate":"hashchange",function(){Z=false});E.one(a.support.pushState?
"popstate":"hashchange",function(){Z=true});E.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){Z=true;E.unbind("scrollstop",oa);E.bind("scrollstop",oa)})});E.bind("scrollstop",oa);a.mobile.getScreenHeight=r;a.fn.animationComplete=function(M){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd animationend",M);else{setTimeout(M,0);return a(this)}};a.mobile.path=z;a.mobile.base=W;a.mobile.urlHistory=O;a.mobile.dialogHashKey=t;a.mobile.allowCrossDomainPages=
false;a.mobile.getDocumentUrl=function(M){return M?a.extend({},G):G.href};a.mobile.getDocumentBase=function(M){return M?a.extend({},D):D.href};a.mobile._bindPageRemove=function(){var M=a(this);!M.data("page").options.domCache&&M.is(":jqmData(external-page='true')")&&M.bind("pagehide.remove",function(){var S=a(this),aa=new a.Event("pageremove");S.trigger(aa);aa.isDefaultPrevented()||S.removeWithDependents()})};a.mobile.loadPage=function(M,S){var aa=a.Deferred(),na=a.extend({},a.mobile.loadPage.defaults,
S),V=null,ra=null,sa=z.makeUrlAbsolute(M,function(){return a.mobile.activePage&&A(a.mobile.activePage)||D.hrefNoHash}());if(na.data&&na.type==="get"){sa=z.addSearchParams(sa,na.data);na.data=d}if(na.data&&na.type==="post")na.reloadPage=true;var q=z.getFilePath(sa),wa=z.convertUrlToDataUrl(sa);na.pageContainer=na.pageContainer||a.mobile.pageContainer;V=na.pageContainer.children(":jqmData(url='"+wa+"')");if(V.length===0&&wa&&!z.isPath(wa))V=na.pageContainer.children("#"+wa).attr("data-"+a.mobile.ns+
"url",wa);if(V.length===0)if(a.mobile.firstPage&&z.isFirstPageUrl(q)){if(a.mobile.firstPage.parent().length)V=a(a.mobile.firstPage)}else if(z.isEmbeddedPage(q)){aa.reject(sa,S);return aa.promise()}W&&W.reset();if(V.length){if(!na.reloadPage){u(V,na.role);aa.resolve(sa,S,V);return aa.promise()}ra=V}var Da=na.pageContainer,Ga=new a.Event("pagebeforeload"),Aa={url:M,absUrl:sa,dataUrl:wa,deferred:aa,options:na};Da.trigger(Ga,Aa);if(Ga.isDefaultPrevented())return aa.promise();if(na.showLoadMsg)var Ja=
setTimeout(function(){a.mobile.showPageLoadingMsg()},na.loadMsgDelay),Ma=function(){clearTimeout(Ja);a.mobile.hidePageLoadingMsg()};a.mobile.allowCrossDomainPages||z.isSameDomain(G,sa)?a.ajax({url:q,type:na.type,data:na.data,dataType:"html",success:function(ha,pa,qa){var za=a("<div></div>"),Ia=ha.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Ka=new RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),La=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Ka.test(ha)&&RegExp.$1&&
La.test(RegExp.$1)&&RegExp.$1)M=q=z.getFilePath(RegExp.$1);W&&W.set(q);za.get(0).innerHTML=ha;V=za.find(":jqmData(role='page'), :jqmData(role='dialog')").first();V.length||(V=a("<div data-"+a.mobile.ns+"role='page'>"+ha.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(Ia&&!V.jqmData("title")){if(~Ia.indexOf("&"))Ia=a("<div>"+Ia+"</div>").text();V.jqmData("title",Ia)}if(!a.support.dynamicBaseTag){var Sa=z.get(q);V.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Za=
a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",Ta=a(this).attr(Za);Ta=Ta.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(Ta)||a(this).attr(Za,Sa+Ta)})}V.attr("data-"+a.mobile.ns+"url",z.convertUrlToDataUrl(q)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(na.pageContainer);V.one("pagecreate",a.mobile._bindPageRemove);u(V,na.role);if(sa.indexOf("&"+a.mobile.subPageUrlKey)>-1)V=na.pageContainer.children(":jqmData(url='"+wa+"')");na.showLoadMsg&&
Ma();Aa.xhr=qa;Aa.textStatus=pa;Aa.page=V;na.pageContainer.trigger("pageload",Aa);aa.resolve(sa,S,V,ra)},error:function(ha,pa,qa){W&&W.set(z.get());Aa.xhr=ha;Aa.textStatus=pa;Aa.errorThrown=qa;ha=new a.Event("pageloadfailed");na.pageContainer.trigger(ha,Aa);if(!ha.isDefaultPrevented()){if(na.showLoadMsg){Ma();a.mobile.showPageLoadingMsg(a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,true);setTimeout(a.mobile.hidePageLoadingMsg,1500)}aa.reject(sa,S)}}}):aa.reject(sa,S);return aa.promise()};
a.mobile.loadPage.defaults={type:"get",data:d,reloadPage:false,role:d,showLoadMsg:false,pageContainer:d,loadMsgDelay:50};a.mobile.changePage=function(M,S){if(w)L.unshift(arguments);else{var aa=a.extend({},a.mobile.changePage.defaults,S);aa.pageContainer=aa.pageContainer||a.mobile.pageContainer;aa.fromPage=aa.fromPage||a.mobile.activePage;var na=aa.pageContainer,V=new a.Event("pagebeforechange"),ra={toPage:M,options:aa};na.trigger(V,ra);if(!V.isDefaultPrevented()){M=ra.toPage;w=true;if(typeof M=="string")a.mobile.loadPage(M,
aa).done(function(pa,qa,za,Ia){w=false;qa.duplicateCachedPage=Ia;a.mobile.changePage(za,qa)}).fail(function(){w=false;n(true);o();aa.pageContainer.trigger("pagechangefailed",ra)});else{if(M[0]===a.mobile.firstPage[0]&&!aa.dataUrl)aa.dataUrl=G.hrefNoHash;V=aa.fromPage;var sa=aa.dataUrl&&z.convertUrlToDataUrl(aa.dataUrl)||M.jqmData("url"),q=sa;z.getFilePath(sa);var wa=O.getActive(),Da=O.activeIndex===0,Ga=0,Aa=e.title,Ja=aa.role==="dialog"||M.jqmData("role")==="dialog";if(V&&V[0]===M[0]&&!aa.allowSamePageTransition){w=
false;na.trigger("pagechange",ra)}else{u(M,aa.role);aa.fromHashChange&&O.directHashChange({currentUrl:sa,isBack:function(){Ga=-1},isForward:function(){Ga=1}});try{e.activeElement&&e.activeElement.nodeName.toLowerCase()!="body"?a(e.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(Ma){}if(Ja&&wa)sa=(wa.url||"")+t;if(aa.changeHash!==false&&sa){O.ignoreNextHashChange=true;z.set(sa)}var ha=!wa?Aa:M.jqmData("title")||M.children(":jqmData(role='header')").find(".ui-title").getEncodedText();
if(ha&&Aa==e.title)Aa=ha;M.jqmData("title")||M.jqmData("title",Aa);aa.transition=aa.transition||(Ga&&!Da?wa.transition:d)||(Ja?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);Ga||O.addNew(sa,aa.transition,Aa,q,aa.role);e.title=O.getActive().title;a.mobile.activePage=M;aa.reverse=aa.reverse||Ga<0;j(M,V,aa.transition,aa.reverse).done(function(pa,qa,za,Ia,Ka){n();aa.duplicateCachedPage&&aa.duplicateCachedPage.remove();Ka||a.mobile.focusPage(M);o();na.trigger("pagechange",ra)})}}}}};
a.mobile.changePage.defaults={transition:d,reverse:false,changeHash:true,fromHashChange:false,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:true,dataUrl:d,fromPage:d,allowSamePageTransition:false};a.mobile._registerInternalEvents=function(){a(e).delegate("form","submit",function(M){var S=a(this);if(!(!a.mobile.ajaxEnabled||S.is(":jqmData(ajax='false')")||!S.jqmHijackable().length)){var aa=S.attr("method"),na=S.attr("target"),V=S.attr("action");if(!V){V=A(S);if(V===D.hrefNoHash)V=G.hrefNoSearch}V=
z.makeUrlAbsolute(V,A(S));if(!(z.isExternal(V)||na)){a.mobile.changePage(V,{type:aa&&aa.length&&aa.toLowerCase()||"get",data:S.serialize(),transition:S.jqmData("transition"),direction:S.jqmData("direction"),reloadPage:true});M.preventDefault()}}});a(e).bind("vclick",function(M){if(!(M.which>1||!a.mobile.linkBindingEnabled)){M=x(M.target);if(a(M).jqmHijackable().length)if(M)if(z.parseUrl(M.getAttribute("href")||"#").hash!=="#"){n(true);J=a(M).closest(".ui-btn").not(".ui-disabled");J.addClass(a.mobile.activeBtnClass);
a("."+a.mobile.activePageClass+" .ui-btn").not(M).blur();a(M).jqmData("href",a(M).attr("href")).attr("href","#")}}});a(e).bind("click",function(M){if(a.mobile.linkBindingEnabled){var S=x(M.target),aa=a(S),na;if(!(!S||M.which>1||!aa.jqmHijackable().length)){na=function(){c.setTimeout(function(){n(true)},200)};aa.jqmData("href")&&aa.attr("href",aa.jqmData("href"));if(aa.is(":jqmData(rel='back')")){c.history.back();return false}var V=A(aa);S=z.makeUrlAbsolute(aa.attr("href")||"#",V);if(!a.mobile.ajaxEnabled&&
!z.isEmbeddedPage(S))na();else{if(S.search("#")!=-1)if(S=S.replace(/[^#]*#/,""))S=z.isPath(S)?z.makeUrlAbsolute(S,V):z.makeUrlAbsolute("#"+S,G.hrefNoHash);else{M.preventDefault();return}V=aa.is("[rel='external']")||aa.is(":jqmData(ajax='false')")||aa.is("[target]");var ra=a.mobile.allowCrossDomainPages&&G.protocol==="file:"&&S.search(/^https?:/)!=-1;if(V||z.isExternal(S)&&!ra)na();else{na=aa.jqmData("transition");V=(V=aa.jqmData("direction"))&&V==="reverse"||aa.jqmData("back");aa=aa.attr("data-"+
a.mobile.ns+"rel")||d;a.mobile.changePage(S,{transition:na,reverse:V,role:aa});M.preventDefault()}}}}});a(e).delegate(".ui-page","pageshow.prefetch",function(){var M=[];a(this).find("a:jqmData(prefetch)").each(function(){var S=a(this),aa=S.attr("href");if(aa&&a.inArray(aa,M)===-1){M.push(aa);a.mobile.loadPage(aa,{role:S.attr("data-"+a.mobile.ns+"rel")})}})});a.mobile._handleHashChange=function(M){var S=z.stripHash(M),aa={transition:a.mobile.urlHistory.stack.length===0?"none":d,changeHash:false,fromHashChange:true};
if(!a.mobile.hashListeningEnabled||O.ignoreNextHashChange)O.ignoreNextHashChange=false;else{if(O.stack.length>1&&S.indexOf(t)>-1)if(a.mobile.activePage.is(".ui-dialog"))O.directHashChange({currentUrl:S,either:function(na){var V=a.mobile.urlHistory.getActive();S=V.pageUrl;a.extend(aa,{role:V.role,transition:V.transition,reverse:na})}});else{O.directHashChange({currentUrl:S,isBack:function(){c.history.back()},isForward:function(){c.history.forward()}});return}if(S){S=typeof S==="string"&&!z.isPath(S)?
z.makeUrlAbsolute("#"+S,D):S;a.mobile.changePage(S,aa)}else a.mobile.changePage(a.mobile.firstPage,aa)}};E.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(e).bind("pageshow",p);a(c).bind("throttledresize",p)}})(jQuery);(function(a,d){var n={},o=a(d),j=a.mobile.path.parseUrl(location.href);a.extend(n,{initialFilePath:function(){return j.pathname+j.search}(),initialHref:j.hrefNoHash,state:function(){return{hash:location.hash||"#"+n.initialFilePath,title:e.title,initialHref:n.initialHref}},
resetUIKeys:function(r){var p="&"+a.mobile.subPageUrlKey,u=r.indexOf(a.mobile.dialogHashKey);if(u>-1)r=r.slice(0,u)+"#"+r.slice(u);else if(r.indexOf(p)>-1)r=r.split(p).join("#"+p);return r},hashValueAfterReset:function(r){r=n.resetUIKeys(r);return a.mobile.path.parseUrl(r).hash},nextHashChangePrevented:function(r){a.mobile.urlHistory.ignoreNextHashChange=r;n.onHashChangeDisabled=r},onHashChange:function(){if(!n.onHashChangeDisabled){var r,p;r=location.hash;var u=a.mobile.path.isPath(r),x=u?location.href:
a.mobile.getDocumentUrl();r=u?r.replace("#",""):r;p=n.state();r=a.mobile.path.makeUrlAbsolute(r,x);if(u)r=n.resetUIKeys(r);history.replaceState(p,e.title,r)}},onPopState:function(r){r=r.originalEvent.state;var p,u;if(r){p=n.hashValueAfterReset(a.mobile.urlHistory.getActive().url);u=n.hashValueAfterReset(r.hash.replace("#",""));(p=p!==u)&&o.one("hashchange.pushstate",function(){n.nextHashChangePrevented(false)});n.nextHashChangePrevented(false);a.mobile._handleHashChange(r.hash);p&&n.nextHashChangePrevented(true)}},
init:function(){o.bind("hashchange",n.onHashChange);o.bind("popstate",n.onPopState);location.hash===""&&history.replaceState(n.state(),e.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&n.init()})})(jQuery,this);(function(a){a.mobile.transitionFallbacks.pop="fade"})(jQuery,this);(function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous;a.mobile.transitionFallbacks.slide="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.slidedown=
"fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.slideup="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.flip="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.flow="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.turn="fade"})(jQuery,this);(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,
url:false,week:false};a(e).bind("pagecreate create",function(d){var n=a.mobile.closestPageData(a(d.target)),o;if(n){o=n.options;a(d.target).find("input").not(n.keepNativeSelector()).each(function(){var j=a(this),r=this.getAttribute("type"),p=o.degradeInputs[r]||"text";if(o.degradeInputs[r]){var u=a("<div>").html(j.clone()).html(),x=u.indexOf(" type=")>-1;j.replaceWith(u.replace(x?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+p+'" data-'+a.mobile.ns+'type="'+r+'"'+(x?"":">")))}})}})})(jQuery);(function(a,
d){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var n=this,o=this.element,j=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),r=a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});o.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);o.wrapInner(r).children().find(":jqmData(role='header')").prepend(j).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");
j.bind("click",function(){n.close()});o.bind("vclick submit",function(p){p=a(p.target).closest(p.type==="vclick"?"a":"form");var u;if(p.length&&!p.jqmData("transition")){u=a.mobile.urlHistory.getActive()||{};p.attr("data-"+a.mobile.ns+"transition",u.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){n.options.overlayTheme&&
n.element.page("removeContainerBackground").page("setContainerBackground",n.options.overlayTheme)})},close:function(){d.history.back()}});a(e).delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a.mobile.dialog.prototype.enhance(this)})})(jQuery,this);(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(e).bind("pagecreate create",function(d){a(":jqmData(role='fieldcontain')",d.target).jqmEnhanceable().fieldcontain()})})(jQuery);
(function(a){a.fn.grid=function(d){return this.each(function(){var n=a(this),o=a.extend({grid:null},d),j=n.children(),r={solo:1,a:2,b:3,c:4,d:5};o=o.grid;if(!o)if(j.length<=5)for(var p in r){if(r[p]===j.length)o=p}else o="a";r=r[o];n.addClass("ui-grid-"+o);j.filter(":nth-child("+r+"n+1)").addClass("ui-block-a");r>1&&j.filter(":nth-child("+r+"n+2)").addClass("ui-block-b");r>2&&j.filter(":nth-child(3n+3)").addClass("ui-block-c");r>3&&j.filter(":nth-child(4n+4)").addClass("ui-block-d");r>4&&j.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(a){a(e).bind("pagecreate create",function(d){a(":jqmData(role='nojs')",d.target).addClass("ui-nojs")})})(jQuery);(function(a,d){function n(j){for(var r;j;){if((r=typeof j.className==="string"&&j.className+" ")&&r.indexOf("ui-btn ")>-1&&r.indexOf("ui-disabled ")<0)break;j=j.parentNode}return j}a.fn.buttonMarkup=function(j){var r=this;j=j&&a.type(j)=="object"?j:{};for(var p=0;p<r.length;p++){var u=r.eq(p),x=u[0],A=a.extend({},a.fn.buttonMarkup.defaults,{icon:j.icon!==d?j.icon:u.jqmData("icon"),
iconpos:j.iconpos!==d?j.iconpos:u.jqmData("iconpos"),theme:j.theme!==d?j.theme:u.jqmData("theme")||a.mobile.getInheritedTheme(u,"c"),inline:j.inline!==d?j.inline:u.jqmData("inline"),shadow:j.shadow!==d?j.shadow:u.jqmData("shadow"),corners:j.corners!==d?j.corners:u.jqmData("corners"),iconshadow:j.iconshadow!==d?j.iconshadow:u.jqmData("iconshadow"),mini:j.mini!==d?j.mini:u.jqmData("mini")},j),E="ui-btn-inner",F,z,J,O,L,w;a.each(A,function(t,H){x.setAttribute("data-"+a.mobile.ns+t,H);u.jqmData(t,H)});
if(w=a.data(x.tagName==="INPUT"||x.tagName==="BUTTON"?x.parentNode:x,"buttonElements")){x=w.outer;u=a(x);J=w.inner;O=w.text;a(w.icon).remove();w.icon=null}else{J=e.createElement(A.wrapperEls);O=e.createElement(A.wrapperEls)}L=A.icon?e.createElement("span"):null;o&&!w&&o();if(!A.theme)A.theme=a.mobile.getInheritedTheme(u,"c");F="ui-btn ui-btn-up-"+A.theme;F+=A.inline?" ui-btn-inline":"";F+=A.shadow?" ui-shadow":"";F+=A.corners?" ui-btn-corner-all":"";if(A.mini!==d)F+=A.mini?" ui-mini":" ui-fullsize";
if(A.inline!==d)F+=A.inline===false?" ui-btn-block":" ui-btn-inline";if(A.icon){A.icon="ui-icon-"+A.icon;A.iconpos=A.iconpos||"left";z="ui-icon "+A.icon;if(A.iconshadow)z+=" ui-icon-shadow"}if(A.iconpos){F+=" ui-btn-icon-"+A.iconpos;A.iconpos=="notext"&&!u.attr("title")&&u.attr("title",u.getEncodedText())}E+=A.corners?" ui-btn-corner-all":"";A.iconpos&&A.iconpos==="notext"&&!u.attr("title")&&u.attr("title",u.getEncodedText());if(w)u.removeClass(w.bcls||"");u.removeClass("ui-link").addClass(F);J.className=
E;O.className="ui-btn-text";w||J.appendChild(O);if(L){L.className=z;if(!(w&&w.icon)){L.appendChild(e.createTextNode("\u00a0"));J.appendChild(L)}}for(;x.firstChild&&!w;)O.appendChild(x.firstChild);w||x.appendChild(J);w={bcls:F,outer:x,inner:J,text:O,icon:L};a.data(x,"buttonElements",w);a.data(J,"buttonElements",w);a.data(O,"buttonElements",w);L&&a.data(L,"buttonElements",w)}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,wrapperEls:"span"};var o=function(){var j=a.mobile.buttonMarkup.hoverDelay,
r,p;a(e).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(u){var x,A=a(n(u.target));u=u.type;if(A.length){x=A.attr("data-"+a.mobile.ns+"theme");if(u==="vmousedown")if(a.support.touch)r=setTimeout(function(){A.removeClass("ui-btn-up-"+x).addClass("ui-btn-down-"+x)},j);else A.removeClass("ui-btn-up-"+x).addClass("ui-btn-down-"+x);else if(u==="vmousecancel"||u==="vmouseup")A.removeClass("ui-btn-down-"+x).addClass("ui-btn-up-"+x);else if(u==="vmouseover"||
u==="focus")if(a.support.touch)p=setTimeout(function(){A.removeClass("ui-btn-up-"+x).addClass("ui-btn-hover-"+x)},j);else A.removeClass("ui-btn-up-"+x).addClass("ui-btn-hover-"+x);else if(u==="vmouseout"||u==="blur"||u==="scrollstart"){A.removeClass("ui-btn-hover-"+x+" ui-btn-down-"+x).addClass("ui-btn-up-"+x);r&&clearTimeout(r);p&&clearTimeout(p)}}},"focusin focus":function(u){a(n(u.target)).addClass(a.mobile.focusClass)},"focusout blur":function(u){a(n(u.target)).removeClass(a.mobile.focusClass)}});
o=null};a(e).bind("pagecreate create",function(j){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",j.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme=
"a";a.mobile.page.prototype.options.contentTheme=null;a(e).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var d=a(this),n=d.data("page").options,o=d.jqmData("role"),j=n.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).jqmEnhanceable().each(function(){var r=a(this),p=r.jqmData("role"),u=r.jqmData("theme"),x=u||n.contentTheme||o==="dialog"&&j,A;r.addClass("ui-"+p);if(p==="header"||p==="footer"){var E=u||(p==="header"?n.headerTheme:
n.footerTheme)||j;r.addClass("ui-bar-"+E).attr("role",p==="header"?"banner":"contentinfo");if(p==="header"){u=r.children("a");A=u.hasClass("ui-btn-left");x=u.hasClass("ui-btn-right");A=A||u.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;x||u.eq(1).addClass("ui-btn-right")}if(n.addBackBtn&&p==="header"&&a(".ui-page").length>1&&d.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!A)a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+
n.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",n.backBtnTheme||E).prependTo(r);r.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else if(p==="content"){x&&r.addClass("ui-body-"+x);r.attr("role","main")}})})})(jQuery);(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,
iconTheme:"d",mini:false,initSelector:":jqmData(role='collapsible')"},_create:function(){var d=this.element,n=this.options,o=d.addClass("ui-collapsible"),j=d.children(n.heading).first(),r=o.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),p=d.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");if(j.is("legend")){j=a("<div role='heading'>"+j.html()+"</div>").insertBefore(j);j.next().remove()}if(p.length){if(!n.theme)n.theme=p.jqmData("theme")||
a.mobile.getInheritedTheme(p,"c");if(!n.contentTheme)n.contentTheme=p.jqmData("content-theme");if(!n.iconPos)n.iconPos=p.jqmData("iconpos");if(!n.mini)n.mini=p.jqmData("mini")}r.addClass(n.contentTheme?"ui-body-"+n.contentTheme:"");j.insertBefore(r).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,corners:false,iconpos:d.jqmData("iconpos")||
n.iconPos||"left",icon:"plus",mini:n.mini,theme:n.theme}).add(".ui-btn-inner",d).addClass("ui-corner-top ui-corner-bottom");o.bind("expand collapse",function(u){if(!u.isDefaultPrevented()){u.preventDefault();var x=a(this);u=u.type==="collapse";var A=n.contentTheme;j.toggleClass("ui-collapsible-heading-collapsed",u).find(".ui-collapsible-heading-status").text(u?n.expandCueText:n.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!u).toggleClass("ui-icon-plus",u);x.toggleClass("ui-collapsible-collapsed",
u);r.toggleClass("ui-collapsible-content-collapsed",u).attr("aria-hidden",u);if(A&&(!p.length||o.jqmData("collapsible-last"))){j.find("a").first().add(j.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",u);r.toggleClass("ui-corner-bottom",!u)}r.trigger("updatelayout")}}).trigger(n.collapsed?"collapse":"expand");j.bind("click",function(u){var x=j.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";o.trigger(x);u.preventDefault()})}});a(e).bind("pagecreate create",function(d){a.mobile.collapsible.prototype.enhanceWithin(d.target)})})(jQuery);
(function(a,d){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var n=this.element.addClass("ui-collapsible-set"),o=this.options;if(!o.theme)o.theme=a.mobile.getInheritedTheme(n,"c");if(!o.contentTheme)o.contentTheme=n.jqmData("content-theme");if(!o.corners)o.corners=n.jqmData("corners")===d?true:false;n.jqmData("collapsiblebound")||n.jqmData("collapsiblebound",true).bind("expand collapse",function(j){var r=j.type==="collapse";
j=a(j.target).closest(".ui-collapsible");var p=j.data("collapsible");if(p.options.contentTheme&&j.jqmData("collapsible-last")){j.find(p.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",r);j.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!r)}}).bind("expand",function(j){a(j.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var n=this.options,o=this.element.children(":jqmData(role='collapsible')");
a.mobile.collapsible.prototype.enhance(o.not(".ui-collapsible"));o.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});o.first().find("a").first().addClass(n.corners?"ui-corner-top":"").find(".ui-btn-inner").addClass("ui-corner-top");o.last().jqmData("collapsible-last",true).find("a").first().addClass(n.corners?"ui-corner-bottom":"").find(".ui-btn-inner").addClass("ui-corner-bottom")}});
a(e).bind("pagecreate create",function(n){a.mobile.collapsibleset.prototype.enhanceWithin(n.target)})})(jQuery);(function(a,d){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var n=this.element,o=n.find("a"),j=o.filter(":jqmData(icon)").length?this.options.iconpos:d;n.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});j||n.addClass("ui-navbar-noicons");o.buttonMarkup({corners:false,
shadow:false,inline:true,iconpos:j});n.delegate("a","vclick",function(r){if(!a(r.target).hasClass("ui-disabled")){o.removeClass(a.mobile.activeBtnClass);a(this).addClass(a.mobile.activeBtnClass)}});n.closest(".ui-page").bind("pagebeforeshow",function(){o.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}});a(e).bind("pagecreate create",function(n){a.mobile.navbar.prototype.enhanceWithin(n.target)})})(jQuery);(function(a){var d={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,
countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",mini:false,inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var n=this,o="";o+=n.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"";o+=n.element.jqmData("mini")||n.options.mini===true?" ui-mini":"";n.element.addClass(function(j,r){return r+" ui-listview "+o});n.refresh(true)},_removeCorners:function(n,o){n=n.add(n.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(o==="top")n.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");
else o==="bottom"?n.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):n.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(n){var o,j;if(this.options.inset){o=this.element.children("li");j=n?o.not(".ui-screen-hidden"):o.filter(":visible");this._removeCorners(o);o=j.first().addClass("ui-corner-top");o.add(o.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");
j=j.last().addClass("ui-corner-bottom");j.add(j.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}n||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(n,o,j,r){var p={};for(p[j]=p[r]=true;n;){if(p[n.nodeName])return n;n=n[o]}return null},_getChildrenByTagName:function(n,o,j){var r=[],p={};p[o]=p[j]=true;for(n=n.firstChild;n;){p[n.nodeName]&&r.push(n);n=n.nextSibling}return a(r)},_addThumbClasses:function(n){var o,
j,r=n.length;for(o=0;o<r;o++){j=a(this._findFirstElementByTagName(n[o].firstChild,"nextSibling","img","IMG"));if(j.length){j.addClass("ui-li-thumb");a(this._findFirstElementByTagName(j[0].parentNode,"parentNode","li","LI")).addClass(j.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(n){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var o=this.options,j=this.element,r=j.jqmData("dividertheme")||o.dividerTheme,p=j.jqmData("splittheme"),u=j.jqmData("spliticon"),
x=this._getChildrenByTagName(j[0],"li","LI"),A=a.support.cssPseudoElement||!a.nodeName(j[0],"ol")?0:1,E={},F,z,J,O,L,w,t;A&&j.find(".ui-li-dec").remove();if(!o.theme)o.theme=a.mobile.getInheritedTheme(this.element,"c");for(var H=0,G=x.length;H<G;H++){F=x.eq(H);z="ui-li";if(n||!F.hasClass("ui-li")){J=F.jqmData("theme")||o.theme;O=this._getChildrenByTagName(F[0],"a","A");if(O.length){w=F.jqmData("icon");F.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:O.length>1||w===
false?false:w||"arrow-r",theme:J});w!=false&&O.length==1&&F.addClass("ui-li-has-arrow");O.first().removeClass("ui-link").addClass("ui-link-inherit");if(O.length>1){z+=" ui-li-has-alt";O=O.last();L=p||O.jqmData("theme")||o.splitTheme;t=O.jqmData("icon");O.appendTo(F).attr("title",O.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:J,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(e.createElement("span")).buttonMarkup({shadow:true,corners:true,
theme:L,iconpos:"notext",icon:t||w||u||o.splitIcon}))}}else if(F.jqmData("role")==="list-divider"){z+=" ui-li-divider ui-bar-"+r;F.attr("role","heading");if(A)A=1}else z+=" ui-li-static ui-body-"+J}if(A&&z.indexOf("ui-li-divider")<0){J=F.is(".ui-li-static:first")?F:F.find(".ui-link-inherit");J.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+A++ +". </span>")}E[z]||(E[z]=[]);E[z].push(F[0])}for(z in E)a(E[z]).addClass(z).children(".ui-btn-inner").addClass(z);j.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var D=
a(this);D.prependTo(D.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(j.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(x);this._addThumbClasses(j.find(".ui-link-inherit"));this._refreshCorners(n)},_idStringEscape:function(n){return n.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var n=this.element,o=n.closest(".ui-page"),j=o.jqmData("url"),r=j||o[0][a.expando],
p=n.attr("id"),u=this.options,x="data-"+a.mobile.ns,A=this,E=o.find(":jqmData(role='footer')").jqmData("id"),F;if(typeof d[r]==="undefined")d[r]=-1;p=p||++d[r];a(n.find("li>ul, li>ol").toArray().reverse()).each(function(z){var J=a(this),O=J.attr("id")||p+"-"+z;z=J.parent();var L=a(J.prevAll().toArray().reverse());L=L.length?L:a("<span>"+a.trim(z.contents()[0].nodeValue)+"</span>");var w=L.first().getEncodedText();O=(j||"")+"&"+a.mobile.subPageUrlKey+"="+O;var t=J.jqmData("theme")||u.theme,H=J.jqmData("counttheme")||
n.jqmData("counttheme")||u.countTheme;F=true;J.detach().wrap("<div "+x+"role='page' "+x+"url='"+O+"' "+x+"theme='"+t+"' "+x+"count-theme='"+H+"'><div "+x+"role='content'></div></div>").parent().before("<div "+x+"role='header' "+x+"theme='"+u.headerTheme+"'><div class='ui-title'>"+w+"</div></div>").after(E?a("<div "+x+"role='footer' "+x+"id='"+E+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();J=z.find("a:first");J.length||(J=a("<a/>").html(L||w).prependTo(z.empty()));J.attr("href","#"+O)}).listview();
F&&o.is(":jqmData(external-page='true')")&&o.data("page").options.domCache===false&&o.unbind("pagehide.remove").bind("pagehide.remove",function(z,J){if(z=J.nextPage){J=z.jqmData("url");if(J.indexOf(j+"&"+a.mobile.subPageUrlKey)!==0){A.childPages().remove();o.remove()}}})},childPages:function(){var n=this.parentPage.jqmData("url");return a(":jqmData(url^='"+n+"&"+a.mobile.subPageUrlKey+"')")}});a(e).bind("pagecreate create",function(n){a.mobile.listview.prototype.enhanceWithin(n.target)})})(jQuery);
(function(a,d){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var n=this,o=this.element,j=function(F,z){return F.jqmData(z)||F.closest("form,fieldset").jqmData(z)},r=a(o).closest("label"),p=r.length?r:a(o).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+o[0].id+"']"),u=o[0].type;r=j(o,"mini");var x=u+"-on",A=u+"-off",E=o.parents(":jqmData(type='horizontal')").length?
d:A;j=j(o,"iconpos");if(!(u!=="checkbox"&&u!=="radio")){a.extend(this,{label:p,inputtype:u,checkedClass:"ui-"+x+(E?"":" "+a.mobile.activeBtnClass),uncheckedClass:"ui-"+A,checkedicon:"ui-icon-"+x,uncheckedicon:"ui-icon-"+A});if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");p.buttonMarkup({theme:this.options.theme,icon:E,shadow:false,mini:r,iconpos:j});j=e.createElement("div");j.className="ui-"+u;o.add(p).wrapAll(j);p.bind({vmouseover:function(F){a(this).parent().is(".ui-disabled")&&
F.stopPropagation()},vclick:function(F){if(o.is(":disabled"))F.preventDefault();else{n._cacheVals();o.prop("checked",u==="radio"&&true||!o.prop("checked"));o.triggerHandler("click");n._getInputSet().not(o).prop("checked",false);n._updateAll();return false}}});o.bind({vmousedown:function(){n._cacheVals()},vclick:function(){var F=a(this);if(F.is(":checked")){F.prop("checked",true);n._getInputSet().not(F).prop("checked",false)}else F.prop("checked",false);n._updateAll()},focus:function(){p.addClass(a.mobile.focusClass)},
blur:function(){p.removeClass(a.mobile.focusClass)}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){a(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){if(this.inputtype==="checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var n=this;this._getInputSet().each(function(){var o=a(this);if(this.checked||n.inputtype===
"checkbox")o.trigger("change")}).checkboxradio("refresh")},refresh:function(){var n=this.element[0],o=this.label,j=o.find(".ui-icon");if(n.checked){o.addClass(this.checkedClass).removeClass(this.uncheckedClass);j.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{o.removeClass(this.checkedClass).addClass(this.uncheckedClass);j.removeClass(this.checkedicon).addClass(this.uncheckedicon)}n.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},
enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(n){a.mobile.checkboxradio.prototype.enhanceWithin(n.target,true)})})(jQuery);(function(a,d){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:false,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']",mini:false},_create:function(){var n=this.element,
o,j=this.options,r;r="";var p;if(n[0].tagName==="A")!n.hasClass("ui-btn")&&n.buttonMarkup();else{if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");if(~n[0].className.indexOf("ui-btn-left"))r="ui-btn-left";if(~n[0].className.indexOf("ui-btn-right"))r="ui-btn-right";o=this.button=a("<div></div>").text(n.text()||n.val()).insertBefore(n).buttonMarkup({theme:j.theme,icon:j.icon,iconpos:j.iconpos,inline:j.inline,corners:j.corners,shadow:j.shadow,iconshadow:j.iconshadow,
mini:j.mini}).addClass(r).append(n.addClass("ui-btn-hidden"));j=n.attr("type");r=n.attr("name");j!=="button"&&j!=="reset"&&r&&n.bind("vclick",function(){if(p===d){p=a("<input>",{type:"hidden",name:n.attr("name"),value:n.attr("value")}).insertBefore(n);a(e).one("submit",function(){p.remove();p=d})}});n.bind({focus:function(){o.addClass(a.mobile.focusClass)},blur:function(){o.removeClass(a.mobile.focusClass)}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",
false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var n=this.element;n.prop("disabled")?this.disable():this.enable();a(this.button.data("buttonElements").text).text(n.text()||n.val())}});a(e).bind("pagecreate create",function(n){a.mobile.button.prototype.enhanceWithin(n.target,true)})})(jQuery);(function(a){a.fn.controlgroup=
function(d){function n(o,j){o.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(j[0]).end().last().addClass(j[1]).addClass("ui-controlgroup-last")}return this.each(function(){var o=a(this),j=a.extend({direction:o.jqmData("type")||"vertical",shadow:false,excludeInvisible:true,mini:o.jqmData("mini")},d),r=o.children("legend"),p=j.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];o.find("input").first().attr("type");if(r.length){o.wrapInner("<div class='ui-controlgroup-controls'></div>");
a("<div role='heading' class='ui-controlgroup-label'>"+r.html()+"</div>").insertBefore(o.children(0));r.remove()}o.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+j.direction);n(o.find(".ui-btn"+(j.excludeInvisible?":visible":"")).not(".ui-slider-handle"),p);n(o.find(".ui-btn-inner"),p);j.shadow&&o.addClass("ui-shadow");j.mini&&o.addClass("ui-mini")})}})(jQuery);(function(a){a(e).bind("pagecreate create",function(d){a(d.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(a){var d=a("meta[name=viewport]"),n=d.attr("content"),o=n+",maximum-scale=1, user-scalable=no",j=n+",maximum-scale=10, user-scalable=yes",r=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(n);a.mobile.zoom=a.extend({},{enabled:!r,locked:false,disable:function(p){if(!r&&!a.mobile.zoom.locked){d.attr("content",o);a.mobile.zoom.enabled=false;a.mobile.zoom.locked=p||false}},enable:function(p){if(!r&&(!a.mobile.zoom.locked||p===true)){d.attr("content",j);a.mobile.zoom.enabled=
true;a.mobile.zoom.locked=false}},restore:function(){if(!r){d.attr("content",n);a.mobile.zoom.enabled=true}}})})(jQuery);(function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text"},_create:function(){var d=this.element,n=this.options,o=n.theme||a.mobile.getInheritedTheme(this.element,"c"),j=" ui-body-"+o,r=d.jqmData("mini")==true,p=r?" ui-mini":"",u,x;a("label[for='"+d.attr("id")+"']").addClass("ui-input-text");u=d.addClass("ui-input-text ui-body-"+o);if(typeof d[0].autocorrect!=="undefined"&&!a.support.touchOverflow){d[0].setAttribute("autocorrect","off");d[0].setAttribute("autocomplete","off")}if(d.is("[type='search'],:jqmData(type='search')")){u=
d.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+j+p+"'></div>").parent();x=a("<a href='#' class='ui-input-clear' title='"+n.clearSearchButtonText+"'>"+n.clearSearchButtonText+"</a>").bind("click",function(z){d.val("").focus().trigger("change");x.addClass("ui-input-clear-hidden");z.preventDefault()}).appendTo(u).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true,mini:r});function A(){setTimeout(function(){x.toggleClass("ui-input-clear-hidden",
!d.val())},0)}A();d.bind("paste cut keyup focus change blur",A)}else d.addClass("ui-corner-all ui-shadow-inset"+j+p);d.focus(function(){u.addClass(a.mobile.focusClass)}).blur(function(){u.removeClass(a.mobile.focusClass)}).bind("focus",function(){n.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("blur",function(){n.preventFocusZoom&&a.mobile.zoom.enable(true)});if(d.is("textarea")){var E=function(){var z=d[0].scrollHeight;d[0].clientHeight<z&&d.height(z+15)},F;d.keyup(function(){clearTimeout(F);
F=setTimeout(E,100)});a(e).one("pagechange",E);a.trim(d.val())&&a(c).load(E)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(d){a.mobile.textinput.prototype.enhanceWithin(d.target,
true)})})(jQuery);(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(d,n){return d.toLowerCase().indexOf(n)===-1};a(e).delegate(":jqmData(role='listview')","listviewcreate",function(){var d=a(this),n=d.data("listview");if(n.options.filter){var o=a("<form>",{"class":"ui-listview-filter ui-bar-"+n.options.filterTheme,
role:"search"});a("<input>",{placeholder:n.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var j=a(this),r=this.value.toLowerCase(),p=null;p=j.jqmData("lastval")+"";var u=false,x="";j.jqmData("lastval",r);p=r.length<p.length||r.indexOf(p)!==0?d.children():d.children(":not(.ui-screen-hidden)");if(r){for(var A=p.length-1;A>=0;A--){j=a(p[A]);x=j.jqmData("filtertext")||j.text();if(j.is("li:jqmData(role=list-divider)")){j.toggleClass("ui-filter-hidequeue",
!u);u=false}else if(n.options.filterCallback(x,r))j.toggleClass("ui-filter-hidequeue",true);else u=true}p.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);p.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else p.toggleClass("ui-screen-hidden",false);n._refreshCorners()}).appendTo(o).textinput();n.options.inset&&o.addClass("ui-listview-filter-inset");o.bind("submit",function(){return false}).insertBefore(d)}})})(jQuery);
(function(a,d){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:false},_create:function(){var n=this,o=this.element,j=a.mobile.getInheritedTheme(o,"c"),r=this.options.theme||j;j=this.options.trackTheme||j;var p=o[0].nodeName.toLowerCase(),u=p=="select"?"ui-slider-switch":"",x=o.attr("id"),A=x+"-label";x=a("[for='"+x+"']").attr("id",A);var E=function(){return p=="input"?
parseFloat(o.val()):o[0].selectedIndex},F=p=="input"?parseFloat(o.attr("min")):0,z=p=="input"?parseFloat(o.attr("max")):o.find("option").length-1,J=c.parseFloat(o.attr("step")||1),O=this.options.inline||o.jqmData("inline")==true?" ui-slider-inline":"",L=this.options.mini||o.jqmData("mini")?" ui-slider-mini":"",w=e.createElement("a"),t=a(w),H=e.createElement("div"),G=a(H),D=o.jqmData("highlight")&&p!="select"?function(){var P=e.createElement("div");P.className="ui-slider-bg ui-btn-active ui-btn-corner-all";
return a(P).prependTo(G)}():false;w.setAttribute("href","#");H.setAttribute("role","application");H.className=["ui-slider ",u," ui-btn-down-",j," ui-btn-corner-all",O,L].join("");w.className="ui-slider-handle";H.appendChild(w);t.buttonMarkup({corners:true,theme:r,shadow:true}).attr({role:"slider","aria-valuemin":F,"aria-valuemax":z,"aria-valuenow":E(),"aria-valuetext":E(),title:E(),"aria-labelledby":A});a.extend(this,{slider:G,handle:t,valuebg:D,dragging:false,beforeStart:null,userModified:false,
mouseMoved:false});if(p=="select"){r=e.createElement("div");r.className="ui-slider-inneroffset";u=0;for(A=H.childNodes.length;u<A;u++)r.appendChild(H.childNodes[u]);H.appendChild(r);t.addClass("ui-slider-handle-snapping");H=o.find("option");r=0;for(u=H.length;r<u;r++){A=!r?"b":"a";O=!r?" ui-btn-down-"+j:" "+a.mobile.activeBtnClass;e.createElement("div");L=e.createElement("span");L.className=["ui-slider-label ui-slider-label-",A,O," ui-btn-corner-all"].join("");L.setAttribute("role","img");L.appendChild(e.createTextNode(H[r].innerHTML));
a(L).prependTo(G)}n._labels=a(".ui-slider-label",G)}x.addClass("ui-slider");o.addClass(p==="input"?"ui-slider-input":"ui-slider-switch").change(function(){n.mouseMoved||n.refresh(E(),true)}).keyup(function(){n.refresh(E(),true,true)}).blur(function(){n.refresh(E(),true)});a(e).bind("vmousemove",function(P){if(n.dragging){n.mouseMoved=true;p==="select"&&t.removeClass("ui-slider-handle-snapping");n.refresh(P);n.userModified=n.beforeStart!==o[0].selectedIndex;return false}});G.bind("vmousedown",function(P){n.dragging=
true;n.userModified=false;n.mouseMoved=false;if(p==="select")n.beforeStart=o[0].selectedIndex;n.refresh(P);return false}).bind("vclick",false);G.add(e).bind("vmouseup",function(){if(n.dragging){n.dragging=false;if(p==="select"){t.addClass("ui-slider-handle-snapping");if(n.mouseMoved)n.userModified?n.refresh(n.beforeStart==0?1:0):n.refresh(n.beforeStart);else n.refresh(n.beforeStart==0?1:0)}return n.mouseMoved=false}});G.insertAfter(o);p=="select"&&this.handle.bind({focus:function(){G.addClass(a.mobile.focusClass)},
blur:function(){G.removeClass(a.mobile.focusClass)}});this.handle.bind({vmousedown:function(){a(this).focus()},vclick:false,keydown:function(P){var W=E();if(!n.options.disabled){switch(P.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:P.preventDefault();if(!n._keySliding){n._keySliding=true;a(this).addClass("ui-state-active")}break}switch(P.keyCode){case a.mobile.keyCode.HOME:n.refresh(F);
break;case a.mobile.keyCode.END:n.refresh(z);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:n.refresh(W+J);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:n.refresh(W-J);break}}},keyup:function(){if(n._keySliding){n._keySliding=false;a(this).removeClass("ui-state-active")}}});this.refresh(d,d,true)},refresh:function(n,o,j){if(this.options.disabled||this.element.attr("disabled"))this.disable();var r=this.element,
p=r[0].nodeName.toLowerCase(),u=p==="input"?parseFloat(r.attr("min")):0,x=p==="input"?parseFloat(r.attr("max")):r.find("option").length-1,A=p==="input"&&parseFloat(r.attr("step"))>0?parseFloat(r.attr("step")):1;if(typeof n==="object"){n=n;if(!this.dragging||n.pageX<this.slider.offset().left-8||n.pageX>this.slider.offset().left+this.slider.width()+8)return;n=Math.round((n.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(n==null)n=p==="input"?parseFloat(r.val()||0):r[0].selectedIndex;
n=(parseFloat(n)-u)/(x-u)*100}if(!isNaN(n)){if(n<0)n=0;if(n>100)n=100;var E=n/100*(x-u)+u,F=(E-u)%A;E=E-F;if(Math.abs(F)*2>=A)E+=F>0?A:-A;E=parseFloat(E.toFixed(5));if(E<u)E=u;if(E>x)E=x;this.handle.css("left",n+"%");this.handle.attr({"aria-valuenow":p==="input"?E:r.find("option").eq(E).attr("value"),"aria-valuetext":p==="input"?E:r.find("option").eq(E).getEncodedText(),title:p==="input"?E:r.find("option").eq(E).getEncodedText()});this.valuebg&&this.valuebg.css("width",n+"%");if(this._labels){u=this.handle.width()/
this.slider.width()*100;var z=n&&u+(100-u)*n/100,J=n===100?0:Math.min(u+100-z,100);this._labels.each(function(){var O=a(this).is(".ui-slider-label-a");a(this).width((O?z:J)+"%")})}if(!j){j=false;if(p==="input"){j=r.val()!==E;r.val(E)}else{j=r[0].selectedIndex!==E;r[0].selectedIndex=E}!o&&j&&r.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",
true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)}});a(e).bind("pagecreate create",function(n){a.mobile.slider.prototype.enhanceWithin(n.target,true)})})(jQuery);(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:true,overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&
navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not(:jqmData(role='slider'))",mini:false},_button:function(){return a("<div/>")},_setDisabled:function(d){this.element.attr("disabled",d);this.button.attr("aria-disabled",d);return this._setOption("disabled",d)},_focusButton:function(){var d=this;setTimeout(function(){d.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var d="";if(~this.element[0].className.indexOf("ui-btn-left"))d=
" ui-btn-left";if(~this.element[0].className.indexOf("ui-btn-right"))d=" ui-btn-right";this.select=this.element.wrap("<div class='ui-select"+d+"'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var d=this,n=this.options,
o=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:n.theme,icon:n.icon,iconpos:n.iconpos,inline:n.inline,corners:n.corners,shadow:n.shadow,iconshadow:n.iconshadow,mini:n.mini});n.nativeMenu&&c.opera&&c.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(o.addClass("ui-li-has-count"));
if(n.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){d.refresh()});this.build()},build:function(){var d=this;this.select.appendTo(d.button).bind("vmousedown",function(){d.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){d.button.addClass(a.mobile.focusClass)}).bind("blur",function(){d.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){d.button.trigger("vmouseover")}).bind("vmousemove",function(){d.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",
function(){d.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){d.button.removeClass("ui-btn-down-"+d.options.theme)});d.button.bind("vmousedown",function(){d.options.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("mouseup",function(){d.options.preventFocusZoom&&a.mobile.zoom.enable(true)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var d=this;return this.selected().map(function(){return d._selectOptions().index(this)}).get()},
setButtonText:function(){var d=this,n=this.selected();this.button.find(".ui-btn-text").text(function(){if(!d.isMultiple)return n.text();return n.length?n.map(function(){return a(this).text()}).get().join(", "):d.placeholder})},setButtonCount:function(){var d=this.selected();if(this.isMultiple)this.buttonCount[d.length>1?"show":"hide"]().text(d.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},
enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(d){a.mobile.selectmenu.prototype.enhanceWithin(d.target,true)})})(jQuery);(function(a){var d=function(n){var o=n.selectID,j=n.label,r=n.select.closest(".ui-page"),p=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(r),u=n._selectOptions(),x=n.isMultiple=n.select[0].multiple,A=o+"-button",E=o+"-menu",F=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+
"theme='"+n.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+n.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+j.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),z=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+n.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(p),J=a("<ul>",{"class":"ui-selectmenu-list",id:E,role:"listbox","aria-labelledby":A}).attr("data-"+
a.mobile.ns+"theme",n.options.theme).appendTo(z),O=a("<div>",{"class":"ui-header ui-bar-"+n.options.theme}).prependTo(z),L=a("<h1>",{"class":"ui-title"}).appendTo(O),w,t,H;if(n.isMultiple)H=a("<a>",{text:n.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(O).buttonMarkup();a.extend(n,{select:n.select,selectID:o,buttonId:A,menuId:E,thisPage:r,menuPage:F,label:j,screen:p,selectOptions:u,isMultiple:x,theme:n.options.theme,
listbox:z,list:J,header:O,headerTitle:L,headerClose:H,menuPageContent:w,menuPageClose:t,placeholder:"",build:function(){var G=this;G.refresh();G.select.attr("tabindex","-1").focus(function(){a(this).blur();G.button.focus()});G.button.bind("vclick keydown",function(D){if(D.type=="vclick"||D.keyCode&&(D.keyCode===a.mobile.keyCode.ENTER||D.keyCode===a.mobile.keyCode.SPACE)){G.open();D.preventDefault()}});G.list.attr("role","listbox").bind("focusin",function(D){a(D.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",
function(D){a(D.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(D){var P=G.select[0].selectedIndex,W=G.list.find("li:not(.ui-li-divider)").index(this),Z=G._selectOptions().eq(W)[0];Z.selected=G.isMultiple?!Z.selected:true;G.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",Z.selected).toggleClass("ui-icon-checkbox-off",!Z.selected);if(G.isMultiple||P!==W)G.select.trigger("change");G.isMultiple||G.close();D.preventDefault()}).keydown(function(D){var P=
a(D.target),W=P.closest("li");switch(D.keyCode){case 38:D=W.prev().not(".ui-selectmenu-placeholder");if(D.is(".ui-li-divider"))D=D.prev();if(D.length){P.blur().attr("tabindex","-1");D.addClass("ui-btn-down-"+n.options.theme).find("a").first().focus()}return false;case 40:D=W.next();if(D.is(".ui-li-divider"))D=D.next();if(D.length){P.blur().attr("tabindex","-1");D.addClass("ui-btn-down-"+n.options.theme).find("a").first().focus()}return false;case 13:case 32:P.trigger("click");return false}});G.menuPage.bind("pagehide",
function(){G.list.appendTo(G.listbox);G._focusButton();a.mobile._bindPageRemove.call(G.thisPage)});G.screen.bind("vclick",function(){G.close()});G.isMultiple&&G.headerClose.click(function(){if(G.menuType=="overlay"){G.close();return false}});G.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var G=this.list.find("li");return this._selectOptions().text()!==G.text()},refresh:function(G){var D=this;this._selectOptions();this.selected();var P=this.selectedIndices();if(G||this._isRebuildRequired())D._buildList();
D.setButtonText();D.setButtonCount();D.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",false).each(function(W){if(a.inArray(W,P)>-1){W=a(this);W.attr("aria-selected",true);if(D.isMultiple)W.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on");else W.is(".ui-selectmenu-placeholder")?W.next().addClass(a.mobile.activeBtnClass):W.addClass(a.mobile.activeBtnClass)}})},close:function(){if(!(this.options.disabled||!this.isOpen)){var G=
this;if(G.menuType=="page")c.history.back();else{G.screen.addClass("ui-screen-hidden");G.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");G.list.appendTo(G.listbox);G._focusButton()}G.isOpen=false}},open:function(){function G(){D.list.find("."+a.mobile.activeBtnClass+" a").focus()}if(!this.options.disabled){var D=this,P=a(c),W=D.list.parent(),Z=W.outerHeight();W=W.outerWidth();a(".ui-page-active");var la=P.scrollTop(),oa=D.button.offset().top,M=P.height();P=P.width();
D.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){D.button.removeClass(a.mobile.activeBtnClass)},300);if(Z>M-80||!a.support.scrollTop){D.menuPage.appendTo(a.mobile.pageContainer).page();D.menuPageContent=F.find(".ui-content");D.menuPageClose=F.find(".ui-header a");D.thisPage.unbind("pagehide.remove");la==0&&oa>M&&D.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",oa)});D.menuPage.one("pageshow",function(){G();D.isOpen=true});D.menuType="page";D.menuPageContent.append(D.list);
D.menuPage.find("div .ui-title").text(D.label.text());a.mobile.changePage(D.menuPage,{transition:a.mobile.defaultDialogTransition})}else{D.menuType="overlay";D.screen.height(a(e).height()).removeClass("ui-screen-hidden");var S=oa-la,aa=la+M-oa,na=Z/2,V=parseFloat(D.list.parent().css("max-width"));Z=S>Z/2&&aa>Z/2?oa+D.button.outerHeight()/2-na:S>aa?la+M-Z-30:la+30;if(W<V)la=(P-W)/2;else{la=D.button.offset().left+D.button.outerWidth()/2-W/2;if(la<30)la=30;else if(la+W>P)la=P-W-30}D.listbox.append(D.list).removeClass("ui-selectmenu-hidden").css({top:Z,
left:la}).addClass("in");G();D.isOpen=true}}},_buildList:function(){var G=this,D=this.options,P=this.placeholder,W=true,Z=G.isMultiple?"checkbox-off":"false";G.list.empty().filter(".ui-listview").listview("destroy");var la=G.select.find("option"),oa=la.length,M=this.select[0],S="data-"+a.mobile.ns,aa=S+"option-index",na=S+"icon";S=S+"role";for(var V=e.createDocumentFragment(),ra,sa=0;sa<oa;sa++){var q=la[sa],wa=a(q),Da=q.parentNode,Ga=wa.text(),Aa=e.createElement("a"),Ja=[];Aa.setAttribute("href",
"#");Aa.appendChild(e.createTextNode(Ga));if(Da!==M&&Da.nodeName.toLowerCase()==="optgroup"){Da=Da.getAttribute("label");if(Da!=ra){ra=e.createElement("li");ra.setAttribute(S,"list-divider");ra.setAttribute("role","option");ra.setAttribute("tabindex","-1");ra.appendChild(e.createTextNode(Da));V.appendChild(ra);ra=Da}}if(W&&(!q.getAttribute("value")||Ga.length==0||wa.jqmData("placeholder"))){W=false;D.hidePlaceholderMenuItems&&Ja.push("ui-selectmenu-placeholder");if(!P)P=G.placeholder=Ga}wa=e.createElement("li");
if(q.disabled){Ja.push("ui-disabled");wa.setAttribute("aria-disabled",true)}wa.setAttribute(aa,sa);wa.setAttribute(na,Z);wa.className=Ja.join(" ");wa.setAttribute("role","option");Aa.setAttribute("tabindex","-1");wa.appendChild(Aa);V.appendChild(wa)}G.list[0].appendChild(V);!this.isMultiple&&!P.length?this.header.hide():this.headerTitle.text(this.placeholder);G.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};
a(e).bind("selectmenubeforecreate",function(n){n=a(n.target).data("selectmenu");n.options.nativeMenu||d(n)})})(jQuery);(function(a){a.widget("mobile.fixedtoolbar",a.mobile.widget,{options:{visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,tapToggle:true,tapToggleBlacklist:"a, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){var d=c,n=navigator.userAgent,
o=navigator.platform,j=n.match(/AppleWebKit\/([0-9]+)/);j=!!j&&j[1];var r=n.match(/Fennec\/([0-9]+)/);r=!!r&&r[1];var p=n.match(/Opera Mobi\/([0-9]+)/),u=!!p&&p[1];if((o.indexOf("iPhone")>-1||o.indexOf("iPad")>-1||o.indexOf("iPod")>-1)&&j&&j<534||d.operamini&&{}.toString.call(d.operamini)==="[object OperaMini]"||p&&u<7458||n.indexOf("Android")>-1&&j&&j<533||r&&r<6||"palmGetResource"in c&&j&&j<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1)return true;return false},initSelector:":jqmData(position='fixed')"},
_create:function(){var d=this,n=d.options,o=d.element,j=o.is(":jqmData(role='header')")?"header":"footer",r=o.closest(".ui-page");if(n.supportBlacklist())d.destroy();else{o.addClass("ui-"+j+"-fixed");if(n.fullscreen){o.addClass("ui-"+j+"-fullscreen");r.addClass("ui-page-"+j+"-fullscreen")}else r.addClass("ui-page-"+j+"-fixed");d._addTransitionClass();d._bindPageEvents();d._bindToggleHandlers()}},_addTransitionClass:function(){var d=this.options.transition;if(d&&d!=="none"){if(d==="slide")d=this.element.is(".ui-header")?
"slidedown":"slideup";this.element.addClass(d)}},_bindPageEvents:function(){var d=this,n=d.options;d.element.closest(".ui-page").bind("pagebeforeshow",function(){n.disablePageZoom&&a.mobile.zoom.disable(true);n.visibleOnPageShow||d.hide(true)}).bind("webkitAnimationStart animationstart updatelayout",function(){n.updatePagePadding&&d.updatePagePadding()}).bind("pageshow",function(){d.updatePagePadding();n.updatePagePadding&&a(c).bind("throttledresize."+d.widgetName,function(){d.updatePagePadding()})}).bind("pagebeforehide",
function(o,j){n.disablePageZoom&&a.mobile.zoom.enable(true);n.updatePagePadding&&a(c).unbind("throttledresize."+d.widgetName);if(n.trackPersistentToolbars){o=a(".ui-footer-fixed:jqmData(id)",this);var r=a(".ui-header-fixed:jqmData(id)",this),p=o.length&&j.nextPage&&a(".ui-footer-fixed:jqmData(id='"+o.jqmData("id")+"')",j.nextPage),u=r.length&&j.nextPage&&a(".ui-header-fixed:jqmData(id='"+r.jqmData("id")+"')",j.nextPage);p=p||a();if(p.length||u.length){p.add(u).appendTo(a.mobile.pageContainer);j.nextPage.one("pageshow",
function(){p.add(u).appendTo(this)})}}})},_visible:true,updatePagePadding:function(){var d=this.element,n=d.is(".ui-header");this.options.fullscreen||d.closest(".ui-page").css("padding-"+(n?"top":"bottom"),d.outerHeight())},_useTransition:function(d){var n=this.element,o=a(c).scrollTop(),j=n.height(),r=n.closest(".ui-page").height(),p=a.mobile.getScreenHeight();n=n.is(":jqmData(role='header')")?"header":"footer";return!d&&(this.options.transition&&this.options.transition!=="none"&&(n==="header"&&
!this.options.fullscreen&&o>j||n==="footer"&&!this.options.fullscreen&&o+p<r-j)||this.options.fullscreen)},show:function(d){var n=this.element;this._useTransition(d)?n.removeClass("out ui-fixed-hidden").addClass("in"):n.removeClass("ui-fixed-hidden");this._visible=true},hide:function(d){var n=this.element,o="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(d)?n.addClass(o).removeClass("in").animationComplete(function(){n.addClass("ui-fixed-hidden").removeClass(o)}):n.addClass("ui-fixed-hidden").removeClass(o);
this._visible=false},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var d=this,n=d.options;d.element.closest(".ui-page").bind("vclick",function(o){n.tapToggle&&!a(o.target).closest(n.tapToggleBlacklist).length&&d.toggle()}).bind("focusin focusout",function(o){if(screen.width<500&&a(o.target).is(n.hideDuringFocus)&&!a(o.target).closest(".ui-header-fixed, .ui-footer-fixed").length)d[o.type==="focusin"&&d._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");
this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});a(e).bind("pagecreate create",function(d){a(d.target).jqmData("fullscreen")&&a(a.mobile.fixedtoolbar.prototype.options.initSelector,d.target).not(":jqmData(fullscreen)").jqmData("fullscreen",true);a.mobile.fixedtoolbar.prototype.enhanceWithin(d.target)})})(jQuery);(function(a,d){function n(A){j=A.originalEvent;x=j.accelerationIncludingGravity;r=Math.abs(x.x);
p=Math.abs(x.y);u=Math.abs(x.z);if(!d.orientation&&(r>7||(u>6&&p<8||u<8&&p>6)&&r>5))o.enabled&&o.disable();else o.enabled||o.enable()}if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1){var o=a.mobile.zoom,j,r,p,u,x;a(d).bind("orientationchange.iosorientationfix",o.enable).bind("devicemotion.iosorientationfix",n)}})(jQuery,this);(function(a,d){function n(){var x=a("."+a.mobile.activeBtnClass).first();u.css({top:a.support.scrollTop&&p.scrollTop()+p.height()/
2||x.length&&x.offset().top||100})}function o(){var x=u.offset(),A=p.scrollTop(),E=a.mobile.getScreenHeight();if(x.top<A||x.top-A>E){u.addClass("ui-loader-fakefix");n();p.unbind("scroll",o).bind("scroll",n)}}function j(){r.removeClass("ui-mobile-rendering")}var r=a("html");a("head");var p=a(d);a(d.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;r.addClass("ui-mobile ui-mobile-rendering");setTimeout(j,5E3);var u=a("<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");
a.extend(a.mobile,{showPageLoadingMsg:function(x,A,E){r.addClass("ui-loading");if(a.mobile.loadingMessage){var F=E||a.mobile.loadingMessageTextVisible;x=x||a.mobile.loadingMessageTheme;u.attr("class","ui-loader ui-corner-all ui-body-"+(x||"a")+" ui-loader-"+(F?"verbose":"default")+(E?" ui-loader-textonly":"")).find("h1").text(A||a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer);o();p.bind("scroll",o)}},hidePageLoadingMsg:function(){r.removeClass("ui-loading");a.mobile.loadingMessage&&
u.removeClass("ui-loader-fakefix");a(d).unbind("scroll",n);a(d).unbind("scroll",o)},initializePage:function(){var x=a(":jqmData(role='page'), :jqmData(role='dialog')");x.length||(x=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));x.each(function(){var A=a(this);A.jqmData("url")||A.attr("data-"+a.mobile.ns+"url",A.attr("id")||location.pathname+location.search)});a.mobile.firstPage=x.first();a.mobile.pageContainer=x.first().parent().addClass("ui-mobile-viewport");p.trigger("pagecontainercreate");
a.mobile.showPageLoadingMsg();j();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):p.trigger("hashchange",[true])}});a.mobile._registerInternalEvents();a(function(){d.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(d).scrollTop()===1?0:1;a.fn.controlgroup&&a(e).bind("pagecreate create",function(x){a(":jqmData(role='controlgroup')",x.target).jqmEnhanceable().controlgroup({excludeInvisible:false})});
a.mobile.autoInitializePage&&a.mobile.initializePage();p.load(a.mobile.silentScroll)})}})(jQuery,this)});steal.loaded("webapp/lib/jquery.mobile.js");
var FlashDetect=new (function(){var f=this;f.installed=false;f.raw="";f.major=-1;f.minor=-1;f.revision=-1;f.revisionStr="";var c=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(j){return e(j)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(j){var r="6,0,21";try{j.AllowScriptAccess="always";r=e(j)}catch(p){}return r}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(j){return e(j)}}],e=function(j){var r=-1;try{r=j.GetVariable("$version")}catch(p){}return r},a=function(j){var r=
-1;try{r=new ActiveXObject(j)}catch(p){r={activeXError:true}}return r},d=function(j){var r=j.split(",");return{raw:j,major:parseInt(r[0].split(" ")[1],10),minor:parseInt(r[1],10),revision:parseInt(r[2],10),revisionStr:r[2]}},n=function(j){var r=j.split(/ +/),p=r[2].split(/\./);r=r[3];return{raw:j,major:parseInt(p[0],10),minor:parseInt(p[1],10),revisionStr:r,revision:o(r)}},o=function(j){return parseInt(j.replace(/[a-zA-Z]/g,""),10)||f.revision};f.majorAtLeast=function(j){return f.major>=j};f.minorAtLeast=
function(j){return f.minor>=j};f.revisionAtLeast=function(j){return f.revision>=j};f.versionAtLeast=function(){var j=[f.major,f.minor,f.revision],r=Math.min(j.length,arguments.length);for(i=0;i<r;i++)if(j[i]>=arguments[i]){if(!(i+1<r&&j[i]==arguments[i]))return true}else return false};f.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var j=navigator.mimeTypes;if(j&&j["application/x-shockwave-flash"]&&j["application/x-shockwave-flash"].enabledPlugin&&j["application/x-shockwave-flash"].enabledPlugin.description){j=
j["application/x-shockwave-flash"].enabledPlugin.description;var r=n(j);f.raw=r.raw;f.major=r.major;f.minor=r.minor;f.revisionStr=r.revisionStr;f.revision=r.revision;f.installed=true}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){j=-1;for(var p=0;p<c.length&&j==-1;p++){r=a(c[p].name);if(!r.activeXError){f.installed=true;j=c[p].version(r);if(j!=-1){r=d(j);f.raw=r.raw;f.major=r.major;f.minor=r.minor;f.revision=r.revision;f.revisionStr=r.revisionStr}}}}}()});
FlashDetect.JS_RELEASE="1.0.4";steal.loaded("webapp/lib/flash_detect_min.js");
(function(f,c){function e(d,n){var o=d.nodeName.toLowerCase();if("area"===o){n=d.parentNode;o=n.name;var j;return!d.href||!o||n.nodeName.toLowerCase()!=="map"?false:(j=f("img[usemap=#"+o+"]")[0],!!j&&a(j))}return(/input|select|textarea|button|object/.test(o)?!d.disabled:"a"==o?d.href||n:n)&&a(d)}function a(d){return!f(d).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}f.ui=f.ui||{};if(!f.ui.version){f.extend(f.ui,{version:"1.8.20",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(d,n){return typeof d=="number"?this.each(function(){var o=
this;setTimeout(function(){f(o).focus();n&&n.call(o)},d)}):this._focus.apply(this,arguments)},scrollParent:function(){var d;return f.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?(d=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.curCSS(this,"position",1))&&/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0)):(d=this.parents().filter(function(){return/(auto|scroll)/.test(f.curCSS(this,
"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0)),/fixed/.test(this.css("position"))||!d.length?f(document):d},zIndex:function(d){if(d!==c)return this.css("zIndex",d);if(this.length){d=f(this[0]);for(var n;d.length&&d[0]!==document;){n=d.css("position");if(n==="absolute"||n==="relative"||n==="fixed"){n=parseInt(d.css("zIndex"),10);if(!isNaN(n)&&n!==0)return n}d=d.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(d){d.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});f.each(["Width","Height"],function(d,n){function o(u,x,A,E){return f.each(j,function(){x-=parseFloat(f.curCSS(u,"padding"+this,true))||0;A&&(x-=parseFloat(f.curCSS(u,"border"+this+"Width",true))||0);E&&(x-=parseFloat(f.curCSS(u,"margin"+this,true))||0)}),x}var j=n==="Width"?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),p={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,
outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+n]=function(u){return u===c?p["inner"+n].call(this):this.each(function(){f(this).css(r,o(this,u)+"px")})};f.fn["outer"+n]=function(u,x){return typeof u!="number"?p["outer"+n].call(this,u):this.each(function(){f(this).css(r,o(this,u,true,x)+"px")})}});f.extend(f.expr[":"],{data:function(d,n,o){return!!f.data(d,o[3])},focusable:function(d){return e(d,!isNaN(f.attr(d,"tabindex")))},tabbable:function(d){var n=f.attr(d,"tabindex"),o=
isNaN(n);return(o||n>=0)&&e(d,!o)}});f(function(){var d=document.body,n=d.appendChild(n=document.createElement("div"));f.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});f.support.minHeight=n.offsetHeight===100;f.support.selectstart="onselectstart"in n;d.removeChild(n).style.display="none"});f.extend(f.ui,{plugin:{add:function(d,n,o){d=f.ui[d].prototype;for(var j in o){d.plugins[j]=d.plugins[j]||[];d.plugins[j].push([n,o[j]])}},call:function(d,n,o){if((n=d.plugins[n])&&d.element[0].parentNode)for(var j=
0;j<n.length;j++)d.options[n[j][0]]&&n[j][1].apply(d.element,o)}},contains:function(d,n){return document.compareDocumentPosition?d.compareDocumentPosition(n)&16:d!==n&&d.contains(n)},hasScroll:function(d,n){if(f(d).css("overflow")==="hidden")return false;n=n&&n==="left"?"scrollLeft":"scrollTop";var o=false;return d[n]>0?true:(d[n]=1,o=d[n]>0,d[n]=0,o)},isOverAxis:function(d,n,o){return d>n&&d<n+o},isOver:function(d,n,o,j,r,p){return f.ui.isOverAxis(d,o,r)&&f.ui.isOverAxis(n,j,p)}})}})(jQuery);
(function(f,c){if(f.cleanData){var e=f.cleanData;f.cleanData=function(d){for(var n=0,o;(o=d[n])!=null;n++)try{f(o).triggerHandler("remove")}catch(j){}e(d)}}else{var a=f.fn.remove;f.fn.remove=function(d,n){return this.each(function(){return n||(!d||f.filter(d,[this]).length)&&f("*",this).add([this]).each(function(){try{f(this).triggerHandler("remove")}catch(o){}}),a.call(f(this),d,n)})}}f.widget=function(d,n,o){var j=d.split(".")[0],r;d=d.split(".")[1];r=j+"-"+d;o||(o=n,n=f.Widget);f.expr[":"][r]=
function(p){return!!f.data(p,d)};f[j]=f[j]||{};f[j][d]=function(p,u){arguments.length&&this._createWidget(p,u)};n=new n;n.options=f.extend(true,{},n.options);f[j][d].prototype=f.extend(true,n,{namespace:j,widgetName:d,widgetEventPrefix:f[j][d].prototype.widgetEventPrefix||d,widgetBaseClass:r},o);f.widget.bridge(d,f[j][d])};f.widget.bridge=function(d,n){f.fn[d]=function(o){var j=typeof o=="string",r=Array.prototype.slice.call(arguments,1),p=this;return o=!j&&r.length?f.extend.apply(null,[true,o].concat(r)):
o,j&&o.charAt(0)==="_"?p:(j?this.each(function(){var u=f.data(this,d),x=u&&f.isFunction(u[o])?u[o].apply(u,r):u;if(x!==u&&x!==c)return p=x,false}):this.each(function(){var u=f.data(this,d);u?u.option(o||{})._init():f.data(this,d,new n(o,this))}),p)}};f.Widget=function(d,n){arguments.length&&this._createWidget(d,n)};f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(d,n){f.data(n,this.widgetName,this);this.element=f(n);this.options=f.extend(true,
{},this.options,this._getCreateOptions(),d);var o=this;this.element.bind("remove."+this.widgetName,function(){o.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(d,n){var o=d;if(arguments.length===0)return f.extend({},this.options);if(typeof d=="string"){if(n===c)return this.options[d];o={};o[d]=n}return this._setOptions(o),this},_setOptions:function(d){var n=this;return f.each(d,function(o,j){n._setOption(o,j)}),this},_setOption:function(d,n){return this.options[d]=n,d==="disabled"&&this.widget()[n?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
n),this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(d,n,o){var j,r=this.options[d];o=o||{};n=f.Event(n);n.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();n.target=this.element[0];if(d=n.originalEvent)for(j in d)j in n||(n[j]=d[j]);return this.element.trigger(n,o),!(f.isFunction(r)&&r.call(this.element[0],n,o)===false||n.isDefaultPrevented())}}})(jQuery);
(function(f){var c=false;f(document).mouseup(function(){c=false});f.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(a){return e._mouseDown(a)}).bind("click."+this.widgetName,function(a){if(true===f.data(a.target,e.widgetName+".preventClickEvent"))return f.removeData(a.target,e.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),false});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName);f(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var a=this,d=e.which==1,n=typeof this.options.cancel=="string"&&e.target.nodeName?f(e.target).closest(this.options.cancel).length:false;if(!d||n||!this._mouseCapture(e))return true;(this.mouseDelayMet=!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=
true},this.options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted)return e.preventDefault(),true}return true===f.data(e.target,this.widgetName+".preventClickEvent")&&f.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(o){return a._mouseMove(o)},this._mouseUpDelegate=function(o){return a._mouseUp(o)},f(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=true,true}},_mouseMove:function(e){return!f.browser.msie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return f(document).unbind("mousemove."+this.widgetName,
this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=false,e.target==this._mouseDownEvent.target&&f.data(e.target,this.widgetName+".preventClickEvent",true),this._mouseStop(e)),false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},
_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(f){f.widget("ui.draggable",f.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){this.options.helper=="original"&&
!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(c){var e=this.options;
return this.helper||e.disabled||f(c.target).is(".ui-resizable-handle")?false:(this.handle=this._getHandle(c),this.handle?(e.iframeFix&&f(e.iframeFix===true?"iframe":e.iframeFix).each(function(){f('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(f(this).offset()).appendTo("body")}),true):false)},_mouseStart:function(c){var e=this.options;return this.helper=this._createHelper(c),
this._cacheHelperProportions(),f.ui.ddmanager&&(f.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},f.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=
this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment(),this._trigger("start",c)===false?(this._clear(),false):(this._cacheHelperProportions(),f.ui.ddmanager&&!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,c),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(c,true),f.ui.ddmanager&&f.ui.ddmanager.dragStart(this,c),true)},_mouseDrag:function(c,e){this.position=
this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){e=this._uiHash();if(this._trigger("drag",c,e)===false)return this._mouseUp({}),false;this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return f.ui.ddmanager&&f.ui.ddmanager.drag(this,c),false},_mouseStop:function(c){var e=false;f.ui.ddmanager&&!this.options.dropBehaviour&&
(e=f.ui.ddmanager.drop(this,c));this.dropped&&(e=this.dropped,this.dropped=false);for(var a=this.element[0],d=false;a&&(a=a.parentNode);)a==document&&(d=true);if(!d&&this.options.helper==="original")return false;if(this.options.revert=="invalid"&&!e||this.options.revert=="valid"&&e||this.options.revert===true||f.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var n=this;f(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",
c)!==false&&n._clear()})}else this._trigger("stop",c)!==false&&this._clear();return false},_mouseUp:function(c){return this.options.iframeFix===true&&f("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),f.ui.ddmanager&&f.ui.ddmanager.dragStop(this,c),f.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){var e=!this.options.handle||!f(this.options.handle,
this.element).length?true:false;return f(this.options.handle,this.element).find("*").andSelf().each(function(){this==c.target&&(e=true)}),e},_createHelper:function(c){var e=this.options;c=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[c])):e.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo(e.appendTo=="parent"?this.element[0].parentNode:e.appendTo),c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position",
"absolute"),c},_adjustOffsetFromHelper:function(c){typeof c=="string"&&(c=c.split(" "));f.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();
var c=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&f.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;c.containment=="parent"&&(c.containment=this.helper[0].parentNode);if(c.containment=="document"||c.containment=="window")this.containment=[c.containment=="document"?0:f(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,c.containment=="document"?0:f(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,
(c.containment=="document"?0:f(window).scrollLeft())+f(c.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(c.containment=="document"?0:f(window).scrollTop())+(f(c.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){c=f(c.containment);var e=c[0];if(e){c.offset();var a=f(e).css("overflow")!=
"hidden";this.containment=[(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0),(parseInt(f(e).css("borderTopWidth"),10)||0)+(parseInt(f(e).css("paddingTop"),10)||0),(a?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),
10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c}}else c.containment.constructor==Array&&(this.containment=c.containment)},_convertPositionTo:function(c,e){e||(e=this.position);c=c=="absolute"?1:-1;var a=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,d=/(html|body)/i.test(a[0].tagName);return{top:e.top+
this.offset.relative.top*c+this.offset.parent.top*c-(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():d?0:a.scrollTop())*c),left:e.left+this.offset.relative.left*c+this.offset.parent.left*c-(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():d?0:a.scrollLeft())*c)}},_generatePosition:function(c){var e=this.options,a=this.cssPosition=="absolute"&&
(this.scrollParent[0]==document||!f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,d=/(html|body)/i.test(a[0].tagName),n=c.pageX,o=c.pageY;if(this.originalPosition){var j;if(this.containment){if(this.relative_container){j=this.relative_container.offset();j=[this.containment[0]+j.left,this.containment[1]+j.top,this.containment[2]+j.left,this.containment[3]+j.top]}else j=this.containment;c.pageX-this.offset.click.left<j[0]&&(n=j[0]+this.offset.click.left);
c.pageY-this.offset.click.top<j[1]&&(o=j[1]+this.offset.click.top);c.pageX-this.offset.click.left>j[2]&&(n=j[2]+this.offset.click.left);c.pageY-this.offset.click.top>j[3]&&(o=j[3]+this.offset.click.top)}if(e.grid){o=e.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;o=j?o-this.offset.click.top<j[1]||o-this.offset.click.top>j[3]?o-this.offset.click.top<j[1]?o+e.grid[1]:o-e.grid[1]:o:o;n=e.grid[0]?this.originalPageX+Math.round((n-this.originalPageX)/
e.grid[0])*e.grid[0]:this.originalPageX;n=j?n-this.offset.click.left<j[0]||n-this.offset.click.left>j[2]?n-this.offset.click.left<j[0]?n+e.grid[0]:n-e.grid[0]:n:n}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():d?0:a.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(f.browser.safari&&f.browser.version<
526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():d?0:a.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,e,a){return a=a||this._uiHash(),f.ui.plugin.call(this,c,[e,a]),c=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),f.Widget.prototype._trigger.call(this,c,e,
a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});f.extend(f.ui.draggable,{version:"1.8.20"});f.ui.plugin.add("draggable","connectToSortable",{start:function(c,e){var a=f(this).data("draggable"),d=a.options,n=f.extend({},e,{item:a.element});a.sortables=[];f(d.connectToSortable).each(function(){var o=f.data(this,"sortable");o&&!o.options.disabled&&(a.sortables.push({instance:o,shouldRevert:o.options.revert}),
o.refreshPositions(),o._trigger("activate",c,n))})},stop:function(c,e){var a=f(this).data("draggable"),d=f.extend({},e,{item:a.element});f.each(a.sortables,function(){this.instance.isOver?(this.instance.isOver=0,a.cancelHelperRemoval=true,this.instance.cancelHelperRemoval=false,this.shouldRevert&&(this.instance.options.revert=true),this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,a.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):
(this.instance.cancelHelperRemoval=false,this.instance._trigger("deactivate",c,d))})},drag:function(c,e){var a=f(this).data("draggable"),d=this;f.each(a.sortables,function(){this.instance.positionAbs=a.positionAbs;this.instance.helperProportions=a.helperProportions;this.instance.offset.click=a.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=f(d).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",
true),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return e.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,true),this.instance._mouseStart(c,true,true),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top,
a._trigger("toSortable",c),a.dropped=this.instance.element,a.currentItem=a.element,this.instance.fromOutside=a),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=true,this.instance.options.revert=false,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,true),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&
this.instance.placeholder.remove(),a._trigger("fromSortable",c),a.dropped=false)})}});f.ui.plugin.add("draggable","cursor",{start:function(){var c=f("body"),e=f(this).data("draggable").options;c.css("cursor")&&(e._cursor=c.css("cursor"));c.css("cursor",e.cursor)},stop:function(){var c=f(this).data("draggable").options;c._cursor&&f("body").css("cursor",c._cursor)}});f.ui.plugin.add("draggable","opacity",{start:function(c,e){c=f(e.helper);e=f(this).data("draggable").options;c.css("opacity")&&(e._opacity=
c.css("opacity"));c.css("opacity",e.opacity)},stop:function(c,e){c=f(this).data("draggable").options;c._opacity&&f(e.helper).css("opacity",c._opacity)}});f.ui.plugin.add("draggable","scroll",{start:function(){var c=f(this).data("draggable");c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"&&(c.overflowOffset=c.scrollParent.offset())},drag:function(c){var e=f(this).data("draggable"),a=e.options,d=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!a.axis||a.axis!=
"x")e.overflowOffset.top+e.scrollParent[0].offsetHeight-c.pageY<a.scrollSensitivity?(e.scrollParent[0].scrollTop=d=e.scrollParent[0].scrollTop+a.scrollSpeed):c.pageY-e.overflowOffset.top<a.scrollSensitivity&&(e.scrollParent[0].scrollTop=d=e.scrollParent[0].scrollTop-a.scrollSpeed);if(!a.axis||a.axis!="y")e.overflowOffset.left+e.scrollParent[0].offsetWidth-c.pageX<a.scrollSensitivity?(e.scrollParent[0].scrollLeft=d=e.scrollParent[0].scrollLeft+a.scrollSpeed):c.pageX-e.overflowOffset.left<a.scrollSensitivity&&
(e.scrollParent[0].scrollLeft=d=e.scrollParent[0].scrollLeft-a.scrollSpeed)}else{if(!a.axis||a.axis!="x")c.pageY-f(document).scrollTop()<a.scrollSensitivity?(d=f(document).scrollTop(f(document).scrollTop()-a.scrollSpeed)):f(window).height()-(c.pageY-f(document).scrollTop())<a.scrollSensitivity&&(d=f(document).scrollTop(f(document).scrollTop()+a.scrollSpeed));if(!a.axis||a.axis!="y")c.pageX-f(document).scrollLeft()<a.scrollSensitivity?(d=f(document).scrollLeft(f(document).scrollLeft()-a.scrollSpeed)):
f(window).width()-(c.pageX-f(document).scrollLeft())<a.scrollSensitivity&&(d=f(document).scrollLeft(f(document).scrollLeft()+a.scrollSpeed))}d!==false&&f.ui.ddmanager&&!a.dropBehaviour&&f.ui.ddmanager.prepareOffsets(e,c)}});f.ui.plugin.add("draggable","snap",{start:function(){var c=f(this).data("draggable"),e=c.options;c.snapElements=[];f(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var a=f(this),d=a.offset();this!=c.element[0]&&c.snapElements.push({item:this,
width:a.outerWidth(),height:a.outerHeight(),top:d.top,left:d.left})})},drag:function(c,e){for(var a=f(this).data("draggable"),d=a.options,n=d.snapTolerance,o=e.offset.left,j=o+a.helperProportions.width,r=e.offset.top,p=r+a.helperProportions.height,u=a.snapElements.length-1;u>=0;u--){var x=a.snapElements[u].left,A=x+a.snapElements[u].width,E=a.snapElements[u].top,F=E+a.snapElements[u].height;if(x-n<o&&o<A+n&&E-n<r&&r<F+n||x-n<o&&o<A+n&&E-n<p&&p<F+n||x-n<j&&j<A+n&&E-n<r&&r<F+n||x-n<j&&j<A+n&&E-n<p&&
p<F+n){if(d.snapMode!="inner"){var z=Math.abs(E-p)<=n,J=Math.abs(F-r)<=n,O=Math.abs(x-j)<=n,L=Math.abs(A-o)<=n;z&&(e.position.top=a._convertPositionTo("relative",{top:E-a.helperProportions.height,left:0}).top-a.margins.top);J&&(e.position.top=a._convertPositionTo("relative",{top:F,left:0}).top-a.margins.top);O&&(e.position.left=a._convertPositionTo("relative",{top:0,left:x-a.helperProportions.width}).left-a.margins.left);L&&(e.position.left=a._convertPositionTo("relative",{top:0,left:A}).left-a.margins.left)}var w=
z||J||O||L;if(d.snapMode!="outer"){z=Math.abs(E-r)<=n;J=Math.abs(F-p)<=n;O=Math.abs(x-o)<=n;L=Math.abs(A-j)<=n;z&&(e.position.top=a._convertPositionTo("relative",{top:E,left:0}).top-a.margins.top);J&&(e.position.top=a._convertPositionTo("relative",{top:F-a.helperProportions.height,left:0}).top-a.margins.top);O&&(e.position.left=a._convertPositionTo("relative",{top:0,left:x}).left-a.margins.left);L&&(e.position.left=a._convertPositionTo("relative",{top:0,left:A-a.helperProportions.width}).left-a.margins.left)}!a.snapElements[u].snapping&&
(z||J||O||L||w)&&a.options.snap.snap&&a.options.snap.snap.call(a.element,c,f.extend(a._uiHash(),{snapItem:a.snapElements[u].item}));a.snapElements[u].snapping=z||J||O||L||w}else{a.snapElements[u].snapping&&a.options.snap.release&&a.options.snap.release.call(a.element,c,f.extend(a._uiHash(),{snapItem:a.snapElements[u].item}));a.snapElements[u].snapping=false}}}});f.ui.plugin.add("draggable","stack",{start:function(){var c=f(this).data("draggable").options;c=f.makeArray(f(c.stack)).sort(function(a,
d){return(parseInt(f(a).css("zIndex"),10)||0)-(parseInt(f(d).css("zIndex"),10)||0)});if(c.length){var e=parseInt(c[0].style.zIndex)||0;f(c).each(function(a){this.style.zIndex=e+a});this[0].style.zIndex=e+c.length}}});f.ui.plugin.add("draggable","zIndex",{start:function(c,e){c=f(e.helper);e=f(this).data("draggable").options;c.css("zIndex")&&(e._zIndex=c.css("zIndex"));c.css("zIndex",e.zIndex)},stop:function(c,e){c=f(this).data("draggable").options;c._zIndex&&f(e.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(f){f.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var c=this.options,e=c.accept;this.isover=0;this.isout=1;this.accept=f.isFunction(e)?e:function(a){return a.is(e)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};f.ui.ddmanager.droppables[c.scope]=f.ui.ddmanager.droppables[c.scope]||[];f.ui.ddmanager.droppables[c.scope].push(this);
c.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var c=f.ui.ddmanager.droppables[this.options.scope],e=0;e<c.length;e++)c[e]==this&&c.splice(e,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(c,e){c=="accept"&&(this.accept=f.isFunction(e)?e:function(a){return a.is(e)});f.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var e=f.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);e&&this._trigger("activate",c,this.ui(e))},_deactivate:function(c){var e=f.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",c,this.ui(e))},_over:function(c){var e=f.ui.ddmanager.current;!e||(e.currentItem||e.element)[0]==this.element[0]||this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
c,this.ui(e)))},_out:function(c){var e=f.ui.ddmanager.current;!e||(e.currentItem||e.element)[0]==this.element[0]||this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(e)))},_drop:function(c,e){var a=e||f.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0])return false;var d=false;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var n=
f.data(this,"droppable");if(n.options.greedy&&!n.options.disabled&&n.options.scope==a.options.scope&&n.accept.call(n.element[0],a.currentItem||a.element)&&f.ui.intersect(a,f.extend(n,{offset:n.element.offset()}),n.options.tolerance))return d=true,false}),d?false:this.accept.call(this.element[0],a.currentItem||a.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(a)),
this.element):false},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}});f.extend(f.ui.droppable,{version:"1.8.20"});f.ui.intersect=function(c,e,a){if(!e.offset)return false;var d=(c.positionAbs||c.position.absolute).left,n=d+c.helperProportions.width,o=(c.positionAbs||c.position.absolute).top,j=o+c.helperProportions.height,r=e.offset.left,p=r+e.proportions.width,u=e.offset.top,x=u+e.proportions.height;switch(a){case "fit":return r<=
d&&n<=p&&u<=o&&j<=x;case "intersect":return r<d+c.helperProportions.width/2&&n-c.helperProportions.width/2<p&&u<o+c.helperProportions.height/2&&j-c.helperProportions.height/2<x;case "pointer":return f.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,u,r,e.proportions.height,e.proportions.width);case "touch":return(o>=u&&o<=x||j>=u&&j<=x||o<u&&j>x)&&(d>=r&&d<=p||n>=r&&n<=p||d<r&&n>p);
default:return false}};f.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,e){var a=f.ui.ddmanager.droppables[c.options.scope]||[],d=e?e.type:null,n=(c.currentItem||c.element).find(":data(droppable)").andSelf(),o=0;a:for(;o<a.length;o++)if(!(a[o].options.disabled||c&&!a[o].accept.call(a[o].element[0],c.currentItem||c.element))){for(var j=0;j<n.length;j++)if(n[j]==a[o].element[0]){a[o].proportions.height=0;continue a}a[o].visible=a[o].element.css("display")!="none";if(a[o].visible){d==
"mousedown"&&a[o]._activate.call(a[o],e);a[o].offset=a[o].element.offset();a[o].proportions={width:a[o].element[0].offsetWidth,height:a[o].element[0].offsetHeight}}}},drop:function(c,e){var a=false;return f.each(f.ui.ddmanager.droppables[c.options.scope]||[],function(){if(this.options){!this.options.disabled&&this.visible&&f.ui.intersect(c,this,this.options.tolerance)&&(a=this._drop.call(this,e)||a);!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&
(this.isout=1,this.isover=0,this._deactivate.call(this,e))}}),a},dragStart:function(c,e){c.element.parents(":not(body,html)").bind("scroll.droppable",function(){c.options.refreshPositions||f.ui.ddmanager.prepareOffsets(c,e)})},drag:function(c,e){c.options.refreshPositions&&f.ui.ddmanager.prepareOffsets(c,e);f.each(f.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var a=f.ui.intersect(c,this,this.options.tolerance);if(a=!a&&this.isover==
1?"isout":a&&this.isover==0?"isover":null){var d;if(this.options.greedy){var n=this.element.parents(":data(droppable):eq(0)");n.length&&(d=f.data(n[0],"droppable"),d.greedyChild=a=="isover"?1:0)}d&&a=="isover"&&(d.isover=0,d.isout=1,d._out.call(d,e));this[a]=1;this[a=="isout"?"isover":"isout"]=0;this[a=="isover"?"_over":"_out"].call(this,e);d&&a=="isout"&&(d.isout=0,d.isover=1,d._over.call(d,e))}}})},dragStop:function(c,e){c.element.parents(":not(body,html)").unbind("scroll.droppable");c.options.refreshPositions||
f.ui.ddmanager.prepareOffsets(c,e)}}})(jQuery);
(function(f){f.widget("ui.sortable",f.ui.mouse,{widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var c=this.options;this.containerCache=
{};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?c.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},destroy:function(){f.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--)this.items[c].item.removeData(this.widgetName+
"-item");return this},_setOption:function(c,e){c==="disabled"?(this.options[c]=e,this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")):f.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(c,e){var a=this;if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(c);var d=null,n=this;f(c.target).parents().each(function(){if(f.data(this,a.widgetName+"-item")==n)return d=f(this),false});f.data(c.target,a.widgetName+
"-item")==n&&(d=f(c.target));if(!d)return false;if(this.options.handle&&!e){var o=false;f(this.options.handle,d).find("*").andSelf().each(function(){this==c.target&&(o=true)});if(!o)return false}return this.currentItem=d,this._removeCurrentsFromItems(),true},_mouseStart:function(c,e,a){e=this.options;var d=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=
this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");f.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();e.cursor&&(f("body").css("cursor")&&(this._storedCursor=f("body").css("cursor")),f("body").css("cursor",e.cursor));e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity));e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=
this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex));this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!a)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",c,d._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,
c),this.dragging=true,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(c),true},_mouseDrag:function(c){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var e=this.options,a=false;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<e.scrollSensitivity?(this.scrollParent[0].scrollTop=
a=this.scrollParent[0].scrollTop+e.scrollSpeed):c.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<e.scrollSensitivity?(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+e.scrollSpeed):c.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(c.pageY-f(document).scrollTop()<
e.scrollSensitivity?(a=f(document).scrollTop(f(document).scrollTop()-e.scrollSpeed)):f(window).height()-(c.pageY-f(document).scrollTop())<e.scrollSensitivity&&(a=f(document).scrollTop(f(document).scrollTop()+e.scrollSpeed)),c.pageX-f(document).scrollLeft()<e.scrollSensitivity?(a=f(document).scrollLeft(f(document).scrollLeft()-e.scrollSpeed)):f(window).width()-(c.pageX-f(document).scrollLeft())<e.scrollSensitivity&&(a=f(document).scrollLeft(f(document).scrollLeft()+e.scrollSpeed)));a!==false&&f.ui.ddmanager&&
!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,c)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(e=this.items.length-1;e>=0;e--){a=this.items[e];var d=a.item[0],n=this._intersectsWithPointer(a);if(n)if(d!=this.currentItem[0]&&this.placeholder[n==1?"next":"prev"]()[0]!=d&&!f.ui.contains(this.placeholder[0],
d)&&(this.options.type=="semi-dynamic"?!f.ui.contains(this.element[0],d):true)){this.direction=n==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(a))this._rearrange(c,a);else break;this._trigger("change",c,this._uiHash());break}}return this._contactContainers(c),f.ui.ddmanager&&f.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,false},_mouseStop:function(c,e){if(c){f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,
c);if(this.options.revert){var a=this;e=a.placeholder.offset();a.reverting=true;f(this.helper).animate({left:e.left-this.offset.parent.left-a.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-a.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){a._clear(c)})}else this._clear(c,e);return false}},cancel:function(){var c=this;if(this.dragging){this._mouseUp({target:null});
this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,c._uiHash(this));this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,c._uiHash(this)),this.containers[e].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=
"original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var e=this._getItemsAsjQuery(c&&c.connected),a=[];return c=c||{},f(e).each(function(){var d=(f(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);d&&a.push((c.key||d[1]+
"[]")+"="+(c.key&&c.expression?d[1]:d[2]))}),!a.length&&c.key&&a.push(c.key+"="),a.join("&")},toArray:function(c){var e=this._getItemsAsjQuery(c&&c.connected),a=[];return c=c||{},e.each(function(){a.push(f(c.item||this).attr(c.attribute||"id")||"")}),a},_intersectsWith:function(c){var e=this.positionAbs.left,a=e+this.helperProportions.width,d=this.positionAbs.top,n=d+this.helperProportions.height,o=c.left,j=o+c.width,r=c.top,p=r+c.height,u=this.offset.click.top,x=this.offset.click.left;u=d+u>r&&d+
u<p&&e+x>o&&e+x<j;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?u:o<e+this.helperProportions.width/2&&a-this.helperProportions.width/2<j&&r<d+this.helperProportions.height/2&&n-this.helperProportions.height/2<p},_intersectsWithPointer:function(c){var e=this.options.axis==="x"||f.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,
c.height);c=this.options.axis==="y"||f.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);e=e&&c;c=this._getDragVerticalDirection();var a=this._getDragHorizontalDirection();return e?this.floating?a&&a=="right"||c=="down"?2:1:c&&(c=="down"?2:1):false},_intersectsWithSides:function(c){var e=f.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=f.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var a=this._getDragVerticalDirection(),
d=this._getDragHorizontalDirection();return this.floating&&d?d=="right"&&c||d=="left"&&!c:a&&(a=="down"&&e||a=="up"&&!e)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){return this._refreshItems(c),this.refreshPositions(),this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==
String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){var e=[],a=[],d=this._connectWith();if(d&&c)for(c=d.length-1;c>=0;c--)for(var n=f(d[c]),o=n.length-1;o>=0;o--){var j=f.data(n[o],this.widgetName);j&&j!=this&&!j.options.disabled&&a.push([f.isFunction(j.options.items)?j.options.items.call(j.element):f(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}a.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,
item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=a.length-1;c>=0;c--)a[c][0].each(function(){e.push(this)});return f(e)},_removeCurrentsFromItems:function(){for(var c=this.currentItem.find(":data("+this.widgetName+"-item)"),e=0;e<this.items.length;e++)for(var a=0;a<c.length;a++)c[a]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(c){this.items=[];this.containers=[this];var e=this.items,a=[[f.isFunction(this.options.items)?
this.options.items.call(this.element[0],c,{item:this.currentItem}):f(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(var n=d.length-1;n>=0;n--)for(var o=f(d[n]),j=o.length-1;j>=0;j--){var r=f.data(o[j],this.widgetName);r&&r!=this&&!r.options.disabled&&(a.push([f.isFunction(r.options.items)?r.options.items.call(r.element[0],c,{item:this.currentItem}):f(r.options.items,r.element),r]),this.containers.push(r))}for(n=a.length-1;n>=0;n--){c=a[n][1];d=a[n][0];j=0;for(o=
d.length;j<o;j++){r=f(d[j]);r.data(this.widgetName+"-item",c);e.push({item:r,instance:c,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var e=this.items.length-1;e>=0;e--){var a=this.items[e];if(!(a.instance!=this.currentContainer&&this.currentContainer&&a.item[0]!=this.currentItem[0])){var d=this.options.toleranceElement?f(this.options.toleranceElement,a.item):a.item;c||(a.width=d.outerWidth(),a.height=
d.outerHeight());d=d.offset();a.left=d.left;a.top=d.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;e>=0;e--){d=this.containers[e].element.offset();this.containers[e].containerCache.left=d.left;this.containers[e].containerCache.top=d.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},
_createPlaceholder:function(c){var e=c||this,a=e.options;if(!a.placeholder||a.placeholder.constructor==String){var d=a.placeholder;a.placeholder={element:function(){var n=f(document.createElement(e.currentItem[0].nodeName)).addClass(d||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(n.style.visibility="hidden"),n},update:function(n,o){if(!(d&&!a.forcePlaceholderSize)){o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||
0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=f(a.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);a.placeholder.update(e,e.placeholder)},_contactContainers:function(c){for(var e=null,a=null,d=this.containers.length-1;d>=0;d--)if(!f.ui.contains(this.currentItem[0],this.containers[d].element[0]))if(this._intersectsWith(this.containers[d].containerCache)){if(!(e&&
f.ui.contains(this.containers[d].element[0],e.element[0]))){e=this.containers[d];a=d}}else this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",c,this._uiHash(this)),this.containers[d].containerCache.over=0);if(e)if(this.containers.length===1){this.containers[a]._trigger("over",c,this._uiHash(this));this.containers[a].containerCache.over=1}else if(this.currentContainer!=this.containers[a]){e=1E4;d=null;for(var n=this.positionAbs[this.containers[a].floating?"left":"top"],o=this.items.length-
1;o>=0;o--)if(f.ui.contains(this.containers[a].element[0],this.items[o].item[0])){var j=this.items[o][this.containers[a].floating?"left":"top"];Math.abs(j-n)<e&&(e=Math.abs(j-n),d=this.items[o])}if(d||this.options.dropOnEmpty){this.currentContainer=this.containers[a];d?this._rearrange(c,d,null,true):this._rearrange(c,null,this.containers[a].element,true);this._trigger("change",c,this._uiHash());this.containers[a]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,
this.placeholder);this.containers[a]._trigger("over",c,this._uiHash(this));this.containers[a].containerCache.over=1}}},_createHelper:function(c){var e=this.options;c=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[c,this.currentItem])):e.helper=="clone"?this.currentItem.clone():this.currentItem;return c.parents("body").length||f(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,
height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(c[0].style.width==""||e.forceHelperSize)&&c.width(this.currentItem.width()),(c[0].style.height==""||e.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(c){typeof c=="string"&&(c=c.split(" "));f.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&
(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=
this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&f.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),
left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;c.containment=="parent"&&(c.containment=this.helper[0].parentNode);if(c.containment==
"document"||c.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,f(c.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(f(c.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)){var e=f(c.containment)[0];c=f(c.containment).offset();
var a=f(e).css("overflow")!="hidden";this.containment=[c.left+(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(f(e).css("borderTopWidth"),10)||0)+(parseInt(f(e).css("paddingTop"),10)||0)-this.margins.top,c.left+(a?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(a?Math.max(e.scrollHeight,
e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(c,e){e||(e=this.position);c=c=="absolute"?1:-1;var a=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,d=/(html|body)/i.test(a[0].tagName);return{top:e.top+this.offset.relative.top*c+this.offset.parent.top*
c-(f.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():d?0:a.scrollTop())*c),left:e.left+this.offset.relative.left*c+this.offset.parent.left*c-(f.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():d?0:a.scrollLeft())*c)}},_generatePosition:function(c){var e=this.options,a=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:
this.scrollParent,d=/(html|body)/i.test(a[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var n=c.pageX,o=c.pageY;if(this.originalPosition){this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>
this.containment[2]&&(n=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top));if(e.grid){o=this.originalPageY+Math.round((o-this.originalPageY)/e.grid[1])*e.grid[1];o=this.containment?o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3]?o-this.offset.click.top<this.containment[1]?o+e.grid[1]:o-e.grid[1]:o:o;n=this.originalPageX+Math.round((n-this.originalPageX)/e.grid[0])*e.grid[0];
n=this.containment?n-this.offset.click.left<this.containment[0]||n-this.offset.click.left>this.containment[2]?n-this.offset.click.left<this.containment[0]?n+e.grid[0]:n-e.grid[0]:n:n}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(f.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():d?0:a.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(f.browser.safari&&this.cssPosition==
"fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():d?0:a.scrollLeft())}},_rearrange:function(c,e,a,d){a?a[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var n=this,o=this.counter;window.setTimeout(function(){o==n.counter&&n.refreshPositions(!d)},0)},_clear:function(c,e){this.reverting=false;var a=[];!this._noFinalSort&&this.currentItem.parent().length&&
this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var d in this._storedCSS)if(this._storedCSS[d]=="auto"||this._storedCSS[d]=="static")this._storedCSS[d]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&a.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||
this.domPosition.parent!=this.currentItem.parent()[0])&&!e&&a.push(function(n){this._trigger("update",n,this._uiHash())});if(!f.ui.contains(this.element[0],this.currentItem[0])){e||a.push(function(n){this._trigger("remove",n,this._uiHash())});for(d=this.containers.length-1;d>=0;d--)f.ui.contains(this.containers[d].element[0],this.currentItem[0])&&!e&&(a.push(function(n){return function(o){n._trigger("receive",o,this._uiHash(this))}}.call(this,this.containers[d])),a.push(function(n){return function(o){n._trigger("update",
o,this._uiHash(this))}}.call(this,this.containers[d])))}for(d=this.containers.length-1;d>=0;d--){e||a.push(function(n){return function(o){n._trigger("deactivate",o,this._uiHash(this))}}.call(this,this.containers[d]));this.containers[d].containerCache.over&&(a.push(function(n){return function(o){n._trigger("out",o,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over=0)}this._storedCursor&&f("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",
this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",c,this._uiHash());for(d=0;d<a.length;d++)a[d].call(this,c);this._trigger("stop",c,this._uiHash())}return false}e||this._trigger("beforeStop",c,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(d=
0;d<a.length;d++)a[d].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=false,true},_trigger:function(){f.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(c){var e=c||this;return{helper:e.helper,placeholder:e.placeholder||f([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:c?c.element:null}}});f.extend(f.ui.sortable,{version:"1.8.20"})})(jQuery);steal.loaded("webapp/lib/jquery-ui/jquery-ui.min.js");
var mejs=mejs||{};mejs.version="2.8.1";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]};
mejs.Utility={encodeUrl:function(f){return encodeURIComponent(f)},escapeHTML:function(f){return f.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(f){var c=document.createElement("div");c.innerHTML='<a href="'+this.escapeHTML(f)+'">x</a>';return c.firstChild.href},getScriptPath:function(f){for(var c=0,e,a="",d="",n,o=document.getElementsByTagName("script"),j=o.length,r=f.length;c<j;c++){n=o[c].src;for(e=0;e<r;e++){d=f[e];if(n.indexOf(d)>
-1){a=n.substring(0,n.indexOf(d));break}}if(a!=="")break}return a},secondsToTimeCode:function(f,c,e,a){if(typeof e=="undefined")e=false;else if(typeof a=="undefined")a=25;var d=Math.floor(f/3600)%24,n=Math.floor(f/60)%60,o=Math.floor(f%60);f=Math.floor((f%1*a).toFixed(3));return(c||d>0?(d<10?"0"+d:d)+":":"")+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)+(e?":"+(f<10?"0"+f:f):"")},timeCodeToSeconds:function(f,c,e,a){if(typeof e=="undefined")e=false;else if(typeof a=="undefined")a=25;f=f.split(":");c=parseInt(f[0],
10);var d=parseInt(f[1],10),n=parseInt(f[2],10),o=0,j=0;if(e)o=parseInt(f[3])/a;return j=c*3600+d*60+n+o},removeSwf:function(f){var c=document.getElementById(f);if(c&&c.nodeName=="OBJECT")if(mejs.MediaFeatures.isIE){c.style.display="none";(function(){c.readyState==4?mejs.Utility.removeObjectInIE(f):setTimeout(arguments.callee,10)})()}else c.parentNode.removeChild(c)},removeObjectInIE:function(f){if(f=document.getElementById(f)){for(var c in f)if(typeof f[c]=="function")f[c]=null;f.parentNode.removeChild(f)}}};
mejs.PluginDetector={hasPluginVersion:function(f,c){f=this.plugins[f];c[1]=c[1]||0;c[2]=c[2]||0;return f[0]>c[0]||f[0]==c[0]&&f[1]>c[1]||f[0]==c[0]&&f[1]==c[1]&&f[2]>=c[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(f,c,e,a,d){this.plugins[f]=this.detectPlugin(c,e,a,d)},detectPlugin:function(f,c,e,a){var d=[0,0,0],n;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[f]=="object"){if((e=this.nav.plugins[f].description)&&!(typeof this.nav.mimeTypes!=
"undefined"&&this.nav.mimeTypes[c]&&!this.nav.mimeTypes[c].enabledPlugin)){d=e.replace(f,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(f=0;f<d.length;f++)d[f]=parseInt(d[f].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(n=new ActiveXObject(e))d=a(n)}catch(o){}return d}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(f){var c=[];if(f=f.GetVariable("$version")){f=f.split(" ")[1].split(",");c=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)]}return c});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(f){var c=[0,0,0,0],e=function(a,d,n,o){for(;a.isVersionSupported(d[0]+"."+d[1]+"."+d[2]+"."+d[3]);)d[n]+=o;d[n]-=o};e(f,c,0,1);e(f,c,1,1);e(f,c,2,1E4);e(f,c,2,1E3);e(f,c,2,100);e(f,c,2,10);e(f,c,2,1);e(f,c,3,1);return c});
mejs.MediaFeatures={init:function(){var f=this,c=document,e=mejs.PluginDetector.nav,a=mejs.PluginDetector.ua.toLowerCase(),d,n=["source","track","audio","video"];f.isiPad=a.match(/ipad/i)!==null;f.isiPhone=a.match(/iphone/i)!==null;f.isiOS=f.isiPhone||f.isiPad;f.isAndroid=a.match(/android/i)!==null;f.isBustedAndroid=a.match(/android 2\.[12]/)!==null;f.isIE=e.appName.toLowerCase().indexOf("microsoft")!=-1;f.isChrome=a.match(/chrome/gi)!==null;f.isFirefox=a.match(/firefox/gi)!==null;f.isWebkit=a.match(/webkit/gi)!==
null;f.isGecko=a.match(/gecko/gi)!==null&&!f.isWebkit;f.isOpera=a.match(/opera/gi)!==null;f.hasTouch="ontouchstart"in window;for(e=0;e<n.length;e++)d=document.createElement(n[e]);f.supportsMediaTag=typeof d.canPlayType!=="undefined"||f.isBustedAndroid;f.hasSemiNativeFullScreen=typeof d.webkitEnterFullscreen!=="undefined";f.hasWebkitNativeFullScreen=typeof d.webkitRequestFullScreen!=="undefined";f.hasMozNativeFullScreen=typeof d.mozRequestFullScreen!=="undefined";f.hasTrueNativeFullScreen=f.hasWebkitNativeFullScreen||
f.hasMozNativeFullScreen;f.nativeFullScreenEnabled=f.hasTrueNativeFullScreen;if(f.hasMozNativeFullScreen)f.nativeFullScreenEnabled=d.mozFullScreenEnabled;if(this.isChrome)f.hasSemiNativeFullScreen=false;if(f.hasTrueNativeFullScreen){f.fullScreenEventName=f.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange";f.isFullScreen=function(){if(d.mozRequestFullScreen)return c.mozFullScreen;else if(d.webkitRequestFullScreen)return c.webkitIsFullScreen};f.requestFullScreen=function(o){if(f.hasWebkitNativeFullScreen)o.webkitRequestFullScreen();
else f.hasMozNativeFullScreen&&o.mozRequestFullScreen()};f.cancelFullScreen=function(){if(f.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();else f.hasMozNativeFullScreen&&document.mozCancelFullScreen()}}if(f.hasSemiNativeFullScreen&&a.match(/mac os x 10_5/i)){f.hasNativeFullScreen=false;f.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(f){this.currentTime=f},setMuted:function(f){this.muted=f},setVolume:function(f){this.volume=f},stop:function(){this.pause()},setSrc:function(f){for(var c=this.getElementsByTagName("source");c.length>0;)this.removeChild(c[0]);if(typeof f=="string")this.src=f;else{var e;for(c=0;c<f.length;c++){e=f[c];if(this.canPlayType(e.type))this.src=e.src}}},setVideoSize:function(f,c){this.width=f;this.height=c}};
mejs.PluginMediaElement=function(f,c,e){this.id=f;this.pluginType=c;this.src=e;this.events={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!="youtube"&&this.pluginApi.loadMedia();this.paused=
false}},pause:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(f){var c,e,a,d=mejs.plugins[this.pluginType];for(c=0;c<d.length;c++){a=d[c];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,a.version))for(e=0;e<a.types.length;e++)if(f==a.types[e])return true}return false},
positionFullscreenButton:function(f,c,e){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(f,c,e)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(f){if(typeof f=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(f));this.src=mejs.Utility.absolutizeUrl(f)}else{var c,e;for(c=0;c<f.length;c++){e=f[c];if(this.canPlayType(e.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e.src));
this.src=mejs.Utility.absolutizeUrl(f)}}}},setCurrentTime:function(f){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.seekTo(f):this.pluginApi.setCurrentTime(f);this.currentTime=f}},setVolume:function(f){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.setVolume(f*100):this.pluginApi.setVolume(f);this.volume=f}},setMuted:function(f){if(this.pluginApi!=null){if(this.pluginType=="youtube"){f?this.pluginApi.mute():this.pluginApi.unMute();this.muted=f;this.dispatchEvent("volumechange")}else this.pluginApi.setMuted(f);
this.muted=f}},setVideoSize:function(f,c){if(this.pluginElement.style){this.pluginElement.style.width=f+"px";this.pluginElement.style.height=c+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(f,c)},setFullscreen:function(f){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(f)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&
this.setFullscreen(false)},addEventListener:function(f,c){this.events[f]=this.events[f]||[];this.events[f].push(c)},removeEventListener:function(f,c){if(!f){this.events={};return true}var e=this.events[f];if(!e)return true;if(!c){this.events[f]=[];return true}for(i=0;i<e.length;i++)if(e[i]===c){this.events[f].splice(i,1);return true}return false},dispatchEvent:function(f){var c,e,a=this.events[f];if(a){e=Array.prototype.slice.call(arguments,1);for(c=0;c<a.length;c++)a[c].apply(null,e)}},attributes:{},
hasAttribute:function(f){return f in this.attributes},removeAttribute:function(f){delete this.attributes[f]},getAttribute:function(f){if(this.hasAttribute(f))return this.attributes[f];return""},setAttribute:function(f,c){this.attributes[f]=c},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(f,c,e){this.pluginMediaElements[f]=c;this.htmlMediaElements[f]=e},initPlugin:function(f){var c=this.pluginMediaElements[f],e=this.htmlMediaElements[f];if(c){switch(c.pluginType){case "flash":c.pluginElement=c.pluginApi=document.getElementById(f);break;case "silverlight":c.pluginElement=document.getElementById(c.id);c.pluginApi=c.pluginElement.Content.MediaElementJS;break}c.pluginApi!=null&&c.success&&
c.success(c,e)}},fireEvent:function(f,c,e){var a,d;f=this.pluginMediaElements[f];f.ended=false;f.paused=true;c={type:c,target:f};for(a in e){f[a]=e[a];c[a]=e[a]}d=e.bufferedTime||0;c.target.buffered=c.buffered={start:function(){return 0},end:function(){return d},length:1};f.dispatchEvent(c.type,c)}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},
error:function(){}};mejs.MediaElement=function(f,c){return mejs.HtmlMediaElementShim.create(f,c)};
mejs.HtmlMediaElementShim={create:function(f,c){var e=mejs.MediaElementDefaults,a=typeof f=="string"?document.getElementById(f):f;f=a.tagName.toLowerCase();var d=f==="audio"||f==="video",n=d?a.getAttribute("src"):a.getAttribute("href");f=a.getAttribute("poster");var o=a.getAttribute("autoplay"),j=a.getAttribute("preload"),r=a.getAttribute("controls"),p;for(p in c)e[p]=c[p];n=typeof n=="undefined"||n===null||n==""?null:n;f=typeof f=="undefined"||f===null?"":f;j=typeof j=="undefined"||j===null||j===
"false"?"none":j;o=!(typeof o=="undefined"||o===null||o==="false");r=!(typeof r=="undefined"||r===null||r==="false");c=this.determinePlayback(a,e,mejs.MediaFeatures.supportsMediaTag,d,n);c.url=c.url!==null?mejs.Utility.absolutizeUrl(c.url):"";if(c.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){a.src=c.url;a.addEventListener("click",function(){a.play()},false)}return this.updateNative(c,e,o,j)}else if(c.method!=="")return this.createPlugin(c,e,f,o,j,r);else{this.createErrorMessage(c,e,f);
return this}},determinePlayback:function(f,c,e,a,d){var n=[],o,j,r={method:"",url:"",htmlMediaElement:f,isVideo:f.tagName.toLowerCase()!="audio"},p,u;if(typeof c.type!="undefined"&&c.type!=="")if(typeof c.type=="string")n.push({type:c.type,url:d});else for(o=0;o<c.type.length;o++)n.push({type:c.type[o],url:d});else if(d!==null){j=this.formatType(d,f.getAttribute("type"));n.push({type:j,url:d})}else for(o=0;o<f.childNodes.length;o++){j=f.childNodes[o];if(j.nodeType==1&&j.tagName.toLowerCase()=="source"){d=
j.getAttribute("src");j=this.formatType(d,j.getAttribute("type"));n.push({type:j,url:d})}}if(!a&&n.length>0&&n[0].url!==null&&this.getTypeFromFile(n[0].url).indexOf("audio")>-1)r.isVideo=false;if(mejs.MediaFeatures.isBustedAndroid)f.canPlayType=function(x){return x.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(e&&(c.mode==="auto"||c.mode==="native")){if(!a){o=document.createElement(r.isVideo?"video":"audio");f.parentNode.insertBefore(o,f);f.style.display="none";r.htmlMediaElement=f=o}for(o=0;o<
n.length;o++)if(f.canPlayType(n[o].type).replace(/no/,"")!==""||f.canPlayType(n[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){r.method="native";r.url=n[o].url;break}if(r.method==="native"){if(r.url!==null)f.src=r.url;return r}}if(c.mode==="auto"||c.mode==="shim")for(o=0;o<n.length;o++){j=n[o].type;for(f=0;f<c.plugins.length;f++){d=c.plugins[f];p=mejs.plugins[d];for(e=0;e<p.length;e++){u=p[e];if(u.version==null||mejs.PluginDetector.hasPluginVersion(d,u.version))for(a=0;a<u.types.length;a++)if(j==
u.types[a]){r.method=d;r.url=n[o].url;return r}}}}if(r.method===""&&n.length>0)r.url=n[0].url;return r},formatType:function(f,c){return f&&!c?this.getTypeFromFile(f):c&&~c.indexOf(";")?c.substr(0,c.indexOf(";")):c},getTypeFromFile:function(f){f=f.substring(f.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(f)?"video":"audio")+"/"+f},createErrorMessage:function(f,c,e){var a=f.htmlMediaElement,d=document.createElement("div");d.className="me-cannotplay";try{d.style.width=a.width+
"px";d.style.height=a.height+"px"}catch(n){}d.innerHTML=e!==""?'<a href="'+f.url+'"><img src="'+e+'" width="100%" height="100%" /></a>':'<a href="'+f.url+'"><span>Download File</span></a>';a.parentNode.insertBefore(d,a);a.style.display="none";c.error(a)},createPlugin:function(f,c,e,a,d,n){e=f.htmlMediaElement;var o=1,j=1,r="me_"+f.method+"_"+mejs.meIndex++,p=new mejs.PluginMediaElement(r,f.method,f.url),u=document.createElement("div"),x;p.tagName=e.tagName;for(x=0;x<e.attributes.length;x++){var A=
e.attributes[x];A.specified==true&&p.setAttribute(A.name,A.value)}for(x=e.parentNode;x!==null&&x.tagName.toLowerCase()!="body";){if(x.parentNode.tagName.toLowerCase()=="p"){x.parentNode.parentNode.insertBefore(x,x.parentNode);break}x=x.parentNode}if(f.isVideo){o=c.videoWidth>0?c.videoWidth:e.getAttribute("width")!==null?e.getAttribute("width"):c.defaultVideoWidth;j=c.videoHeight>0?c.videoHeight:e.getAttribute("height")!==null?e.getAttribute("height"):c.defaultVideoHeight;o=mejs.Utility.encodeUrl(o);
j=mejs.Utility.encodeUrl(j)}else if(c.enablePluginDebug){o=320;j=240}p.success=c.success;mejs.MediaPluginBridge.registerPluginElement(r,p,e);u.className="me-plugin";u.id=r+"_container";f.isVideo?e.parentNode.insertBefore(u,e):document.body.insertBefore(u,document.body.childNodes[0]);a=["id="+r,"isvideo="+(f.isVideo?"true":"false"),"autoplay="+(a?"true":"false"),"preload="+d,"width="+o,"startvolume="+c.startVolume,"timerrate="+c.timerRate,"height="+j];if(f.url!==null)f.method=="flash"?a.push("file="+
mejs.Utility.encodeUrl(f.url)):a.push("file="+f.url);c.enablePluginDebug&&a.push("debug=true");c.enablePluginSmoothing&&a.push("smoothing=true");n&&a.push("controls=true");if(c.pluginVars)a=a.concat(c.pluginVars);switch(f.method){case "silverlight":u.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+r+'" name="'+r+'" width="'+o+'" height="'+j+'"><param name="initParams" value="'+a.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+
c.pluginPath+c.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){f=document.createElement("div");u.appendChild(f);f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+r+'" width="'+o+'" height="'+j+'"><param name="movie" value="'+c.pluginPath+c.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+a.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else u.innerHTML=
'<embed id="'+r+'" name="'+r+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+c.pluginPath+c.flashName+'" flashvars="'+a.join("&")+'" width="'+o+'" height="'+j+'"></embed>';break;case "youtube":c=f.url.substr(f.url.lastIndexOf("=")+1);youtubeSettings={container:u,containerId:u.id,pluginMediaElement:p,pluginId:r,videoId:c,
height:j,width:o};mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case "vimeo":console.log("vimeoid");p.vimeoid=f.url.substr(f.url.lastIndexOf("/")+1);u.innerHTML='<object width="'+o+'" height="'+j+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+
p.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+p.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+o+'" height="'+j+'"></embed></object>';break}e.style.display=
"none";return p},updateNative:function(f,c){f=f.htmlMediaElement;var e;for(e in mejs.HtmlMediaElement)f[e]=mejs.HtmlMediaElement[e];c.success(f,f);return f}};
mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var f=document.createElement("script");f.src="http://www.youtube.com/player_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(f,c);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(f){if(this.isLoaded)this.createIframe(f);else{this.loadIframeApi();this.iframeQueue.push(f)}},createIframe:function(f){var c=f.pluginMediaElement,e=new YT.Player(f.containerId,
{height:f.height,width:f.width,videoId:f.videoId,playerVars:{controls:0},events:{onReady:function(){f.pluginMediaElement.pluginApi=e;mejs.MediaPluginBridge.initPlugin(f.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(e,c,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,e,c)}}})},createEvent:function(f,c,e){e={type:e,target:c};if(f&&f.getDuration){c.currentTime=e.currentTime=f.getCurrentTime();c.duration=e.duration=f.getDuration();e.paused=c.paused;
e.ended=c.ended;e.muted=f.isMuted();e.volume=f.getVolume()/100;e.bytesTotal=f.getVideoBytesTotal();e.bufferedBytes=f.getVideoBytesLoaded();var a=e.bufferedBytes/e.bytesTotal*e.duration;e.target.buffered=e.buffered={start:function(){return 0},end:function(){return a},length:1}}c.dispatchEvent(e.type,e)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(f){this.flashPlayers[f.pluginId]=
f;var c,e="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+f.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){c=document.createElement("div");f.container.appendChild(c);c.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+f.pluginId+'" width="'+f.width+'" height="'+f.height+'"><param name="movie" value="'+e+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else f.container.innerHTML=
'<object type="application/x-shockwave-flash" id="'+f.pluginId+'" data="'+e+'" width="'+f.width+'" height="'+f.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(f){var c=this.flashPlayers[f],e=document.getElementById(f),a=c.pluginMediaElement;a.pluginApi=a.pluginElement=e;mejs.MediaPluginBridge.initPlugin(f);e.cueVideoById(c.videoId);f=c.containerId+"_callback";window[f]=function(d){mejs.YouTubeApi.handleStateChange(d,
e,a)};e.addEventListener("onStateChange",f);setInterval(function(){mejs.YouTubeApi.createEvent(e,a,"timeupdate")},250)},handleStateChange:function(f,c,e){switch(f){case -1:e.paused=true;e.ended=true;mejs.YouTubeApi.createEvent(c,e,"loadedmetadata");break;case 0:e.paused=false;e.ended=true;mejs.YouTubeApi.createEvent(c,e,"ended");break;case 1:e.paused=false;e.ended=false;mejs.YouTubeApi.createEvent(c,e,"play");mejs.YouTubeApi.createEvent(c,e,"playing");break;case 2:e.paused=true;e.ended=false;mejs.YouTubeApi.createEvent(c,
e,"pause");break;case 3:mejs.YouTubeApi.createEvent(c,e,"progress");break;case 5:break}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(f){mejs.YouTubeApi.flashReady(f)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(f){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks",
"volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(c,e){e.paused||e.ended?e.play():e.pause()}},{keys:[38],action:function(c,e){c=Math.min(e.volume+0.1,1);e.setVolume(c)}},{keys:[40],action:function(c,e){c=Math.max(e.volume-0.1,0);e.setVolume(c)}},{keys:[37,227],action:function(c,e){if(!isNaN(e.duration)&&e.duration>0){if(c.isVideo){c.showControls();c.startControlsTimer()}c=Math.max(e.currentTime-e.duration*0.05,0);e.setCurrentTime(c)}}},
{keys:[39,228],action:function(c,e){if(!isNaN(e.duration)&&e.duration>0){if(c.isVideo){c.showControls();c.startControlsTimer()}c=Math.min(e.currentTime+e.duration*0.05,e.duration);e.setCurrentTime(c)}}},{keys:[70],action:function(c){if(typeof c.enterFullScreen!="undefined")c.isFullScreen?c.exitFullScreen():c.enterFullScreen()}}]};mejs.mepIndex=0;mejs.players=[];mejs.MediaElementPlayer=function(c,e){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(c,e);var a=this;a.$media=
a.$node=f(c);a.node=a.media=a.$media[0];if(typeof a.node.player!="undefined")return a.node.player;else a.node.player=a;if(typeof e=="undefined")e=a.$node.data("mejsoptions");a.options=f.extend({},mejs.MepDefaults,e);mejs.players.push(a);a.init();return a};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var c=this,e=mejs.MediaFeatures,a=f.extend(true,{},c.options,{success:function(n,o){c.meReady(n,o)},error:function(n){c.handleError(n)}}),d=c.media.tagName.toLowerCase();
c.isDynamic=d!=="audio"&&d!=="video";c.isVideo=c.isDynamic?c.options.isVideo:d!=="audio"&&c.options.isVideo;if(e.isiPad&&c.options.iPadUseNativeControls||e.isiPhone&&c.options.iPhoneUseNativeControls){c.$media.attr("controls","controls");if(e.isiPad&&c.media.getAttribute("autoplay")!==null){c.media.load();c.media.play()}}else if(!(e.isAndroid&&c.AndroidUseNativeControls)){c.$media.removeAttr("controls");c.id="mep_"+mejs.mepIndex++;c.container=f('<div id="'+c.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(c.$media[0].className).insertBefore(c.$media);
c.container.addClass((e.isAndroid?"mejs-android ":"")+(e.isiOS?"mejs-ios ":"")+(e.isiPad?"mejs-ipad ":"")+(e.isiPhone?"mejs-iphone ":"")+(c.isVideo?"mejs-video ":"mejs-audio "));if(e.isiOS){e=c.$media.clone();c.container.find(".mejs-mediaelement").append(e);c.$media.remove();c.$node=c.$media=e;c.node=c.media=e[0]}else c.container.find(".mejs-mediaelement").append(c.$media);c.controls=c.container.find(".mejs-controls");c.layers=c.container.find(".mejs-layers");e=d.substring(0,1).toUpperCase()+d.substring(1);
c.width=c.options[d+"Width"]>0||c.options[d+"Width"].toString().indexOf("%")>-1?c.options[d+"Width"]:c.media.style.width!==""&&c.media.style.width!==null?c.media.style.width:c.media.getAttribute("width")!==null?c.$media.attr("width"):c.options["default"+e+"Width"];c.height=c.options[d+"Height"]>0||c.options[d+"Height"].toString().indexOf("%")>-1?c.options[d+"Height"]:c.media.style.height!==""&&c.media.style.height!==null?c.media.style.height:c.$media[0].getAttribute("height")!==null?c.$media.attr("height"):
c.options["default"+e+"Height"];c.setPlayerSize(c.width,c.height);a.pluginWidth=c.height;a.pluginHeight=c.width}mejs.MediaElement(c.$media[0],a)},showControls:function(c){var e=this;c=typeof c=="undefined"||c;if(!e.controlsAreVisible){if(c){e.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){e.controlsAreVisible=true});e.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){e.controlsAreVisible=true})}else{e.controls.css("visibility",
"visible").css("display","block");e.container.find(".mejs-control").css("visibility","visible").css("display","block");e.controlsAreVisible=true}e.setControlsSize()}},hideControls:function(c){var e=this;c=typeof c=="undefined"||c;if(e.controlsAreVisible)if(c){e.controls.stop(true,true).fadeOut(200,function(){f(this).css("visibility","hidden").css("display","block");e.controlsAreVisible=false});e.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){f(this).css("visibility","hidden").css("display",
"block")})}else{e.controls.css("visibility","hidden").css("display","block");e.container.find(".mejs-control").css("visibility","hidden").css("display","block");e.controlsAreVisible=false}},controlsTimer:null,startControlsTimer:function(c){var e=this;c=typeof c!="undefined"?c:1500;e.killControlsTimer("start");e.controlsTimer=setTimeout(function(){e.hideControls();e.killControlsTimer("hide")},c)},killControlsTimer:function(){var c=this;if(c.controlsTimer!==null){clearTimeout(c.controlsTimer);delete c.controlsTimer;
c.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var c=this;c.killControlsTimer();c.hideControls(false);this.controlsEnabled=false},enableControls:function(){var c=this;c.showControls(false);c.controlsEnabled=true},meReady:function(c,e){var a=this,d=mejs.MediaFeatures,n=e.getAttribute("autoplay");n=!(typeof n=="undefined"||n===null||n==="false");var o;if(!a.created){a.created=true;a.media=c;a.domNode=e;if(!(d.isAndroid&&a.options.AndroidUseNativeControls)&&!(d.isiPad&&a.options.iPadUseNativeControls)&&
!(d.isiPhone&&a.options.iPhoneUseNativeControls)){a.buildposter(a,a.controls,a.layers,a.media);a.buildkeyboard(a,a.controls,a.layers,a.media);a.buildoverlays(a,a.controls,a.layers,a.media);a.findTracks();for(o in a.options.features){e=a.options.features[o];if(a["build"+e])try{a["build"+e](a,a.controls,a.layers,a.media)}catch(j){}}a.container.trigger("controlsready");a.setPlayerSize(a.width,a.height);a.setControlsSize();if(a.isVideo){if(mejs.MediaFeatures.hasTouch)a.$media.bind("touchstart",function(){if(a.controlsAreVisible)a.hideControls(false);
else a.controlsEnabled&&a.showControls(false)});else{(a.media.pluginType=="native"?a.$media:f(a.media.pluginElement)).click(function(){c.paused?c.play():c.pause()});a.container.bind("mouseenter mouseover",function(){if(a.controlsEnabled)if(!a.options.alwaysShowControls){a.killControlsTimer("enter");a.showControls();a.startControlsTimer(2500)}}).bind("mousemove",function(){if(a.controlsEnabled){a.controlsAreVisible||a.showControls();a.options.alwaysShowControls||a.startControlsTimer(2500)}}).bind("mouseleave",
function(){a.controlsEnabled&&!a.media.paused&&!a.options.alwaysShowControls&&a.startControlsTimer(1E3)})}n&&!a.options.alwaysShowControls&&a.hideControls();a.options.enableAutosize&&a.media.addEventListener("loadedmetadata",function(r){if(a.options.videoHeight<=0&&a.domNode.getAttribute("height")===null&&!isNaN(r.target.videoHeight)){a.setPlayerSize(r.target.videoWidth,r.target.videoHeight);a.setControlsSize();a.media.setVideoSize(r.target.videoWidth,r.target.videoHeight)}},false)}c.addEventListener("play",
function(){for(var r=0,p=mejs.players.length;r<p;r++){var u=mejs.players[r];u.id!=a.id&&a.options.pauseOtherPlayers&&!u.paused&&!u.ended&&u.pause();u.hasFocus=false}a.hasFocus=true},false);a.media.addEventListener("ended",function(){try{a.media.setCurrentTime(0)}catch(r){}a.media.pause();a.setProgressRail&&a.setProgressRail();a.setCurrentRail&&a.setCurrentRail();if(a.options.loop)a.media.play();else!a.options.alwaysShowControls&&a.controlsEnabled&&a.showControls()},false);a.media.addEventListener("loadedmetadata",
function(){a.updateDuration&&a.updateDuration();a.updateCurrent&&a.updateCurrent();if(!a.isFullScreen){a.setPlayerSize(a.width,a.height);a.setControlsSize()}},false);setTimeout(function(){a.setPlayerSize(a.width,a.height);a.setControlsSize()},50);f(window).resize(function(){a.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||a.setPlayerSize(a.width,a.height);a.setControlsSize()});a.media.pluginType=="youtube"&&a.container.find(".mejs-overlay-play").hide()}if(n&&
c.pluginType=="native"){c.load();c.play()}if(a.options.success)typeof a.options.success=="string"?window[a.options.success](a.media,a.domNode,a):a.options.success(a.media,a.domNode,a)}},handleError:function(c){var e=this;e.controls.hide();e.options.error&&e.options.error(c)},setPlayerSize:function(c,e){var a=this;if(typeof c!="undefined")a.width=c;if(typeof e!="undefined")a.height=e;if(a.height.toString().indexOf("%")>0){e=a.media.videoWidth&&a.media.videoWidth>0?a.media.videoWidth:a.options.defaultVideoWidth;
var d=a.media.videoHeight&&a.media.videoHeight>0?a.media.videoHeight:a.options.defaultVideoHeight;c=a.container.parent().width();e=parseInt(c*d/e,10);if(a.container.parent()[0].tagName.toLowerCase()==="body"){c=f(window).width();e=f(window).height()}a.container.width(c).height(e);a.$media.width("100%").height("100%");a.container.find("object, embed, iframe").width("100%").height("100%");a.media.setVideoSize&&a.media.setVideoSize(c,e);a.layers.children(".mejs-layer").width("100%").height("100%")}else{a.container.width(a.width).height(a.height);
a.layers.children(".mejs-layer").width(a.width).height(a.height)}},setControlsSize:function(){var c=this,e=0,a=0,d=c.controls.find(".mejs-time-rail"),n=c.controls.find(".mejs-time-total");c.controls.find(".mejs-time-current");c.controls.find(".mejs-time-loaded");var o=d.siblings();if(c.options&&!c.options.autosizeProgress)a=parseInt(d.css("width"));if(a===0||!a){o.each(function(){if(f(this).css("position")!="absolute")e+=f(this).outerWidth(true)});a=c.controls.width()-e-(d.outerWidth(true)-d.outerWidth(false))}d.width(a);
n.width(a-(n.outerWidth(true)-n.width()));c.setProgressRail&&c.setProgressRail();c.setCurrentRail&&c.setCurrentRail()},buildposter:function(c,e,a,d){e=this;var n=f('<div class="mejs-poster mejs-layer"></div>').appendTo(a);a=c.$media.attr("poster");if(c.options.poster!=="")a=c.options.poster;a!==""&&a!=null?e.setPoster(a):n.hide();d.addEventListener("play",function(){n.hide()},false)},setPoster:function(c){var e=this.container.find(".mejs-poster"),a=e.find("img");if(a.length==0)a=f('<img width="100%" height="100%" />').appendTo(e);
a.attr("src",c)},buildoverlays:function(c,e,a,d){if(c.isVideo){var n=f('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(a),o=f('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(a),j=f('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(a).click(function(){d.paused?d.play():d.pause()});d.addEventListener("play",function(){j.hide();
n.hide();o.hide()},false);d.addEventListener("playing",function(){j.hide();n.hide();o.hide()},false);d.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||j.show()},false);d.addEventListener("waiting",function(){n.show()},false);d.addEventListener("loadeddata",function(){n.show()},false);d.addEventListener("canplay",function(){n.hide()},false);d.addEventListener("error",function(){n.hide();o.show();o.find("mejs-overlay-error").html("Error loading this resource")},false)}},buildkeyboard:function(c,
e,a,d){f(document).keydown(function(n){if(c.hasFocus&&c.options.enableKeyboard)for(var o=0,j=c.options.keyActions.length;o<j;o++)for(var r=c.options.keyActions[o],p=0,u=r.keys.length;p<u;p++)if(n.keyCode==r.keys[p]){n.preventDefault();r.action(c,d);return false}return true});f(document).click(function(n){if(f(n.target).closest(".mejs-container").length==0)c.hasFocus=false})},findTracks:function(){var c=this,e=c.$media.find("track");c.tracks=[];e.each(function(a,d){d=f(d);c.tracks.push({srclang:d.attr("srclang").toLowerCase(),
src:d.attr("src"),kind:d.attr("kind"),label:d.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(c){this.container[0].className="mejs-container "+c;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(c){this.media.setMuted(c)},setCurrentTime:function(c){this.media.setCurrentTime(c)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(c){this.media.setVolume(c)},
getVolume:function(){return this.media.volume},setSrc:function(c){this.media.setSrc(c)},remove:function(){var c=this;if(c.media.pluginType=="flash")c.media.remove();else c.media.pluginType=="native"&&c.media.prop("controls",true);c.isDynamic||c.$node.insertBefore(c.container);c.container.remove()}};if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(c){return this.each(function(){new mejs.MediaElementPlayer(this,c)})};f(document).ready(function(){f(".mejs-player").mediaelementplayer()});
window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});f.extend(MediaElementPlayer.prototype,{buildplaypause:function(c,e,a,d){c=this;var n=f('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+c.id+'" title="'+c.options.playpauseText+'"></button></div>').appendTo(e).click(function(o){o.preventDefault();d.paused?d.play():d.pause();return false});d.addEventListener("play",function(){n.removeClass("mejs-play").addClass("mejs-pause")},false);
d.addEventListener("playing",function(){n.removeClass("mejs-play").addClass("mejs-pause")},false);d.addEventListener("pause",function(){n.removeClass("mejs-pause").addClass("mejs-play")},false);d.addEventListener("paused",function(){n.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{stopText:"Stop"});f.extend(MediaElementPlayer.prototype,{buildstop:function(c,e,a,d){c=this;f('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+c.id+'" title="'+c.options.stopText+'"></button></div>').appendTo(e).click(function(){d.paused||d.pause();if(d.currentTime>0){d.setCurrentTime(0);e.find(".mejs-time-current").width("0px");e.find(".mejs-time-handle").css("left","0px");e.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));
e.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));a.find(".mejs-poster").show()}})}})})(mejs.$);
(function(f){f.extend(MediaElementPlayer.prototype,{buildprogress:function(c,e,a,d){f('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(e);a=this;var n=e.find(".mejs-time-total"),o=e.find(".mejs-time-loaded"),j=e.find(".mejs-time-current"),
r=e.find(".mejs-time-handle"),p=e.find(".mejs-time-float"),u=e.find(".mejs-time-float-current"),x=function(F){F=F.pageX;var z=n.offset(),J=n.outerWidth(),O=0;O=0;var L=F-z.left;if(F>z.left&&F<=J+z.left&&d.duration){O=(F-z.left)/J;O=O<=0.02?0:O*d.duration;A&&d.setCurrentTime(O);if(!mejs.MediaFeatures.hasTouch){p.css("left",L);u.html(mejs.Utility.secondsToTimeCode(O));p.show()}}},A=false,E=false;n.bind("mousedown",function(F){if(F.which===1){A=true;x(F);return false}});e.find(".mejs-time-total").bind("mouseenter",
function(){E=true;mejs.MediaFeatures.hasTouch||p.show()}).bind("mouseleave",function(){E=false;p.hide()});f(document).bind("mouseup",function(){A=false;p.hide()}).bind("mousemove",function(F){if(A||E)x(F)});d.addEventListener("progress",function(F){c.setProgressRail(F);c.setCurrentRail(F)},false);d.addEventListener("timeupdate",function(F){c.setProgressRail(F);c.setCurrentRail(F)},false);a.loaded=o;a.total=n;a.current=j;a.handle=r},setProgressRail:function(c){var e=this,a=c!=undefined?c.target:e.media,
d=null;if(a&&a.buffered&&a.buffered.length>0&&a.buffered.end&&a.duration)d=a.buffered.end(0)/a.duration;else if(a&&a.bytesTotal!=undefined&&a.bytesTotal>0&&a.bufferedBytes!=undefined)d=a.bufferedBytes/a.bytesTotal;else if(c&&c.lengthComputable&&c.total!=0)d=c.loaded/c.total;if(d!==null){d=Math.min(1,Math.max(0,d));e.loaded&&e.total&&e.loaded.width(e.total.width()*d)}},setCurrentRail:function(){var c=this;if(c.media.currentTime!=undefined&&c.media.duration)if(c.total&&c.handle){var e=c.total.width()*
c.media.currentTime/c.media.duration,a=e-c.handle.outerWidth(true)/2;c.current.width(e);c.handle.css("left",a)}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});f.extend(MediaElementPlayer.prototype,{buildcurrent:function(c,e,a,d){a=this;f('<div class="mejs-time"><span class="mejs-currenttime">'+(c.options.alwaysShowHours?"00:":"")+(c.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(e);a.currenttime=a.controls.find(".mejs-currenttime");d.addEventListener("timeupdate",function(){c.updateCurrent()},false)},buildduration:function(c,
e,a,d){a=this;if(e.children().last().find(".mejs-currenttime").length>0)f(a.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(c.options.alwaysShowHours?"00:":"")+(c.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(e.find(".mejs-time"));else{e.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");
f('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(c.options.alwaysShowHours?"00:":"")+(c.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(e)}a.durationD=a.controls.find(".mejs-duration");d.addEventListener("timeupdate",function(){c.updateDuration()},false)},
updateCurrent:function(){var c=this;if(c.currenttime)c.currenttime.html(mejs.Utility.secondsToTimeCode(c.media.currentTime,c.options.alwaysShowHours||c.media.duration>3600,c.options.showTimecodeFrameCount,c.options.framesPerSecond||25))},updateDuration:function(){var c=this;if(c.media.duration&&c.durationD)c.durationD.html(mejs.Utility.secondsToTimeCode(c.media.duration,c.options.alwaysShowHours,c.options.showTimecodeFrameCount,c.options.framesPerSecond||25))}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});f.extend(MediaElementPlayer.prototype,{buildvolume:function(c,e,a,d){if(!(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){a=this;var n=a.isVideo?a.options.videoVolume:a.options.audioVolume,o=n=="horizontal"?f('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+
'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(e):f('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(e),
j=a.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),r=a.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),p=a.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),u=a.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),x=function(z){if(j.is(":visible")){z=Math.max(0,z);z=Math.min(z,1);z==0?o.removeClass("mejs-mute").addClass("mejs-unmute"):o.removeClass("mejs-unmute").addClass("mejs-mute");if(n=="vertical"){var J=r.height(),
O=r.position();z=J-J*z;u.css("top",O.top+z-u.height()/2);p.height(J-z);p.css("top",O.top+z)}else{J=r.width();O=r.position();z=J*z;u.css("left",O.left+z-u.width()/2);p.width(z)}}else{j.show();x(z);j.hide()}},A=function(z){var J=null,O=r.offset();if(n=="vertical"){J=r.height();parseInt(r.css("top").replace(/px/,""),10);J=(J-(z.pageY-O.top))/J;if(O.top==0||O.left==0)return}else{J=r.width();J=(z.pageX-O.left)/J}J=Math.max(0,J);J=Math.min(J,1);x(J);J==0?d.setMuted(true):d.setMuted(false);d.setVolume(J)},
E=false,F=false;o.hover(function(){j.show();F=true},function(){F=false;!E&&n=="vertical"&&j.hide()});j.bind("mouseover",function(){F=true}).bind("mousedown",function(z){A(z);E=true;return false});f(document).bind("mouseup",function(){E=false;!F&&n=="vertical"&&j.hide()}).bind("mousemove",function(z){E&&A(z)});o.find("button").click(function(){d.setMuted(!d.muted)});d.addEventListener("volumechange",function(){if(!E)if(d.muted){x(0);o.removeClass("mejs-mute").addClass("mejs-unmute")}else{x(d.volume);
o.removeClass("mejs-unmute").addClass("mejs-mute")}},false);if(a.container.is(":visible")){x(c.options.startVolume);d.pluginType==="native"&&d.setVolume(c.options.startVolume)}}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"});f.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(c,e,a,d){if(c.isVideo){c.isInIframe=window.location!=window.parent.location;mejs.MediaFeatures.hasTrueNativeFullScreen&&c.container.bind(mejs.MediaFeatures.fullScreenEventName,function(){if(mejs.MediaFeatures.isFullScreen()){c.isNativeFullScreen=
true;c.setControlsSize()}else{c.isNativeFullScreen=false;c.exitFullScreen()}});var n=this,o=f('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+n.id+'" title="'+n.options.fullscreenText+'"></button></div>').appendTo(e);if(n.media.pluginType==="native"||!n.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)o.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||c.isFullScreen?c.exitFullScreen():c.enterFullScreen()});
else{var j=null;if(document.documentElement.style.pointerEvents===""&&!mejs.MediaFeatures.isOpera){var r=false,p=function(){if(r){u.hide();x.hide();A.hide();o.css("pointer-events","");n.controls.css("pointer-events","");r=false}},u=f('<div class="mejs-fullscreen-hover" />').appendTo(n.container).mouseover(p),x=f('<div class="mejs-fullscreen-hover"  />').appendTo(n.container).mouseover(p),A=f('<div class="mejs-fullscreen-hover"  />').appendTo(n.container).mouseover(p),E=function(){var F={position:"absolute",
top:0,left:0};u.css(F);x.css(F);A.css(F);u.width(n.container.width()).height(n.container.height()-n.controls.height());F=o.offset().left-n.container.offset().left;fullScreenBtnWidth=o.outerWidth(true);x.width(F).height(n.controls.height()).css({top:n.container.height()-n.controls.height()});A.width(n.container.width()-F-fullScreenBtnWidth).height(n.controls.height()).css({top:n.container.height()-n.controls.height(),left:F+fullScreenBtnWidth})};f(document).resize(function(){E()});o.mouseover(function(){if(!n.isFullScreen){var F=
o.offset(),z=c.container.offset();d.positionFullscreenButton(F.left-z.left,F.top-z.top,false);o.css("pointer-events","none");n.controls.css("pointer-events","none");u.show();A.show();x.show();E();r=true}});d.addEventListener("fullscreenchange",function(){p()})}else o.mouseover(function(){if(j!==null){clearTimeout(j);delete j}var F=o.offset(),z=c.container.offset();d.positionFullscreenButton(F.left-z.left,F.top-z.top,true)}).mouseout(function(){if(j!==null){clearTimeout(j);delete j}j=setTimeout(function(){d.hideFullscreenButton()},
1500)})}c.fullscreenBtn=o;f(document).bind("keydown",function(F){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||n.isFullScreen)&&F.keyCode==27)c.exitFullScreen()})}},enterFullScreen:function(){var c=this;if(!(c.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||c.options.usePluginFullScreen))){docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=c.container.height();normalWidth=c.container.width();
if(c.media.pluginType==="native")if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(c.container[0]);c.isInIframe&&setTimeout(function a(){if(c.isNativeFullScreen)f(window).width()!==screen.width?c.exitFullScreen():setTimeout(a,500)},500)}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){c.media.webkitEnterFullscreen();return}if(c.isInIframe){var e=c.options.newWindowCallback(this);if(e!=="")if(mejs.MediaFeatures.hasTrueNativeFullScreen)setTimeout(function(){if(!c.isNativeFullScreen){c.pause();
window.open(e,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250);else{c.pause();window.open(e,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}}c.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){c.container.css({width:"100%",height:"100%"});c.setControlsSize()},500);if(c.pluginType===
"native")c.$media.width("100%").height("100%");else{c.container.find("object, embed, iframe").width("100%").height("100%");c.media.setVideoSize(f(window).width(),f(window).height())}c.layers.children("div").width("100%").height("100%");c.fullscreenBtn&&c.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");c.setControlsSize();c.isFullScreen=true}},exitFullScreen:function(){var c=this;if(c.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)c.media.setFullscreen(false);
else{if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||c.isFullScreen))mejs.MediaFeatures.cancelFullScreen();document.documentElement.style.overflow=docStyleOverflow;c.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(c.pluginType==="native")c.$media.width(normalWidth).height(normalHeight);else{c.container.find("object embed").width(normalWidth).height(normalHeight);c.media.setVideoSize(normalWidth,normalHeight)}c.layers.children("div").width(normalWidth).height(normalHeight);
c.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");c.setControlsSize();c.isFullScreen=false}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"});f.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(c,e,a,d){if(c.isVideo)if(c.tracks.length!=0){var n=this,o;c.chapters=f('<div class="mejs-chapters mejs-layer"></div>').prependTo(a).hide();c.captions=f('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(a).hide();c.captionsText=c.captions.find(".mejs-captions-text");
c.captionsButton=f('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+n.id+'" title="'+n.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+c.id+'_captions" id="'+c.id+'_captions_none" value="none" checked="checked" /><label for="'+c.id+'_captions_none">None</label></li></ul></div></div>').appendTo(e).hover(function(){f(this).find(".mejs-captions-selector").css("visibility","visible")},function(){f(this).find(".mejs-captions-selector").css("visibility",
"hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")c.selectedTrack=null;else for(o=0;o<c.tracks.length;o++)if(c.tracks[o].srclang==lang){c.selectedTrack=c.tracks[o];c.captions.attr("lang",c.selectedTrack.srclang);c.displayCaptions();break}});c.options.alwaysShowControls?c.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):c.container.bind("mouseenter",function(){c.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",
function(){d.paused||c.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});c.trackToLoad=-1;c.selectedTrack=null;c.isLoadingTrack=false;for(o=0;o<c.tracks.length;o++)c.tracks[o].kind=="subtitles"&&c.addTrackButton(c.tracks[o].srclang,c.tracks[o].label);c.loadNextTrack();d.addEventListener("timeupdate",function(){c.displayCaptions()},false);d.addEventListener("loadedmetadata",function(){c.displayChapters()},false);c.container.hover(function(){if(c.hasChapters){c.chapters.css("visibility",
"visible");c.chapters.fadeIn(200)}},function(){c.hasChapters&&!d.paused&&c.chapters.fadeOut(200,function(){f(this).css("visibility","hidden");f(this).css("display","block")})});c.node.getAttribute("autoplay")!==null&&c.chapters.css("visibility","hidden")}},loadNextTrack:function(){var c=this;c.trackToLoad++;if(c.trackToLoad<c.tracks.length){c.isLoadingTrack=true;c.loadTrack(c.trackToLoad)}else c.isLoadingTrack=false},loadTrack:function(c){var e=this,a=e.tracks[c],d=function(){a.isLoaded=true;e.enableTrackButton(a.srclang,
a.label);e.loadNextTrack()};a.isTranslation?mejs.TrackFormatParser.translateTrackText(e.tracks[0].entries,e.tracks[0].srclang,a.srclang,e.options.googleApiKey,function(n){a.entries=n;d()}):f.ajax({url:a.src,success:function(n){a.entries=mejs.TrackFormatParser.parse(n);d();a.kind=="chapters"&&e.media.duration>0&&e.drawChapters(a)},error:function(){e.loadNextTrack()}})},enableTrackButton:function(c,e){var a=this;if(e==="")e=mejs.language.codes[c]||c;a.captionsButton.find("input[value="+c+"]").prop("disabled",
false).siblings("label").html(e);a.options.startLanguage==c&&f("#"+a.id+"_captions_"+c).click();a.adjustLanguageBox()},addTrackButton:function(c,e){var a=this;if(e==="")e=mejs.language.codes[c]||c;a.captionsButton.find("ul").append(f('<li><input type="radio" name="'+a.id+'_captions" id="'+a.id+"_captions_"+c+'" value="'+c+'" disabled="disabled" /><label for="'+a.id+"_captions_"+c+'">'+e+" (loading)</label></li>"));a.adjustLanguageBox();a.container.find(".mejs-captions-translations option[value="+
c+"]").remove()},adjustLanguageBox:function(){var c=this;c.captionsButton.find(".mejs-captions-selector").height(c.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+c.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var c=this,e,a=c.selectedTrack;if(a!=null&&a.isLoaded)for(e=0;e<a.entries.times.length;e++)if(c.media.currentTime>=a.entries.times[e].start&&c.media.currentTime<=a.entries.times[e].stop){c.captionsText.html(a.entries.text[e]);
c.captions.show();return}c.captions.hide()}},displayChapters:function(){var c=this,e;for(e=0;e<c.tracks.length;e++)if(c.tracks[e].kind=="chapters"&&c.tracks[e].isLoaded){c.drawChapters(c.tracks[e]);c.hasChapters=true;break}},drawChapters:function(c){var e=this,a,d,n=d=0;e.chapters.empty();for(a=0;a<c.entries.times.length;a++){d=c.entries.times[a].stop-c.entries.times[a].start;d=Math.floor(d/e.media.duration*100);if(d+n>100||a==c.entries.times.length-1&&d+n<100)d=100-n;e.chapters.append(f('<div class="mejs-chapter" rel="'+
c.entries.times[a].start+'" style="left: '+n.toString()+"%;width: "+d.toString()+'%;"><div class="mejs-chapter-block'+(a==c.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+c.entries.text[a]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(c.entries.times[a].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(c.entries.times[a].stop)+"</span></div></div>"));n+=d}e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(f(this).attr("rel")));
e.media.paused&&e.media.play()});e.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",
ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,
split2:function(c,e){return c.split(e)},parse:function(c){var e=0;c=this.split2(c,/\r?\n/);for(var a={text:[],times:[]},d,n;e<c.length;e++)if(this.pattern_identifier.exec(c[e])){e++;if((d=this.pattern_timecode.exec(c[e]))&&e<c.length){e++;n=c[e];for(e++;c[e]!==""&&e<c.length;){n=n+"\n"+c[e];e++}a.text.push(n);a.times.push({start:mejs.Utility.timeCodeToSeconds(d[1]),stop:mejs.Utility.timeCodeToSeconds(d[3]),settings:d[5]})}}return a}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=
function(c,e){var a=[],d="",n;for(n=0;n<c.length;n++){d+=c.substring(n,n+1);if(e.test(d)){a.push(d.replace(e,""));d=""}}a.push(d);return a}})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(c){if(typeof c.enterFullScreen=="undefined")return null;return c.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(c){c.isFullScreen?c.exitFullScreen():c.enterFullScreen()}},{render:function(c){return c.media.muted?"Unmute":"Mute"},click:function(c){c.media.muted?c.setMuted(false):c.setMuted(true)}},{isSeparator:true},{render:function(){return"Download Video"},click:function(c){window.location.href=c.media.currentSrc}}]});
f.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(c){c.contextMenu=f('<div class="mejs-contextmenu"></div>').appendTo(f("body")).hide();c.container.bind("contextmenu",function(e){if(c.isContextMenuEnabled){e.preventDefault();c.renderContextMenu(e.clientX-1,e.clientY-1);return false}});c.container.bind("click",function(){c.contextMenu.hide()});c.contextMenu.bind("mouseleave",function(){c.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=
true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var c=this;c.killContextMenuTimer();c.contextMenuTimer=setTimeout(function(){c.hideContextMenu();c.killContextMenuTimer()},750)},killContextMenuTimer:function(){var c=this.contextMenuTimer;if(c!=null){clearTimeout(c);delete c}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(c,e){for(var a=this,d="",n=a.options.contextMenuItems,o=0,j=n.length;o<
j;o++)if(n[o].isSeparator)d+='<div class="mejs-contextmenu-separator"></div>';else{var r=n[o].render(a);if(r!=null)d+='<div class="mejs-contextmenu-item" data-itemindex="'+o+'" id="element-'+Math.random()*1E6+'">'+r+"</div>"}a.contextMenu.empty().append(f(d)).css({top:e,left:c}).show();a.contextMenu.find(".mejs-contextmenu-item").each(function(){var p=f(this),u=parseInt(p.data("itemindex"),10),x=a.options.contextMenuItems[u];typeof x.show!="undefined"&&x.show(p,a);p.click(function(){typeof x.click!=
"undefined"&&x.click(a);a.contextMenu.hide()})});setTimeout(function(){a.killControlsTimer("rev3")},100)}})})(mejs.$);steal.loaded("webapp/lib/mediaelement/mediaelement-and-player.js");
(function(f){var c={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:5E3,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null},e={init:function(a){a&&f.extend(c,a)},showToast:function(a){var d={};f.extend(d,c,a);var n,o;a=!f(".toast-container").length?f("<div></div>").addClass("toast-container").addClass("toast-position-"+d.position).appendTo("body"):f(".toast-container");n=f("<div></div>").addClass("toast-item-wrapper");o=f("<div></div>").hide().addClass("toast-item toast-type-"+
d.type).appendTo(a).html("<p>"+d.text+"</p>").animate(d.inEffect,d.inEffectDuration).wrap(n);f("<div></div>").addClass("toast-item-close").prependTo(o).html(d.closeText).click(function(){f().toastmessage("removeToast",o,d)});f("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+d.type).prependTo(o);navigator.userAgent.match(/MSIE 6/i)&&a.css({top:document.documentElement.scrollTop});d.sticky||setTimeout(function(){f().toastmessage("removeToast",o,d)},d.stayTime);return o},showNoticeToast:function(a){a=
{text:a,type:"notice"};return f().toastmessage("showToast",a)},showSuccessToast:function(a){a={text:a,type:"success"};return f().toastmessage("showToast",a)},showErrorToast:function(a){a={text:a,type:"error"};return f().toastmessage("showToast",a)},showWarningToast:function(a){a={text:a,type:"warning"};return f().toastmessage("showToast",a)},removeToast:function(a,d){a.animate({opacity:"0"},600,function(){a.parent().animate({height:"0px"},300,function(){a.parent().remove()})});d&&d.close!==null&&
d.close()}};f.fn.toastmessage=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return e.init.apply(this,arguments);else f.error("Method "+a+" does not exist on jQuery.toastmessage")}})(jQuery);steal.loaded("webapp/lib/toast/jquery.toastmessage.js");
(function(f){f.prompt=function(c,e){e=f.extend({},f.prompt.defaults,e);f.prompt.currentPrefix=e.prefix;var a=f.browser.msie&&f.browser.version<7,d=f(document.body),n=f(window);e.classes=f.trim(e.classes);if(e.classes!="")e.classes=" "+e.classes;var o='<div class="'+e.prefix+"box"+e.classes+'" id="'+e.prefix+'box">';if(e.useiframe&&(f("object, applet").length>0||a))o+='<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+e.prefix+'fade" id="'+e.prefix+'fade"></iframe>';
else{a&&f("select").css("visibility","hidden");o+='<div class="'+e.prefix+'fade" id="'+e.prefix+'fade"></div>'}o+='<div class="'+e.prefix+'" id="'+e.prefix+'"><div class="'+e.prefix+'container"><div class="';o+=e.prefix+'close ui-btn-left ui-btn ui-btn-up-a ui-btn-icon-notext ui-btn-corner-all ui-shadow"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">Close</span><span class="ui-icon ui-icon-delete ui-icon-shadow"></span></span></div><div id="'+e.prefix+'states" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow ui-body-a"></div>';
o+="</div></div></div>";var j=f(o).appendTo(d),r=j.children("#"+e.prefix),p=j.children("#"+e.prefix+"fade");if(c.constructor==String)c={state0:{html:c,buttons:e.buttons,focus:e.focus,submit:e.submit}};var u="";f.each(c,function(J,O){O=f.extend({},f.prompt.defaults.state,O);c[J]=O;u+='<div id="'+e.prefix+"_state_"+J+'" class="'+e.prefix+'_state" style="display:none;"><div class="'+e.prefix+'message">'+O.html+'</div><div class="'+e.prefix+'buttons">';f.each(O.buttons,function(L,w){u+=typeof w=="object"?
'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+J+"_button"+w.title.replace(/[^a-z0-9]+/gi,"")+'" id="'+e.prefix+"_"+J+"_button"+w.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+w.value+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+w.title+"</span></span></button>":'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+J+"_button"+L+'" id="'+e.prefix+"_"+J+"_button"+L+'" value="'+
w+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+L+"</span></span></button>"});u+="</div></div>"});r.find("#"+e.prefix+"states").html(u).children("."+e.prefix+"_state:first").css("display","block");r.find("."+e.prefix+"buttons:empty").css("display","none");f.each(c,function(J,O){var L=r.find("#"+e.prefix+"_state_"+J);L.children("."+e.prefix+"buttons").children("button").click(function(){var w=L.children("."+e.prefix+"message"),t=O.buttons[f(this).text()];if(t==undefined)for(var H in O.buttons)if(O.buttons[H].title==
f(this).text())t=O.buttons[H].value;if(typeof t=="object")t=t.value;var G={};f.each(r.find("#"+e.prefix+"states :input").serializeArray(),function(D,P){if(G[P.name]===undefined)G[P.name]=P.value;else if(typeof G[P.name]==Array||typeof G[P.name]=="object")G[P.name].push(P.value);else G[P.name]=[G[P.name],P.value]});H=O.submit(t,w,G);if(H===undefined||H)z(true,t,w,G)});L.find("."+e.prefix+"buttons button:eq("+O.focus+")").addClass(e.prefix+"defaultbutton")});var x=function(){j.css({top:n.scrollTop()})},
A=function(){if(e.persistent){var J=0;j.addClass(e.prefix+"warning");var O=setInterval(function(){j.toggleClass(e.prefix+"warning");if(J++>1){clearInterval(O);j.removeClass(e.prefix+"warning")}},100)}else z()},E=function(J){var O=window.event?event.keyCode:J.keyCode;O==27&&A();if(O==9){var L=f(":input:enabled:visible",j),w=J.shiftKey&&J.target==L[0];if(!J.shiftKey&&J.target==L[L.length-1]||w){setTimeout(function(){if(L){var t=L[w===true?L.length-1:0];t&&t.focus()}},10);return false}}},F=function(){j.css({position:a?
"absolute":"fixed",height:n.height(),width:"100%",top:a?n.scrollTop():0,left:0,right:0,bottom:0});p.css({position:"absolute",height:n.height(),width:"100%",top:0,left:0,right:0,bottom:0});r.css({position:"absolute",top:e.top,left:"50%",marginLeft:r.outerWidth()/2*-1})},z=function(J,O,L,w){r.remove();a&&d.unbind("scroll",x);n.unbind("resize",F);p.fadeOut(e.overlayspeed,function(){p.unbind("click",A);p.remove();J&&e.callback(O,L,w);j.unbind("keypress",E);j.remove();a&&!e.useiframe&&f("select").css("visibility",
"visible")})};F();(function(){p.css({zIndex:e.zIndex,display:"none",opacity:e.opacity});r.css({zIndex:e.zIndex+1,display:"none"});j.css({zIndex:e.zIndex})})();a&&n.scroll(x);p.click(A);n.resize(F);j.bind("keydown keypress",E);r.find("."+e.prefix+"close").click(z);p.fadeIn(e.overlayspeed);r[e.show](e.promptspeed,e.loaded);r.find("#"+e.prefix+"states ."+e.prefix+"_state:first ."+e.prefix+"defaultbutton").focus();e.timeout>0&&setTimeout(f.prompt.close,e.timeout);return j};f.prompt.defaults={prefix:"jqi",
classes:"",buttons:{Ok:true},loaded:function(){},submit:function(){return true},callback:function(){},overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",focus:0,useiframe:false,top:"15%",persistent:true,timeout:0,state:{html:"",buttons:{Ok:true},focus:0,submit:function(){return true}}};f.prompt.currentPrefix=f.prompt.defaults.prefix;f.prompt.setDefaults=function(c){f.prompt.defaults=f.extend({},f.prompt.defaults,c)};f.prompt.setStateDefaults=function(c){f.prompt.defaults.state=f.extend({},f.prompt.defaults.state,
c)};f.prompt.getStateContent=function(c){return f("#"+f.prompt.currentPrefix+"_state_"+c)};f.prompt.getCurrentState=function(){return f("."+f.prompt.currentPrefix+"_state:visible")};f.prompt.getCurrentStateName=function(){return f.prompt.getCurrentState().attr("id").replace(f.prompt.currentPrefix+"_state_","")};f.prompt.goToState=function(c,e){f("."+f.prompt.currentPrefix+"_state").slideUp("slow");f("#"+f.prompt.currentPrefix+"_state_"+c).slideDown("slow",function(){f(this).find("."+f.prompt.currentPrefix+
"defaultbutton").focus();typeof e=="function"&&e()})};f.prompt.nextState=function(c){var e=f("."+f.prompt.currentPrefix+"_state:visible").next();f("."+f.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+f.prompt.currentPrefix+"defaultbutton").focus();typeof c=="function"&&c()})};f.prompt.prevState=function(c){var e=f("."+f.prompt.currentPrefix+"_state:visible").prev();f("."+f.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+
f.prompt.currentPrefix+"defaultbutton").focus();typeof c=="function"&&c()})};f.prompt.close=function(){f("#"+f.prompt.currentPrefix+"box").fadeOut("fast",function(){f(this).remove()})};f.fn.prompt=function(c){if(c==undefined)c={};if(c.withDataAndEvents==undefined)c.withDataAndEvents=false;f.prompt(f(this).clone(c.withDataAndEvents).html(),c)}})(jQuery);steal.loaded("webapp/lib/jquery-impromptu.3.1.js");
(function(){var f=Math,c=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",e="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,a="ontouchstart"in window,d=c+"Transform"in document.documentElement.style,n=/android/gi.test(navigator.appVersion),o=/iphone|ipad/gi.test(navigator.appVersion),j=/playbook/gi.test(navigator.appVersion),r=o||j,p=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(w){return setTimeout(w,1)}}(),u=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),x="onorientationchange"in window?"orientationchange":"resize",A=a?"touchstart":"mousedown",E=a?"touchmove":"mousemove",F=a?"touchend":"mouseup",z=a?"touchcancel":"mouseup",
J=c=="Moz"?"DOMMouseScroll":"mousewheel",O="translate"+(e?"3d(":"("),L=e?",0)":")";j=function(w,t){var H=this,G=document,D;H.wrapper=typeof w=="object"?w:G.getElementById(w);H.wrapper.style.overflow="hidden";H.scroller=H.wrapper.children[0];H.options={hScroll:true,vScroll:true,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,hScrollbar:true,vScrollbar:true,fixedScrollbar:n,hideScrollbar:o,fadeScrollbar:o&&e,scrollbarClass:"",
zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(P){P.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(D in t)H.options[D]=t[D];H.options.useTransform=d?H.options.useTransform:false;H.options.hScrollbar=H.options.hScroll&&H.options.hScrollbar;H.options.vScrollbar=
H.options.vScroll&&H.options.vScrollbar;H.options.zoom=H.options.useTransform&&H.options.zoom;H.options.useTransition=r&&H.options.useTransition;H.scroller.style[c+"TransitionProperty"]=H.options.useTransform?"-"+c.toLowerCase()+"-transform":"top left";H.scroller.style[c+"TransitionDuration"]="0";H.scroller.style[c+"TransformOrigin"]="0 0";if(H.options.useTransition)H.scroller.style[c+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)";if(H.options.useTransform)H.scroller.style[c+"Transform"]=
O+"0,0"+L;else H.scroller.style.cssText+=";position:absolute;top:0;left:0";if(H.options.useTransition)H.options.fixedScrollbar=true;H.refresh();H._bind(x,window);H._bind(A);if(!a){H._bind("mouseout",H.wrapper);H._bind(J)}if(H.options.checkDOMChanges)H.checkDOMTime=setInterval(function(){H._checkDOMChanges()},500)};j.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(w){var t=this;switch(w.type){case A:if(!a&&
w.button!==0)return;t._start(w);break;case E:t._move(w);break;case F:case z:t._end(w);break;case x:t._resize();break;case J:t._wheel(w);break;case "mouseout":t._mouseout(w);break;case "webkitTransitionEnd":t._transitionEnd(w);break}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(w){var t=this,H=document,G;if(t[w+"Scrollbar"]){if(!t[w+
"ScrollbarWrapper"]){G=H.createElement("div");if(t.options.scrollbarClass)G.className=t.options.scrollbarClass+w.toUpperCase();else G.style.cssText="position:absolute;z-index:100;"+(w=="h"?"height:7px;bottom:1px;left:2px;right:"+(t.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(t.hScrollbar?"7":"2")+"px;top:2px;right:1px");G.style.cssText+=";pointer-events:none;-"+c+"-transition-property:opacity;-"+c+"-transition-duration:"+(t.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(t.options.hideScrollbar?
"0":"1");t.wrapper.appendChild(G);t[w+"ScrollbarWrapper"]=G;G=H.createElement("div");if(!t.options.scrollbarClass)G.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+c+"-background-clip:padding-box;-"+c+"-box-sizing:border-box;"+(w=="h"?"height:100%":"width:100%")+";-"+c+"-border-radius:3px;border-radius:3px";G.style.cssText+=";pointer-events:none;-"+c+"-transition-property:-"+c+"-transform;-"+c+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+
c+"-transition-duration:0;-"+c+"-transform:"+O+"0,0"+L;if(t.options.useTransition)G.style.cssText+=";-"+c+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";t[w+"ScrollbarWrapper"].appendChild(G);t[w+"ScrollbarIndicator"]=G}if(w=="h"){t.hScrollbarSize=t.hScrollbarWrapper.clientWidth;t.hScrollbarIndicatorSize=f.max(f.round(t.hScrollbarSize*t.hScrollbarSize/t.scrollerW),8);t.hScrollbarIndicator.style.width=t.hScrollbarIndicatorSize+"px";t.hScrollbarMaxScroll=t.hScrollbarSize-t.hScrollbarIndicatorSize;
t.hScrollbarProp=t.hScrollbarMaxScroll/t.maxScrollX}else{t.vScrollbarSize=t.vScrollbarWrapper.clientHeight;t.vScrollbarIndicatorSize=f.max(f.round(t.vScrollbarSize*t.vScrollbarSize/t.scrollerH),8);t.vScrollbarIndicator.style.height=t.vScrollbarIndicatorSize+"px";t.vScrollbarMaxScroll=t.vScrollbarSize-t.vScrollbarIndicatorSize;t.vScrollbarProp=t.vScrollbarMaxScroll/t.maxScrollY}t._scrollbarPos(w,true)}else if(t[w+"ScrollbarWrapper"]){if(d)t[w+"ScrollbarIndicator"].style[c+"Transform"]="";t[w+"ScrollbarWrapper"].parentNode.removeChild(t[w+
"ScrollbarWrapper"]);t[w+"ScrollbarWrapper"]=null;t[w+"ScrollbarIndicator"]=null}},_resize:function(){var w=this;setTimeout(function(){w.refresh()},n?200:0)},_pos:function(w,t){w=this.hScroll?w:0;t=this.vScroll?t:0;if(this.options.useTransform)this.scroller.style[c+"Transform"]=O+w+"px,"+t+"px"+L+" scale("+this.scale+")";else{w=f.round(w);t=f.round(t);this.scroller.style.left=w+"px";this.scroller.style.top=t+"px"}this.x=w;this.y=t;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(w,
t){var H=this,G=w=="h"?H.x:H.y;if(H[w+"Scrollbar"]){G=H[w+"ScrollbarProp"]*G;if(G<0){if(!H.options.fixedScrollbar){G=H[w+"ScrollbarIndicatorSize"]+f.round(G*3);if(G<8)G=8;H[w+"ScrollbarIndicator"].style[w=="h"?"width":"height"]=G+"px"}G=0}else if(G>H[w+"ScrollbarMaxScroll"])if(H.options.fixedScrollbar)G=H[w+"ScrollbarMaxScroll"];else{G=H[w+"ScrollbarIndicatorSize"]-f.round((G-H[w+"ScrollbarMaxScroll"])*3);if(G<8)G=8;H[w+"ScrollbarIndicator"].style[w=="h"?"width":"height"]=G+"px";G=H[w+"ScrollbarMaxScroll"]+
(H[w+"ScrollbarIndicatorSize"]-G)}H[w+"ScrollbarWrapper"].style[c+"TransitionDelay"]="0";H[w+"ScrollbarWrapper"].style.opacity=t&&H.options.hideScrollbar?"0":"1";H[w+"ScrollbarIndicator"].style[c+"Transform"]=O+(w=="h"?G+"px,0":"0,"+G+"px")+L}},_start:function(w){var t=this,H=a?w.touches[0]:w,G,D;if(t.enabled){t.options.onBeforeScrollStart&&t.options.onBeforeScrollStart.call(t,w);if(t.options.useTransition||t.options.zoom)t._transitionTime(0);t.moved=false;t.animating=false;t.zoomed=false;t.distX=
0;t.distY=0;t.absDistX=0;t.absDistY=0;t.dirX=0;t.dirY=0;if(t.options.zoom&&a&&w.touches.length>1){D=f.abs(w.touches[0].pageX-w.touches[1].pageX);G=f.abs(w.touches[0].pageY-w.touches[1].pageY);t.touchesDistStart=f.sqrt(D*D+G*G);t.originX=f.abs(w.touches[0].pageX+w.touches[1].pageX-t.wrapperOffsetLeft*2)/2-t.x;t.originY=f.abs(w.touches[0].pageY+w.touches[1].pageY-t.wrapperOffsetTop*2)/2-t.y;t.options.onZoomStart&&t.options.onZoomStart.call(t,w)}if(t.options.momentum){if(t.options.useTransform){G=getComputedStyle(t.scroller,
null)[c+"Transform"].replace(/[^0-9-.,]/g,"").split(",");D=G[4]*1;G=G[5]*1}else{D=getComputedStyle(t.scroller,null).left.replace(/[^0-9-]/g,"")*1;G=getComputedStyle(t.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(D!=t.x||G!=t.y){t.options.useTransition?t._unbind("webkitTransitionEnd"):u(t.aniTime);t.steps=[];t._pos(D,G)}}t.absStartX=t.x;t.absStartY=t.y;t.startX=t.x;t.startY=t.y;t.pointX=H.pageX;t.pointY=H.pageY;t.startTime=w.timeStamp||(new Date).getTime();t.options.onScrollStart&&t.options.onScrollStart.call(t,
w);t._bind(E);t._bind(F);t._bind(z)}},_move:function(w){var t=this,H=a?w.touches[0]:w,G=H.pageX-t.pointX,D=H.pageY-t.pointY,P=t.x+G,W=t.y+D,Z=w.timeStamp||(new Date).getTime();t.options.onBeforeScrollMove&&t.options.onBeforeScrollMove.call(t,w);if(t.options.zoom&&a&&w.touches.length>1){P=f.abs(w.touches[0].pageX-w.touches[1].pageX);W=f.abs(w.touches[0].pageY-w.touches[1].pageY);t.touchesDist=f.sqrt(P*P+W*W);t.zoomed=true;H=1/t.touchesDistStart*t.touchesDist*this.scale;if(H<t.options.zoomMin)H=0.5*
t.options.zoomMin*Math.pow(2,H/t.options.zoomMin);else if(H>t.options.zoomMax)H=2*t.options.zoomMax*Math.pow(0.5,t.options.zoomMax/H);t.lastScale=H/this.scale;P=this.originX-this.originX*t.lastScale+this.x;W=this.originY-this.originY*t.lastScale+this.y;this.scroller.style[c+"Transform"]=O+P+"px,"+W+"px"+L+" scale("+H+")";t.options.onZoom&&t.options.onZoom.call(t,w)}else{t.pointX=H.pageX;t.pointY=H.pageY;if(P>0||P<t.maxScrollX)P=t.options.bounce?t.x+G/2:P>=0||t.maxScrollX>=0?0:t.maxScrollX;if(W>t.minScrollY||
W<t.maxScrollY)W=t.options.bounce?t.y+D/2:W>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY;if(t.absDistX<6&&t.absDistY<6){t.distX+=G;t.distY+=D;t.absDistX=f.abs(t.distX);t.absDistY=f.abs(t.distY)}else{if(t.options.lockDirection)if(t.absDistX>t.absDistY+5){W=t.y;D=0}else if(t.absDistY>t.absDistX+5){P=t.x;G=0}t.moved=true;t._pos(P,W);t.dirX=G>0?-1:G<0?1:0;t.dirY=D>0?-1:D<0?1:0;if(Z-t.startTime>300){t.startTime=Z;t.startX=t.x;t.startY=t.y}t.options.onScrollMove&&t.options.onScrollMove.call(t,
w)}}},_end:function(w){if(!(a&&w.touches.length!=0)){var t=this,H=a?w.changedTouches[0]:w,G,D,P={dist:0,time:0},W={dist:0,time:0},Z=(w.timeStamp||(new Date).getTime())-t.startTime,la=t.x,oa=t.y;t._unbind(E);t._unbind(F);t._unbind(z);t.options.onBeforeScrollEnd&&t.options.onBeforeScrollEnd.call(t,w);if(t.zoomed){la=t.scale*t.lastScale;la=Math.max(t.options.zoomMin,la);la=Math.min(t.options.zoomMax,la);t.lastScale=la/t.scale;t.scale=la;t.x=t.originX-t.originX*t.lastScale+t.x;t.y=t.originY-t.originY*
t.lastScale+t.y;t.scroller.style[c+"TransitionDuration"]="200ms";t.scroller.style[c+"Transform"]=O+t.x+"px,"+t.y+"px"+L+" scale("+t.scale+")";t.zoomed=false;t.refresh();t.options.onZoomEnd&&t.options.onZoomEnd.call(t,w)}else{if(t.moved){if(Z<300&&t.options.momentum){P=la?t._momentum(la-t.startX,Z,-t.x,t.scrollerW-t.wrapperW+t.x,t.options.bounce?t.wrapperW:0):P;W=oa?t._momentum(oa-t.startY,Z,-t.y,t.maxScrollY<0?t.scrollerH-t.wrapperH+t.y-t.minScrollY:0,t.options.bounce?t.wrapperH:0):W;la=t.x+P.dist;
oa=t.y+W.dist;if(t.x>0&&la>0||t.x<t.maxScrollX&&la<t.maxScrollX)P={dist:0,time:0};if(t.y>t.minScrollY&&oa>t.minScrollY||t.y<t.maxScrollY&&oa<t.maxScrollY)W={dist:0,time:0}}if(P.dist||W.dist){Z=f.max(f.max(P.time,W.time),10);if(t.options.snap){P=la-t.absStartX;W=oa-t.absStartY;if(f.abs(P)<t.options.snapThreshold&&f.abs(W)<t.options.snapThreshold)t.scrollTo(t.absStartX,t.absStartY,200);else{snap=t._snap(la,oa);la=snap.x;oa=snap.y;Z=f.max(snap.time,Z)}}t.scrollTo(la,oa,Z)}else if(t.options.snap){P=la-
t.absStartX;W=oa-t.absStartY;if(f.abs(P)<t.options.snapThreshold&&f.abs(W)<t.options.snapThreshold)t.scrollTo(t.absStartX,t.absStartY,200);else{snap=t._snap(t.x,t.y);if(snap.x!=t.x||snap.y!=t.y)t.scrollTo(snap.x,snap.y,snap.time)}}else t._resetPos(200)}else{if(a)if(t.doubleTapTimer&&t.options.zoom){clearTimeout(t.doubleTapTimer);t.doubleTapTimer=null;t.options.onZoomStart&&t.options.onZoomStart.call(t,w);t.zoom(t.pointX,t.pointY,t.scale==1?t.options.doubleTapZoom:1);t.options.onZoomEnd&&setTimeout(function(){t.options.onZoomEnd.call(t,
w)},200)}else t.doubleTapTimer=setTimeout(function(){t.doubleTapTimer=null;for(G=H.target;G.nodeType!=1;)G=G.parentNode;if(G.tagName!="SELECT"&&G.tagName!="INPUT"&&G.tagName!="TEXTAREA"){D=document.createEvent("MouseEvents");D.initMouseEvent("click",true,true,w.view,1,H.screenX,H.screenY,H.clientX,H.clientY,w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,0,null);D._fake=true;G.dispatchEvent(D)}},t.options.zoom?250:0);t._resetPos(200)}t.options.onTouchEnd&&t.options.onTouchEnd.call(t,w)}}},_resetPos:function(w){var t=
this,H=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,G=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(H==t.x&&G==t.y){if(t.moved){t.moved=false;t.options.onScrollEnd&&t.options.onScrollEnd.call(t)}if(t.hScrollbar&&t.options.hideScrollbar){if(c=="webkit")t.hScrollbarWrapper.style[c+"TransitionDelay"]="300ms";t.hScrollbarWrapper.style.opacity="0"}if(t.vScrollbar&&t.options.hideScrollbar){if(c=="webkit")t.vScrollbarWrapper.style[c+"TransitionDelay"]="300ms";t.vScrollbarWrapper.style.opacity=
"0"}}else t.scrollTo(H,G,w||0)},_wheel:function(w){var t=this,H,G;if("wheelDeltaX"in w){H=w.wheelDeltaX/12;G=w.wheelDeltaY/12}else H="detail"in w?(G=-w.detail*3):(G=-w.wheelDelta);if(t.options.wheelAction=="zoom"){G=t.scale*Math.pow(2,1/3*(G?G/Math.abs(G):0));if(G<t.options.zoomMin)G=t.options.zoomMin;if(G>t.options.zoomMax)G=t.options.zoomMax;if(G!=t.scale){!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,w);t.wheelZoomCount++;t.zoom(w.pageX,w.pageY,G,400);setTimeout(function(){t.wheelZoomCount--;
!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,w)},400)}}else{H=t.x+H;G=t.y+G;if(H>0)H=0;else if(H<t.maxScrollX)H=t.maxScrollX;if(G>t.minScrollY)G=t.minScrollY;else if(G<t.maxScrollY)G=t.maxScrollY;t.scrollTo(H,G,0)}},_mouseout:function(w){var t=w.relatedTarget;if(t)for(;t=t.parentNode;)if(t==this.wrapper)return;this._end(w)},_transitionEnd:function(w){var t=this;if(w.target==t.scroller){t._unbind("webkitTransitionEnd");t._startAni()}},_startAni:function(){var w=this,t=w.x,H=w.y,
G=(new Date).getTime(),D,P;if(!w.animating)if(w.steps.length){D=w.steps.shift();if(D.x==t&&D.y==H)D.time=0;w.animating=true;w.moved=true;if(w.options.useTransition){w._transitionTime(D.time);w._pos(D.x,D.y);w.animating=false;D.time?w._bind("webkitTransitionEnd"):w._resetPos(0)}else(function W(){var Z=(new Date).getTime();if(Z>=G+D.time){w._pos(D.x,D.y);w.animating=false;w.options.onAnimationEnd&&w.options.onAnimationEnd.call(w);w._startAni()}else{Z=(Z-G)/D.time-1;P=f.sqrt(1-Z*Z);Z=(D.x-t)*P+t;w._pos(Z,
(D.y-H)*P+H);if(w.animating)w.aniTime=p(W)}})()}else w._resetPos(400)},_transitionTime:function(w){w+="ms";this.scroller.style[c+"TransitionDuration"]=w;if(this.hScrollbar)this.hScrollbarIndicator.style[c+"TransitionDuration"]=w;if(this.vScrollbar)this.vScrollbarIndicator.style[c+"TransitionDuration"]=w},_momentum:function(w,t,H,G,D){t=f.abs(w)/t;var P=t*t/0.0012,W=0;W=0;if(w>0&&P>H){W=D/(6/(P/t*6.0E-4));H+=W;t=t*H/P;P=H}else if(w<0&&P>G){W=D/(6/(P/t*6.0E-4));G+=W;t=t*G/P;P=G}P*=w<0?-1:1;W=t/6.0E-4;
return{dist:P,time:f.round(W)}},_offset:function(w){for(var t=-w.offsetLeft,H=-w.offsetTop;w=w.offsetParent;){t-=w.offsetLeft;H-=w.offsetTop}if(w!=this.wrapper){t*=this.scale;H*=this.scale}return{left:t,top:H}},_snap:function(w,t){var H=this,G,D,P;P=H.pagesX.length-1;G=0;for(D=H.pagesX.length;G<D;G++)if(w>=H.pagesX[G]){P=G;break}P==H.currPageX&&P>0&&H.dirX<0&&P--;w=H.pagesX[P];D=(D=f.abs(w-H.pagesX[H.currPageX]))?f.abs(H.x-w)/D*500:0;H.currPageX=P;P=H.pagesY.length-1;for(G=0;G<P;G++)if(t>=H.pagesY[G]){P=
G;break}P==H.currPageY&&P>0&&H.dirY<0&&P--;t=H.pagesY[P];G=(G=f.abs(t-H.pagesY[H.currPageY]))?f.abs(H.y-t)/G*500:0;H.currPageY=P;H=f.round(f.max(D,G))||200;return{x:w,y:t,time:H}},_bind:function(w,t,H){(t||this.scroller).addEventListener(w,this,!!H)},_unbind:function(w,t,H){(t||this.scroller).removeEventListener(w,this,!!H)},destroy:function(){var w=this;w.scroller.style[c+"Transform"]="";w.hScrollbar=false;w.vScrollbar=false;w._scrollbar("h");w._scrollbar("v");w._unbind(x,window);w._unbind(A);w._unbind(E);
w._unbind(F);w._unbind(z);if(w.options.hasTouch){w._unbind("mouseout",w.wrapper);w._unbind(J)}w.options.useTransition&&w._unbind("webkitTransitionEnd");w.options.checkDOMChanges&&clearInterval(w.checkDOMTime);w.options.onDestroy&&w.options.onDestroy.call(w)},refresh:function(){var w=this,t,H=0,G=0;if(w.scale<w.options.zoomMin)w.scale=w.options.zoomMin;w.wrapperW=w.wrapper.clientWidth||1;w.wrapperH=w.wrapper.clientHeight||1;w.minScrollY=-w.options.topOffset||0;w.scrollerW=f.round(w.scroller.offsetWidth*
w.scale);w.scrollerH=f.round((w.scroller.offsetHeight+w.minScrollY)*w.scale);w.maxScrollX=w.wrapperW-w.scrollerW;w.maxScrollY=w.wrapperH-w.scrollerH+w.minScrollY;w.dirX=0;w.dirY=0;w.options.onRefresh&&w.options.onRefresh.call(w);w.hScroll=w.options.hScroll&&w.maxScrollX<0;w.vScroll=w.options.vScroll&&(!w.options.bounceLock&&!w.hScroll||w.scrollerH>w.wrapperH);w.hScrollbar=w.hScroll&&w.options.hScrollbar;w.vScrollbar=w.vScroll&&w.options.vScrollbar&&w.scrollerH>w.wrapperH;t=w._offset(w.wrapper);w.wrapperOffsetLeft=
-t.left;w.wrapperOffsetTop=-t.top;if(typeof w.options.snap=="string"){w.pagesX=[];w.pagesY=[];els=w.scroller.querySelectorAll(w.options.snap);i=0;for(l=els.length;i<l;i++){H=w._offset(els[i]);H.left+=w.wrapperOffsetLeft;H.top+=w.wrapperOffsetTop;w.pagesX[i]=H.left<w.maxScrollX?w.maxScrollX:H.left*w.scale;w.pagesY[i]=H.top<w.maxScrollY?w.maxScrollY:H.top*w.scale}}else if(w.options.snap){for(w.pagesX=[];H>=w.maxScrollX;){w.pagesX[G]=H;H-=w.wrapperW;G++}if(w.maxScrollX%w.wrapperW)w.pagesX[w.pagesX.length]=
w.maxScrollX-w.pagesX[w.pagesX.length-1]+w.pagesX[w.pagesX.length-1];G=H=0;for(w.pagesY=[];H>=w.maxScrollY;){w.pagesY[G]=H;H-=w.wrapperH;G++}if(w.maxScrollY%w.wrapperH)w.pagesY[w.pagesY.length]=w.maxScrollY-w.pagesY[w.pagesY.length-1]+w.pagesY[w.pagesY.length-1]}w._scrollbar("h");w._scrollbar("v");if(!w.zoomed){w.scroller.style[c+"TransitionDuration"]="0";w._resetPos(200)}},scrollTo:function(w,t,H,G){var D=this,P=w;D.stop();P.length||(P=[{x:w,y:t,time:H,relative:G}]);w=0;for(t=P.length;w<t;w++){if(P[w].relative){P[w].x=
D.x-P[w].x;P[w].y=D.y-P[w].y}D.steps.push({x:P[w].x,y:P[w].y,time:P[w].time||0})}D._startAni()},scrollToElement:function(w,t){var H=this;if(w=w.nodeType?w:H.scroller.querySelector(w)){w=H._offset(w);w.left+=H.wrapperOffsetLeft;w.top+=H.wrapperOffsetTop;w.left=w.left>0?0:w.left<H.maxScrollX?H.maxScrollX:w.left;w.top=w.top>H.minScrollY?H.minScrollY:w.top<H.maxScrollY?H.maxScrollY:w.top;t=t===undefined?f.max(f.abs(w.left)*2,f.abs(w.top)*2):t;H.scrollTo(w.left,w.top,t)}},scrollToPage:function(w,t,H){var G=
this;if(G.options.snap){w=w=="next"?G.currPageX+1:w=="prev"?G.currPageX-1:w;t=t=="next"?G.currPageY+1:t=="prev"?G.currPageY-1:t;w=w<0?0:w>G.pagesX.length-1?G.pagesX.length-1:w;t=t<0?0:t>G.pagesY.length-1?G.pagesY.length-1:t;G.currPageX=w;G.currPageY=t;w=G.pagesX[w];t=G.pagesY[t]}else{w=-G.wrapperW*w;t=-G.wrapperH*t;if(w<G.maxScrollX)w=G.maxScrollX;if(t<G.maxScrollY)t=G.maxScrollY}G.scrollTo(w,t,H||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(E);this._unbind(F);
this._unbind(z)},enable:function(){this.enabled=true},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):u(this.aniTime);this.steps=[];this.animating=this.moved=false},zoom:function(w,t,H,G){var D=this,P=H/D.scale;if(D.options.useTransform){D.zoomed=true;G=G===undefined?200:G;w=w-D.wrapperOffsetLeft-D.x;t=t-D.wrapperOffsetTop-D.y;D.x=w-w*P+D.x;D.y=t-t*P+D.y;D.scale=H;D.refresh();D.x=D.x>0?0:D.x<D.maxScrollX?D.maxScrollX:D.x;D.y=D.y>D.minScrollY?D.minScrollY:D.y<D.maxScrollY?
D.maxScrollY:D.y;D.scroller.style[c+"TransitionDuration"]=G+"ms";D.scroller.style[c+"Transform"]=O+D.x+"px,"+D.y+"px"+L+" scale("+H+")";D.zoomed=false}},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};if(typeof exports!=="undefined")exports.iScroll=j;else window.iScroll=j})();steal.loaded("webapp/lib/iscroll.js");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_desktop_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div id="desktop" data-role="page">      <div class="main-actions">        <div class="desktop-title">     <h1>FastND</h1>    </div>        ');if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(a):!user||user.is_public))d.push('     <div id="signin-actions" data-role="controlgroup" data-type="horizontal">      <a id="login-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="b">Login</a>      <a id="signup-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="a">Register</a>     </div>    ');
d.push("        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public))d.push('     <div id="header-buttons">      <!-- <a ontouchstart="" class="add-company-button" data-tooltip="Add Company">Add Company</a> --\>      <a ontouchstart="" id="profile-button" data-tooltip="User Profile">Profile</a>      <a ontouchstart="" id="manage-button" data-tooltip="Manage Columns" class="disabled">Manage Columns</a>      <a ontouchstart="" class="help-button" data-tooltip="Get Help">Help</a>      <a ontouchstart="" class="logout-button" data-tooltip="Log out of FastND">Logout</a>     </div>    ');
else{d.push('     <div id="public-account-selectors" data-role="controlgroup" data-type="horizontal">      <button data-theme="a" data-icon="arrow-r" id="public-account-selector-btn">Use a Public Account</button>      <!-- <button data-theme="a" data-icon="search" id="find-company-button">Lookup a Company</button>       <ul data-role="listview" data-filter="true" class="mobile-addcompany hide-mobile-companies companies-list" data-filter-theme="a" data-theme="a" data-filter-placeholder="Search companies..."></ul> --\>           <div class="public-account-select-box">       <form id="public-account-box-form">        <div data-role="fieldcontain">         <select name="user[geographic]" id="geographic" data-theme="a">          <option disabled>');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)d.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));d.push("</option>          ");if(typeof(isSelected=false)!=="undefined"&&(isSelected=false)!=null)d.push(e.encode(typeof(isSelected=false)==="function"?(isSelected=false).call(a):(isSelected=false)));d.push("          ");if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(o,j){with(this){d.push("           ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('           <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');if(typeof selectedFocus.geographic!==
"undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):selectedFocus.geographic,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):p._id===currentFocusId)){d.push(' selected="selected" ');if(typeof(isSelected=true)!=="undefined"&&(isSelected=true)!=null)d.push(e.encode(typeof(isSelected=
true)==="function"?(isSelected=true).call(a):(isSelected=true)));d.push(" ")}d.push(" ")}});d.push(" ");if(typeof(isSelected==false&&j.title=="United States")!=="undefined"&&(isSelected==false&&j.title=="United States")!=null&&(typeof(isSelected==false&&j.title=="United States")==="function"?(isSelected==false&&j.title=="United States").call(a):isSelected==false&&j.title=="United States"))d.push(' selected="selected" ');d.push(">");if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title===
"function"?j.title.call(a):j.title));d.push("</option>          ")}});d.push('         </select>        </div>          <div data-role="fieldcontain">         <select name="user[industry]" id="industry" data-theme="a">          <option disabled>');if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)d.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));d.push("</option>          ");if(typeof focus.industrial.profiles!==
"undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(o,j){with(this){d.push("           ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('           <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id===
"function"?j._id.call(a):j._id));d.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):selectedFocus.industrial,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):p._id===currentFocusId))d.push(' selected="selected" ');d.push(" ")}});
d.push(">");if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>          ")}});d.push('         </select>        </div>                <div data-role="fieldcontain">         <select name="user[profession]" id="profession" data-theme="a">          <option disabled>');if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)d.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):
focus.professional.title));d.push("</option>          ");if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(o,j){with(this){d.push("           ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('           <option value="');
if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):selectedFocus.professional,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):
p._id===currentFocusId))d.push(' selected="selected" ');d.push(" ")}});d.push(">");if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>          ")}});d.push('         </select>        </div>                        <button data-theme="b" type="submit">Try a Public Account</button>       </form>      </div>          </div>         ')}d.push('       </div>      <div class="tab-list">      <div class="tablet-tab-selector" id="tablet-tabs">     <div class="tablet-selector-wrapper">      ');
if(typeof user!=="undefined"&&user!=null&&(typeof user==="function"?user.call(a):user))d.push('      <ul data-role="listview" data-filter="true" class="mobile-addcompany hide-mobile-companies companies-list" data-filter-theme="a" data-filter-placeholder="Search companies..."></ul>      ');d.push('      <div class="tablet-tab-list"></div>     </div>    </div>   </div>      <div id="desktop-content" data-role="content"></div>      <div data-role="footer">    <div class="scrolling-ticker"></div>     </div>      ');
if(typeof blankState!=="undefined"&&blankState!=null&&(typeof blankState==="function"?blankState.call(a):blankState))d.push('    <div id="blank-state" class="ui-body-c ui-corner-all">     <div class="ui-bar-a">      <h1>Welcome to <strong>FastND</strong></h1>     </div>     <div class="ui-content">      <p>Please try out some of our public profiles, by selecting different focus areas from these selectors. </p>      <p>If you like our service, please register for an account, using the button on the top left, after closing this message. </p>      <form>       <label>        <input type="checkbox" name="show-blank-state" id="show-blank-state">Don\'t show this message again</label>        <a data-role="button" data-icon="delete" data-inline="true" data-theme="a" id="blank-state-close-btn" data-corners="true" data-shadow="true" data-iconshadow="true" data-wrapperels="span" class="ui-btn ui-btn-up-a ui-btn-inline ui-btn-corner-all">         <span class="ui-btn-inner ui-btn-corner-all">          <span class="ui-btn-text">Close popup</span>         </span>        </a>      </form>     </div>    </div>   ');
d.push("  </div>    ");if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(a):!user||user.is_public)){d.push('  <div id="public-account-selector" data-role="dialog" data-theme="a" data-content-theme="c" class="small-dialog">   <div data-role="header">    <h1>Public Accounts</h1>   </div>      <div data-role="content">    <p>Try out some of our public accounts by selecting your areas of focus</p>    <form>     <div data-role="fieldcontain">      <label for="profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)d.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));d.push('</label>      <select name="user[profession]" id="profession">       ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(o,j){with(this){d.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):
selectedFocus.professional,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):p._id===currentFocusId))d.push(' selected="selected" ');d.push(" ")}});d.push(">");if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>       ")}});d.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)d.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));d.push('</label>      <select name="user[industry]" id="industry">       ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(o,j){with(this){d.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):
selectedFocus.industrial,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):p._id===currentFocusId))d.push(' selected="selected" ');d.push(" ")}});d.push(">");if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>       ")}});d.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)d.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));d.push('</label>      <select name="user[geographic]" id="geographic">       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(o,j){with(this){d.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):
selectedFocus.geographic,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):p._id===currentFocusId))d.push(' selected="selected" ');d.push(" ")}});d.push(">");if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>       ")}});d.push('      </select>     </div>    </form>    <button data-theme="b" data-icon="arrow-r" data-iconpos="right" class="public-account-selector-btn">Try account</button>   </div>   </div>  ')}d.push("")}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/desktop.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_tab-view_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div id="');if(typeof tab.id!=="undefined"&&tab.id!=null)d.push(e.encode(typeof tab.id==="function"?tab.id.call(a):tab.id));d.push('" class="tab">   <div class="tab-scroller"></div>  </div>')}return d}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/tab-view.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_login_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div id="login-page" data-role="dialog" class="small-dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>     ');typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen)?d.push("      Sign-In     "):d.push("      Welcome to       <strong>FastND</strong>     ");
d.push('    </h1>   </div>   <div data-role="content">        ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))d.push('     <a data-role="button" data-theme="a" class="public-account-btn" data-icon="arrow-r" data-iconpos="right">Use a Public Account</a>     <hr />     <p class="separator-text">OR</p>    ');d.push('        <form id="new_user_session" data-ajax="false">     <div data-role="fieldcontain">      <label for="login">Username</label>      <input type="text" name="user_session[login]" id="login" value="" />     </div>     <div data-role="fieldcontain">      <label for="password">Password</label>      <input type="password" name="user_session[password]" id="password" value="" />     </div>             ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))d.push('      <div data-role="controlgroup" data-type="horizontal">       <a data-role="button" data-theme="b" id="signup-button">Register</a>     ');d.push('          <button type="submit" data-role="button" data-theme="a" id="signin-button">Login</button>          ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):
smallScreen))d.push("      </div>     ");d.push('          <a class="forgot-password">Forgot your password?</a>          <hr />     <p class="separator-text">OR</p>          <div class="social-signin">      <p>Sign-in with your account at: </p>             <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/google?callback=");
if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=
null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>              ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))d.push('       </div>       <div data-role="controlgroup" data-type="horizontal">      ');d.push('                <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?
finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>     </div>         </form>         </div>  </div>')}return d}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/login.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_addcompanymobile_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push("");if(typeof companies!=="undefined"&&companies!=null)e.each(typeof companies==="function"?companies.call(a):companies,function(o,j){with(this){d.push('   <li data-index="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('">    <span class="ui-icon ui-icon-plus"></span>    ');if(typeof j.title!==
"undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("    ");if(typeof j.profiles!=="undefined"&&j.profiles!=null)e.each(typeof j.profiles==="function"?j.profiles.call(a):j.profiles,function(r,p){with(this){d.push('     <span class="ui-li-count">');if(typeof p.title!=="undefined"&&p.title!=null)d.push(e.encode(typeof p.title==="function"?p.title.call(a):p.title));d.push("</span>         ")}});d.push("   </li>  ")}});d.push("")}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/addcompanymobile.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_profile_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div id="profile-page" data-role="dialog" class="small-dialog ');if(typeof updateProfile!=="undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(a):updateProfile))d.push(" update-profile");d.push('">   <div data-role="header">    <h1>Professional Account Information</h1>   </div>   <div data-role="content" data-theme="c">         ');if(typeof updateProfile!==
"undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(a):updateProfile))d.push('    <div class="social-signin">     <p>Connect your FastND account with your social networking accounts</p>          <div data-role="controlgroup" data-type="horizontal">          <a class="google-profile-connect" data-type="google" data-role="button" data-icon="google" data-inline="true">Google</a>      <a class="twitter-profile-connect" data-type="twitter" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>      <a class="linkedin-profile-connect" data-type="linkedin" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>     </div>    </div>         <em>Since this is your first time using FastND, please take a moment to update your profile. </em>    ');
d.push('       <form>     <div data-role="fieldcontain">      <label for="full_name">Full Name</label>      <input type="text" name="full_name" id="full_name" value="');if(typeof user.full_name!=="undefined"&&user.full_name!=null)d.push(e.encode(typeof user.full_name==="function"?user.full_name.call(a):user.full_name));d.push('" required>     </div>          ');if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(a):!updateProfile)){d.push('     <div data-role="fieldcontain">      <label for="email_work">Work Email:</label>      <input type="email" name="email_work" id="email_work" value="');
if(typeof user.email_work!=="undefined"&&user.email_work!=null)d.push(e.encode(typeof user.email_work==="function"?user.email_work.call(a):user.email_work));d.push('" required>     </div>     ')}d.push("          ");if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(a):!updateProfile))d.push('      <div data-role="fieldcontain">       <label for="password">New Password:</label>       <input type="password" name="password" id="password" value=""  />      </div>            <div data-role="fieldcontain">       <label for="password_confirmation">Confirm Password:</label>       <input type="password" name="password_confirmation" id="password_confirmation" value="" />      </div>     ');
d.push('          <div data-role="fieldcontain">       <label for="user_geographic">');if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)d.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));d.push('</label>      <select id="user_geographic" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=
null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(o,j){with(this){d.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');
if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):selectedFocus.geographic,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):p._id===currentFocusId))d.push(' selected="selected" ');d.push(" ")}});d.push(">");if(typeof j.title!=="undefined"&&
j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>       ")}});d.push('      </select>         </div>          <div data-role="fieldcontain">      <label for="user_profession">');if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)d.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));d.push('</label>      <select id="user_profession" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(o,j){with(this){d.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('        <option value="');if(typeof j._id!=="undefined"&&
j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):selectedFocus.professional,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):p._id===currentFocusId))d.push(' selected="selected" ');
d.push(" ")}});d.push(">");if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>       ")}});d.push('      </select>     </div>          <div data-role="fieldcontain">      <label for="user_industry">');if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)d.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));d.push('</label>      <select id="user_industry" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(o,j){with(this){d.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)d.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));d.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=
null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):selectedFocus.industrial,function(r,p){with(this){d.push(" ");if(typeof(p._id===currentFocusId)!=="undefined"&&p._id===currentFocusId!=null&&(typeof(p._id===currentFocusId)==="function"?(p._id===currentFocusId).call(a):p._id===currentFocusId))d.push(' selected="selected" ');
d.push(" ")}});d.push(">");if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>       ")}});d.push('      </select>     </div>                 <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Save Changes</button>          </div>    </form>      </div>     </div>')}return d}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/profile.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_panel_controlgroup_tmpl",function(c){return function(e,a){e=[];var d=a.data;with(d){e.push('<div data-role="controlgroup" data-type="horizontal">   <a data-role="button" data-icon="refresh" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-refresh">Refresh</a>   ');if(typeof editable!=="undefined"&&editable!=null&&(typeof editable==="function"?editable.call(a):editable))e.push('    <a data-role="button" data-icon="grid" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-manage">Edit</a>    <a data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-remove">Remove</a>   ');
e.push("  </div>")}return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/panel.controlgroup.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div id="manage-page" data-role="dialog" class="ui-page">   <div data-role="header">    <h1>Finfore Management</h1>     </div>   <div data-role="content" data-theme="b">    <div id="management-tabs">     <ul>      ');if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(a):modules,function(o,j){with(this){d.push("            ");
if(typeof("management"in j)!=="undefined"&&"management"in j!=null&&(typeof("management"in j)==="function"?("management"in j).call(a):"management"in j)){d.push('        <li><a href="#management-tab-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" rel="external" class="ui-btn ui-btn-up-a">');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push("</a></li>            ")}d.push("      ")}});d.push("     </ul>     ");
if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(a):modules,function(o){with(this){d.push('      <div id="management-tab-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" data-category="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="management-tab-panel"></div>     ')}});d.push("    </div>   </div>   </div>")}return d}.call(jQuery,jQuery,{data:c}).join("")})});
steal.loaded("webapp/views/manage.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_feed-infos_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push("");if(typeof feeds!=="undefined"&&feeds!=null)e.each(typeof feeds==="function"?feeds.call(a):feeds,function(o,j){with(this){d.push('   <input type="radio" name="');if(typeof type!=="undefined"&&type!=null)d.push(e.encode(typeof type==="function"?type.call(a):type));d.push('-preset-sources" id="source-');if(typeof j._id!=="undefined"&&j._id!=
null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" data-address="');if(typeof j.address!=="undefined"&&j.address!=null)d.push(e.encode(typeof j.address==="function"?j.address.call(a):j.address));d.push('" class="preset-source" value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" data-role="none">   <label for="source-');if(typeof name!=="undefined"&&name!=null)d.push(e.encode(typeof name==="function"?
name.call(a):name));d.push("-");if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('">');if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</label>  ")}});d.push("")}return d}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/manage.feed-infos.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_panels_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<input type="radio" data-native="true" class="mtab" id="');if(typeof category!=="undefined"&&category!=null)d.push(e.encode(typeof category==="function"?category.call(a):category));d.push("-panel-");if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('" name="');if(typeof category!==
"undefined"&&category!=null)d.push(e.encode(typeof category==="function"?category.call(a):category));d.push('-panels" data-index="');if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('" data-role="none">  <label for="');if(typeof category!=="undefined"&&category!=null)d.push(e.encode(typeof category==="function"?category.call(a):category));d.push("-panel-");if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?
index.call(a):index));d.push('" class="mtab-selector">   ');if(typeof panel.name!=="undefined"&&panel.name!=null)d.push(e.encode(typeof panel.name==="function"?panel.name.call(a):panel.name));d.push('  </label>    <div id="');if(typeof category!=="undefined"&&category!=null)d.push(e.encode(typeof category==="function"?category.call(a):category));d.push("-tab-");if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('" class="mtab-content ui-body-c">   <div class="mtab-title ui-bar-a">    ');
if(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=="undefined"&&(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=null&&(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")==="function"?(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin").call(a):category!=="portfolio"&&category!=="keyword"&&category!=="linkedin"))d.push('     <div data-role="controlgroup" data-type="horizontal" class="source-list-controls ui-btn-right">      <a href="#" data-role="button" data-icon="plus" data-iconpos="notext" data-theme="a" data-inline="true" class="add-custom-source">Add Custom Source</a>      <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="remove-source">Remove Source</a>     </div>    ');
d.push("    <span>     ");if(typeof panel.name!=="undefined"&&panel.name!=null)d.push(e.encode(typeof panel.name==="function"?panel.name.call(a):panel.name));d.push("    </span>        ");if(typeof(category==="twitter"&&false)!=="undefined"&&(category==="twitter"&&false)!=null&&(typeof(category==="twitter"&&false)==="function"?(category==="twitter"&&false).call(a):category==="twitter"&&false)){d.push('     <a href="http://twitter.com/');if(typeof panel.account!=="undefined"&&panel.account!=null)d.push(e.encode(typeof panel.account===
"function"?panel.account.call(a):panel.account));d.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof panel.account!=="undefined"&&panel.account!=null)d.push(e.encode(typeof panel.account==="function"?panel.account.call(a):panel.account));d.push("</a>    ")}d.push("       </div>         ");if(typeof(category==="portfolio")!=="undefined"&&category==="portfolio"!=null&&(typeof(category==="portfolio")==="function"?(category==="portfolio").call(a):category===
"portfolio"))d.push('    <em class="extra-details">The list of Portfolios available in your Google Account will be visible here, <strong>after you reload the application. </strong></em>   ');else if(typeof(category=="keyword")!=="undefined"&&category=="keyword"!=null&&(typeof(category=="keyword")==="function"?(category=="keyword").call(a):category=="keyword")){d.push('    <div class="keyword-panel-settings">        <div data-role="fieldcontain">      <label for="keyword-text-');if(typeof index!==
"undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('">Keyword</label>             <input type="text" class="keyword-text" id="keyword-text-');if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('" value="');if(typeof panel.keyword_column.keyword!=="undefined"&&panel.keyword_column.keyword!=null)d.push(e.encode(typeof panel.keyword_column.keyword==="function"?panel.keyword_column.keyword.call(a):
panel.keyword_column.keyword));d.push('"/>     </div>          <!--      <div data-role="fieldcontain">       <label for="keyword-followers-');if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('">Number of followers</label>       <select class="keyword-followers" id="keyword-followers-');if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('">        <option value="0" ');if(typeof(panel.keyword_column.follower==
0)!=="undefined"&&panel.keyword_column.follower==0!=null&&(typeof(panel.keyword_column.follower==0)==="function"?(panel.keyword_column.follower==0).call(a):panel.keyword_column.follower==0))d.push(' selected="selected" ');d.push('>Any number of followers</option>        <option value="100" ');if(typeof(panel.keyword_column.follower==100)!=="undefined"&&panel.keyword_column.follower==100!=null&&(typeof(panel.keyword_column.follower==100)==="function"?(panel.keyword_column.follower==100).call(a):panel.keyword_column.follower==
100))d.push(' selected="selected" ');d.push('>At least 100 followers</option>        <option value="1000" ');if(typeof(panel.keyword_column.follower==1E3)!=="undefined"&&panel.keyword_column.follower==1E3!=null&&(typeof(panel.keyword_column.follower==1E3)==="function"?(panel.keyword_column.follower==1E3).call(a):panel.keyword_column.follower==1E3))d.push(' selected="selected" ');d.push('>At least 1000 followers</option>       </select>      </div>            <div data-role="fieldcontain">            <fieldset data-role="controlgroup">        <legend>&nbsp;</legend>        <input type="checkbox" id="keyword-aggregate-');
if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('" class="keyword-aggregate" ');if(typeof panel.keyword_column.is_aggregate!=="undefined"&&panel.keyword_column.is_aggregate!=null&&(typeof panel.keyword_column.is_aggregate==="function"?panel.keyword_column.is_aggregate.call(a):panel.keyword_column.is_aggregate))d.push(' checked="checked" ');d.push('/>        <label for="keyword-aggregate-');if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index===
"function"?index.call(a):index));d.push('">Is aggregate</label>       </fieldset>            </div>     --\>          <div data-role="fieldcontain" class="keyword-save-container">      <button class="keyword-save">Save Column</button>     </div>       </div>    ')}else{d.push('    <div class="list-view">    ');if(typeof panel.user_feeds!=="undefined"&&panel.user_feeds!=null)e.each(typeof panel.user_feeds==="function"?panel.user_feeds.call(a):panel.user_feeds,function(o,j){with(this){d.push('     <input type="radio" data-native="true" name="');
if(typeof category!=="undefined"&&category!=null)d.push(e.encode(typeof category==="function"?category.call(a):category));d.push("-sources-");if(typeof j.feed_account_id!=="undefined"&&j.feed_account_id!=null)d.push(e.encode(typeof j.feed_account_id==="function"?j.feed_account_id.call(a):j.feed_account_id));d.push('" id="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('" ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)===
"function"?(o==0).call(a):o==0))d.push('checked="checked"');d.push(' data-role="none" />     <label for="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('">');if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</label>    ")}});d.push("    </div>   ")}d.push("  </div>")}return d}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/manage.panels.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_source_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<input type="radio" data-native="true" name="');if(typeof category!=="undefined"&&category!=null)d.push(e.encode(typeof category==="function"?category.call(a):category));d.push("-sources-");if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
d.push('" data-index="');if(typeof index!=="undefined"&&index!=null)d.push(e.encode(typeof index==="function"?index.call(a):index));d.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));d.push("-");if(typeof source._id!=="undefined"&&source._id!=null)d.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));d.push('" data-id="');if(typeof source._id!==
"undefined"&&source._id!=null)d.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));d.push('" data-role="none">  <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));d.push("-");if(typeof source._id!=="undefined"&&source._id!=null)d.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));d.push('">  ');if(typeof source.feed_info.title!==
"undefined"&&source.feed_info.title!=null&&(typeof source.feed_info.title==="function"?source.feed_info.title.call(a):source.feed_info.title)){d.push(" ");if(typeof source.feed_info.title!=="undefined"&&source.feed_info.title!=null)d.push(e.encode(typeof source.feed_info.title==="function"?source.feed_info.title.call(a):source.feed_info.title))}else{d.push(" ");if(typeof source.name!=="undefined"&&source.name!=null)d.push(e.encode(typeof source.name==="function"?source.name.call(a):source.name))}d.push(" ");
d.push("  </label>")}return d}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/manage.source.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_signup_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div id="signup-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Sign up for FastND</h1>   </div>   <div data-role="content" data-theme="c">      <div id="signup-page1">     <div class="social-signin">      <p>Already have an account on these services? Sign in with: </p>            ');if(typeof!smallScreen!=="undefined"&&
!smallScreen!=null&&(typeof!smallScreen==="function"?(!smallScreen).call(a):!smallScreen)){d.push('       <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));
d.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>        <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>      ')}d.push("            ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen===
"function"?smallScreen.call(a):smallScreen)){d.push('       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="google">Google</a>        </div>        <div class="ui-block-b">         <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="facebook">Facebook</a>        </div>       </fieldset>       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="twitter">Twitter</a>        </div>        <div class="ui-block-b">         <a href="');if(typeof finforeBaseUrl!==
"undefined"&&finforeBaseUrl!=null)d.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));d.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)d.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));d.push('socialcallback.html" data-role="button" data-icon="linkedin">Linkedin</a>        </div>       </fieldset>      ')}d.push('     </div>          <form class="new_user" id="new_user">       <div data-role="fieldcontain">       <label for="full_name">Full Name</label>            <input type="text" name="user[full_name]" id="full_name" value="" required />      </div>            <div data-role="fieldcontain">         <label for="user_email_work">Email</label>       <input id="user_email_work" name="user[email_work]" size="30" type="email" required />      </div>            <div data-role="fieldcontain">       <label for="user_password">Password</label>       <input id="user_password" name="user[password]" size="30" type="password" required />      </div>        <div data-role="fieldcontain">       <label for="user_password_confirmation">Password confirmation</label>       <input id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password" required />      </div>            <div data-role="fieldcontain">        <label for="user_geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)d.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));d.push('</label>       <select id="user_geographic" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(o,j){with(this){d.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('">');if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>        ")}});d.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)d.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));d.push('</label>       <select id="user_profession" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles===
"function"?focus.professional.profiles.call(a):focus.professional.profiles,function(o,j){with(this){d.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('">');if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>        ")}});d.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)d.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));d.push('</label>       <select id="user_industry" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles===
"function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(o,j){with(this){d.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)d.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));d.push('">');if(typeof j.title!=="undefined"&&j.title!=null)d.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));d.push("</option>        ")}});d.push('       </select>      </div>            <input id="user_submit" name="commit" type="submit" value="Signup for a FastND Account" data-theme="b" />      </form>     </div>        <div id="signup-page2">     <div class="left-column">      <h2>Please connect your FastND account with the following providers</h2>     </div>          <div class="right-column">      <a class="twitter-connect-button" data-type="twitter">Connect with Twitter</a>                <!--      <a class="facebook-connect-button">Connect with Facebook</a>      --\>            <a class="linkedin-connect-button" data-type="linkedin">Connect with Linkedin</a>          <a class="google-connect-button" data-type="google">Connect with Google</a>         </div>          <a id="finish-btn" data-role="button" data-icon="check" data-theme="b">Finish setting up your FastND account</a>    </div>       </div>  </div>')}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/signup.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_help_tmpl",function(c){return function(e,a){e=[];a=a.data;with(a)e.push('<div data-role="dialog" class="small-dialog help-page">   <div data-role="header">    <h1>Help</h1>   </div>      <div data-role="content" data-theme="c">       <form>       <div data-role="fieldcontain">      <label for="subject">Subject:</label>      <input type="text" name="form[subject]" id="subject" value="" required>     </div>       <div data-role="fieldcontain">      <label for="message">Message:</label>      <textarea id="message" name="form[message]" required></textarea>     </div>          <div data-role="fieldcontain">      <label for="name">Name:</label>      <input type="text" name="form[name]" id="name" value="" required>     </div>          <div data-role="fieldcontain">      <label for="phone">Phone:</label>      <input type="tel" name="form[phone]" id="phone" value="">     </div>          <div data-role="fieldcontain">      <label for="email">Email:</label>      <input type="email" name="form[email]" id="email" value="" required>     </div>          <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Send Message</button>     </div>    </form>      </div>   </div>');return e}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/help.tmpl");if(smallScreen)$("html").addClass("small-screen");else var smallScreen=false;var touchSupport=!!("ontouchstart"in window);touchSupport&&$("html").addClass("touch");
var finfore=function(){var f={login:finforeBaseUrl+"/user_sessions.json",publicLogin:finforeBaseUrl+"/user_sessions/public_login.json",publicProfiles:finforeBaseUrl+"/category_focus.json",portfolioOverviews:finforeBaseUrl+"/portfolios/overviews.json",portfolioList:finforeBaseUrl+"/portfolios/list.json",feedAccounts:finforeBaseUrl+"/feed_accounts.json",companyTabs:finforeBaseUrl+"/user_company_tabs.json"},c=Storage.getItem("user");if(c){c=JSON.parse(c);if(c.error||!c._id)c=false}var e=Storage.getItem("updateProfile");
if(e)e=e=="true";var a=Storage.getItem("blankState")?false:true,d={user:c,companies:[],panels:{main:{},portfolio:{},companies:{}},portfolios:[],feedInfos:{},ticker:{news:[],prices:[]},selectedFocus:{geographic:[],professional:[],industrial:[]},blankState:a,updateProfile:e},n=function(){$.ajaxSetup({dataType:"json",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token}})},o=function(){var z=Storage.getItem("selectedFocus");(z=z&&finfore.data.user.is_public?
JSON.parse(z):finfore.data.user.profiles)||(z=[]);$.each(z,function(){switch(this.profile_category.title){case "Geography":finfore.data.selectedFocus.geographic.push(this);break;case "Profession":finfore.data.selectedFocus.professional.push(this);break;case "Industry":finfore.data.selectedFocus.industrial.push(this);break}})},j=function(z){Loader.show();var J=Storage.getItem("focus"),O=new Date,L=false;if(J){J=JSON.parse(J);J.storageDate=new Date(J.storageDate);if(parseInt((O-J.storageDate)/1E3)<
3600)L=true}if(L){finfore.data.focus=J;z()}else WebService.focus({complete:function(w){finfore.data.focus={};$.each(w,function(t,H){if(H.title=="Profession")finfore.data.focus.professional=H;else if(H.title=="Geography")finfore.data.focus.geographic=H;else if(H.title=="Industry")finfore.data.focus.industrial=H});finfore.storeData({focus:finfore.data.focus});z()}})},r={date:new Date,shortDate:new Date,priceBridge:2,updateNews:function(z){finfore.data.ticker.news.push(z);finfore.desktop.ticker.updateNews(z)},
updatePrices:function(z){finfore.data.ticker.prices.push(z);finfore.desktop.ticker.updatePrices(z)},cleanTicker:function(){r.date=new Date;r.shortDate=new Date;r.date.setMinutes(r.date.getMinutes()-15);r.shortDate.setMinutes(r.shortDate.getMinutes()-15);var z=d.ticker.news.slice(0);$.each(d.ticker.news,function(J,O){if(O.from_user)new Date(O.created_at)<=r.shortDate&&z.splice(J,1);else new Date(O.publishedDate)<=r.date&&z.splice(J,1)});d.ticker.news=z.slice(0);empty(finfore.desktop.ticker.$node[0]);
$.each(d.ticker.news,function(J){finfore.desktop.ticker.updateNews(J)})}};r.date.setMinutes(r.date.getMinutes()-15);r.shortDate.setMinutes(r.shortDate.getMinutes()-15);window.setInterval(r.cleanTicker,9E5);var p=function(z,J){if(z.position>J.position)return 1;if(z.position<J.position)return-1;return 0},u={create:function(z){finfore.data.portfolios.push({feed_account:z});var J=finfore.data.portfolios.length-1;return $.ajax({url:f.portfolioList,data:{feed_account_id:z._id},success:function(O){u.createPanels(O,
J)}})},createPanels:function(z,J){z.rss.chanel.error&&$().toastmessage("showErrorToast","Can't sign-in into your Google Portfolios account. <br>Please make sure the details are correct. ");if(!z.rss.chanel.item){finfore.data.portfolios[0].list=[];return false}if(!$.isArray(z.rss.chanel.item))z.rss.chanel.item=[z.rss.chanel.item];finfore.data.portfolios[J].list=z.rss.chanel.item;$.each(finfore.data.portfolios[J].list,function(){var O=this,L=/[0-9]*$/.exec(this.id);if(L!=null)this.id_bare=L[0];setTimeout(function(){$.ajax({url:f.portfolioOverviews,
type:"GET",data:{feed_account_id:finfore.data.portfolios[J].feed_account._id,portfolio_id:O.id_bare},success:function(w){O.overview=w;finfore.panels.create({type:"portfolio",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[J],portfolio:O}});finfore.panels.create({type:"agenda",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[J],portfolio:O}});finfore.panels.create({type:"feed",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[J],
portfolio:O}})}})},50)})},remove:function(z){var J=z.feed_account._id;$.each(finfore.data.panels.portfolio,function(){$.each(this,function(){this.panel.feed_account._id===J&&finfore.desktop.panels.remove({options:{panel:this}})})})}},x={create:function(z){if(z.options.company){finfore.data.panels.companies[z.options.company.feed_info.id]||(finfore.data.panels.companies[z.options.company.feed_info.id]={});finfore.data.panels.companies[z.options.company.feed_info.id][z.type]||(finfore.data.panels.companies[z.options.company.feed_info.id][z.type]=
[]);finfore.data.panels.companies[z.options.company.feed_info.id][z.type].push(z.options)}else if(z.options.portfolio){finfore.data.panels.portfolio[z.type]||(finfore.data.panels.portfolio[z.type]=[]);finfore.data.panels.portfolio[z.type].push(z.options)}else{finfore.data.panels.main[z.type]||(finfore.data.panels.main[z.type]=[]);finfore.data.panels.main[z.type].push(z.options)}setTimeout(function(){finfore.desktop.panels.create(z)},50)},remove:function(z){finfore.data.panels.main[z.type].splice(z.options.index,
1);finfore.desktop.panels.remove(z)}},A={add:function(z,J){finfore.data.companies=finfore.data.companies.concat(z);$.each(z,function(){var O=this,L=this._id;finfore.desktop.tabs.add({id:L,title:this.feed_info.title,closable:!finfore.data.user.is_public});var w=$("#"+L),t;setTimeout(function(){finfore.panels.create({type:"prices",tab:w,options:{company:O}})},10);setTimeout(function(){finfore.panels.create({type:"feed",tab:w,options:{company:O}})},10);setTimeout(function(){finfore.panels.create({type:"feed",
tab:w,options:{company:O,blogsearch:true}})},10);setTimeout(function(){finfore.panels.create({type:"twitter",tab:w,options:{company:O}})},10);setTimeout(function(){finfore.panels.create({type:"agenda",tab:w,options:{company:O}})},10);setTimeout(function(){finfore.panels.create({type:"agenda",tab:w,options:{company:O,competitor:true}})},10);setTimeout(function(){finfore.panels.create({type:"twitter",tab:w,options:{company:O,competitor:true}})},10);setTimeout(function(){finfore.panels.create({type:"blinkx",
tab:w,options:{company:O}})},10);if(J){t=$(".collapsible-company:last",finfore.desktop.nodes.$tabletTabs);setTimeout(function(){t.trigger("expand")},100)}})},remove:function(){var z=$(this).parents("div:first"),J=z.attr("data-company-id"),O="<h2>Are you sure you sure you want to remove <em>"+$(this).parents("h3:first").text()+"</em>?</h2>";$.prompt(O,{callback:function(L){if(L){$.ajax({url:finforeBaseUrl+"/user_company_tabs/"+J+".json",type:"DELETE",data:{feed_account_id:J},success:function(){$.each(finfore.data.companies,
function(w,t){if(t._id==J){finfore.data.companies.splice(w,1);return false}})}});finfore.desktop.tabs.remove(z)}},buttons:{Cancel:false,"Remove Column":true}});return false}},E=function(){finfore.manage={};finfore.profile={}},F=function(){o();finfore.desktop.init();finfore.data.user.is_public&&E()};return{init:function(){$.ajaxSetup({dataType:"json"});c&&n();j(function(){if(c)WebService.refreshUser({complete:F});else{var z;$.each(finfore.data.focus.geographic.profiles,function(){if(this.title=="USA & Canada")z=
this._id});finfore.publicLogin({ids:finfore.data.focus.industrial.profiles[0]._id+","+z+","+finfore.data.focus.professional.profiles[0]._id},F)}});if(finfore.data.user&&!finfore.data.user.is_public)finfore.data.blankState=false;if(finforeNative){$(document).on("click",'a[target="_blank"]',function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:true});return false});document.addEventListener("resume",function(){$(".panel.column-loaded").each(function(){$(this).trigger("refresh")})},
false)}},panels:x,portfolios:u,modules:{},companies:A,ticker:r,nodes:{},url:f,data:d,storeData:function(z){if(z.user){finfore.data.user=z.user;Storage.setItem("user",JSON.stringify(z.user));n()}if(z.focus){z.focus.storageDate=new Date;Storage.setItem("focus",JSON.stringify(z.focus))}z.selectedFocus&&Storage.setItem("selectedFocus",JSON.stringify(z.selectedFocus))},populate:function(){var z=[];(function(J){$.each(J,function(O,L){if(L.position==null)L.position=999});J.sort(p);$.each(J,function(){var O=
this,L=O.category;if(L=="portfolio")z.push(u.create(O));else{if(L=="rss")L="feed";else if(L=="chart")L="prices";else if(L=="gmail"||L=="facebook")return;L=="keyword"&&!O.keyword_column||x.create({type:L,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:O}})}});$.when(z).then(function(){smallScreen||finfore.desktop.enableManagement();Loader.hide()})})(finfore.data.user.feed_accounts);$.each(finfore.data.user.user_company_tabs,function(J,O){if(O.position==null)O.position=999});finfore.data.user.user_company_tabs.sort(p);
A.add(finfore.data.user.user_company_tabs)},smallScreen:smallScreen,$body:$("body"),publicLogin:function(z,J){$.mobile.showPageLoadingMsg&&$.mobile.showPageLoadingMsg();$.ajax({url:f.publicLogin,type:"POST",data:{pids:z.ids},success:function(O){if(O.user){Storage.removeItem("selectedFocus");var L=$.extend({},O.user);finfore.storeData({user:L});finfore.storeData({selectedFocus:O.selecteds})}else{$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.");
Loader.hide();return false}J&&J(L)},error:function(){$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.")}})}}}(),lastActivePage;finfore.$body.delegate("[data-role=dialog]","pageshow",function(f,c){if(c.prevPage.attr("data-role")=="page")lastActivePage=c.prevPage});
$.mobile.dialog.prototype._create=function(){var f=this.element,c=$("<a data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");f.addClass("ui-overlay-"+this.options.overlayTheme);f.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(c).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");c.bind("vclick",
function(){$.mobile.changePage(lastActivePage,{changeHash:false,reverse:true,transition:"slidedown"});return false});f.bind("vclick submit",function(e){e=$(e.target).closest(e.type==="vclick"?"a":"form");var a;if(e.length&&!e.jqmData("transition")){a=$.mobile.urlHistory.getActive()||{};e.attr("data-"+$.mobile.ns+"transition",a.transition||$.mobile.defaultDialogTransition).attr("data-"+$.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){$(this).find("."+$.mobile.activeBtnClass).removeClass($.mobile.activeBtnClass)})};
var currentTitle=document.title;finfore.$body.delegate("div[data-role=page], div[data-role=dialog]","pagebeforeshow",function(){document.title=currentTitle});steal.loaded("webapp/core/core.js");
finfore.desktop=function(){var f={$page:[],tabs:{tabIndex:0}},c=false;$(document).width();var e={scroll:{}},a=function(){var u=$("#blank-state-overlay"),x=$("#blank-state");$(".ui-header",f.$page).css("z-index","auto");$("[data-role=button]",x).button();$("form input[type=checkbox]",x).change(function(){$(this).is(":checked")?Storage.setItem("blankState",false):Storage.setItem("blankState",true)});$("#blank-state-close-btn",x).click(function(){x.remove();u.remove();$(".ui-header",f.$page).css("z-index",
"2")})};e.add=function(u){var x,A=u.id!=="main"&&u.id!=="portfolio",E=$($.View("//webapp/views/tab-view.tmpl",{tab:u}));f.$desktopContent.append(E);if(A){x=$('<div data-role="collapsible" data-collapsed="true" class="collapsible-company" data-theme="b" data-company-id="'+u.id+'"><h3>'+u.title+"</h3><ul></ul></div>");f.$tabletTabs.append(x);x.collapsible();if(!finfore.data.user.is_public){A=$('<span class="ui-icon ui-icon-shadow ui-icon-delete tab-close-button"></span>');x.append(A)}touchSupport&&
x.bind("collapse expand",function(){f.tabletTabsScroller.refresh()});x.bind("expand",function(){e.select(x)});$(".tab-close-button",x).bind("click",finfore.companies.remove);$("ul",x).listview()}else{x=$('<ul data-role="listview" data-inset="true" class="panel-list"><li data-role="list-divider">'+u.title+"</li></ul>");f.$tabletTabs.append(x);x.listview()}if(touchSupport){var F=new iScroll(u.id,{vScroll:false,snap:".panel",useTransition:true,lockDirection:true});E.bind("refreshScroll",function(){F.refresh();
return F});f.tabletTabsScroller.refresh()}$.data(E[0],"selector",x);$.data(x[0],"tabView",E);return x};e.select=function(u,x){var A=$.data(u[0],"tabView");$(".active-tab",f.$page).removeClass("active-tab");A.addClass("active-tab");if(touchSupport){var E;A.trigger("refreshScroll");A.bind("refreshScroll",function(F){E=F.result;x&&E.scrollToElement(x[0],100)});A.find(".panel").trigger("refreshScroll");f.tabletTabsScroller.scrollToElement(u[0],100)}else{x&&A.animate({scrollLeft:x.position().left},500);
f.$tabletTabsContainer.animate({scrollTop:u.position().top},200)}e.loadColumns(A)};e.loadColumns=function(u){var x,A;$(".panel",u).each(function(){x=$(this);A=x.hasClass("column-loaded");if(!A){x.trigger("refresh",[true]);x.addClass("column-loaded")}})};e.remove=function(u){var x=u.attr("data-company-id");x=$("#"+x);var A=$("ul:first",f.$tabletTabs);e.select(A);u.remove();x.remove()};e.init=function(){$("a:first",f.$tabletTabs).trigger("click")};var d={};d.create=function(u){var x=$('<div class="'+
u.type+' panel" id="'+(u.options.feed_account?u.options.feed_account._id:"")+'"></div>');u.options.$node=x;$.data(x[0],"data",u.options);$.data(x[0],"type",u.type);u.options.$tab=$(".tab-scroller",u.tab);x.appendTo(u.options.$tab);var A=$(".panel",u.options.$tab),E=x.first().width();A=A.length*parseInt(E);u.options.$tab.width(A);var F;if(u.options.feed_account)F=u.options.feed_account.name;A=$.data(u.tab[0],"selector");if(u.options.company){F=u.options.company.feed_info.title;if(u.type==="feed"){F=
"Company News";if(u.options.bingsearch)F="Additional News";if(u.options.blogsearch)F="News From Blogs"}if(u.type==="podcast")F="Podcasts";if(u.type==="prices")F="Prices";if(u.type==="agenda"&&!u.options.competitor)F="Calendar";if(u.type==="agenda"&&u.options.competitor)F="Competitors Calendar";if(u.type==="twitter"&&!u.options.competitor)F="Breaking News";if(u.type==="twitter"&&u.options.competitor)F="Competitors News";if(u.type==="blinkx")F="Broadcast News";A=$("ul",A)}if(u.options.portfolio){F=
u.options.portfolio.title;if(u.type==="agenda")F+=" Agenda";if(u.type==="portfolio")F+=" Stocks";if(u.type==="feed")F+=" News"}F=$("<li><a>"+F+"</a></li>");A.append(F);A.listview("refresh");var z;z=u.options.company?A.parents(".ui-collapsible:first"):A;F.click(function(){e.select(z,x)});touchSupport&&setTimeout(function(){u.tab.trigger("refreshScroll");f.tabletTabsScroller.refresh()},100);x.bind("init",function(){var J=x.find("[data-role=content]");if(!c){var O=f.$desktopContent.height()-43,L=document.styleSheets[document.styleSheets.length-
1];L.insertRule(".panel-content-wrap { height: "+O+"px !important; }",L.cssRules.length);c=true}J.wrap('<div class="panel-content-wrap"></div>');O=x.find(".panel-content-wrap");if(touchSupport){var w=new iScroll(O[0],{hScroll:false,hideScrollbar:true,lockDirection:true}),t;J[0].addEventListener("DOMSubtreeModified",function(){t&&clearTimeout(t);t=setTimeout(function(){w.refresh()},1500)},false)}x.bind("refreshScroll",function(){touchSupport&&w.refresh()});if(!touchSupport){finfore.data.user.is_public||
d.sliders(x);d.controlgroup(u)}});finfore.modules[u.type].init(x,u.options);u.options.$tab.parent(".tab").hasClass("active-tab")&&e.loadColumns(u.options.$tab)};d.remove=function(u){u.options.panel.$node.remove()};d.controlgroup=function(u){var x=$("[data-role=header]:first",u.options.$node),A=u.tab.attr("id")=="main";if(finfore.data.user.is_public)A=false;A=$.View("//webapp/views/panel.controlgroup.tmpl",{editable:A});x.append(A);x.trigger("create");u.options.$node.bind("manage",function(){finfore.manage.init({target:{type:$.data(u.options.$node[0],
"type"),data:$.data(u.options.$node[0],"data")}})})};d.sliders=function(u){var x=$('<div class="panel-slider-controls"></div>'),A=$('<button data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="d">Slide Panel Left</button>'),E=$('<button data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="d">Slide Panel Right</button>');x.append(A,E);A.button();E.button();A.click(n);E.click(n);x.appendTo(u)};var n=function(){var u=$(this).parents(".panel").first(),x=u.next(".panel"),
A=u.prev(".panel"),E=u.width();if($(this).attr("data-icon")==="arrow-r"){if(x.length){x.animate({left:"-="+E},300,function(){x.css("left","auto")});u.css("z-index","99").animate({left:"+="+E},300,function(){u.css({left:"auto","z-index":"0"});u.insertAfter(x);d.sort({},{item:u})})}}else if(A.length){A.animate({left:"+="+E},300,function(){A.css("left","auto")});u.css("z-index","99").animate({left:"-="+E},300,function(){u.css({left:"auto","z-index":"0"});u.insertBefore(A);d.sort({},{item:u})})}return false};
d.sort=function(u,x){var A=[],E;x.item.parent().find(".panel").each(function(F,z){columnId=$.data(z,"data").feed_account._id;E=$(z).index();A.push({_id:columnId,position:E})});WebService.updateColumns({columns:A})};var o=function(){f.$publicSelectors=$("#public-account-selectors");f.$publicAccountSelectorPageBtn=$("#public-account-selector-btn",f.$publicSelectors);f.$publicAccountSelectorForm=$("#public-account-box-form",f.$publicSelectors);f.$publicPage=$("#public-account-selector");f.$publicPage.page();
f.$professionSelector=$("#profession",f.$publicPage);f.$geoSelector=$("#geographic",f.$publicPage);f.$industrySelector=$("#industry",f.$publicPage);$(".public-account-selector-btn",f.$publicPage).click(function(){var u=f.$industrySelector.val()+","+f.$geoSelector.val()+","+f.$professionSelector.val();finfore.publicLogin({ids:u},function(){window.location.reload()});return false});f.$publicAccountSelectorPageBtn.click(function(){$.mobile.changePage(f.$publicPage,{transition:"slidedown"});return false});
f.$professionSelectorInline=$("#profession",f.$publicSelectors);f.$geoSelectorInline=$("#geographic",f.$publicSelectors);f.$industrySelectorInline=$("#industry",f.$publicSelectors);f.$publicAccountSelectorForm.submit(function(){var u=f.$industrySelectorInline.val()+","+f.$geoSelectorInline.val()+","+f.$professionSelectorInline.val();finfore.publicLogin({ids:u},function(){window.location.reload()});return false})};a=function(){var u=$("#blank-state-overlay"),x=$("#blank-state");$(".ui-header",f.$page).css("z-index",
"auto");$("[data-role=button]",x).button();$("form input[type=checkbox]",x).change(function(){$(this).is(":checked")?Storage.setItem("blankState",false):Storage.setItem("blankState",true)});$("#blank-state-close-btn",x).click(function(){x.remove();u.remove();$(".ui-header",f.$page).css("z-index","2")})};var j=function(){var u=$("#main");finfore.$body.delegate(".panel-refresh","click",function(){$(this).parents(".panel:first").trigger("refresh")});u.delegate(".panel-manage","click",function(){$(this).parents(".panel:first").trigger("manage")});
u.delegate(".panel-remove","click",function(){var x=$(this).parents(".panel:first"),A=$.data(x[0],"type"),E=$("#manage-page");if(!E.length){finfore.manage.init({silentInit:true});E=$("#manage-page")}E=$("#management-tab-"+A,E);E=$(".mtabs-container",E);E=$(".mtab",E);var F=$.data(x[0],"data"),z,J;E.each(function(){J=$(this);z=$.data(J[0],"data");if(F===z){J.attr("checked","checked").trigger("change");return false}});finfore.manage.panels.remove({$node:J,category:A})})},r={$node:"",$ghost:$('<marquee scrollamount="2"></marquee>'),
updateNews:function(u){if(u.screen_name){var x="http://twitter.com/"+u.from_user;if(u.text){var A=u.text.match(/(HTTP:\/\/|HTTPS:\/\/)([a-zA-Z0-9.\/&?_=!*,\(\)+-]+)/i);if(A)x=A[0]}u='<a href="'+x+'" target="_blank" class="twitter-update" title="'+u.text+'">'+u.text+"</a>"}else if(u.elt||u.lt){x=u.e+":"+u.t;A="";var E=u.cp;if(E<0)A="-";else if(E>0)A="+";A=x+": "+u.l+" "+A+" "+Math.abs(E)+"%";u='<a href="http://www.google.com/finance?q='+x+'" target="_blank" class="prices-update" title="'+u.name+'">'+
A+"</a>"}else u='<a href="'+u.link+'" target="_blank" class="feed-update" title="'+u.title+'">'+(u.title||"")+"</a>";empty(r.$node[0]);r.$ghost.removeData();r.$ghost.append(u);r.$ghost.clone().appendTo(r.$node)}};r.updatePrices=r.updateNews;var p=function(){$(window).bind("orientationchange resize",function(){var u=f.$desktopContent.height()-43,x=document.styleSheets[document.styleSheets.length-1];x.insertRule(".panel-content-wrap { height: "+u+"px !important; }",x.cssRules.length);u=$(".active-tab",
f.$page);x=$(".panel",u);u.trigger("refreshScroll");x.trigger("refreshScroll");f.tabletTabsScroller.refresh()})};return{init:function(){var u=$.View("//webapp/views/desktop.tmpl",{user:finfore.data.user,focus:finfore.data.focus,blankState:finfore.data.blankState,selectedFocus:finfore.data.selectedFocus});$(u).appendTo(finfore.$body);f.$page=$("#desktop");f.$mobileAddCompany=$(".mobile-addcompany");$.mobile.changePage(f.$page,{changeHash:false});if(finfore.data.user){f.$tabBar=$("#tab-bar");f.$tabList=
$("ul",f.$tabBar);f.$desktopContent=$("#desktop-content");f.$tabletTabsContainer=$(".tablet-tab-selector",f.$page);if(touchSupport){f.tabletTabsScroller=new iScroll("tablet-tabs",{hScroll:false,hScrollbar:false,vScrollbar:false,useTransition:true});p()}f.$tabletTabs=$(".tablet-tab-list",f.$tabletTabsContainer);e.init();var x=e.add({id:"main",title:"Main",closable:false});f.tabs.$main=$("#main");e.add({id:"portfolio",title:"Portfolio",closable:false});f.tabs.$portfolio=$("#portfolio");f.tabs.$main.add(f.tabs.$portfolio);
r.$node=$(".scrolling-ticker",f.$page);r.$node.delegate("marquee","mouseover",function(){$("marquee",r.$node)[0].stop()});r.$node.delegate("marquee","mouseout",function(){$("marquee",r.$node)[0].start()});if(!finfore.data.user.is_public){finfore.$body.addClass("registered-user");if(!finfore.data.user.is_public){f.$panelsSortable=$("#main .tab-scroller");f.$panelsSortable.sortable({helper:"clone",handle:'[data-role="header"]',delay:400,stop:d.sort})}$(".logout-button",f.$page).bind("click",function(){Storage.removeItem("user");
Storage.removeItem("updateProfile");window.location.reload();return false});$("#manage-button",f.$page).click(function(){finfore.manage.init();return false});$("#profile-button",f.$page).bind("click",function(){finfore.profile.init();return false});$(".help-button",f.$page).bind("click",function(){finfore.help.init();return false});$(".add-company-button",f.$page).click(finfore.addcompany.init)}finfore.populate();setTimeout(function(){e.select(x)},10)}if(!finfore.data.user||finfore.data.user.is_public){$("#login-button").click(function(){finfore.login.init();
return false});$("#signup-button").click(function(){finfore.signup.init();return false});$("#find-company-button").click(function(){finfore.addcompany.init();return false});o()}finfore.data.blankState&&a();j();finfore.data.updateProfile&&finfore.profile.init();if(touchSupport){var A=false;f.$desktopContent.delegate('a[target="_blank"]',"click",function(){if(A)return false;else{A=true;setTimeout(function(){A=false},500);return true}})}var E=$("input",f.$mobileAddCompany.siblings("form"));touchSupport&&
f.$mobileAddCompany.siblings("form").bind("vclick",function(){E.focus()});WebService.getCompanies({success:function(F){F.sort(finfore.addcompany.abSorting);finfore.addcompany.allCompanies=F;F=$.View("//webapp/views/addcompanymobile.tmpl",{companies:F});f.$mobileAddCompany.html(F);$("li",f.$mobileAddCompany).on("click",finfore.addcompany.saveCompany);f.$mobileAddCompany.listview("refresh");E.unbind("keyup change");var z=f.$mobileAddCompany,J=z.data("listview"),O;F=parseInt($("body").height())-190;
z.css({"max-height":F+"px","overflow-y":"auto"});E.bind("keyup change",function(){var L=this.value.toLowerCase(),w=null,t=E.jqmData("lastval")+"",H=false,G="",D;O&&clearTimeout(O);O=setTimeout(function(){E.jqmData("lastval",L);w=L.length<t.length||L.indexOf(t)!==0?z.children():z.children(":not(.ui-screen-hidden)");if(L.length>2){z.removeClass("hide-mobile-companies");for(var P=w.length-1;P>=0;P--){D=$(w[P]);G=D.jqmData("filtertext")||D.text();if(J.options.filterCallback(G,L))D.toggleClass("ui-filter-hidequeue",
true);else H=true}w.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);w.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else{z.find(".ui-body-c").removeClass("ui-body-c").addClass("ui-body-a");z.addClass("hide-mobile-companies");w.toggleClass("ui-screen-hidden",false)}touchSupport&&f.tabletTabsScroller.refresh()},1E3)});E.trigger("keyup")}});$(document).on("pagebeforeshow","[data-role=dialog]",function(){finfore.$body.addClass("small-dialog-overlay")});
$(document).on("pagehide","[data-role=dialog]",function(){finfore.$body.removeClass("small-dialog-overlay")})},nodes:f,tabs:e,panels:d,ticker:r,enableManagement:function(){$("#manage-button",f.$page).removeClass("disabled")}}}();steal.loaded("webapp/core/desktop.js");
finfore.manage=function(){var f,c,e,a={saveColumn:"Successfully saved new column. ",errorSaveColumn:"Couldn't save new column. ",updateColumn:"Successfully updated the column. ",errorUpdateColumn:"Couldn't update column. Please try again later.",deleteColumn:"Successfully removed column. ",errorDeleteColumn:"Couldn't remove column. ",saveSource:"Successfully saved new source. ",errorSaveSource:"Couldn't save new source. ",deleteSource:"Successfully removed source. ",errorDeleteSource:"Couldn't removed source. ",
errorGetFriends:"Your authorization token has expired. Please revalidate your account. ",saveUser:"Successfully added new user. ",errorSaveUser:"Couldn't add new user. ",deleteUser:"Successfully unfollowed user. ",errorDeleteUser:"Couldn't unfollow user. "},d=function(p){var u=$(p.$container).find("> input[data-index]");$.each(u,function(){var x=$(this),A=parseInt(x.attr("data-index"));p.category=="portfolio"?$.data(x[0],"data",finfore.data.portfolios[A]):$.data(x[0],"data",finfore.data.panels.main[p.category][A]);
x.removeAttr("data-index");if(p.category=="twitter")j.getFriends({$node:x,category:"twitter"});else{x=x.next().next();n({$container:x,category:p.category,index:A})}})},n=function(p){var u=$("input[data-index]",p.$container);$.each(u,function(){var x=$(this),A=parseInt(x.attr("data-index"));p.category=="portfolio"?$.data(x[0],"data",finfore.data.portfolios[p.index].list[A]):$.data(x[0],"data",finfore.data.panels.main[p.category][p.index].feed_account.user_feeds[A]);x.removeAttr("data-index")})},o=
{create:function(p){var u;if(p.category=="twitter"||p.category=="linkedin"||p.category=="portfolio"){u=p.category=="portfolio"?finfore.data.portfolios.length:finfore.data.panels.main[p.category].length;window.open(finforeBaseUrl+"/feed_accounts/"+(p.category=="portfolio"?"google":p.category+"")+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+"&callback="+(finforeAppUrl+"authorize.html"),"_blank","resizable=yes,scrollbars=yes,status=yes");
window.addEventListener("message",authorized=function(A){o.authorizeListner(A,p,u)},false)}else{u=finfore.data.panels.main[p.category].length;function x(A,E,F){if(A&&F.columnTitle){$.mobile.showPageLoadingMsg();var z={name:F.columnTitle};z.category=p.category;if(p.category=="feed")z.category="rss";if(p.category=="prices")z.category="chart";if(p.category=="keyword")z.keyword_column_attributes={is_aggregate:false,follower:0,keyword:F.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts.json",type:"POST",
data:{feed_account:z,dependency:"false"},success:function(J){J={feed_account:J};if(p.category=="keyword")J.feed_account.keyword_column=z.keyword_column_attributes;o.createSuccess(p,u,J)},error:function(){$().toastmessage("showErrorToast",a.errorSaveColumn)},complete:function(){$.mobile.hidePageLoadingMsg()}})}}$.prompt('<h2>Create Column</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Column name.."></label>',
{callback:x,buttons:{Cancel:false,"Create Column":true}})}},createSuccess:function(p,u,x){$().toastmessage("showSuccessToast",a.saveColumn);x=x.feed_account;x.user_feeds=[];u=$.View("//webapp/views/manage.panels.tmpl",{panel:x,index:u,category:p.category});p.$node.append(u);p.$node.trigger("create");var A=$("input:last",p.$node);A.attr("checked","checked").trigger("change");u=A.next().next();u.find("[data-role=controlgroup] a").button();u.find("[data-role=controlgroup]").controlgroup();var E=p.$node.parents(".management-tab-panel").find(".preset-tabs");
$(".mtab-content:last",p.$node).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:A,$presets:E,category:p.category})}});p.category==="portfolio"?finfore.portfolios.create(x):finfore.panels.create({type:p.category,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:x}});d({$container:p.$node,category:p.category})},authorizeListner:function(p,u,x){if(finforeAppUrl.indexOf(p.origin)!=-1){p=p.data;$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+
"/feed_accounts/"+p+".json",type:"GET",success:function(A){A={feed_account:A};o.createSuccess(u,x,A)},complete:function(){$.mobile.hidePageLoadingMsg()}});window.removeEventListener("message",authorized)}},revalidate:function(p){var u,x;if(p.category=="twitter"||p.category=="linkedin"){u=finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data"));x=finfore.data.panels.main[p.category][u];x=x.feed_account._id;window.open(finforeBaseUrl+"/feed_accounts/"+p.category+"/auth?auth_token="+finfore.data.user.single_access_token+
"&auth_secret="+finfore.data.user.persistence_token+"&feed_account_id="+x+"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(A){o.authorizeListner(A,p,u)},false)}},edit:function(p){function u(E,F,z){if(E&&z.columnTitle){E={_id:A.feed_account._id,name:z.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+E._id+".json",type:"PUT",data:{feed_account:E},success:function(J){$().toastmessage("showSuccessToast",
a.updateColumn);A.feed_account=J.feed_account},error:function(){$().toastmessage("showErrorToast",a.errorUpdateColumn)}});z=p.category==="portfolio"?z.columnUsername:z.columnTitle;$(".ui-header .ui-title",p.$node).text(z);$(".mtab-title > span",p.$node.next().next()).text(z);p.$node.next().text(z)}}var x,A;if(p.category==="portfolio"){x=finfore.data.portfolios.indexOf($.data(p.$node[0],"data"));A=finfore.data.portfolios[x]}else{x=finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data"));
A=finfore.data.panels.main[p.category][x]}$.prompt('<h2>Edit Column Title</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="'+A.feed_account.name+'" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:u,buttons:{Cancel:false,"Update Column":true}})},remove:function(p){function u(E){if(E){$.ajax({url:finforeBaseUrl+"/feed_accounts/"+A.feed_account._id+".json",type:"DELETE",success:function(){$().toastmessage("showSuccessToast",
a.deleteColumn)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteColumn)}});p.$node.prevAll("input:first").attr("checked","checked").trigger("change");p.$node.next().remove().end().next().remove().end().remove();p.category==="portfolio"?finfore.portfolios.remove(A):finfore.panels.remove({type:p.category,tab:finfore.desktop.nodes.tabs.$main,options:{panel:A,index:x}})}}var x,A;if(p.category==="portfolio"){x=finfore.data.portfolios.indexOf($.data(p.$node[0],"data"));A=finfore.data.portfolios[x]}else{x=
finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data"));A=finfore.data.panels.main[p.category][x]}$.prompt("<h2>Are you sure you sure you want to remove <em>"+A.feed_account.name+"</em>?</h2>",{callback:u,buttons:{Cancel:false,Remove:true}})}},j={getFriends:function(p){var u=$.data(p.$node[0],"data"),x=p.$node.next().next(),A=finfore.data.panels.main.twitter.indexOf(u);x.addClass("loading-content");$.ajax({url:finforeBaseUrl+"/tweetfores/friends.json",type:"GET",data:{feed_account_id:u.feed_account._id},
success:function(E){x.find(".list-view").empty();if(E.error){E='<div class="auth-error">'+a.errorGetFriends+'<a data-role="button" data-icon="refresh" data-inline="true" data-theme="b" class="revalidate-account">Revalidate Account</a></div>';x.find(".list-view").append(E);x.find(".list-view a").button().bind("click",function(){o.revalidate(p)});return false}u.friends=[];u.friends=$.map(E,function(F){return{_id:F.id,name:F.screen_name,feed_info:{title:F.screen_name},feed_account_id:u.feed_account._id}});
$.each(u.friends,function(F){var z=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:u.feed_account._id,source:finfore.data.panels.main.twitter[A].friends[F],index:F,category:"twitter"});x.find(".list-view").append(z);z=x.find(".list-view input:last");$.data(z[0],"data",finfore.data.panels.main.twitter[A].friends[F])})},complete:function(){x.removeClass("loading-content")}})},addCustom:function(p){function u(E,F,z){if(E&&z.sourceUsername){$.mobile.showPageLoadingMsg();z.sourceUsername=$.trim(z.sourceUsername);
$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:A,friend_id:z.sourceUsername},success:function(J){finfore.data.panels.main.twitter[x].friends.push({_id:J.id,name:J.screen_name,feed_account_id:A});var O=p.$node.nextAll("div:first");J=finfore.data.panels.main.twitter[x].friends.length-1;var L=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:A,source:finfore.data.panels.main.twitter[x].friends[J],index:J,category:"twitter"});O.find(".list-view").append(L);
finfore.data.panels.main.twitter[x].$node.trigger("reinit");O=O.find(".list-view input:last");$.data(O[0],"data",finfore.data.panels.main.twitter[x].friends[J]);$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",a.saveUser)},error:function(){$().toastmessage("showErrorToast",a.errorSaveUser)}})}}var x=finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data")),A=finfore.data.panels.main[p.category][x].feed_account._id;$.prompt('<h2>Follow Twitter User</h2><label>Username <br> <input type="text" id="sourceUsername" name="sourceUsername" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',
{callback:u,buttons:{Cancel:false,"Follow User":true}})},remove:function(p){function u(J){if(J){E.attr("data-id");$.ajax({url:finforeBaseUrl+"/tweetfores/friend_remove.json",type:"POST",data:{feed_account_id:A,friend_id:z},success:function(){$().toastmessage("showSuccessToast",a.deleteUser)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteUser)}});E.prevAll("input:first").attr("checked","checked").trigger("change");E.next().remove().end().remove();finfore.data.panels.main[p.category][x].friends.splice(F,
1);finfore.data.panels.main[p.category][x].$node.trigger("reinit")}}var x=finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data")),A=finfore.data.panels.main[p.category][x].feed_account._id,E=$("input:checked",p.$node.next().next()),F=finfore.data.panels.main[p.category][x].friends.indexOf($.data(E[0],"data")),z=finfore.data.panels.main[p.category][x].friends[F]._id;$.prompt("<h2>Are you sure you sure you want to stop following <em>"+finfore.data.panels.main[p.category][x].friends[F].name+
"</em>?</h2>",{callback:u,buttons:{Cancel:false,Unfollow:true}})},addPreset:function(p){var u=finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data")),x=finfore.data.panels.main[p.category][u].feed_account._id,A=$(".preset-source:checked",p.$presets);A=$.trim(A.attr("data-address"));$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:x,friend_id:A},success:function(E){finfore.data.panels.main.twitter[u].friends.push({id:E._id,
name:E.screen_name,feed_account_id:x});var F=p.$node.nextAll("div:first");E=finfore.data.panels.main.twitter[u].friends.length-1;var z=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:x,source:finfore.data.panels.main.twitter[u].friends[E],index:E,category:"twitter"});F.find(".list-view").append(z);finfore.data.panels.main.twitter[u].$node.trigger("reinit");F=F.find(".list-view input:last");$.data(F[0],"data",finfore.data.panels.main.twitter[u].friends[E]);$().toastmessage("showSuccessToast",
a.saveUser)},error:function(){$().toastmessage("showErrorToast",a.errorSaveUser)},complete:function(){$.mobile.hidePageLoadingMsg()}})}},r=function(){$.each(finfore.modules,function(p){var u=$("#management-tab-"+p);finfore.modules[p].management&&finfore.modules[p].management(u)});c=$("#management-tabs");e=$("#management-tabs > ul");$("a",e).click(function(){var p=$(this),u=$(p.attr("href"),c);$(".management-tab-active",e).removeClass("management-tab-active");p.addClass("management-tab-active");$(".management-tab-panel-active",
c).hide().removeClass("management-tab-panel-active");u.show().addClass("management-tab-panel-active");return false});$("a:first",e).trigger("click")};return{init:function(p){Loader.show();p||(p={});if(!f){var u=$.View("//webapp/views/manage.tmpl",{modules:finfore.modules});$(u).appendTo(finfore.$body);f=$("#manage-page");r(p);f.delegate(".mtab, .preset-tab-radio","change",function(){var A=$(this).parent();$(".visible-tab",A).removeClass("visible-tab");$(this).next().next().addClass("visible-tab")});
$(".preset-tabs",f).delegate("label","click",function(){$(this).prev("input").prop("checked",true).trigger("change")});$(".preset-tabs",f).delegate("label","mousedown",function(){$(this).trigger("click")})}if(p.target&&p.target.type){$('a[href="#management-tab-'+p.target.type+'"]',e).trigger("click");u=$("#management-tab-"+p.target.type,f);u=$(".mtabs-container",u);if(p.target.data){var x;$(".mtab",u).each(function(){var A=$(this);x=$.data(A[0],"data");if(p.target.data===x){A.prop("checked",true).trigger("change");
return false}})}}p.silentInit||$.mobile.changePage(f,{transition:"slidedown"});Loader.hide()},panels:o,bindPanelData:d,sources:{addCustom:function(p){function u(E,F,z){if(E&&z.sourceTitle&&z.sourceURL){$.mobile.showPageLoadingMsg();E=p.category;if(p.category=="feed")E="rss";if(p.category=="prices")E="chart";$.ajax({url:finforeBaseUrl+"/feed_accounts/"+A+".json",type:"PUT",data:{feed_account:{_id:A,user_feeds_attributes:[{feed_info_attributes:{category:E,title:z.sourceTitle,address:z.sourceURL}}]}},
success:function(J){finfore.data.panels.main[p.category][x].feed_account=J;var O=J.user_feeds.length-1;J=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:J._id,source:finfore.data.panels.main[p.category][x].feed_account.user_feeds[O],index:O,category:p.category});p.$node.nextAll("div:first").find(".list-view").append(J);finfore.data.panels.main[p.category][x].$node.trigger("reinit");n({$container:p.$node.parent(),category:p.category,index:x});$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",
a.saveSource)},error:function(){$().toastmessage("showErrorToast",a.errorSaveSource)}})}}var x=finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data")),A=finfore.data.panels.main[p.category][x].feed_account._id;$.prompt(p.category==="twitter"?'<h2>Add Custom User</h2><input type="text" id="sourceTitle" name="sourceTitle" value="twitter" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" style="display: none"><label>Twitter Username <br> <input type="text" id="sourceURL" name="sourceURL" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>':
'<h2>Add Custom Source</h2><label>Source Title <br> <input type="text" id="sourceTitle" name="sourceTitle" value="" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label><label>Source URL <br> <input type="url" id="sourceURL" name="sourceURL" value="" placeholder="URL of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:u,buttons:{Cancel:false,"Save Source":true}})},remove:function(p){function u(z){if(z){z=
A.attr("data-id");$.ajax({url:finforeBaseUrl+"/user_feeds/"+z+".json",type:"DELETE",data:{feed_account_id:finfore.data.panels.main[p.category][x].feed_account._id},success:function(){$().toastmessage("showSuccessToast",a.deleteSource)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteSource)}});A.prevAll("input:first").attr("checked","checked").trigger("change");A.next().remove().end().remove();finfore.data.panels.main[p.category][x].feed_account.user_feeds.splice(E,1);finfore.data.panels.main[p.category][x].$node.trigger("reinit")}}
var x=finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data")),A=$("input:checked",p.$node.next().next()),E=finfore.data.panels.main[p.category][x].feed_account.user_feeds.indexOf($.data(A[0],"data")),F=finfore.data.panels.main[p.category][x].feed_account.user_feeds[E].feed_info.title;if(!F)F=finfore.data.panels.main[p.category][x].feed_account.user_feeds[E].name;$.prompt("<h2>Are you sure you sure you want to remove the <em>"+F+"</em> source?</h2>",{callback:u,buttons:{Cancel:false,
"Remove Source":true}})},addPreset:function(p){var u=finfore.data.panels.main[p.category].indexOf($.data(p.$node[0],"data")),x=finfore.data.panels.main[p.category][u].feed_account._id,A=$(".preset-source:checked",p.$presets);A.next("label").text();var E="";if(A.attr("data-address"))E=A.attr("data-address");$.mobile.showPageLoadingMsg();E=p.category;if(p.category=="feed")E="rss";if(p.category=="prices")E="chart";E=A.val();$.ajax({url:finforeBaseUrl+"/feed_accounts/"+x+".json",type:"PUT",data:{feed_account:{_id:x,
user_feeds_attributes:[{feed_info_id:E}]}},success:function(F){finfore.data.panels.main[p.category][u].feed_account=F;var z=F.user_feeds.length-1;F=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:F._id,source:finfore.data.panels.main[p.category][u].feed_account.user_feeds[z],index:z,category:p.category});p.$node.nextAll("div:first").find(".list-view").append(F);finfore.data.panels.main[p.category][u].$node.trigger("reinit");n({$container:p.$node.parent(),category:p.category,index:u});
A.next().remove().end().remove();$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",a.saveSource)},error:function(){$().toastmessage("showErrorToast",a.errorSaveSource)}})}},twitter:j,messages:a,updateFeedInfos:function(p){$(p.$node).addClass("loading-content");$.ajax({url:finforeBaseUrl+"/feed_infos.json",type:"GET",dataType:"text",data:{category:p.category,per_page:50,page:p.count},success:function(u){u=eval(u);finfore.data.feedInfos[p.category]=u;u=$.View("//webapp/views/manage.feed-infos.tmpl",
{feeds:u,name:p.category,type:p.type});$(".list-view",p.$node).append(u);$(p.$node).removeClass("loading-content");$(".list-view label",p.$node).draggable({revert:"invalid",helper:"clone",cursor:"move"})}})}}}();steal.loaded("webapp/core/manage.js");
finfore.login=function(){var f,c={},e=function(){var d=$(this),n=$("#login",d).val();d=$("#password",d).val();WebService.auth({username:n,password:d,complete:function(o){finfore.storeData({user:o});window.location.reload()}});return false},a=function(){$.prompt('<p><label>Type your email address in the field bellow and we will send you a message with your password: <br><input type="text" id="email" name="email" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Email.."></label></p>',{callback:function(d,
n,o){d&&o.email&&$.ajax({url:finforeBaseUrl+"/users/forgot_password.json",type:"GET",data:{email:o.email},success:function(j){j.status=="SUCCESS"?$().toastmessage("showSuccessToast","A message containing your password has been sent to your email address. "):$().toastmessage("showErrorToast","We couldn't find your email address in our database. Please try again. ")},error:function(){$().toastmessage("showErrorToast","We couldn't send you your password. Please try again later. ")}})},buttons:{Cancel:false,
"Send Request":true}})};return{init:function(d){d||(d={});f=$("#login-page");if(!f.length){var n=$.View("//webapp/views/login.tmpl",{user:finfore.data.user,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl});$.mobile.hidePageLoadingMsg&&$.mobile.hidePageLoadingMsg();finfore.$body.append(n);f=$("#login-page");$("#signup-button",f).click(finfore.signup.init);f.find("form").bind("submit",e);$(".forgot-password",
f).click(a);if(smallScreen){c.$publicPage=$("#public-account-selector");c.$publicPage.page();c.$professionSelector=$("#profession",c.$publicPage);c.$geoSelector=$("#geographic",c.$publicPage);c.$industrySelector=$("#industry",c.$publicPage);$(".public-account-selector-btn").click(function(){var o=c.$industrySelector.val()+","+c.$geoSelector.val()+","+c.$professionSelector.val();finfore.publicLogin({ids:o},function(j){finfore.storeData({user:j});window.location.reload()})});$(".public-account-btn",
f).click(function(){$.mobile.changePage(c.$publicPage,{transition:"slide"});return false})}if(finforeNative){$(".social-signin a",f).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(o){if(o.indexOf(finforeAppUrl+"socialcallback.html")==0){o=o.replace(finforeAppUrl,finforeNativeUrl);window.location.href=o;window.plugins.childBrowser.close()}}}}d.silentInit||(finfore.smallScreen?
$.mobile.changePage(f,{changeHash:false}):$.mobile.changePage(f,{transition:"slidedown"}))},nodes:c}}();steal.loaded("webapp/core/login.js");
finfore.signup=function(){var f,c,e,a,d,n,o,j=function(u){finfore.data.user=u;Storage.setItem("user",JSON.stringify(finfore.data.user));e.hide();a.show();$.mobile.hidePageLoadingMsg()},r=function(){$.mobile.showPageLoadingMsg();var u=$(this).serialize();$.ajax({url:finforeBaseUrl+"/users.json",type:"POST",data:u,error:function(x){$.mobile.hidePageLoadingMsg();try{var A=JSON.parse(x.responseText)}catch(E){$().toastmessage("showToast",{text:"There was a problem registering your user. Please try again later.",
type:"error",sticky:true});return false}for(prop in A){x=prop;if(x=="email_work")x="Your email";if(x=="password")x="Your password";if(x!=="password_confirmation"&&x!=="login"){x="<strong>"+x+"</strong> "+A[prop][0];$().toastmessage("showToast",{text:x,sticky:true,type:"error"})}}},success:j});return false},p=function(){var u=$(this),x=$(this).attr("data-type");window.open(finforeBaseUrl+"/feed_accounts/"+x+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+
"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(){u.hide();window.removeEventListener("message",authorized)},false)};return{init:function(){if($("#signup-page").length)$.mobile.changePage($("#signup-page"),{transition:"slidedown"});else{var u=$.View("//webapp/views/signup.tmpl",{focus:finfore.data.focus,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl,smallScreen:finfore.smallScreen});$(u).appendTo(finfore.$body);
f=$("#signup-page");c=$("[data-role=content]",f);e=$("#signup-page1",c);a=$("#signup-page2",c);d=$(".twitter-connect-button",f);$linkedinAuthBtn=$(".linkedin-connect-button",f);n=$(".google-connect-button",f);o=$("#finish-btn");d.click(p);$linkedinAuthBtn.click(p);n.click(p);o.click(function(){window.location.reload()});$.mobile.changePage(f,{transition:"slidedown"});c.find("form").submit(r);if(finforeNative){$(".social-signin a",f).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),
{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(x){if(x.indexOf(finforeAppUrl+"socialcallback.html")==0){window.location.href=x;window.plugins.childBrowser.close()}}}}},authorizeService:p}}();steal.loaded("webapp/core/signup.js");
finfore.profile=function(){var f,c=function(){var e=$("#user_geographic",f),a=$("#user_profession",f),d=$("#user_industry",f);if(!(e.val()&&a.val()&&d.val())){$().toastmessage("showToast",{text:"Please select at least one interest in each focus area selector. ",sticky:true,position:"top-right",type:"error"});return false}Loader.show();e=$(this).serializeObject();e.id=finfore.data.user._id;WebService.updateUser({data:e,complete:function(){$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});
if(finfore.data.updateProfile){Storage.removeItem("updateProfile");window.location.reload()}$().toastmessage("showSuccessToast","Successfully updated your profile. ")}});return false};return{init:function(){if(!f){var e=$.View("//webapp/views/profile.tmpl",{user:finfore.data.user,updateProfile:finfore.data.updateProfile,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,panels:finfore.data.panels,portfolios:finfore.data.portfolios});$(e).appendTo(finfore.$body);
f=$("#profile-page");$("#close-account-btn");$("form",f).submit(c);e=$(".twitter-profile-connect",f);var a=$(".linkedin-profile-connect",f),d=$(".google-profile-connect",f);e.click(finfore.signup.authorizeService);a.click(finfore.signup.authorizeService);d.click(finfore.signup.authorizeService)}$.mobile.changePage(f)}}}();steal.loaded("webapp/core/profile.js");
finfore.addcompany=function(){var f;return{allCompanies:f,abSorting:function(c,e){c=c.title.toLowerCase();e=e.title.toLowerCase();if(c<e)return-1;if(c>e)return 1;return 0},saveCompany:function(){var c=parseInt($(this).attr("data-index")),e=finfore.addcompany.allCompanies[c]._id,a=false,d;$.each(finfore.data.companies,function(n,o){if(o.feed_info_id==e){d=n=$("#"+o._id);finfore.smallScreen||(d=$.data(n[0],"selector"));d.trigger("expand");a=true;return false}});if(!a){if(finfore.data.user.is_public)finfore.companies.add([{feed_info:finfore.addcompany.allCompanies[c],
_id:finfore.addcompany.allCompanies[c]._id,feed_info_id:finfore.addcompany.allCompanies[c]._id}],true);else{Loader.show();$.ajax({url:finforeBaseUrl+"/user_company_tabs.json",type:"POST",data:{user_company_tab:{feed_info_id:e,follower:"0",is_aggregate:true}},success:function(n){finfore.companies.add([n],true);Loader.hide()}})}if(finfore.smallScreen){finfore.$body.addClass("show-menu");finfore.desktop.nodes.$menuPage.find('[data-role="collapsible"]:last').length&&finfore.$body.animate({scrollTop:finfore.desktop.nodes.$menuPage.find("[data-role=collapsible]:last").offset().top},
2E3)}}}}}();steal.loaded("webapp/core/addcompany.js");
finfore.help=function(){var f,c={},e=function(){var a=c.$form.serialize(),d=finforeBaseUrl+"/users/contact_admin";a+="&auth_token="+finfore.data.user.single_access_token;if(!(c.$subjectField.val()&&c.$messageField.val()&&c.$nameField.val()&&c.$emailField.val())){$().toastmessage("showToast",{text:"Please fill in all the available fields. ",sticky:true,position:"top-right",type:"error"});return false}$.mobile.showPageLoadingMsg();$.ajax({url:d,type:"POST",data:a,complete:function(){$().toastmessage("showSuccessToast",
"Successfully sent message. ");$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});$.mobile.hidePageLoadingMsg()}});return false};return{init:function(){if(!f){var a=$.View("//webapp/views/help.tmpl",{});$(a).appendTo(finfore.$body);f=$(".help-page");c.$form=$("form",f);c.$subjectField=$("#subject",c.$form);c.$messageField=$("#message",c.$form);c.$nameField=$("#name",c.$form);c.$emailField=$("#email",c.$form);c.$form.submit(e)}$.mobile.changePage(f,{transition:"slidedown"})}}}();
steal.loaded("webapp/core/help.js");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div data-role="header">    ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))d.push('    <a data-role="button" data-inline="true" data-icon="menu" data-theme="a" data-iconpos="notext" class="mobile-menu-button">Menu</a>   ');d.push("   <h1>");if(typeof title!=="undefined"&&
title!=null)d.push(e.encode(typeof title==="function"?title.call(a):title));d.push("</h1>   ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))d.push('    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right panel-mobile-sliders">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-previous">Previous Column</a>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-next">Next Column</a>    </div>   ');
d.push('  </div>  <div data-role="content">   ');if(typeof content!=="undefined"&&content!=null)d.push(typeof content==="function"?content.call(a):content);d.push("  </div>  ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))d.push('   <div class="mobile-content-overlay"></div>  ');d.push("")}return d}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_feed_tmpl",function(c){return function(e,a){e=[];var d=a.data;with(d){e.push('<ul data-role="listview" data-theme="c" ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))e.push('data-split-icon="arrow-r" data-split-theme="c" class="split-selector"');e.push('>   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>')}return e}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.feed.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_feed_management_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div class="ui-header ui-bar-b">   <strong>RSS News Management</strong>   <span>Create Rss Column, grab the hot news and filter them easily. </span>  </div>    <div class="manage-content">   <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,function(o,
j){with(this){d.push('        <input type="radio" data-role="none" class="mtab" id="feed-panel-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" name="feed-panels" ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push('checked="checked"');d.push(' data-index="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('">     <label for="feed-panel-');if(typeof o!==
"undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('     </label>          <div id="feed-tab-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-content ui-body-c ');if(typeof(o==0)!=="undefined"&&
o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push("visible-tab");d.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)d.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(a):(feed_account_id=
j.feed_account._id)));d.push("</span>       ");if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(a):j.feed_account.user_feeds,function(r,p){with(this){d.push('        <input type="radio" data-native="true" name="feed-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
d.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));d.push("-");if(typeof p._id!=="undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('" data-id="');if(typeof p._id!=="undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('" data-index="');if(typeof r!=="undefined"&&r!=null)d.push(e.encode(typeof r===
"function"?r.call(a):r));d.push('" ');if(typeof(r==0)!=="undefined"&&r==0!=null&&(typeof(r==0)==="function"?(r==0).call(a):r==0))d.push('checked="checked"');d.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));d.push("-");if(typeof p._id!=="undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('">');
if(typeof(p.feed_info&&p.feed_info.title)!=="undefined"&&(p.feed_info&&p.feed_info.title)!=null&&(typeof(p.feed_info&&p.feed_info.title)==="function"?(p.feed_info&&p.feed_info.title).call(a):p.feed_info&&p.feed_info.title)){d.push(" ");if(typeof p.feed_info.title!=="undefined"&&p.feed_info.title!=null)d.push(e.encode(typeof p.feed_info.title==="function"?p.feed_info.title.call(a):p.feed_info.title))}else{d.push(" ");if(typeof p.name!=="undefined"&&p.name!=null)d.push(e.encode(typeof p.name==="function"?
p.name.call(a):p.name))}d.push(" ");d.push("</label>       ")}});d.push("      </div>     </div>    ")}});d.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="feed-preset-all" name="feed-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none"/>    <label for="feed-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Feeds    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>    </div>        <input type="radio" data-native="true" id="feed-preset-suggested" name="feed-preset-tabs" class="preset-tab-radio" data-role="none"/>    <label for="feed-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Feeds    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.feed.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_podcast_tmpl",function(c){return function(e,a){e=[];a=a.data;with(a)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.podcast.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_podcast_management_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div class="ui-header ui-bar-b">   <strong>Podcast Management</strong>   <span>Manage your video, radio, and any multimedia regarding your business points. </span>  </div>    <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):
panels,function(o,j){with(this){d.push('        <input type="radio" data-native="true" class="mtab" id="podcast-panel-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" name="podcast-panels" ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push('checked="checked"');d.push(' data-index="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" data-role="none">     <label for="podcast-panel-');
if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('     </label>          <div id="podcast-tab-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-content ui-body-c ');if(typeof(o==
0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push("visible-tab");d.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)d.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(a):(feed_account_id=
j.feed_account._id)));d.push("</span>       ");if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(a):j.feed_account.user_feeds,function(r,p){with(this){d.push('        <input type="radio" data-native="true" name="podcast-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
d.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));d.push("-");if(typeof p._id!=="undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('" data-id="');if(typeof p._id!=="undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('" data-index="');if(typeof r!=="undefined"&&r!=null)d.push(e.encode(typeof r===
"function"?r.call(a):r));d.push('" ');if(typeof(r==0)!=="undefined"&&r==0!=null&&(typeof(r==0)==="function"?(r==0).call(a):r==0))d.push('checked="checked"');d.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));d.push("-");if(typeof p._id!=="undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('">');
if(typeof(p.feed_info&&p.feed_info.title)!=="undefined"&&(p.feed_info&&p.feed_info.title)!=null&&(typeof(p.feed_info&&p.feed_info.title)==="function"?(p.feed_info&&p.feed_info.title).call(a):p.feed_info&&p.feed_info.title)){d.push(" ");if(typeof p.feed_info.title!=="undefined"&&p.feed_info.title!=null)d.push(e.encode(typeof p.feed_info.title==="function"?p.feed_info.title.call(a):p.feed_info.title))}else{d.push(" ");if(typeof p.name!=="undefined"&&p.name!=null)d.push(e.encode(typeof p.name==="function"?
p.name.call(a):p.name))}d.push(" ");d.push("</label>       ")}});d.push("      </div>     </div>    ")}});d.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="podcast-preset-all" name="podcast-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="podcast-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Podcasts    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>    </div>        <input type="radio" data-native="true" id="podcast-preset-suggested" name="podcast-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="podcast-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Podcasts    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.podcast.management.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_tmpl",function(c){return function(e,a){e=[];var d=a.data;with(d){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(a):!connected))e.push('   <a class="twitter-connect-button">Connect with Twitter</a>  ');e.push('    <ul class="tweets"></ul>    ');if(typeof connected!=="undefined"&&connected!=null&&(typeof connected==="function"?connected.call(a):connected))e.push('   <ul data-role="listview" class="load-more-container">    <li data-icon="false" data-theme="d">     <a class="load-more-tweets">Load more...</a>    </li>   </ul>  ');
e.push("")}return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.twitter.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_tweet_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push("");if(typeof tweets!=="undefined"&&tweets!=null)e.each(typeof tweets==="function"?tweets.call(a):tweets,function(o,j){with(this){d.push('   <li class="ui-li ui-btn-up-c">    <a class="tweet-avatar" href="http://twitter.com/');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null&&(typeof j.screen_name==="function"?j.screen_name.call(a):
j.screen_name)){d.push("");if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)d.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(a):j.screen_name))}else{d.push("");if(typeof j.from_user!=="undefined"&&j.from_user!=null)d.push(e.encode(typeof j.from_user==="function"?j.from_user.call(a):j.from_user))}d.push("");d.push('" target="_blank">     <img src="');if(typeof j.profile_image_url!=="undefined"&&j.profile_image_url!=null)d.push(e.encode(typeof j.profile_image_url==="function"?
j.profile_image_url.call(a):j.profile_image_url));d.push('" height="48" width="48" alt="');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)d.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(a):j.screen_name));d.push('" title="');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)d.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(a):j.screen_name));d.push('" border="0">    </a>    <span class="tweet-text">     ');if(typeof j.html!=="undefined"&&
j.html!=null)d.push(typeof j.html==="function"?j.html.call(a):j.html);d.push('    </span>    <span class="tweet-time">     <a href="http://twitter.com/');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)d.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(a):j.screen_name));d.push("/status/");if(typeof j.id_str!=="undefined"&&j.id_str!=null)d.push(e.encode(typeof j.id_str==="function"?j.id_str.call(a):j.id_str));d.push('" title="View tweet on Twitter" target="_blank">      ');
if(typeof j.created_at!=="undefined"&&j.created_at!=null)d.push(e.encode(typeof j.created_at==="function"?j.created_at.call(a):j.created_at));d.push("     </a>    </span>   </li>  ")}});d.push("")}return d}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.twitter.tweet.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_management_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div class="ui-header ui-bar-b">   <strong>Twitters And Suggestions Management</strong>   <span>Manage your twitter accounts and suggestions list easily. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):
panels,function(o,j){with(this){d.push('        <input type="radio" data-native="true" class="mtab" id="twitter-panel-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" name="twitter-panels" ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push('checked="checked"');d.push(' data-index="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" data-role="none">     <label for="twitter-panel-');
if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('     </label>          <div id="twitter-tab-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-content ui-body-c ');if(typeof(o==
0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push("visible-tab");d.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Follow Custom User</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Unfollow User</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push("</span>              ");if("boolean"!=="undefined"&&1&&("boolean"==="function"?false.call(a):false)){d.push('       <a href="http://twitter.com/');if(typeof j.feed_account.account!=="undefined"&&j.feed_account.account!=null)d.push(e.encode(typeof j.feed_account.account==="function"?j.feed_account.account.call(a):j.feed_account.account));
d.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof j.feed_account.account!=="undefined"&&j.feed_account.account!=null)d.push(e.encode(typeof j.feed_account.account==="function"?j.feed_account.account.call(a):j.feed_account.account));d.push("</a>       ")}d.push('             </div>      <div class="list-view"></div>     </div>    ')}});d.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset User</a>    </div>      <input type="radio" data-native="true" id="twitter-preset-all" name="twitter-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="twitter-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Users    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>    </div>        <input type="radio" data-native="true" id="twitter-preset-suggested" name="twitter-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="twitter-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Users    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.twitter.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_prices_tmpl",function(c){return function(e,a){e=[];a=a.data;with(a)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.prices.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_prices_management_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div class="ui-header ui-bar-b">   <strong>Prices Management</strong>   <span>Create Prices Column, grab the hot news and filter them easily. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,
function(o,j){with(this){d.push('        <input type="radio" data-native="true" class="mtab" id="prices-panel-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" name="prices-panels" ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push('checked="checked"');d.push(' data-index="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" data-role="none">     <label for="prices-panel-');
if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('     </label>          <div id="prices-tab-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-content ui-body-c ');if(typeof(o==
0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push("visible-tab");d.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('</span>      </div>      <div class="list-view">       ');if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(a):j.feed_account.user_feeds,function(r,p){with(this){d.push('        <input type="radio" data-native="true" name="prices-sources-');
if(typeof p.feed_account_id!=="undefined"&&p.feed_account_id!=null)d.push(e.encode(typeof p.feed_account_id==="function"?p.feed_account_id.call(a):p.feed_account_id));d.push('" id="source-');if(typeof p.feed_account_id!=="undefined"&&p.feed_account_id!=null)d.push(e.encode(typeof p.feed_account_id==="function"?p.feed_account_id.call(a):p.feed_account_id));d.push("-");if(typeof p._id!=="undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('" data-id="');if(typeof p._id!==
"undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('" data-index="');if(typeof r!=="undefined"&&r!=null)d.push(e.encode(typeof r==="function"?r.call(a):r));d.push('" ');if(typeof(r==0)!=="undefined"&&r==0!=null&&(typeof(r==0)==="function"?(r==0).call(a):r==0))d.push('checked="checked"');d.push(' data-role="none">        <label for="source-');if(typeof p.feed_account_id!=="undefined"&&p.feed_account_id!=null)d.push(e.encode(typeof p.feed_account_id==="function"?
p.feed_account_id.call(a):p.feed_account_id));d.push("-");if(typeof p._id!=="undefined"&&p._id!=null)d.push(e.encode(typeof p._id==="function"?p._id.call(a):p._id));d.push('">');if(typeof p.feed_info.title!=="undefined"&&p.feed_info.title!=null&&(typeof p.feed_info.title==="function"?p.feed_info.title.call(a):p.feed_info.title)){d.push(" ");if(typeof p.feed_info.title!=="undefined"&&p.feed_info.title!=null)d.push(e.encode(typeof p.feed_info.title==="function"?p.feed_info.title.call(a):p.feed_info.title))}else{d.push(" ");
if(typeof p.name!=="undefined"&&p.name!=null)d.push(e.encode(typeof p.name==="function"?p.name.call(a):p.name))}d.push(" ");d.push("</label>       ")}});d.push("      </div>     </div>    ")}});d.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="prices-preset-all" name="prices-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="prices-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Prices    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>    </div>        <input type="radio" data-native="true" id="prices-preset-suggested" name="prices-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="prices-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Prices    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.prices.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_portfolio_tmpl",function(c){return function(e,a){e=[];a=a.data;with(a)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.portfolio.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_portfolio_management_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div class="ui-header ui-bar-b">   <strong>Portfolio Management</strong>   <span>Collections of positions that the user holds in various securities, plus metadata, using Google Finance </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof portfolios!=="undefined"&&portfolios!=null)e.each(typeof portfolios===
"function"?portfolios.call(a):portfolios,function(o,j){with(this){d.push('     <input type="radio" data-native="true" class="mtab" id="portfolio-account-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" name="portfolio-panels" ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push('checked="checked"');d.push(' data-index="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):
o));d.push('" data-role="none">     <label for="portfolio-account-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('     </label>          <div id="portfolio-tab-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?
o.call(a):o));d.push('" class="mtab-content ui-body-c ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push("visible-tab");d.push('">      <div class="mtab-title ui-bar-a">            <span>');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('</span>      </div>            <em class="extra-details">Portfolios available in your Google Account</em>            <span style="display: none">');
if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)d.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(a):(feed_account_id=j.feed_account._id)));d.push('</span>      <div class="list-view">       ');if(typeof j.list!=="undefined"&&j.list!=null)e.each(typeof j.list==="function"?j.list.call(a):j.list,function(r,p){with(this){d.push('        <input type="radio" data-native="true" name="portfolio-sources-');
if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)d.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));d.push('" id="source-');if(typeof p.id_bare!=="undefined"&&p.id_bare!=null)d.push(e.encode(typeof p.id_bare==="function"?p.id_bare.call(a):p.id_bare));d.push('" data-id="');if(typeof p.id_bare!=="undefined"&&p.id_bare!=null)d.push(e.encode(typeof p.id_bare==="function"?p.id_bare.call(a):p.id_bare));d.push('" data-index="');if(typeof r!=="undefined"&&
r!=null)d.push(e.encode(typeof r==="function"?r.call(a):r));d.push('" ');if(typeof(r==0)!=="undefined"&&r==0!=null&&(typeof(r==0)==="function"?(r==0).call(a):r==0))d.push('checked="checked"');d.push(' data-role="none">        <label for="source-');if(typeof p.id_bare!=="undefined"&&p.id_bare!=null)d.push(e.encode(typeof p.id_bare==="function"?p.id_bare.call(a):p.id_bare));d.push('">');if(typeof p.title!=="undefined"&&p.title!=null)d.push(e.encode(typeof p.title==="function"?p.title.call(a):p.title));
d.push("</label>       ")}});d.push("      </div>     </div>    ")}});d.push('       </div>      <div class="module-details">       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-portfolio">Add Portfolio</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-portfolio">Edit Portfolio</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-portfolio">Delete Portfolio</a>    </div>   </div>  </div>')}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.portfolio.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_agenda_tmpl",function(c){return function(e,a){e=[];a=a.data;with(a)e.push('<div class="events-months-container"></div>');return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.agenda.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_linkedin_tmpl",function(c){return function(e,a){e=[];var d=a.data;with(d){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(a):!connected))e.push('  <a class="linkedin-connect-button">Connect with Twitter</a>  ');e.push("  <ul></ul>")}return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.linkedin.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_linkedin_management_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div class="ui-header ui-bar-b">   <strong>LinkedIn Management</strong>   <span>Get the latest business news from LinkedIn and manage it. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,
function(o,j){with(this){d.push('       <input type="radio" data-native="true" class="mtab" id="linkedin-panel-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" name="linkedin-panels" ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push('checked="checked"');d.push(' data-index="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" data-role="none">     <label for="linkedin-panel-');
if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push("     </label>       ")}});d.push('       </div>      <div class="linkedin-management-details ui-body-c">        <p>You can add a new <strong>LinkedIn</strong> column using the <strong>Add Column</strong> button in the left side of the footer. </p>     </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.linkedin.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_blinkx_tmpl",function(c){return function(e,a){e=[];a=a.data;with(a)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.blinkx.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_keyword_management_tmpl",function(c){return function(e,a){var d=[],n=a.data;with(n){d.push('<div class="ui-header ui-bar-b">   <strong>Keywords Management</strong>   <span>Manage your keywords. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,function(o,j){with(this){d.push('        <input type="radio" data-native="true" class="mtab" id="keyword-panel-');
if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" name="keyword-panels" ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push('checked="checked"');d.push(' data-index="');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" data-role="none">     <label for="keyword-panel-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-selector">      ');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('     </label>          <div id="keyword-tab-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" class="mtab-content ui-body-c ');if(typeof(o==0)!=="undefined"&&o==0!=null&&(typeof(o==0)==="function"?(o==0).call(a):o==0))d.push("visible-tab");d.push('">      <div class="mtab-title ui-bar-a">       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)d.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));d.push('</span>           </div>      <div class="keyword-panel-settings">              <div data-role="fieldcontain">        <label for="keyword-text-');if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('">Keyword</label>               <input type="text" class="keyword-text" id="keyword-text-');
if(typeof o!=="undefined"&&o!=null)d.push(e.encode(typeof o==="function"?o.call(a):o));d.push('" value="');if(typeof j.feed_account.keyword_column.keyword!=="undefined"&&j.feed_account.keyword_column.keyword!=null)d.push(e.encode(typeof j.feed_account.keyword_column.keyword==="function"?j.feed_account.keyword_column.keyword.call(a):j.feed_account.keyword_column.keyword));d.push('"/>       </div>              <div data-role="fieldcontain" class="keyword-save-container">        <button class="keyword-save">Save Column</button>       </div>              <div class="keyword-help">        <strong>Add Keyword Searches using Twitter.</strong>                      <div class="keyword-example">         <strong>Example:</strong>         <p>          <strong>HSBC shares</strong> will find tweets that contain <strong>both</strong> <em>HSBC</em> and <em>shares</em> <br>          <strong>"US economy"</strong> will find tweets containing the <strong>exact phrase</strong> <em>US economy</em> <br>          <strong>$AAPL OR $GOOG</strong> will find tweets containing <strong>either</strong> <em>$AAPL</em> or <em>$GOOG</em>         </p>        </div>       </div>             </div>     </div>    ')}});
d.push('       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return d}.call(jQuery,
jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.keyword.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_keyword_tmpl",function(c){return function(e,a){e=[];a=a.data;with(a)e.push('<ul class="tweets"></ul>  <ul data-role="listview" class="load-more-container">   <li data-icon="false" data-theme="d">    <a class="load-more-tweets">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:c}).join("")})});steal.loaded("webapp/views/module.keyword.tmpl");
finfore.modules.feed=function(){var f=function(e){var a=e.sources.slice(0);if(e.bingsearch&&e.limit>15){a[0]+="&news.offset=";a[0]+=e.limit*1-14}feedReader.get({callbackId:e.callbackId,sources:a,limit:e.limit,bingsearch:e.bingsearch,blogsearch:e.blogsearch,company:e.company,complete:function(d){if(!e.bingsearch&&e.loadMore===true&&e.limit>15)d=d.slice(e.limit-15,e.limit);var n="",o=d.length-1;$.each(d,function(j){if(e.loadMore===true||this.pubDate>e.date){n+=j===o?'<li class="last-in-group" data-icon="false">':
'<li data-icon="false">';if(finfore.smallScreen){n+="<a><abbr>"+this.source+"</abbr>";n+="<h3>"+this.title+"</h3>";n+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";n+='</a><a href="'+this.link+'" target="_blank" class="mobile-column-select"></a>'}else{n+='<a href="'+this.link+'" target="_blank"><abbr>'+this.source+"</abbr>";n+="<h3>"+this.title+"</h3>";n+="<p>"+this.description+"</p>";n+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";n+="</a>"}n+="</li>";if(!e.company||!finfore.smallScreen)this.pubDate>
finfore.ticker.date&&finfore.ticker.updateNews(this)}});d=$(".load-more-entries",e.$container).parents("li").first();$(n).insertBefore(d);d=$("[data-role=content] ul",e.$container);d.jqmData("listview")?d.listview("refresh"):d.listview();e.$container.removeClass("panel-loading")}})},c=function(e,a){var d=0,n=[];if(a.company){var o;if(a.blogsearch)o="http://www.google.com/search?hl=en&q="+$.URLEncode(a.company.feed_info.company_competitor.blog_keyword)+"&ie=utf-8&tbm=blg&num=100&output=rss";else if(a.bingsearch){a.company.feed_info.company_competitor.bing_keyword=
a.company.feed_info.company_competitor.bing_keyword.replace(","," OR ");o="http://api.bing.com/rss.aspx?Source=News&Market=en-US&Version=2.0&Query="+$.URLEncode(a.company.feed_info.company_competitor.bing_keyword)+"&news.count=15"}else o="http://www.google.com/finance/company_news?q="+a.company.feed_info.company_competitor.finance_keyword+"&authuser=0&output=rss&num=100";n=[o]}if(a.portfolio&&a.portfolio.overview.rss.chanel.item)if($.isArray(a.portfolio.overview.rss.chanel.item))$.each(a.portfolio.overview.rss.chanel.item,
function(){n.push("http://www.google.com/finance/company_news?q="+this.google_ticker+"&authuser=0&output=rss")});else n=["http://www.google.com/finance/company_news?q="+a.portfolio.overview.rss.chanel.item.google_ticker+"&authuser=0&output=rss"];if(a.feed_account&&!a.portfolio)n=$.map(a.feed_account.user_feeds,function(r){return r.feed_info.address});var j=function(r,p){e.addClass("panel-loading");if(p===true)d+=15;var u;if(a.feed_account)u=a.feed_account._id;else if(a.company){u=a.company._id;if(a.blogsearch)u+=
"blogsearch";if(a.bingsearch)u+="bingsearch"}f({sources:n,$container:e,date:new Date,loadMore:p,limit:d,blogsearch:a.blogsearch,bingsearch:a.bingsearch,company:a.company,callbackId:u})};(function(){$(document).height();if(a.feed_account)var r=a.feed_account.name;if(a.portfolio)r=a.portfolio.title;if(a.company){r="Company News";if(a.blogsearch)r="News from Blogs";if(a.bingsearch)r="Additional News"}var p=$.View("//webapp/views/module.feed.tmpl",{smallScreen:finfore.smallScreen});r=$.View("//webapp/views/module.tmpl",
{title:r,smallScreen:finfore.smallScreen,content:p});$(r).appendTo(e);e.bind("refresh",j);e.bind("reinit",function(){clearInterval(u);e.unbind();e.empty();e.jqmRemoveData();c(e,a)});$(".load-more-entries",e).click(function(x){e.trigger("refresh",[true]);x.preventDefault();return false});if(!finfore.smallScreen)var u=setInterval(j,3E5);e.page();e.trigger("init")})()};return{init:c,management:function(e){finfore.data.panels.main.feed||(finfore.data.panels.main.feed=[]);var a=$.View("//webapp/views/module.feed.management.tmpl",
{panels:finfore.data.panels.main.feed});$(a).appendTo(e);var d=$(".mtabs-container",e);finfore.manage.bindPanelData({$container:d,category:"feed"});$(".edit-column-title",e).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",d),category:"feed"})});$(".add-column",e).click(function(){finfore.manage.panels.create({$node:d,category:"feed"})});$(".remove-column",e).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",d),category:"feed"})});d.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",d),category:"feed"})});d.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",d),category:"feed"})});$(".add-preset-source",e).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",d),$presets:$(".preset-tabs",e),category:"feed"})});$(".mtab-content",d).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
d),$presets:$(".preset-tabs",e),category:"feed"})}});var n=allCount=0,o=$(".preset-sources-suggested",e),j=$(".preset-sources-all",e);(function(){n++;finfore.manage.updateFeedInfos({$node:o,type:"feed",category:"rss",count:n});return false})();(function(){allCount++;finfore.manage.updateFeedInfos({$node:j,type:"feed",category:"all,rss",count:allCount});return false})()}}}();steal.loaded("webapp/modules/feed.js");
finfore.modules.podcast=function(){var f=["mp4","3g2","3gp","asf","asx","avi","flv","mov","mpg","rm","vob","webm","wmv","ogv","ogg"],c=function(a){feedReader.get({callbackId:a.callbackId,sources:a.sources,limit:a.limit,podcast:true,complete:function(d){if(a.loadMore===true&&a.limit>5)d=d.slice(a.limit-15,a.limit);var n="",o=d.length-1,j;$.each(d,function(u){j="";if(this.link)j=this.link;else if(this.enclosure)j=this.enclosure.url;if((a.loadMore===true||this.pubDate>a.date)&&j){n+=u===o?'<li class="last-in-group" data-icon="false">':
'<li data-icon="false">';u=j.split(".").pop();n+="<abbr>"+this.source+"</abbr>";n+='<h3><a href="'+this.link+'" target="_blank">'+this.title+"</a></h3>";n+=$.inArray(u,f)===0?'<video src="'+j+'" width="270" height="150" controls="controls" type="video/'+u+'" preload="none"></video>':'<audio src="'+j+'" controls="controls" type="audio/'+u+'" preload="none"></audio>';n+="<p>"+this.description+"</p>";n+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";n+="</li>"}});d=$(".load-more-entries",a.$container).parents("li").first();
var r=$(n),p=$("[data-role=content] ul",a.$container);r.insertBefore(d);p.jqmData("listview")?p.listview("refresh"):p.listview();finfore.smallScreen||finforeNative||touchSupport||$("video, audio",r).mediaelementplayer({audioWidth:275,pluginPath:"webapp/lib/mediaelement/"});a.$container.removeClass("panel-loading")}})},e=function(a,d){var n=0,o=[];o=$.map(d.feed_account.user_feeds,function(r){return r.feed_info.address});var j=function(r,p){a.addClass("panel-loading");if(p===true)n+=15;c({sources:o,
$container:a,date:new Date,loadMore:p,limit:n,callbackId:d.feed_account._id})};(function(){$(document).height();var r=$.View("//webapp/views/module.podcast.tmpl",{});r=$.View("//webapp/views/module.tmpl",{title:d.feed_account.name,smallScreen:finfore.smallScreen,content:r});$(r).appendTo(a);$(".load-more-entries",a).click(function(u){a.trigger("refresh",[true]);u.preventDefault();return false});a.bind("refresh",j);a.bind("reinit",function(){clearInterval(p);a.unbind();a.empty();a.jqmRemoveData();
e(a,d)});if(!finfore.smallScreen)var p=setInterval(j,3E5);a.page();a.trigger("init")})()};return{init:e,management:function(a){finfore.data.panels.main.podcast||(finfore.data.panels.main.podcast=[]);var d=$.View("//webapp/views/module.podcast.management.tmpl",{panels:finfore.data.panels.main.podcast});$(d).appendTo(a);var n=$(".mtabs-container",a);finfore.manage.bindPanelData({$container:n,category:"podcast"});finfore.manage.bindPanelData({$container:n,category:"podcast"});$(".edit-column-title",
a).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",n),category:"podcast"})});$(".add-column",a).click(function(){finfore.manage.panels.create({$node:n,category:"podcast"})});$(".remove-column",a).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",n),category:"podcast"})});n.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",n),category:"podcast"})});n.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",
n),category:"podcast"})});$(".add-preset-source",a).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",n),$presets:$(".preset-tabs",a),category:"podcast"})});$(".mtab-content",n).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",n),$presets:$(".preset-tabs",a),category:"podcast"})}});var o=allCount=0,j=$(".preset-sources-suggested",a),r=$(".preset-sources-all",a);(function(){o++;finfore.manage.updateFeedInfos({$node:j,
type:"podcast",category:"podcast",count:o});return false})();(function(){allCount++;finfore.manage.updateFeedInfos({$node:r,type:"podcast",category:"all,podcast",count:allCount});return false})()}}}();steal.loaded("webapp/modules/podcast.js");
finfore.modules.twitter=function(){var f=function(c,e){var a,d=20,n,o,j,r,p=function(A){empty(o[0]);c.removeClass("panel-loading");if(A.results)A=A.results;$.each(A,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});a=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:A});o.append(a);A&&$.each(A,function(){var E=new Date(this.created_at);e.company&&finfore.smallScreen||E>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},u=function(A){c.addClass("panel-loading");if(A===true)d+=5;o.removeData();if(e.company){o.unbind("load");A=e.competitor?e.company.feed_info.company_competitor.keyword.replace(/,/g," OR "):e.company.feed_info.company_competitor.company_ticker+" OR "+e.company.feed_info.company_competitor.broadcast_keyword;$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:A,rpp:d},success:p})}else $.ajax({url:finforeBaseUrl+"/tweetfores/home_timeline.json",
type:"POST",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token,feed_account_id:e.feed_account._id,count:d},success:p})},x=function(){var A,E,F=false;if(e.company){E="Breaking News";if(e.competitor)E="Competitors News"}if(!e.company){E=e.feed_account.name;F=!e.feed_account.feed_token||!e.feed_account.feed_token.token}var z=$.View("//webapp/views/module.twitter.tmpl",{connected:!F});E=$.View("//webapp/views/module.tmpl",{title:E,smallScreen:finfore.smallScreen,
content:z});$(E).appendTo(c);n=$("[data-role=content]",c);o=$(".tweets",n);j=$(".load-more-tweets",n);r=$(".twitter-connect-button",c);c.addClass("panel-loading");if(F){u();var J=finforeBaseUrl+"/feed_accounts/twitter/auth?feed_account_id="+e.feed_account._id;r.click(function(){r.hide();c.addClass("panel-loading");var O=window.open(J,"twitterAuthWindow","resizable=yes,scrollbars=yes,status=yes"),L=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,
feed_token:{feed_account_id:e.feed_account.id,user_id:e.feed_account.user_id}},success:function(w){if(w.feed_token&&w.feed_token.token){e.feed_account.feed_token=w.feed_token;empty(c[0]);c.removeClass("panel-loading");c.removeData();x()}else if(O.closed){r.show();c.removeClass("panel-loading")}else setTimeout(L,1E4)}})};L();return false})}else finfore.smallScreen||(A=setInterval(u,3E5));j.click(function(){c.trigger("refresh",[true])});c.page();c.bind("refresh",u);c.bind("reinit",function(){clearInterval(A);
c.unbind();c.empty();c.jqmRemoveData();f(c,e)});c.trigger("init")};x()};return{init:f,management:function(c){finfore.data.panels.main.twitter||(finfore.data.panels.main.twitter=[]);var e=$.View("//webapp/views/module.twitter.management.tmpl",{panels:finfore.data.panels.main.twitter});$(e).appendTo(c);var a=$(".mtabs-container",c);finfore.manage.bindPanelData({$container:a,category:"twitter"});$(".edit-column-title",c).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"twitter"})});
$(".add-column",c).click(function(){finfore.manage.panels.create({$node:a,category:"twitter"})});$(".remove-column",c).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"twitter"})});a.delegate(".add-custom-source","click",function(){finfore.manage.twitter.addCustom({$node:$(".mtab:checked",a),category:"twitter"})});a.delegate(".remove-source","click",function(){finfore.manage.twitter.remove({$node:$(".mtab:checked",a),category:"twitter"})});$(".add-preset-source",
c).click(function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",c),category:"twitter"})});$(".mtab-content",a).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",c),category:"twitter"})}});var d=allCount=0,n=$(".preset-sources-suggested",c),o=$(".preset-sources-all",c);(function(){d++;finfore.manage.updateFeedInfos({$node:n,type:"twitter",category:"twitter",count:d});
return false})();(function(){allCount++;finfore.manage.updateFeedInfos({$node:o,type:"twitter",category:"all,twitter",count:allCount});return false})()}}}();steal.loaded("webapp/modules/twitter.js");
finfore.modules.prices=function(){var f=function(c,e){var a,d=a;e.company||$.map(e.feed_account.user_feeds,function(p){return p.feed_info_id});var n=10;d=n;var o=function(p){var u="",x;if(e.company){p=e.company.feed_info.company_competitor.company_ticker+",";x=e.company.feed_info.company_competitor.company_ticker;p+=e.company.feed_info.company_competitor.competitor_ticker;u=p}else if(e.feed_account.user_feeds[0]){p=e.feed_account.user_feeds[0].feed_info.price_tickers;$.each(p,function(A,E){u+=E.ticker+
","})}if(u){u=u.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+u,dataType:"jsonp",success:function(A){var E="",F=[];$.each(A,function(z,J){z=J.e+":"+J.t;var O=J.name,L='<a href="http://www.google.com/finance?q='+z+'" target="_blank">';J.c=parseFloat(J.c);J.cp=parseFloat(J.cp);e.company&&finfore.smallScreen||Math.abs(J.cp)>finfore.ticker.priceBridge&&finfore.ticker.updatePrices(J);var w=J.l||0,t=J.c||0;J=J.cp||0;if(O){O=L+O+"</a>";if(!finfore.smallScreen){w=
L+w+"</a>";t=L+t+"</a>";J=L+J+"</a>"}E+='<tr class="ui-btn-up-c">';E+="<td>"+O+"</td>";E+="<td>"+w+"</td>";E+=t<0?'<td class="negative nowrap">'+t+"</a></td>":'<td class="nowrap">'+t+"</a></td>";E+=J<0?'<td class="negative nowrap">'+J+"</a></td>":'<td class="nowrap">'+J+"</a></td>";E+="</tr>"}F.push({stock:z,price:w*1})});$(E).appendTo($("tbody",c));if(e.company){F.shift();(FlashDetect.installed?$('<embed height="340" menu="false" flashvars="displayVolume=true&amp;displayDividends=true&amp;displaySplits=true&amp;displayExtendedHours=true&amp;defaultZoomDays=true&amp;hasVolume=true&amp;hasExtendedHours=true&amp;defaultZoomDays=5&amp;q='+
x+"&amp;lcId=1302290366141&amp;compareTo="+F[0].stock+"%3B"+F[1].stock+'%3B&amp;single_viewpoints=name%3AMainViewPoint%2Cheight%3A202%2CtopMargin%3A0%3A%3Aname%3ABottomViewPoint%2Cheight%3A45%2CtopMargin%3A0%2Cdisplay%3Avisible&amp;single_layers=vp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A0%2Ctype%3Asimple%2ChasText%3Atrue%3A%3Avp%3AMainViewPoint%2Cname%3APriceLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AAHLineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALastDayLineLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Adividend%2Cpositioning%3Abottom%2CavoidObj%3Asplit%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Asplit%2Cpositioning%3Abottom%2CavoidObj%3Adividend%3A%3Avp%3ABottomViewPoint%2Cname%3AVolumeScaleLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3ABottomViewPoint%2Cname%3AECNVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3AVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A1%2Ctype%3Asimple&amp;compare_viewpoints=name%3AMainViewPoint%2Cheight%3A247%2CtopMargin%3A15&amp;compare_layers=vp%3AMainViewPoint%2Cname%3APercentLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%2CtickPosition%3A0%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3APercentLineChartLayer%2Carity%3AMultiple%2Ctype%3Asimple&amp;u=http://www.google.com/finance/getprices&amp;fieldSeparator=%2C&amp;objectSeparator=%3A%3A&amp;sparklineType=dynamic&amp;hasDefaultZoomSetting=true&amp;verticalScaling=maximized&amp;hasVerticalScaleSetting=true&amp;snapping=false&amp;minZoomDays=1&amp;infoTextAlign=left&amp;infoTextTopPadding=17&amp;disableExternalInterface=true" width="100%" base="http://www.google.com/finance/" wmode="opaque" type="application/x-shockwave-flash" src="http://www.google.com/finance/chart9.swf"></embed>'):
$('<img src="http://www.google.com/finance/chart?q='+x+'&cht=o&p=5d" class="image-stocks-chart">')).prependTo(c.find("[data-role=content]"))}},complete:function(){c.removeClass("panel-loading")}})}else{c.removeClass("panel-loading");return false}},j=function(){c.addClass("panel-loading");o()},r=function(){d=n=10;$(".ui-content table tbody",c).empty();$(".ui-content > embed, .ui-content > img",c).remove();j()};(function(){$(document).height();var p=e.company?"Prices":e.feed_account.name;if(!c||!c.length)sandbox.debug("No container set for Module! Module *Feed* will not initalize!",
"warn");else{var u=$.View("//webapp/views/module.prices.tmpl",{});p=$.View("//webapp/views/module.tmpl",{title:p,smallScreen:finfore.smallScreen,content:u});$(p).appendTo(c);if(!finfore.smallScreen)var x=setInterval(r,3E5);c.page();c.bind("refresh",r);c.bind("reinit",function(){clearInterval(x);c.unbind();c.empty();c.jqmRemoveData();f(c,e)});c.trigger("init")}})()};return{init:f,management:function(c){finfore.data.panels.main.prices||(finfore.data.panels.main.prices=[]);var e=$.View("//webapp/views/module.prices.management.tmpl",
{panels:finfore.data.panels.main.prices});$(e).appendTo(c);var a=$(".mtabs-container",c);finfore.manage.bindPanelData({$container:a,category:"prices"});$(".edit-column-title",c).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"prices"})});$(".add-column",c).click(function(){finfore.manage.panels.create({$node:a,category:"prices"})});$(".remove-column",c).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"prices"})});a.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",a),category:"prices"})});a.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",a),category:"prices"})});$(".add-preset-source",c).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",c),category:"prices"})});$(".mtab-content",a).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
a),$presets:$(".preset-tabs",c),category:"prices"})}});var d=allCount=0,n=$(".preset-sources-suggested",c),o=$(".preset-sources-all",c);(function(){d++;finfore.manage.updateFeedInfos({$node:n,type:"prices",category:"chart",count:d});return false})();(function(){allCount++;finfore.manage.updateFeedInfos({$node:o,type:"prices",category:"all,chart",count:allCount});return false})()}}}();steal.loaded("webapp/modules/prices.js");
finfore.modules.portfolio=function(){return{init:function(f,c){var e,a=e,d=10;a=d;var n=function(){f.addClass("panel-loading");var j="";if(c.portfolio.overview.rss.chanel.item){j="";if($.isArray(c.portfolio.overview.rss.chanel.item))$.each(c.portfolio.overview.rss.chanel.item,function(r,p){if(this.google_ticker)j+=p.google_ticker+","});else j=c.portfolio.overview.rss.chanel.item.google_ticker;j=j.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+j,dataType:"jsonp",
success:function(r){var p="";$.each(r,function(u,x){u=x.name;var A='<a href="http://www.google.com/finance?q='+(x.e+":"+x.t)+'" target="_blank">',E=x.l,F=parseFloat(x.c);x=parseFloat(x.cp);if(u){u=A+u+"</a>";if(!finfore.smallScreen){E=A+E+"</a>";F=A+F+"</a>";x=A+x+"</a>"}p+='<tr class="ui-btn-up-c">';p+="<td>"+u+"</td>";p+="<td>"+E+"</td>";p+=F<0?'<td class="negative nowrap">'+F+"</a></td>":'<td class="nowrap">'+F+"</a></td>";p+=x<0?'<td class="negative nowrap">'+x+"</a></td>":'<td class="nowrap">'+
x+"</a></td>";p+="</tr>"}});$(p).appendTo($("tbody",f));f.removeClass("panel-loading")},complete:function(){f.removeClass("panel-loading")}})}else f.remove()},o=function(){a=d=10;empty($("[data-role=content] tbody",f)[0]);n()};(function(){var j=$.View("//webapp/views/module.portfolio.tmpl",{});j=$.View("//webapp/views/module.tmpl",{title:c.portfolio.title,smallScreen:finfore.smallScreen,content:j});$(j).appendTo(f);finfore.smallScreen||setInterval(o,3E5);f.page();f.bind("refresh",o);f.trigger("init")})()},
management:function(f){var c=$.View("//webapp/views/module.portfolio.management.tmpl",{portfolios:finfore.data.portfolios});$(c).appendTo(f);var e=$(".mtabs-container",f);finfore.manage.bindPanelData({$container:e,category:"portfolio"});$(".edit-portfolio",f).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",e),category:"portfolio"})});$(".add-portfolio",f).click(function(){finfore.manage.panels.create({$node:e,category:"portfolio"})});$(".remove-portfolio",f).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
e),category:"portfolio"})})}}}();steal.loaded("webapp/modules/portfolio.js");
finfore.modules.agenda=function(){return{init:function(f,c){var e=function(d){d.$container.addClass("panel-loading");var n="",o;if(c.company){o=c.company._id;if(c.competitor){n=c.company.feed_info.company_competitor.competitor_ticker;o+="competitor"}else n=c.company.feed_info.company_competitor.company_ticker}else{if($.isArray(c.portfolio.overview.rss.chanel.item))$.each(c.portfolio.overview.rss.chanel.item,function(){if(this.google_ticker)n+=this.google_ticker+","});else if(c.portfolio.overview.rss.chanel.item)n=
c.portfolio.overview.rss.chanel.item.google_ticker;o=c.portfolio.id_bare}if(!n)return false;n=n.replace(/\s/g,"");var j='select * from json where url="http://www.google.com/finance/events?output=json&q='+n+'"';o="agendaModuleCallback"+o;window[o]=function(r){agendaCalendarCallback(r,d)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:o,cache:true,data:{q:j,format:"json",_maxage:300,diagnostics:false}})},a=function(){empty($("[data-role=content] .events-months-container",
f)[0]);e({$container:f})};(function(){$(document).height();if(c.company){var d="Calendar";if(c.competitor)d="Competitors Calendar"}else d=c.portfolio?c.portfolio.title:c.feed_account.name;var n=$.View("//webapp/views/module.agenda.tmpl",{});d=$.View("//webapp/views/module.tmpl",{title:d,smallScreen:finfore.smallScreen,content:n});$(d).appendTo(f);finfore.smallScreen||setInterval(a,3E5);f.page();f.bind("refresh",a);f.trigger("init")})()}}}();
var agendaCalendarCallback=function(f,c){var e="",a="",d=[],n=new Date,o;if(f.query.results)d=f.query.results.json.events;if($.isArray(d)&&d.length){d=d.reverse();$.each(d,function(){o=new Date(this.LocalizedInfo.start_date);o.setHours(0);if(o>=n){var j=this.LocalizedInfo.start_date,r=this.desc,p=/^[A-Za-z]{3}/.exec(j),u=/[0-9]{4}$/.exec(j);if(p!=null)f=p[0];if(u!=null)result_year=u[0];if(e!=f)if(e==""){e=f;a+='<div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+
e+" "+result_year+"</td></tr></thead><tbody>"}else{e=f;a+='</tbody></table></div><div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+e+" "+result_year+"</td></tr></thead><tbody>"}a+='<tr class="ui-btn-up-c">';a+="<td>"+j+", ";a+=this.LocalizedInfo.start_time?this.LocalizedInfo.start_time:"All Day";a+="</td><td>"+r+"</td>";a+="</tr>"}})}a||(a='<table class="events-table"><thead><tr><td class="ui-bar-d">No upcoming events </td></tr></thead></table>');
$(a).appendTo($(".events-months-container",c.$container));c.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/agenda.js");
finfore.modules.linkedin=function(){var f=function(c,e){var a,d,n=function(){c.addClass("panel-loading");empty(a[0]);$.ajax({url:finforeBaseUrl+"/linkedins/network_status.json",dataType:"json",data:{tid:e.feed_account.feed_token._id,count:25},success:function(j){var r="",p,u,x,A,E,F,z,J,O,L=new Date;if(j&&j.length)$.each(j,function(w,t){if(t.updateContent.person.id!="private"){z=t.timestamp;L.setTime(z*1);r+='<li class="ui-li ui-btn-up-c">';p=t.updateContent.person.firstName+" "+t.updateContent.person.lastName;
u=t.updateContent.person.apiStandardProfileRequest.url;if(F=t.updateContent.person.pictureUrl)r+='<a href="'+u+'" target="_blank"><img src="'+F+'" width="80" height="80" /></a>';if(t.updateContent.person.connections){x=t.updateContent.person.connections.person.firstName+" "+t.updateContent.person.connections.person.lastName;E=t.updateContent.person.connections.person.apiStandardProfileRequest.url;r+='<p><a href="'+u+'" target="_blank" class="user">'+p+'</a> connected with <a href="'+E+'" class="connection" target="_blank">'+
x+"</a></p>"}else if(t.updateContent.person.currentShare){if(t.updateContent.person.currentShare.comment){A=$.linkUrl(t.updateContent.person.currentShare.comment);r+='<p><a href="'+u+'" target="_blank" class="user">'+p+"</a> "+A+"</p>"}if(t.updateContent.person.currentShare.content){J=t.updateContent.person.currentShare.content.title;O=t.updateContent.person.currentShare.content.submittedUrl;r+='<p><a href="'+O+'" target="_blank" class="user">'+J+"</a></p>"}}r+="<time>"+L.toUTCString()+"</time>";
r+="</li>"}});else r='<li class="ui-li ui-btn-up-d">No LinkedIn events</li>';$(r).appendTo(a);c.removeClass("panel-loading")}})},o=function(){var j,r=!e.feed_account.feed_token||!e.feed_account.feed_token.token,p=$.View("//webapp/views/module.linkedin.tmpl",{connected:!r});p=$.View("//webapp/views/module.tmpl",{title:e.feed_account.name,smallScreen:finfore.smallScreen,content:p});$(p).appendTo(c);c.page();c.bind("refresh",n);c.bind("reinit",function(){clearInterval(j);c.unbind();c.empty();c.jqmRemoveData();
f(c,e)});a=$("[data-role=content] ul",c);d=$(".linkedin-connect-button",c);if(r){var u=finforeBaseUrl+"/feed_accounts/linkedin/auth?feed_account_id="+e.feed_account._id+"&callback="+finforeAppUrl+"authorize.html";d.click(function(){d.hide();c.addClass("panel-loading");var x=window.open(u,"linkedinAuthWindow","resizable=yes,scrollbars=yes,status=yes"),A=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,feed_token:{feed_account_id:e.feed_account.id,
user_id:e.feed_account.user_id}},success:function(E){if(E.feed_token&&E.feed_token.token){e.feed_account.feed_token=E.feed_token;empty(c[0]);c.removeClass("panel-loading");c.removeData();o()}else if(x.closed){d.show();c.removeClass("panel-loading")}else setTimeout(A,1E4)}})};A();return false})}else finfore.smallScreen||(j=setInterval(n,3E5));c.trigger("init")};o()};return{init:f,management:function(c){finfore.data.panels.main.linkedin||(finfore.data.panels.main.linkedin=[]);var e=$.View("//webapp/views/module.linkedin.management.tmpl",
{panels:finfore.data.panels.main.linkedin});$(e).appendTo(c);var a=$(".mtabs-container",c);finfore.manage.bindPanelData({$container:a,category:"linkedin"});$(".edit-column-title",c).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"linkedin"})});$(".add-column",c).click(function(){finfore.manage.panels.create({$node:a,category:"linkedin"})});$(".remove-column",c).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"linkedin"})})}}}();
steal.loaded("webapp/modules/linkedin.js");
finfore.modules.blinkx=function(){var f=function(e){e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/ /g,"+");e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/"/g,"");e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/&/g,"");e.company.feed_info.company_competitor.broadcast_keyword=escape(e.company.feed_info.company_competitor.broadcast_keyword);
var a="select * from xml where url='"+("http://usp1.blinkx.com/partnerapi/user/?uid=2ehiek5947&text=%22"+e.company.feed_info.company_competitor.broadcast_keyword+"%22&start="+e.start+"&MaxResults="+e.end+"&sortby=date&AdultFilter=true&ReturnLink=true")+"'",d="blinkxModuleCallback"+e.company._id;window[d]=function(n){blinkxCallback(n,e)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:d,cache:true,data:{q:a,format:"json",_maxage:300,diagnostics:false}})},c=function(e,
a){var d=0,n=0,o=function(j,r){e.addClass("panel-loading");if(r===true){d=n+1;n+=20;f({start:d,end:n,date:new Date,loadMore:r,company:a.company,$container:e})}else f({start:1,end:n,date:new Date,loadMore:r,company:a.company,$container:e})};(function(){$(document).height();var j=$.View("//webapp/views/module.blinkx.tmpl",{});j=$.View("//webapp/views/module.tmpl",{title:"Broadcast News",smallScreen:finfore.smallScreen,content:j});$(j).appendTo(e);$(".load-more-entries",e).click(function(p){e.trigger("refresh",
[true]);p.preventDefault();return false});e.bind("refresh",o);e.bind("reinit",function(){clearInterval(r);e.unbind();e.empty();e.jqmRemoveData();c(e,a)});if(!finfore.smallScreen)var r=setInterval(o,3E5);e.page();e.trigger("init")})()};return{init:c}}();
var blinkxCallback=function(f,c){var e=[],a,d,n,o,j,r,p,u,x,A;if(f.query.results&&f.query.results.response.responsedata)e=f.query.results.response.responsedata.hit;if(e){n=e.length-1;$.each(e,function(E){a=this;o=a.date;j=a.title;r=a.channel;p=a.summary;u=a.staticpreview;x=a.url;A=new Date(o*1E3);if(finfore.smallScreen||touchSupport)x=x.replace("http://www.blinkx.com/burl?v=","http://m.blinkx.com/info/");if(c.loadMore===true||A>c.date){d+=E===n?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';
d+='<a href="'+x+'" target="_blank"><abbr>'+r+"</abbr>";d+="<h3>"+j+"</h3>";d+='<img src="'+u+'" />';d+="<p>"+p.substring(0,100)+"..</p>";d+="<abbr>"+A.toUTCString()+"</abbr>";d+="</a></li>"}});f=$(".load-more-entries",c.$container).parents("li").first();$(d).insertBefore(f);$("[data-role=content] ul",c.$container).listview("refresh")}c.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/blinkx.js");
finfore.modules.keyword=function(){var f=function(c,e){var a=15,d,n,o,j=function(p){empty(n[0]);c.removeClass("panel-loading");if(p.results)p=p.results;$.each(p,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});tweetTemplate=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:p});n.append(tweetTemplate);p&&$.each(p,function(){var u=new Date(this.created_at);e.company&&finfore.smallScreen||u>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},r=function(p){c.addClass("panel-loading");if(p===true)a+=5;n.removeData();p=e.feed_account.keyword_column.keyword;if(!p){c.removeClass("panel-loading");return false}$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:p,rpp:a},success:j})};(function(){var p,u=e.feed_account.name,x=$.View("//webapp/views/module.keyword.tmpl",{});u=$.View("//webapp/views/module.tmpl",{title:u,smallScreen:finfore.smallScreen,content:x});$(u).appendTo(c);c.bind("refresh",
r);c.bind("reinit",function(){clearInterval(p);c.unbind();c.empty();c.jqmRemoveData();f(c,e)});d=$("[data-role=content]",c);n=$(".tweets",d);o=$(".load-more-tweets",d);c.addClass("panel-loading");o.click(function(){c.trigger("refresh",[true])});c.page();finfore.smallScreen||(p=setInterval(r,3E5));c.trigger("init")})()};return{init:f,management:function(c){finfore.data.panels.main.keyword||(finfore.data.panels.main.keyword=[]);var e=$.View("//webapp/views/module.keyword.management.tmpl",{panels:finfore.data.panels.main.keyword});
$(e).appendTo(c);var a=$(".mtabs-container",c);finfore.manage.bindPanelData({$container:a,category:"keyword"});$(".edit-column-title",c).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"keyword"})});$(".add-column",c).click(function(){finfore.manage.panels.create({$node:a,category:"keyword"})});$(".remove-column",c).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"keyword"})});a.delegate(".keyword-save","click",function(){var d=$(this).parents(".keyword-panel-settings:first"),
n=d.parents(".mtab-content:first").prevAll(".mtab:first"),o=$.data(n[0],"data").feed_account,j=$(".keyword-text",d).val(),r=false;if($(".keyword-aggregate",d).is(":checked"))r=true;d={_id:o._id,keyword_column_attributes:{is_aggregate:r,keyword:j,_id:o.keyword_column._id}};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+d._id+".json",type:"PUT",data:{feed_account:d},success:function(p){$().toastmessage("showSuccessToast",finfore.manage.messages.updateColumn);$.data(n[0],"data",{feed_account:p})},error:function(){$().toastmessage("showErrorToast",
finfore.manage.messages.errorUpdateColumn)}})})}}}();steal.loaded("webapp/modules/keyword.js");
