steal.loading('webapp/core/finfore.js','jquery/view/tmpl/tmpl.js','jquery/view/view.js','jquery/jquery.js','webapp/core/utils.js','webapp/core/api.js','webapp/lib/jquery.mobile.js','webapp/lib/flash_detect_min.js','webapp/lib/jquery-ui/jquery-ui.min.js','webapp/lib/mediaelement/mediaelement-and-player.js','webapp/lib/toast/jquery.toastmessage.js','webapp/lib/jquery-impromptu.3.1.js','webapp/lib/iscroll.js','webapp/views/desktop.tmpl','webapp/views/tab-view.tmpl','webapp/views/login.tmpl','webapp/views/addcompanymobile.tmpl','webapp/views/profile.tmpl','webapp/views/panel.controlgroup.tmpl','webapp/views/manage.tmpl','webapp/views/manage.feed-infos.tmpl','webapp/views/manage.panels.tmpl','webapp/views/manage.source.tmpl','webapp/views/signup.tmpl','webapp/views/help.tmpl','webapp/core/core.js','webapp/core/desktop.js','webapp/core/manage.js','webapp/core/login.js','webapp/core/signup.js','webapp/core/profile.js','webapp/core/addcompany.js','webapp/core/help.js','webapp/views/module.tmpl','webapp/views/module.feed.tmpl','webapp/views/module.feed.management.tmpl','webapp/views/module.podcast.tmpl','webapp/views/module.podcast.management.tmpl','webapp/views/module.twitter.tmpl','webapp/views/module.twitter.tweet.tmpl','webapp/views/module.twitter.management.tmpl','webapp/views/module.prices.tmpl','webapp/views/module.prices.management.tmpl','webapp/views/module.portfolio.tmpl','webapp/views/module.portfolio.management.tmpl','webapp/views/module.agenda.tmpl','webapp/views/module.linkedin.tmpl','webapp/views/module.linkedin.management.tmpl','webapp/views/module.blinkx.tmpl','webapp/views/module.keyword.management.tmpl','webapp/views/module.keyword.tmpl','webapp/modules/feed.js','webapp/modules/podcast.js','webapp/modules/twitter.js','webapp/modules/prices.js','webapp/modules/portfolio.js','webapp/modules/agenda.js','webapp/modules/linkedin.js','webapp/modules/blinkx.js','webapp/modules/keyword.js');
steal({src: 'webapp/production/production.css', has: ['webapp/lib/jquery.mobile.css','webapp/lib/mediaelement/mediaelementplayer.css','webapp/lib/toast/jquery.toastmessage.css','webapp/css/shared.css','webapp/css/base.css','webapp/css/management.css']});
steal("jquery/view/tmpl").then("//webapp/core/utils.js","//webapp/core/api.js").then(function(){jQuery.support.cors=true;$(document).bind("mobileinit",function(){$.extend($.mobile,{ajaxEnabled:false,autoInitialize:false,hashListeningEnabled:false,defaultPageTransition:"none",defaultDialogTransition:"slidedown",pushStateEnabled:false,linkBindingEnabled:false});$.extend($.mobile.changePage.defaults,{changeHash:false});$.mobile.allowCrossDomainPages=true})}).then("//webapp/lib/jquery.mobile.js","//webapp/lib/jquery.mobile.css").then(function(){Loader.show()}).then("//webapp/lib/flash_detect_min.js",
"//webapp/lib/jquery-ui/jquery-ui.min.js","//webapp/lib/mediaelement/mediaelement-and-player.js","//webapp/lib/toast/jquery.toastmessage.js","//webapp/lib/jquery-impromptu.3.1.js","//webapp/lib/iscroll.js").then("//webapp/views/desktop.tmpl","//webapp/views/tab-view.tmpl","//webapp/views/login.tmpl","//webapp/views/addcompanymobile.tmpl","//webapp/views/profile.tmpl","//webapp/views/panel.controlgroup.tmpl","//webapp/views/manage.tmpl","//webapp/views/manage.feed-infos.tmpl","//webapp/views/manage.panels.tmpl",
"//webapp/views/manage.source.tmpl","//webapp/views/signup.tmpl","//webapp/views/help.tmpl").then("../lib/mediaelement/mediaelementplayer.css","../lib/toast/jquery.toastmessage.css").then("../css/shared.css").then("../css/base.css").then("../css/management.css").then("./core.js").then("./desktop.js","./manage.js","./login.js","./signup.js","./profile.js","./addcompany.js","./help.js").then("//webapp/views/module.tmpl","//webapp/views/module.feed.tmpl","//webapp/views/module.feed.management.tmpl",
"//webapp/views/module.podcast.tmpl","//webapp/views/module.podcast.management.tmpl","//webapp/views/module.twitter.tmpl","//webapp/views/module.twitter.tweet.tmpl","//webapp/views/module.twitter.management.tmpl","//webapp/views/module.prices.tmpl","//webapp/views/module.prices.management.tmpl","//webapp/views/module.portfolio.tmpl","//webapp/views/module.portfolio.management.tmpl","//webapp/views/module.agenda.tmpl","//webapp/views/module.linkedin.tmpl","//webapp/views/module.linkedin.management.tmpl",
"//webapp/views/module.blinkx.tmpl","//webapp/views/module.keyword.management.tmpl","//webapp/views/module.keyword.tmpl").then("../modules/feed.js","../modules/podcast.js","../modules/twitter.js","../modules/prices.js","../modules/portfolio.js","../modules/agenda.js","../modules/linkedin.js","../modules/blinkx.js","../modules/keyword.js").then(function(){typeof window.hideBrowserNotice!="function"&&finfore.init()});steal.loaded("webapp/core/finfore.js");
steal("jquery/view").then(function(){function f(P,S,da,ba){ba={data:ba||(S?S.data:{}),_wrap:S?S._wrap:null,tmpl:null,parent:S||null,nodes:[],calls:q,nest:o,wrap:s,html:w,update:z};P&&jQuery.extend(ba,P,{nodes:[],parent:S});if(da){ba.tmpl=da;ba._ctnt=ba._ctnt||ba.tmpl(jQuery,ba);ba.key=++R;(W.length?J:H)[R]=ba}return ba}function d(P,S,da){var ba;da=da?jQuery.map(da,function(oa){return typeof oa==="string"?P.key?oa.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+E+'="'+P.key+'" $2'):oa:d(oa,
P,oa._ctnt)}):P;if(S)return da;da=da.join("");da.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(oa,pa,K,v){ba=jQuery(K).get();j(ba);if(pa)ba=e(pa).concat(ba);if(v)ba=ba.concat(e(v))});return ba?ba:e(da)}function e(P){var S=document.createElement("div");S.innerHTML=P;return jQuery.makeArray(S.childNodes)}function a(P){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(P).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g,
" ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(S,da,ba,oa,pa,K,v){S=jQuery.tmpl.tag[ba];if(!S)throw"Template command not found: "+ba;ba=S._default||[];if(K&&!/\w$/.test(pa)){pa+=K;K=""}if(pa){pa=k(pa);v=v?","+k(v)+")":K?")":"";v=K?pa.indexOf(".")>-1?pa+K:"("+pa+").call($item"+v:pa;K=K?v:"(typeof("+pa+")==='function'?("+pa+").call($item):("+pa+"))"}else K=v=ba.$1||"null";oa=k(oa);return"');"+
S[da?"close":"open"].split("$notnull_1").join(pa?"typeof("+pa+")!=='undefined' && ("+pa+")!=null":"true").split("$1a").join(K).split("$1").join(v).split("$2").join(oa?oa.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(t,G,D,V){return(V=V?","+V+")":D?")":"")?"("+G+").call($item"+V:t}):ba.$2||"")+"_.push('"})+"');}return _;")}function c(P,S){P._wrap=d(P,true,jQuery.isArray(S)?S:[y.test(S)?S:jQuery(S).html()]).join("")}function k(P){return P?P.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function n(P){var S=
document.createElement("div");S.appendChild(P.cloneNode(true));return S.innerHTML}function j(P){function S(G){function D(va){va+=da;p=pa[va]=pa[va]||f(p,H[p.parent.key+da]||p.parent,null,true)}var V,aa=G,p,ra;if(ra=G.getAttribute(E)){for(;aa.parentNode&&(aa=aa.parentNode).nodeType===1&&!(V=aa.getAttribute(E)););if(V!==ra){aa=aa.parentNode?aa.nodeType===11?0:aa.getAttribute(E)||0:0;if(!(p=H[ra])){p=J[ra];p=f(p,H[aa]||J[aa],null,true);p.key=++R;H[R]=p}ea&&D(ra)}G.removeAttribute(E)}else if(ea&&(p=jQuery.data(G,
"tmplItem"))){D(p.key);H[p.key]=p;aa=(aa=jQuery.data(G.parentNode,"tmplItem"))?aa.key:0}if(p){for(V=p;V&&V.key!=aa;){V.nodes.push(G);V=V.parent}delete p._ctnt;delete p._wrap;jQuery.data(G,"tmplItem",p)}}var da="_"+ea,ba,oa,pa={},K,v,t;K=0;for(v=P.length;K<v;K++)if((ba=P[K]).nodeType===1){oa=ba.getElementsByTagName("*");for(t=oa.length-1;t>=0;t--)S(oa[t]);S(ba)}}function q(P,S,da,ba){if(!P)return W.pop();W.push({_:P,tmpl:S,item:this,data:da,options:ba})}function o(P,S,da){return jQuery.tmpl(jQuery.template(P),
S,da,this)}function s(P,S){var da=P.options||{};da.wrapped=S;return jQuery.tmpl(jQuery.template(P.tmpl),P.data,da,P.item)}function w(P,S){var da=this._wrap;return jQuery.map(jQuery(jQuery.isArray(da)?da.join(""):da).filter(P||"*"),function(ba){return S?ba.innerText||ba.textContent:ba.outerHTML||n(ba)})}function z(){var P=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(P[0]);jQuery(P).remove()}var C=jQuery.fn.domManip,E="_tmplitem",y=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,H={},J={},M,Q={key:0,
data:{}},R=0,ea=0,W=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(P,S){jQuery.fn[P]=function(da){var ba=[];da=jQuery(da);var oa,pa,K;oa=this.length===1&&this[0].parentNode;M=H||{};if(oa&&oa.nodeType===11&&oa.childNodes.length===1&&da.length===1){da[S](this[0]);ba=this}else{pa=0;for(K=da.length;pa<K;pa++){ea=pa;oa=(pa>0?this.clone(true):this).get();jQuery.fn[S].apply(jQuery(da[pa]),oa);ba=ba.concat(oa)}ea=0;ba=this.pushStack(ba,
P,da.selector)}da=M;M=null;jQuery.tmpl.complete(da);return ba}});jQuery.fn.extend({tmpl:function(P,S,da){return jQuery.tmpl(this[0],P,S,da)},tmplItem:function(){return jQuery.tmplItem(this[0])},template:function(P){return jQuery.template(P,this[0])},domManip:function(P,S,da){if(P[0]&&P[0].nodeType){for(var ba=jQuery.makeArray(arguments),oa=P.length,pa=0,K;pa<oa&&!(K=jQuery.data(P[pa++],"tmplItem")););if(oa>1)ba[0]=[jQuery.makeArray(P)];if(K&&ea)ba[2]=function(v){jQuery.tmpl.afterManip(this,v,da)};
C.apply(this,ba)}else C.apply(this,arguments);ea=0;M||jQuery.tmpl.complete(H);return this}});jQuery.extend({tmpl:function(P,S,da,ba){var oa=!ba;if(oa){ba=Q;P=jQuery.template[P]||jQuery.template(null,P);J={}}else if(!P){P=ba.tmpl;H[ba.key]=ba;ba.nodes=[];ba.wrapped&&c(ba,ba.wrapped);return jQuery(d(ba,null,ba.tmpl(jQuery,ba)))}if(!P)return[];if(typeof S==="function")S=S.call(ba||{});da&&da.wrapped&&c(da,da.wrapped);S=jQuery.isArray(S)?jQuery.map(S,function(pa){return pa?f(da,ba,P,pa):null}):[f(da,
ba,P,S)];return oa?jQuery(d(ba,null,S)):S},tmplItem:function(P){var S;if(P instanceof jQuery)P=P[0];for(;P&&P.nodeType===1&&!(S=jQuery.data(P,"tmplItem"))&&(P=P.parentNode););return S||Q},template:function(P,S){if(S){if(typeof S==="string")S=a(S);else if(S instanceof jQuery)S=S[0]||{};if(S.nodeType)S=jQuery.data(S,"tmpl")||jQuery.data(S,"tmpl",a(S.innerHTML));return typeof P==="string"?(jQuery.template[P]=S):S}return P?typeof P!=="string"?jQuery.template(null,P):jQuery.template[P]||jQuery.template(null,
y.test(P)?P:jQuery(P)):null},encode:function(P){return(""+P).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},
"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){H={}},afterManip:function(P,S,da){var ba=S.nodeType===11?jQuery.makeArray(S.childNodes):S.nodeType===1?[S]:[];da.call(P,S);j(ba);ea++}});$.View.register({suffix:"tmpl",renderer:function(P,S){var da=$.template(null,S);return function(ba){return da.call($,
$,{data:ba}).join("")}},script:function(P,S){return"function(data){return ("+$.template(null,S)+").call(jQuery, jQuery, {data: data}).join(''); }"}});jQuery.View.ext=".tmpl"});steal.loaded("jquery/view/tmpl/tmpl.js");
steal("jquery").then(function(f){var d=function(M){return M.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},e=f.makeArray,a=1,c=f.View=function(M,Q,R,ea){if(typeof R==="function"){ea=R;R=undefined}var W=q(Q);if(W.length){var P=f.Deferred();W.push(n(M,true));f.when.apply(f,W).then(function(da){var ba=e(arguments),oa=ba.pop()[0];if(j(Q))Q=o(da);else for(var pa in Q)if(j(Q[pa]))Q[pa]=o(ba.shift());ba=oa(Q,R);P.resolve(ba);ea&&ea(ba)});return P.promise()}else{var S;W=typeof ea==="function";P=n(M,W);if(W){S=
P;P.done(function(da){ea(da(Q,R))})}else P.done(function(da){S=da(Q,R)});return S}},k=function(M,Q){if(!M.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+Q;},n=function(M,Q){return f.ajax({url:M,dataType:"view",async:Q})},j=function(M){return M&&f.isFunction(M.always)},q=function(M){var Q=[];if(j(M))return[M];else for(var R in M)j(M[R])&&Q.push(M[R]);return Q},o=function(M){return f.isArray(M)&&M.length===3&&M[1]==="success"?M[0]:M};f.ajaxTransport("view",function(M,
Q){var R=Q.url;M=R.match(/\.[\w\d]+$/);var ea,W,P,S,da=function(oa){oa=ea.renderer(P,oa);if(c.cache)c.cached[P]=oa;return{view:oa}};if(W=document.getElementById(R))M="."+W.type.match(/\/(x\-)?(.+)/)[2];if(!M){M=c.ext;R+=c.ext}P=d(R);if(R.match(/^\/\//)){var ba=R.substr(2);R=typeof steal==="undefined"?(R="/"+ba):steal.root.mapJoin(ba)+""}ea=c.types[M];return{send:function(oa,pa){if(c.cached[P])return pa(200,"success",{view:c.cached[P]});else if(W)pa(200,"success",da(W.innerHTML));else S=f.ajax({async:Q.async,
url:R,dataType:"text",error:function(){k("",R);pa(404)},success:function(K){k(K,R);pa(200,"success",da(K))}})},abort:function(){S&&S.abort()}}});f.extend(c,{hookups:{},hookup:function(M){var Q=++a;c.hookups[Q]=M;return Q},cached:{},cache:true,register:function(M){this.types["."+M.suffix]=M;window.steal&&steal.type(M.suffix+" view js",function(Q,R){var ea=c.types["."+Q.type],W=d(Q.rootSrc+"");Q.text=ea.script(W,Q.text);R()})},types:{},ext:".ejs",registerScript:function(M,Q,R){return"$.View.preload('"+
Q+"',"+c.types["."+M].script(Q,R)+");"},preload:function(M,Q){c.cached[M]=function(R,ea){return Q.call(R,R,ea)}}});window.steal&&steal.type("view js",function(M,Q){var R=c.types["."+M.type],ea=d(M.rootSrc+"");M.text="steal('"+(R.plugin||"jquery/view/"+M.type)+"').then(function($){$.View.preload('"+ea+"',"+M.text+");\n})";Q()});var s,w,z,C,E,y,H,J={val:true,text:true};s=function(M){var Q=f.fn[M];f.fn[M]=function(){var R=e(arguments),ea,W,P=this;if(j(R[0])){R[0].done(function(S){w.call(P,[S],Q)});return this}else if(z(R)){if(ea=
y(R)){W=R[ea];R[ea]=function(S){w.call(P,[S],Q);W.call(P,S)};c.apply(c,R);return this}R=c.apply(c,R);if(j(R)){R.done(function(S){w.call(P,[S],Q)});return this}else R=[R]}return J[M]?Q.apply(this,R):w.call(this,R,Q)}};w=function(M,Q){var R;for(var ea in c.hookups)break;if(ea&&M[0]&&C(M[0])){R=c.hookups;c.hookups={};M[0]=f(M[0])}Q=Q.apply(this,M);R&&H(M[0],R);return Q};z=function(M){var Q=typeof M[1];return typeof M[0]=="string"&&(Q=="object"||Q=="function")&&!E(M[1])};E=function(M){return M.nodeType||
M.jquery};C=function(M){if(E(M))return true;else if(typeof M==="string"){M=f.trim(M);return M.substr(0,1)==="<"&&M.substr(M.length-1,1)===">"&&M.length>=3}else return false};y=function(M){return typeof M[3]==="function"?3:typeof M[2]==="function"&&2};H=function(M,Q){var R,ea=0,W,P;M=M.filter(function(){return this.nodeType!=3});M=M.add("[data-view-id]",M);for(R=M.length;ea<R;ea++)if(M[ea].getAttribute&&(W=M[ea].getAttribute("data-view-id"))&&(P=Q[W])){P(M[ea],W);delete Q[W];M[ea].removeAttribute("data-view-id")}f.extend(c.hookups,
Q)};f.fn.hookup=function(){var M=c.hookups;c.hookups={};H(this,M);return this};f.each(["prepend","append","after","before","text","html","replaceWith","val"],function(M,Q){s(Q)})});steal.loaded("jquery/view/view.js");
(function(f,d){function e(h){var l=ra[h]={},r,u;h=h.split(/\s+/);r=0;for(u=h.length;r<u;r++)l[h[r]]=true;return l}function a(h,l,r){if(r===d&&h.nodeType===1){r="data-"+l.replace(Ba,"-$1").toLowerCase();r=h.getAttribute(r);if(typeof r==="string"){try{r=r==="true"?true:r==="false"?false:r==="null"?null:p.isNumeric(r)?parseFloat(r):Aa.test(r)?p.parseJSON(r):r}catch(u){}p.data(h,l,r)}else r=d}return r}function c(h){for(var l in h)if(!(l==="data"&&p.isEmptyObject(h[l])))if(l!=="toJSON")return false;return true}
function k(h,l,r){var u=l+"defer",x=l+"queue",A=l+"mark",I=p._data(h,u);if(I&&(r==="queue"||!p._data(h,x))&&(r==="mark"||!p._data(h,A)))setTimeout(function(){if(!p._data(h,x)&&!p._data(h,A)){p.removeData(h,u,true);I.fire()}},0)}function n(){return false}function j(){return true}function q(h){return!h||!h.parentNode||h.parentNode.nodeType===11}function o(h,l,r){l=l||0;if(p.isFunction(l))return p.grep(h,function(x,A){return!!l.call(x,A,x)===r});else if(l.nodeType)return p.grep(h,function(x){return x===
l===r});else if(typeof l==="string"){var u=p.grep(h,function(x){return x.nodeType===1});if(Db.test(l))return p.filter(l,u,!r);else l=p.filter(l,u)}return p.grep(h,function(x){return p.inArray(x,l)>=0===r})}function s(h){var l=hb.split("|");h=h.createDocumentFragment();if(h.createElement)for(;l.length;)h.createElement(l.pop());return h}function w(h){return p.nodeName(h,"table")?h.getElementsByTagName("tbody")[0]||h.appendChild(h.ownerDocument.createElement("tbody")):h}function z(h,l){if(!(l.nodeType!==
1||!p.hasData(h))){var r,u,x;u=p._data(h);h=p._data(l,u);var A=u.events;if(A){delete h.handle;h.events={};for(r in A){u=0;for(x=A[r].length;u<x;u++)p.event.add(l,r+(A[r][u].namespace?".":"")+A[r][u].namespace,A[r][u],A[r][u].data)}}if(h.data)h.data=p.extend({},h.data)}}function C(h,l){var r;if(l.nodeType===1){l.clearAttributes&&l.clearAttributes();l.mergeAttributes&&l.mergeAttributes(h);r=l.nodeName.toLowerCase();if(r==="object")l.outerHTML=h.outerHTML;else if(r==="input"&&(h.type==="checkbox"||h.type===
"radio")){if(h.checked)l.defaultChecked=l.checked=h.checked;if(l.value!==h.value)l.value=h.value}else if(r==="option")l.selected=h.defaultSelected;else if(r==="input"||r==="textarea")l.defaultValue=h.defaultValue;l.removeAttribute(p.expando)}}function E(h){return typeof h.getElementsByTagName!=="undefined"?h.getElementsByTagName("*"):typeof h.querySelectorAll!=="undefined"?h.querySelectorAll("*"):[]}function y(h){if(h.type==="checkbox"||h.type==="radio")h.defaultChecked=h.checked}function H(h){var l=
(h.nodeName||"").toLowerCase();if(l==="input")y(h);else l!=="script"&&typeof h.getElementsByTagName!=="undefined"&&p.grep(h.getElementsByTagName("input"),y)}function J(h){var l=D.createElement("div");ib.appendChild(l);l.innerHTML=h.outerHTML;return l.firstChild}function M(h,l){l.src?p.ajax({url:l.src,async:false,dataType:"script"}):p.globalEval((l.text||l.textContent||l.innerHTML||"").replace(Eb,"/*$0*/"));l.parentNode&&l.parentNode.removeChild(l)}function Q(h,l,r){var u=l==="width"?h.offsetWidth:
h.offsetHeight,x=l==="width"?Fb:Gb,A=0,I=x.length;if(u>0){if(r!=="border")for(;A<I;A++){r||(u-=parseFloat(p.css(h,"padding"+x[A]))||0);if(r==="margin")u+=parseFloat(p.css(h,r+x[A]))||0;else u-=parseFloat(p.css(h,"border"+x[A]+"Width"))||0}return u+"px"}u=Va(h,l,l);if(u<0||u==null)u=h.style[l]||0;u=parseFloat(u)||0;if(r)for(;A<I;A++){u+=parseFloat(p.css(h,"padding"+x[A]))||0;if(r!=="padding")u+=parseFloat(p.css(h,"border"+x[A]+"Width"))||0;if(r==="margin")u+=parseFloat(p.css(h,r+x[A]))||0}return u+
"px"}function R(h){return function(l,r){if(typeof l!=="string"){r=l;l="*"}if(p.isFunction(r)){l=l.toLowerCase().split(jb);for(var u=0,x=l.length,A,I;u<x;u++){A=l[u];if(I=/^\+/.test(A))A=A.substr(1)||"*";A=h[A]=h[A]||[];A[I?"unshift":"push"](r)}}}}function ea(h,l,r,u,x,A){x=x||l.dataTypes[0];A=A||{};A[x]=true;x=h[x];for(var I=0,L=x?x.length:0,N=h===bb,T;I<L&&(N||!T);I++){T=x[I](l,r,u);if(typeof T==="string")if(!N||A[T])T=d;else{l.dataTypes.unshift(T);T=ea(h,l,r,u,T,A)}}if((N||!T)&&!A["*"])T=ea(h,l,
r,u,"*",A);return T}function W(h,l){var r,u,x=p.ajaxSettings.flatOptions||{};for(r in l)if(l[r]!==d)(x[r]?h:u||(u={}))[r]=l[r];u&&p.extend(true,h,u)}function P(h,l,r,u){if(p.isArray(l))p.each(l,function(A,I){r||Hb.test(h)?u(h,I):P(h+"["+(typeof I==="object"||p.isArray(I)?A:"")+"]",I,r,u)});else if(!r&&l!=null&&typeof l==="object")for(var x in l)P(h+"["+x+"]",l[x],r,u);else u(h,l)}function S(h,l,r){var u=h.contents,x=h.dataTypes,A=h.responseFields,I,L,N,T;for(L in A)if(L in r)l[A[L]]=r[L];for(;x[0]===
"*";){x.shift();if(I===d)I=h.mimeType||l.getResponseHeader("content-type")}if(I)for(L in u)if(u[L]&&u[L].test(I)){x.unshift(L);break}if(x[0]in r)N=x[0];else{for(L in r){if(!x[0]||h.converters[L+" "+x[0]]){N=L;break}T||(T=L)}N=N||T}if(N){N!==x[0]&&x.unshift(N);return r[N]}}function da(h,l){if(h.dataFilter)l=h.dataFilter(l,h.dataType);var r=h.dataTypes,u={},x,A,I=r.length,L,N=r[0],T,ha,Y,ka,ga;for(x=1;x<I;x++){if(x===1)for(A in h.converters)if(typeof A==="string")u[A.toLowerCase()]=h.converters[A];
T=N;N=r[x];if(N==="*")N=T;else if(T!=="*"&&T!==N){ha=T+" "+N;Y=u[ha]||u["* "+N];if(!Y){ga=d;for(ka in u){L=ka.split(" ");if(L[0]===T||L[0]==="*")if(ga=u[L[1]+" "+N]){ka=u[ka];if(ka===true)Y=ga;else if(ga===true)Y=ka;break}}}Y||ga||p.error("No conversion from "+ha.replace(" "," to "));if(Y!==true)l=Y?Y(l):ga(ka(l))}}return l}function ba(){try{return new f.XMLHttpRequest}catch(h){}}function oa(){try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(h){}}function pa(){setTimeout(K,0);return Za=p.now()}
function K(){Za=d}function v(h,l){var r={};p.each(kb.concat.apply([],kb.slice(0,l)),function(){r[this]=h});return r}function t(h){if(!cb[h]){var l=D.body,r=p("<"+h+">").appendTo(l),u=r.css("display");r.remove();if(u==="none"||u===""){if(!Oa){Oa=D.createElement("iframe");Oa.frameBorder=Oa.width=Oa.height=0}l.appendChild(Oa);if(!Wa||!Oa.createElement){Wa=(Oa.contentWindow||Oa.contentDocument).document;Wa.write((D.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Wa.close()}r=Wa.createElement(h);
Wa.body.appendChild(r);u=p.css(r,"display");l.removeChild(Oa)}cb[h]=u}return cb[h]}function G(h){return p.isWindow(h)?h:h.nodeType===9?h.defaultView||h.parentWindow:false}var D=f.document,V=f.navigator,aa=f.location,p=function(){function h(){if(!l.isReady){try{D.documentElement.doScroll("left")}catch(O){setTimeout(h,1);return}l.ready()}}var l=function(O,ca){return new l.fn.init(O,ca,x)},r=f.jQuery,u=f.$,x,A=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,I=/\S/,L=/^\s+/,N=/\s+$/,T=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
ha=/^[\],:{}\s]*$/,Y=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,ka=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ga=/(?:^|:|,)(?:\s*\[)+/g,ta=/(webkit)[ \/]([\w.]+)/,Ca=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ea=/(msie) ([\w.]+)/,Da=/(mozilla)(?:.*? rv:([\w.]+))?/,Qa=/-([a-z]|[0-9])/ig,ua=/^-ms-/,Pa=function(O,ca){return(ca+"").toUpperCase()},Na=V.userAgent,B,F,U=Object.prototype.toString,X=Object.prototype.hasOwnProperty,Z=Array.prototype.push,fa=Array.prototype.slice,la=String.prototype.trim,
na=Array.prototype.indexOf,xa={};l.fn=l.prototype={constructor:l,init:function(O,ca,ma){var ia;if(!O)return this;if(O.nodeType){this.context=this[0]=O;this.length=1;return this}if(O==="body"&&!ca&&D.body){this.context=D;this[0]=D.body;this.selector=O;this.length=1;return this}if(typeof O==="string")if((ia=O.charAt(0)==="<"&&O.charAt(O.length-1)===">"&&O.length>=3?[null,O,null]:A.exec(O))&&(ia[1]||!ca))if(ia[1]){ma=(ca=ca instanceof l?ca[0]:ca)?ca.ownerDocument||ca:D;if(O=T.exec(O))if(l.isPlainObject(ca)){O=
[D.createElement(O[1])];l.fn.attr.call(O,ca,true)}else O=[ma.createElement(O[1])];else{O=l.buildFragment([ia[1]],[ma]);O=(O.cacheable?l.clone(O.fragment):O.fragment).childNodes}return l.merge(this,O)}else{if((ca=D.getElementById(ia[2]))&&ca.parentNode){if(ca.id!==ia[2])return ma.find(O);this.length=1;this[0]=ca}this.context=D;this.selector=O;return this}else return!ca||ca.jquery?(ca||ma).find(O):this.constructor(ca).find(O);else if(l.isFunction(O))return ma.ready(O);if(O.selector!==d){this.selector=
O.selector;this.context=O.context}return l.makeArray(O,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return fa.call(this,0)},get:function(O){return O==null?this.toArray():O<0?this[this.length+O]:this[O]},pushStack:function(O,ca,ma){var ia=this.constructor();l.isArray(O)?Z.apply(ia,O):l.merge(ia,O);ia.prevObject=this;ia.context=this.context;if(ca==="find")ia.selector=this.selector+(this.selector?" ":"")+ma;else if(ca)ia.selector=this.selector+"."+
ca+"("+ma+")";return ia},each:function(O,ca){return l.each(this,O,ca)},ready:function(O){l.bindReady();B.add(O);return this},eq:function(O){O=+O;return O===-1?this.slice(O):this.slice(O,O+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(fa.apply(this,arguments),"slice",fa.call(arguments).join(","))},map:function(O){return this.pushStack(l.map(this,function(ca,ma){return O.call(ca,ma,ca)}))},end:function(){return this.prevObject||this.constructor(null)},
push:Z,sort:[].sort,splice:[].splice};l.fn.init.prototype=l.fn;l.extend=l.fn.extend=function(){var O,ca,ma,ia,ya,wa=arguments[0]||{},Fa=1,Ga=arguments.length,db=false;if(typeof wa==="boolean"){db=wa;wa=arguments[1]||{};Fa=2}if(typeof wa!=="object"&&!l.isFunction(wa))wa={};if(Ga===Fa){wa=this;--Fa}for(;Fa<Ga;Fa++)if((O=arguments[Fa])!=null)for(ca in O){ma=wa[ca];ia=O[ca];if(wa!==ia)if(db&&ia&&(l.isPlainObject(ia)||(ya=l.isArray(ia)))){if(ya){ya=false;ma=ma&&l.isArray(ma)?ma:[]}else ma=ma&&l.isPlainObject(ma)?
ma:{};wa[ca]=l.extend(db,ma,ia)}else if(ia!==d)wa[ca]=ia}return wa};l.extend({noConflict:function(O){if(f.$===l)f.$=u;if(O&&f.jQuery===l)f.jQuery=r;return l},isReady:false,readyWait:1,holdReady:function(O){if(O)l.readyWait++;else l.ready(true)},ready:function(O){if(O===true&&!--l.readyWait||O!==true&&!l.isReady){if(!D.body)return setTimeout(l.ready,1);l.isReady=true;if(!(O!==true&&--l.readyWait>0)){B.fireWith(D,[l]);l.fn.trigger&&l(D).trigger("ready").off("ready")}}},bindReady:function(){if(!B){B=
l.Callbacks("once memory");if(D.readyState==="complete")return setTimeout(l.ready,1);if(D.addEventListener){D.addEventListener("DOMContentLoaded",F,false);f.addEventListener("load",l.ready,false)}else if(D.attachEvent){D.attachEvent("onreadystatechange",F);f.attachEvent("onload",l.ready);var O=false;try{O=f.frameElement==null}catch(ca){}D.documentElement.doScroll&&O&&h()}}},isFunction:function(O){return l.type(O)==="function"},isArray:Array.isArray||function(O){return l.type(O)==="array"},isWindow:function(O){return O&&
typeof O==="object"&&"setInterval"in O},isNumeric:function(O){return!isNaN(parseFloat(O))&&isFinite(O)},type:function(O){return O==null?String(O):xa[U.call(O)]||"object"},isPlainObject:function(O){if(!O||l.type(O)!=="object"||O.nodeType||l.isWindow(O))return false;try{if(O.constructor&&!X.call(O,"constructor")&&!X.call(O.constructor.prototype,"isPrototypeOf"))return false}catch(ca){return false}var ma;for(ma in O);return ma===d||X.call(O,ma)},isEmptyObject:function(O){for(var ca in O)return false;
return true},error:function(O){throw new Error(O);},parseJSON:function(O){if(typeof O!=="string"||!O)return null;O=l.trim(O);if(f.JSON&&f.JSON.parse)return f.JSON.parse(O);if(ha.test(O.replace(Y,"@").replace(ka,"]").replace(ga,"")))return(new Function("return "+O))();l.error("Invalid JSON: "+O)},parseXML:function(O){var ca,ma;try{if(f.DOMParser){ma=new DOMParser;ca=ma.parseFromString(O,"text/xml")}else{ca=new ActiveXObject("Microsoft.XMLDOM");ca.async="false";ca.loadXML(O)}}catch(ia){ca=d}if(!ca||
!ca.documentElement||ca.getElementsByTagName("parsererror").length)l.error("Invalid XML: "+O);return ca},noop:function(){},globalEval:function(O){if(O&&I.test(O))(f.execScript||function(ca){f.eval.call(f,ca)})(O)},camelCase:function(O){return O.replace(ua,"ms-").replace(Qa,Pa)},nodeName:function(O,ca){return O.nodeName&&O.nodeName.toUpperCase()===ca.toUpperCase()},each:function(O,ca,ma){var ia,ya=0,wa=O.length,Fa=wa===d||l.isFunction(O);if(ma)if(Fa)for(ia in O){if(ca.apply(O[ia],ma)===false)break}else for(;ya<
wa;){if(ca.apply(O[ya++],ma)===false)break}else if(Fa)for(ia in O){if(ca.call(O[ia],ia,O[ia])===false)break}else for(;ya<wa;)if(ca.call(O[ya],ya,O[ya++])===false)break;return O},trim:la?function(O){return O==null?"":la.call(O)}:function(O){return O==null?"":O.toString().replace(L,"").replace(N,"")},makeArray:function(O,ca){ca=ca||[];if(O!=null){var ma=l.type(O);O.length==null||ma==="string"||ma==="function"||ma==="regexp"||l.isWindow(O)?Z.call(ca,O):l.merge(ca,O)}return ca},inArray:function(O,ca,
ma){var ia;if(ca){if(na)return na.call(ca,O,ma);ia=ca.length;for(ma=ma?ma<0?Math.max(0,ia+ma):ma:0;ma<ia;ma++)if(ma in ca&&ca[ma]===O)return ma}return-1},merge:function(O,ca){var ma=O.length,ia=0;if(typeof ca.length==="number")for(var ya=ca.length;ia<ya;ia++)O[ma++]=ca[ia];else for(;ca[ia]!==d;)O[ma++]=ca[ia++];O.length=ma;return O},grep:function(O,ca,ma){var ia=[],ya;ma=!!ma;for(var wa=0,Fa=O.length;wa<Fa;wa++){ya=!!ca(O[wa],wa);ma!==ya&&ia.push(O[wa])}return ia},map:function(O,ca,ma){var ia,ya,
wa=[],Fa=0,Ga=O.length;if(O instanceof l||Ga!==d&&typeof Ga==="number"&&(Ga>0&&O[0]&&O[Ga-1]||Ga===0||l.isArray(O)))for(;Fa<Ga;Fa++){ia=ca(O[Fa],Fa,ma);if(ia!=null)wa[wa.length]=ia}else for(ya in O){ia=ca(O[ya],ya,ma);if(ia!=null)wa[wa.length]=ia}return wa.concat.apply([],wa)},guid:1,proxy:function(O,ca){if(typeof ca==="string"){var ma=O[ca];ca=O;O=ma}if(!l.isFunction(O))return d;var ia=fa.call(arguments,2);ma=function(){return O.apply(ca,ia.concat(fa.call(arguments)))};ma.guid=O.guid=O.guid||ma.guid||
l.guid++;return ma},access:function(O,ca,ma,ia,ya,wa){var Fa=O.length;if(typeof ca==="object"){for(var Ga in ca)l.access(O,Ga,ca[Ga],ia,ya,ma);return O}if(ma!==d){ia=!wa&&ia&&l.isFunction(ma);for(Ga=0;Ga<Fa;Ga++)ya(O[Ga],ca,ia?ma.call(O[Ga],Ga,ya(O[Ga],ca)):ma,wa);return O}return Fa?ya(O[0],ca):d},now:function(){return(new Date).getTime()},uaMatch:function(O){O=O.toLowerCase();O=ta.exec(O)||Ca.exec(O)||Ea.exec(O)||O.indexOf("compatible")<0&&Da.exec(O)||[];return{browser:O[1]||"",version:O[2]||"0"}},
sub:function(){function O(ma,ia){return new O.fn.init(ma,ia)}l.extend(true,O,this);O.superclass=this;O.fn=O.prototype=this();O.fn.constructor=O;O.sub=this.sub;O.fn.init=function(ma,ia){if(ia&&ia instanceof l&&!(ia instanceof O))ia=O(ia);return l.fn.init.call(this,ma,ia,ca)};O.fn.init.prototype=O.fn;var ca=O(D);return O},browser:{}});l.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(O,ca){xa["[object "+ca+"]"]=ca.toLowerCase()});Na=l.uaMatch(Na);if(Na.browser){l.browser[Na.browser]=
true;l.browser.version=Na.version}if(l.browser.webkit)l.browser.safari=true;if(I.test("\u00a0")){L=/^[\s\xA0]+/;N=/[\s\xA0]+$/}x=l(D);if(D.addEventListener)F=function(){D.removeEventListener("DOMContentLoaded",F,false);l.ready()};else if(D.attachEvent)F=function(){if(D.readyState==="complete"){D.detachEvent("onreadystatechange",F);l.ready()}};return l}(),ra={};p.Callbacks=function(h){h=h?ra[h]||e(h):{};var l=[],r=[],u,x,A,I,L,N=function(Y){var ka,ga,ta,Ca;ka=0;for(ga=Y.length;ka<ga;ka++){ta=Y[ka];
Ca=p.type(ta);if(Ca==="array")N(ta);else if(Ca==="function")if(!h.unique||!ha.has(ta))l.push(ta)}},T=function(Y,ka){ka=ka||[];u=!h.memory||[Y,ka];x=true;L=A||0;A=0;for(I=l.length;l&&L<I;L++)if(l[L].apply(Y,ka)===false&&h.stopOnFalse){u=true;break}x=false;if(l)if(h.once)if(u===true)ha.disable();else l=[];else if(r&&r.length){u=r.shift();ha.fireWith(u[0],u[1])}},ha={add:function(){if(l){var Y=l.length;N(arguments);if(x)I=l.length;else if(u&&u!==true){A=Y;T(u[0],u[1])}}return this},remove:function(){if(l)for(var Y=
arguments,ka=0,ga=Y.length;ka<ga;ka++)for(var ta=0;ta<l.length;ta++)if(Y[ka]===l[ta]){if(x)if(ta<=I){I--;ta<=L&&L--}l.splice(ta--,1);if(h.unique)break}return this},has:function(Y){if(l)for(var ka=0,ga=l.length;ka<ga;ka++)if(Y===l[ka])return true;return false},empty:function(){l=[];return this},disable:function(){l=r=u=d;return this},disabled:function(){return!l},lock:function(){r=d;if(!u||u===true)ha.disable();return this},locked:function(){return!r},fireWith:function(Y,ka){if(r)if(x)h.once||r.push([Y,
ka]);else h.once&&u||T(Y,ka);return this},fire:function(){ha.fireWith(this,arguments);return this},fired:function(){return!!u}};return ha};var va=[].slice;p.extend({Deferred:function(h){var l=p.Callbacks("once memory"),r=p.Callbacks("once memory"),u=p.Callbacks("memory"),x="pending",A={resolve:l,reject:r,notify:u},I={done:l.add,fail:r.add,progress:u.add,state:function(){return x},isResolved:l.fired,isRejected:r.fired,then:function(T,ha,Y){L.done(T).fail(ha).progress(Y);return this},always:function(){L.done.apply(L,
arguments).fail.apply(L,arguments);return this},pipe:function(T,ha,Y){return p.Deferred(function(ka){p.each({done:[T,"resolve"],fail:[ha,"reject"],progress:[Y,"notify"]},function(ga,ta){var Ca=ta[0],Ea=ta[1],Da;p.isFunction(Ca)?L[ga](function(){(Da=Ca.apply(this,arguments))&&p.isFunction(Da.promise)?Da.promise().then(ka.resolve,ka.reject,ka.notify):ka[Ea+"With"](this===L?ka:this,[Da])}):L[ga](ka[Ea])})}).promise()},promise:function(T){if(T==null)T=I;else for(var ha in I)T[ha]=I[ha];return T}},L=I.promise({}),
N;for(N in A){L[N]=A[N].fire;L[N+"With"]=A[N].fireWith}L.done(function(){x="resolved"},r.disable,u.lock).fail(function(){x="rejected"},l.disable,u.lock);h&&h.call(L,L);return L},when:function(h){function l(ha){return function(Y){u[ha]=arguments.length>1?va.call(arguments,0):Y;--L||N.resolveWith(N,u)}}function r(ha){return function(Y){I[ha]=arguments.length>1?va.call(arguments,0):Y;N.notifyWith(T,I)}}var u=va.call(arguments,0),x=0,A=u.length,I=new Array(A),L=A,N=A<=1&&h&&p.isFunction(h.promise)?h:
p.Deferred(),T=N.promise();if(A>1){for(;x<A;x++)if(u[x]&&u[x].promise&&p.isFunction(u[x].promise))u[x].promise().then(l(x),N.reject,r(x));else--L;L||N.resolveWith(N,u)}else if(N!==h)N.resolveWith(N,A?[h]:[]);return T}});p.support=function(){var h,l,r,u,x,A,I,L,N=D.createElement("div");N.setAttribute("className","t");N.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";l=N.getElementsByTagName("*");r=N.getElementsByTagName("a")[0];
if(!l||!l.length||!r)return{};u=D.createElement("select");x=u.appendChild(D.createElement("option"));l=N.getElementsByTagName("input")[0];h={leadingWhitespace:N.firstChild.nodeType===3,tbody:!N.getElementsByTagName("tbody").length,htmlSerialize:!!N.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:l.value==="on",optSelected:x.selected,getSetAttribute:N.className!==
"t",enctype:!!D.createElement("form").enctype,html5Clone:D.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};l.checked=true;h.noCloneChecked=l.cloneNode(true).checked;u.disabled=true;h.optDisabled=!x.disabled;try{delete N.test}catch(T){h.deleteExpando=false}if(!N.addEventListener&&N.attachEvent&&N.fireEvent){N.attachEvent("onclick",
function(){h.noCloneEvent=false});N.cloneNode(true).fireEvent("onclick")}l=D.createElement("input");l.value="t";l.setAttribute("type","radio");h.radioValue=l.value==="t";l.setAttribute("checked","checked");N.appendChild(l);r=D.createDocumentFragment();r.appendChild(N.lastChild);h.checkClone=r.cloneNode(true).cloneNode(true).lastChild.checked;h.appendChecked=l.checked;r.removeChild(l);r.appendChild(N);N.innerHTML="";if(f.getComputedStyle){l=D.createElement("div");l.style.width="0";l.style.marginRight=
"0";N.style.width="2px";N.appendChild(l);h.reliableMarginRight=(parseInt((f.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0}if(N.attachEvent)for(I in{submit:1,change:1,focusin:1}){l="on"+I;L=l in N;if(!L){N.setAttribute(l,"return;");L=typeof N[l]==="function"}h[I+"Bubbles"]=L}r.removeChild(N);r=u=x=l=N=l=null;p(function(){var ha,Y,ka,ga,ta=D.getElementsByTagName("body")[0];if(ta){ha=D.createElement("div");ha.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";
ta.insertBefore(ha,ta.firstChild);N=D.createElement("div");ha.appendChild(N);N.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";A=N.getElementsByTagName("td");L=A[0].offsetHeight===0;A[0].style.display="";A[1].style.display="none";h.reliableHiddenOffsets=L&&A[0].offsetHeight===0;N.innerHTML="";N.style.width=N.style.paddingLeft="1px";p.boxModel=h.boxModel=N.offsetWidth===2;if(typeof N.style.zoom!=="undefined"){N.style.display="inline";N.style.zoom=1;h.inlineBlockNeedsLayout=
N.offsetWidth===2;N.style.display="";N.innerHTML="<div style='width:4px;'></div>";h.shrinkWrapBlocks=N.offsetWidth!==2}N.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";N.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
Y=N.firstChild;ka=Y.firstChild;ga={doesNotAddBorder:ka.offsetTop!==5,doesAddBorderForTableAndCells:Y.nextSibling.firstChild.firstChild.offsetTop===5};ka.style.position="fixed";ka.style.top="20px";ga.fixedPosition=ka.offsetTop===20||ka.offsetTop===15;ka.style.position=ka.style.top="";Y.style.overflow="hidden";Y.style.position="relative";ga.subtractsBorderForOverflowNotVisible=ka.offsetTop===-5;ga.doesNotIncludeMarginInBodyOffset=ta.offsetTop!==1;ta.removeChild(ha);N=null;p.extend(h,ga)}});return h}();
var Aa=/^(?:\{.*\}|\[.*\])$/,Ba=/([A-Z])/g;p.extend({cache:{},uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(h){h=h.nodeType?p.cache[h[p.expando]]:h[p.expando];return!!h&&!c(h)},data:function(h,l,r,u){if(p.acceptData(h)){var x;x=p.expando;var A=typeof l==="string",I=h.nodeType,L=I?p.cache:h,N=I?h[x]:h[x]&&x,T=l==="events";if(!((!N||!L[N]||!T&&!u&&!L[N].data)&&A&&r===d)){if(!N)if(I)h[x]=
N=++p.uuid;else N=x;if(!L[N]){L[N]={};if(!I)L[N].toJSON=p.noop}if(typeof l==="object"||typeof l==="function")if(u)L[N]=p.extend(L[N],l);else L[N].data=p.extend(L[N].data,l);x=h=L[N];if(!u){if(!h.data)h.data={};h=h.data}if(r!==d)h[p.camelCase(l)]=r;if(T&&!h[l])return x.events;if(A){r=h[l];if(r==null)r=h[p.camelCase(l)]}else r=h;return r}}},removeData:function(h,l,r){if(p.acceptData(h)){var u,x,A,I=p.expando,L=h.nodeType,N=L?p.cache:h,T=L?h[I]:I;if(N[T]){if(l)if(u=r?N[T]:N[T].data){if(!p.isArray(l))if(l in
u)l=[l];else{l=p.camelCase(l);l=l in u?[l]:l.split(" ")}x=0;for(A=l.length;x<A;x++)delete u[l[x]];if(!(r?c:p.isEmptyObject)(u))return}if(!r){delete N[T].data;if(!c(N[T]))return}if(p.support.deleteExpando||!N.setInterval)delete N[T];else N[T]=null;if(L)if(p.support.deleteExpando)delete h[I];else if(h.removeAttribute)h.removeAttribute(I);else h[I]=null}}},_data:function(h,l,r){return p.data(h,l,r,true)},acceptData:function(h){if(h.nodeName){var l=p.noData[h.nodeName.toLowerCase()];if(l)return!(l===
true||h.getAttribute("classid")!==l)}return true}});p.fn.extend({data:function(h,l){var r,u,x,A=null;if(typeof h==="undefined"){if(this.length){A=p.data(this[0]);if(this[0].nodeType===1&&!p._data(this[0],"parsedAttrs")){u=this[0].attributes;for(var I=0,L=u.length;I<L;I++){x=u[I].name;if(x.indexOf("data-")===0){x=p.camelCase(x.substring(5));a(this[0],x,A[x])}}p._data(this[0],"parsedAttrs",true)}}return A}else if(typeof h==="object")return this.each(function(){p.data(this,h)});r=h.split(".");r[1]=r[1]?
"."+r[1]:"";if(l===d){A=this.triggerHandler("getData"+r[1]+"!",[r[0]]);if(A===d&&this.length){A=p.data(this[0],h);A=a(this[0],h,A)}return A===d&&r[1]?this.data(r[0]):A}else return this.each(function(){var N=p(this),T=[r[0],l];N.triggerHandler("setData"+r[1]+"!",T);p.data(this,h,l);N.triggerHandler("changeData"+r[1]+"!",T)})},removeData:function(h){return this.each(function(){p.removeData(this,h)})}});p.extend({_mark:function(h,l){if(h){l=(l||"fx")+"mark";p._data(h,l,(p._data(h,l)||0)+1)}},_unmark:function(h,
l,r){if(h!==true){r=l;l=h;h=false}if(l){r=r||"fx";var u=r+"mark";if(h=h?0:(p._data(l,u)||1)-1)p._data(l,u,h);else{p.removeData(l,u,true);k(l,r,"mark")}}},queue:function(h,l,r){var u;if(h){l=(l||"fx")+"queue";u=p._data(h,l);if(r)if(!u||p.isArray(r))u=p._data(h,l,p.makeArray(r));else u.push(r);return u||[]}},dequeue:function(h,l){l=l||"fx";var r=p.queue(h,l),u=r.shift(),x={};if(u==="inprogress")u=r.shift();if(u){l==="fx"&&r.unshift("inprogress");p._data(h,l+".run",x);u.call(h,function(){p.dequeue(h,
l)},x)}if(!r.length){p.removeData(h,l+"queue "+l+".run",true);k(h,l,"queue")}}});p.fn.extend({queue:function(h,l){if(typeof h!=="string"){l=h;h="fx"}if(l===d)return p.queue(this[0],h);return this.each(function(){var r=p.queue(this,h,l);h==="fx"&&r[0]!=="inprogress"&&p.dequeue(this,h)})},dequeue:function(h){return this.each(function(){p.dequeue(this,h)})},delay:function(h,l){h=p.fx?p.fx.speeds[h]||h:h;l=l||"fx";return this.queue(l,function(r,u){var x=setTimeout(r,h);u.stop=function(){clearTimeout(x)}})},
clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,l){function r(){--A||u.resolveWith(x,[x])}if(typeof h!=="string"){l=h;h=d}h=h||"fx";var u=p.Deferred(),x=this;l=x.length;var A=1,I=h+"defer",L=h+"queue";h=h+"mark";for(var N;l--;)if(N=p.data(x[l],I,d,true)||(p.data(x[l],L,d,true)||p.data(x[l],h,d,true))&&p.data(x[l],I,p.Callbacks("once memory"),true)){A++;N.add(r)}r();return u.promise()}});var Ia=/[\n\t\r]/g,La=/\s+/,ja=/\r/g,qa=/^(?:button|input)$/i,sa=/^(?:button|input|object|select|textarea)$/i,
za=/^a(?:rea)?$/i,Ha=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ja=p.support.getSetAttribute,Ka,Ra,Ya;p.fn.extend({attr:function(h,l){return p.access(this,h,l,true,p.attr)},removeAttr:function(h){return this.each(function(){p.removeAttr(this,h)})},prop:function(h,l){return p.access(this,h,l,true,p.prop)},removeProp:function(h){h=p.propFix[h]||h;return this.each(function(){try{this[h]=d;delete this[h]}catch(l){}})},
addClass:function(h){var l,r,u,x,A,I,L;if(p.isFunction(h))return this.each(function(N){p(this).addClass(h.call(this,N,this.className))});if(h&&typeof h==="string"){l=h.split(La);r=0;for(u=this.length;r<u;r++){x=this[r];if(x.nodeType===1)if(!x.className&&l.length===1)x.className=h;else{A=" "+x.className+" ";I=0;for(L=l.length;I<L;I++)~A.indexOf(" "+l[I]+" ")||(A+=l[I]+" ");x.className=p.trim(A)}}}return this},removeClass:function(h){var l,r,u,x,A,I,L;if(p.isFunction(h))return this.each(function(N){p(this).removeClass(h.call(this,
N,this.className))});if(h&&typeof h==="string"||h===d){l=(h||"").split(La);r=0;for(u=this.length;r<u;r++){x=this[r];if(x.nodeType===1&&x.className)if(h){A=(" "+x.className+" ").replace(Ia," ");I=0;for(L=l.length;I<L;I++)A=A.replace(" "+l[I]+" "," ");x.className=p.trim(A)}else x.className=""}}return this},toggleClass:function(h,l){var r=typeof h,u=typeof l==="boolean";if(p.isFunction(h))return this.each(function(x){p(this).toggleClass(h.call(this,x,this.className,l),l)});return this.each(function(){if(r===
"string")for(var x,A=0,I=p(this),L=l,N=h.split(La);x=N[A++];){L=u?L:!I.hasClass(x);I[L?"addClass":"removeClass"](x)}else if(r==="undefined"||r==="boolean"){this.className&&p._data(this,"__className__",this.className);this.className=this.className||h===false?"":p._data(this,"__className__")||""}})},hasClass:function(h){h=" "+h+" ";for(var l=0,r=this.length;l<r;l++)if(this[l].nodeType===1&&(" "+this[l].className+" ").replace(Ia," ").indexOf(h)>-1)return true;return false},val:function(h){var l,r,u,
x=this[0];if(arguments.length){u=p.isFunction(h);return this.each(function(A){var I=p(this);if(this.nodeType===1){A=u?h.call(this,A,I.val()):h;if(A==null)A="";else if(typeof A==="number")A+="";else if(p.isArray(A))A=p.map(A,function(L){return L==null?"":L+""});l=p.valHooks[this.nodeName.toLowerCase()]||p.valHooks[this.type];if(!l||!("set"in l)||l.set(this,A,"value")===d)this.value=A}})}else if(x){if((l=p.valHooks[x.nodeName.toLowerCase()]||p.valHooks[x.type])&&"get"in l&&(r=l.get(x,"value"))!==d)return r;
r=x.value;return typeof r==="string"?r.replace(ja,""):r==null?"":r}}});p.extend({valHooks:{option:{get:function(h){var l=h.attributes.value;return!l||l.specified?h.value:h.text}},select:{get:function(h){var l,r,u=h.selectedIndex,x=[],A=h.options,I=h.type==="select-one";if(u<0)return null;h=I?u:0;for(r=I?u+1:A.length;h<r;h++){l=A[h];if(l.selected&&(p.support.optDisabled?!l.disabled:l.getAttribute("disabled")===null)&&(!l.parentNode.disabled||!p.nodeName(l.parentNode,"optgroup"))){l=p(l).val();if(I)return l;
x.push(l)}}if(I&&!x.length&&A.length)return p(A[u]).val();return x},set:function(h,l){var r=p.makeArray(l);p(h).find("option").each(function(){this.selected=p.inArray(p(this).val(),r)>=0});if(!r.length)h.selectedIndex=-1;return r}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(h,l,r,u){var x,A,I=h.nodeType;if(!(!h||I===3||I===8||I===2)){if(u&&l in p.attrFn)return p(h)[l](r);if(typeof h.getAttribute==="undefined")return p.prop(h,l,r);if(u=
I!==1||!p.isXMLDoc(h)){l=l.toLowerCase();A=p.attrHooks[l]||(Ha.test(l)?Ra:Ka)}if(r!==d)if(r===null)p.removeAttr(h,l);else if(A&&"set"in A&&u&&(x=A.set(h,r,l))!==d)return x;else{h.setAttribute(l,""+r);return r}else if(A&&"get"in A&&u&&(x=A.get(h,l))!==null)return x;else{x=h.getAttribute(l);return x===null?d:x}}},removeAttr:function(h,l){var r,u,x,A=0;if(l&&h.nodeType===1){r=l.toLowerCase().split(La);for(x=r.length;A<x;A++)if(u=r[A]){l=p.propFix[u]||u;p.attr(h,u,"");h.removeAttribute(Ja?u:l);if(Ha.test(u)&&
l in h)h[l]=false}}},attrHooks:{type:{set:function(h,l){if(qa.test(h.nodeName)&&h.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&l==="radio"&&p.nodeName(h,"input")){var r=h.value;h.setAttribute("type",l);if(r)h.value=r;return l}}},value:{get:function(h,l){if(Ka&&p.nodeName(h,"button"))return Ka.get(h,l);return l in h?h.value:null},set:function(h,l,r){if(Ka&&p.nodeName(h,"button"))return Ka.set(h,l,r);h.value=l}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",
"for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(h,l,r){var u,x,A=h.nodeType;if(!(!h||A===3||A===8||A===2)){if(A!==1||!p.isXMLDoc(h)){l=p.propFix[l]||l;x=p.propHooks[l]}return r!==d?x&&"set"in x&&(u=x.set(h,r,l))!==d?u:(h[l]=r):x&&"get"in x&&(u=x.get(h,l))!==null?u:h[l]}},propHooks:{tabIndex:{get:function(h){var l=
h.getAttributeNode("tabindex");return l&&l.specified?parseInt(l.value,10):sa.test(h.nodeName)||za.test(h.nodeName)&&h.href?0:d}}}});p.attrHooks.tabindex=p.propHooks.tabIndex;Ra={get:function(h,l){var r,u=p.prop(h,l);return u===true||typeof u!=="boolean"&&(r=h.getAttributeNode(l))&&r.nodeValue!==false?l.toLowerCase():d},set:function(h,l,r){if(l===false)p.removeAttr(h,r);else{l=p.propFix[r]||r;if(l in h)h[l]=true;h.setAttribute(r,r.toLowerCase())}return r}};if(!Ja){Ya={name:true,id:true};Ka=p.valHooks.button=
{get:function(h,l){return(h=h.getAttributeNode(l))&&(Ya[l]?h.nodeValue!=="":h.specified)?h.nodeValue:d},set:function(h,l,r){var u=h.getAttributeNode(r);if(!u){u=D.createAttribute(r);h.setAttributeNode(u)}return u.nodeValue=l+""}};p.attrHooks.tabindex.set=Ka.set;p.each(["width","height"],function(h,l){p.attrHooks[l]=p.extend(p.attrHooks[l],{set:function(r,u){if(u===""){r.setAttribute(l,"auto");return u}}})});p.attrHooks.contenteditable={get:Ka.get,set:function(h,l,r){if(l==="")l="false";Ka.set(h,l,
r)}}}p.support.hrefNormalized||p.each(["href","src","width","height"],function(h,l){p.attrHooks[l]=p.extend(p.attrHooks[l],{get:function(r){r=r.getAttribute(l,2);return r===null?d:r}})});if(!p.support.style)p.attrHooks.style={get:function(h){return h.style.cssText.toLowerCase()||d},set:function(h,l){return h.style.cssText=""+l}};if(!p.support.optSelected)p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(){return null}});if(!p.support.enctype)p.propFix.enctype="encoding";p.support.checkOn||
p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(h){return h.getAttribute("value")===null?"on":h.value}}});p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(h,l){if(p.isArray(l))return h.checked=p.inArray(p(h).val(),l)>=0}})});var Sa=/^(?:textarea|input|select)$/i,lb=/^([^\.]*)?(?:\.(.+))?$/,Ib=/\bhover(\.\S+)?\b/,Jb=/^key/,Kb=/^(?:mouse|contextmenu)|click/,mb=/^(?:focusinfocus|focusoutblur)$/,Lb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
Mb=function(h){if(h=Lb.exec(h)){h[1]=(h[1]||"").toLowerCase();h[3]=h[3]&&new RegExp("(?:^|\\s)"+h[3]+"(?:\\s|$)")}return h},Nb=function(h,l){var r=h.attributes||{};return(!l[1]||h.nodeName.toLowerCase()===l[1])&&(!l[2]||(r.id||{}).value===l[2])&&(!l[3]||l[3].test((r["class"]||{}).value))},nb=function(h){return p.event.special.hover?h:h.replace(Ib,"mouseenter$1 mouseleave$1")};p.event={add:function(h,l,r,u,x){var A,I,L,N,T,ha,Y,ka,ga;if(!(h.nodeType===3||h.nodeType===8||!l||!r||!(A=p._data(h)))){if(r.handler){Y=
r;r=Y.handler}if(!r.guid)r.guid=p.guid++;L=A.events;if(!L)A.events=L={};I=A.handle;if(!I){A.handle=I=function(ta){return typeof p!=="undefined"&&(!ta||p.event.triggered!==ta.type)?p.event.dispatch.apply(I.elem,arguments):d};I.elem=h}l=p.trim(nb(l)).split(" ");for(A=0;A<l.length;A++){N=lb.exec(l[A])||[];T=N[1];ha=(N[2]||"").split(".").sort();ga=p.event.special[T]||{};T=(x?ga.delegateType:ga.bindType)||T;ga=p.event.special[T]||{};N=p.extend({type:T,origType:N[1],data:u,handler:r,guid:r.guid,selector:x,
quick:Mb(x),namespace:ha.join(".")},Y);ka=L[T];if(!ka){ka=L[T]=[];ka.delegateCount=0;if(!ga.setup||ga.setup.call(h,u,ha,I)===false)if(h.addEventListener)h.addEventListener(T,I,false);else h.attachEvent&&h.attachEvent("on"+T,I)}if(ga.add){ga.add.call(h,N);if(!N.handler.guid)N.handler.guid=r.guid}x?ka.splice(ka.delegateCount++,0,N):ka.push(N);p.event.global[T]=true}h=null}},global:{},remove:function(h,l,r,u,x){var A=p.hasData(h)&&p._data(h),I,L,N,T,ha,Y,ka,ga,ta,Ca;if(A&&(ka=A.events)){l=p.trim(nb(l||
"")).split(" ");for(I=0;I<l.length;I++){L=lb.exec(l[I])||[];N=T=L[1];L=L[2];if(N){ga=p.event.special[N]||{};N=(u?ga.delegateType:ga.bindType)||N;ta=ka[N]||[];ha=ta.length;L=L?new RegExp("(^|\\.)"+L.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(Y=0;Y<ta.length;Y++){Ca=ta[Y];if((x||T===Ca.origType)&&(!r||r.guid===Ca.guid)&&(!L||L.test(Ca.namespace))&&(!u||u===Ca.selector||u==="**"&&Ca.selector)){ta.splice(Y--,1);Ca.selector&&ta.delegateCount--;ga.remove&&ga.remove.call(h,Ca)}}if(ta.length===
0&&ha!==ta.length){if(!ga.teardown||ga.teardown.call(h,L)===false)p.removeEvent(h,N,A.handle);delete ka[N]}}else for(N in ka)p.event.remove(h,N+l[I],r,u,true)}if(p.isEmptyObject(ka)){if(l=A.handle)l.elem=null;p.removeData(h,["events","handle"],true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(h,l,r,u){if(!(r&&(r.nodeType===3||r.nodeType===8))){var x=h.type||h,A=[],I,L,N,T,ha;if(!mb.test(x+p.event.triggered)){if(x.indexOf("!")>=0){x=x.slice(0,-1);I=true}if(x.indexOf(".")>=
0){A=x.split(".");x=A.shift();A.sort()}if(!((!r||p.event.customEvent[x])&&!p.event.global[x])){h=typeof h==="object"?h[p.expando]?h:new p.Event(x,h):new p.Event(x);h.type=x;h.isTrigger=true;h.exclusive=I;h.namespace=A.join(".");h.namespace_re=h.namespace?new RegExp("(^|\\.)"+A.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;I=x.indexOf(":")<0?"on"+x:"";if(r){h.result=d;if(!h.target)h.target=r;l=l!=null?p.makeArray(l):[];l.unshift(h);N=p.event.special[x]||{};if(!(N.trigger&&N.trigger.apply(r,l)===false)){ha=
[[r,N.bindType||x]];if(!u&&!N.noBubble&&!p.isWindow(r)){T=N.delegateType||x;A=mb.test(T+x)?r:r.parentNode;for(L=null;A;A=A.parentNode){ha.push([A,T]);L=A}if(L&&L===r.ownerDocument)ha.push([L.defaultView||L.parentWindow||f,T])}for(L=0;L<ha.length&&!h.isPropagationStopped();L++){A=ha[L][0];h.type=ha[L][1];(T=(p._data(A,"events")||{})[h.type]&&p._data(A,"handle"))&&T.apply(A,l);(T=I&&A[I])&&p.acceptData(A)&&T.apply(A,l)===false&&h.preventDefault()}h.type=x;if(!u&&!h.isDefaultPrevented())if((!N._default||
N._default.apply(r.ownerDocument,l)===false)&&!(x==="click"&&p.nodeName(r,"a"))&&p.acceptData(r))if(I&&r[x]&&(x!=="focus"&&x!=="blur"||h.target.offsetWidth!==0)&&!p.isWindow(r)){if(L=r[I])r[I]=null;p.event.triggered=x;r[x]();p.event.triggered=d;if(L)r[I]=L}return h.result}}else{r=p.cache;for(L in r)r[L].events&&r[L].events[x]&&p.event.trigger(h,l,r[L].handle.elem,true)}}}}},dispatch:function(h){h=p.event.fix(h||f.event);var l=(p._data(this,"events")||{})[h.type]||[],r=l.delegateCount,u=[].slice.call(arguments,
0),x=!h.exclusive&&!h.namespace,A=[],I,L,N,T,ha,Y,ka;u[0]=h;h.delegateTarget=this;if(r&&!h.target.disabled&&!(h.button&&h.type==="click")){N=p(this);N.context=this.ownerDocument||this;for(L=h.target;L!=this;L=L.parentNode||this){ha={};Y=[];N[0]=L;for(I=0;I<r;I++){T=l[I];ka=T.selector;if(ha[ka]===d)ha[ka]=T.quick?Nb(L,T.quick):N.is(ka);ha[ka]&&Y.push(T)}Y.length&&A.push({elem:L,matches:Y})}}l.length>r&&A.push({elem:this,matches:l.slice(r)});for(I=0;I<A.length&&!h.isPropagationStopped();I++){r=A[I];
h.currentTarget=r.elem;for(l=0;l<r.matches.length&&!h.isImmediatePropagationStopped();l++){T=r.matches[l];if(x||!h.namespace&&!T.namespace||h.namespace_re&&h.namespace_re.test(T.namespace)){h.data=T.data;h.handleObj=T;T=((p.event.special[T.origType]||{}).handle||T.handler).apply(r.elem,u);if(T!==d){h.result=T;if(T===false){h.preventDefault();h.stopPropagation()}}}}}return h.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(h,l){if(h.which==null)h.which=l.charCode!=null?l.charCode:l.keyCode;return h}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(h,l){var r,u,x=l.button,A=l.fromElement;if(h.pageX==null&&l.clientX!=null){r=h.target.ownerDocument||D;u=r.documentElement;r=r.body;h.pageX=l.clientX+(u&&u.scrollLeft||r&&r.scrollLeft||0)-(u&&u.clientLeft||
r&&r.clientLeft||0);h.pageY=l.clientY+(u&&u.scrollTop||r&&r.scrollTop||0)-(u&&u.clientTop||r&&r.clientTop||0)}if(!h.relatedTarget&&A)h.relatedTarget=A===h.target?l.toElement:A;if(!h.which&&x!==d)h.which=x&1?1:x&2?3:x&4?2:0;return h}},fix:function(h){if(h[p.expando])return h;var l,r,u=h,x=p.event.fixHooks[h.type]||{},A=x.props?this.props.concat(x.props):this.props;h=p.Event(u);for(l=A.length;l;){r=A[--l];h[r]=u[r]}if(!h.target)h.target=u.srcElement||D;if(h.target.nodeType===3)h.target=h.target.parentNode;
if(h.metaKey===d)h.metaKey=h.ctrlKey;return x.filter?x.filter(h,u):h},special:{ready:{setup:p.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(h,l,r){if(p.isWindow(this))this.onbeforeunload=r},teardown:function(h,l){if(this.onbeforeunload===l)this.onbeforeunload=null}}},simulate:function(h,l,r,u){h=p.extend(new p.Event,r,{type:h,isSimulated:true,originalEvent:{}});u?p.event.trigger(h,null,l):p.event.dispatch.call(l,h);h.isDefaultPrevented()&&
r.preventDefault()}};p.event.handle=p.event.dispatch;p.removeEvent=D.removeEventListener?function(h,l,r){h.removeEventListener&&h.removeEventListener(l,r,false)}:function(h,l,r){h.detachEvent&&h.detachEvent("on"+l,r)};p.Event=function(h,l){if(!(this instanceof p.Event))return new p.Event(h,l);if(h&&h.type){this.originalEvent=h;this.type=h.type;this.isDefaultPrevented=h.defaultPrevented||h.returnValue===false||h.getPreventDefault&&h.getPreventDefault()?j:n}else this.type=h;l&&p.extend(this,l);this.timeStamp=
h&&h.timeStamp||p.now();this[p.expando]=true};p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var h=this.originalEvent;if(h)if(h.preventDefault)h.preventDefault();else h.returnValue=false},stopPropagation:function(){this.isPropagationStopped=j;var h=this.originalEvent;if(h){h.stopPropagation&&h.stopPropagation();h.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n};
p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(h,l){p.event.special[h]={delegateType:l,bindType:l,handle:function(r){var u=this,x=r.relatedTarget,A=r.handleObj,I;if(!x||x!==u&&!p.contains(u,x)){r.type=A.origType;I=A.handler.apply(this,arguments);r.type=l}return I}}});if(!p.support.submitBubbles)p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return false;p.event.add(this,"click._submit keypress._submit",function(h){h=h.target;if((h=p.nodeName(h,"input")||p.nodeName(h,
"button")?h.form:d)&&!h._submit_attached){p.event.add(h,"submit._submit",function(l){this.parentNode&&!l.isTrigger&&p.event.simulate("submit",this.parentNode,l,true)});h._submit_attached=true}})},teardown:function(){if(p.nodeName(this,"form"))return false;p.event.remove(this,"._submit")}};if(!p.support.changeBubbles)p.event.special.change={setup:function(){if(Sa.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){p.event.add(this,"propertychange._change",function(h){if(h.originalEvent.propertyName===
"checked")this._just_changed=true});p.event.add(this,"click._change",function(h){if(this._just_changed&&!h.isTrigger){this._just_changed=false;p.event.simulate("change",this,h,true)}})}return false}p.event.add(this,"beforeactivate._change",function(h){h=h.target;if(Sa.test(h.nodeName)&&!h._change_attached){p.event.add(h,"change._change",function(l){this.parentNode&&!l.isSimulated&&!l.isTrigger&&p.event.simulate("change",this.parentNode,l,true)});h._change_attached=true}})},handle:function(h){var l=
h.target;if(this!==l||h.isSimulated||h.isTrigger||l.type!=="radio"&&l.type!=="checkbox")return h.handleObj.handler.apply(this,arguments)},teardown:function(){p.event.remove(this,"._change");return Sa.test(this.nodeName)}};p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(h,l){var r=0,u=function(x){p.event.simulate(l,x.target,p.event.fix(x),true)};p.event.special[l]={setup:function(){r++===0&&D.addEventListener(h,u,true)},teardown:function(){--r===0&&D.removeEventListener(h,
u,true)}}});p.fn.extend({on:function(h,l,r,u,x){var A,I;if(typeof h==="object"){if(typeof l!=="string"){r=l;l=d}for(I in h)this.on(I,l,r,h[I],x);return this}if(r==null&&u==null){u=l;r=l=d}else if(u==null)if(typeof l==="string"){u=r;r=d}else{u=r;r=l;l=d}if(u===false)u=n;else if(!u)return this;if(x===1){A=u;u=function(L){p().off(L);return A.apply(this,arguments)};u.guid=A.guid||(A.guid=p.guid++)}return this.each(function(){p.event.add(this,h,u,r,l)})},one:function(h,l,r,u){return this.on.call(this,
h,l,r,u,1)},off:function(h,l,r){if(h&&h.preventDefault&&h.handleObj){var u=h.handleObj;p(h.delegateTarget).off(u.namespace?u.type+"."+u.namespace:u.type,u.selector,u.handler);return this}if(typeof h==="object"){for(u in h)this.off(u,l,h[u]);return this}if(l===false||typeof l==="function"){r=l;l=d}if(r===false)r=n;return this.each(function(){p.event.remove(this,h,r,l)})},bind:function(h,l,r){return this.on(h,null,l,r)},unbind:function(h,l){return this.off(h,null,l)},live:function(h,l,r){p(this.context).on(h,
this.selector,l,r);return this},die:function(h,l){p(this.context).off(h,this.selector||"**",l);return this},delegate:function(h,l,r,u){return this.on(l,h,r,u)},undelegate:function(h,l,r){return arguments.length==1?this.off(h,"**"):this.off(l,h,r)},trigger:function(h,l){return this.each(function(){p.event.trigger(h,l,this)})},triggerHandler:function(h,l){if(this[0])return p.event.trigger(h,l,this[0],true)},toggle:function(h){var l=arguments,r=h.guid||p.guid++,u=0,x=function(A){var I=(p._data(this,
"lastToggle"+h.guid)||0)%u;p._data(this,"lastToggle"+h.guid,I+1);A.preventDefault();return l[I].apply(this,arguments)||false};for(x.guid=r;u<l.length;)l[u++].guid=r;return this.click(x)},hover:function(h,l){return this.mouseenter(h).mouseleave(l||h)}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(h,l){p.fn[l]=function(r,
u){if(u==null){u=r;r=null}return arguments.length>0?this.on(l,null,r,u):this.trigger(l)};if(p.attrFn)p.attrFn[l]=true;if(Jb.test(l))p.event.fixHooks[l]=p.event.keyHooks;if(Kb.test(l))p.event.fixHooks[l]=p.event.mouseHooks});(function(){function h(B,F,U,X,Z,fa){Z=0;for(var la=X.length;Z<la;Z++){var na=X[Z];if(na){var xa=false;for(na=na[B];na;){if(na[u]===U){xa=X[na.sizset];break}if(na.nodeType===1&&!fa){na[u]=U;na.sizset=Z}if(na.nodeName.toLowerCase()===F){xa=na;break}na=na[B]}X[Z]=xa}}}function l(B,
F,U,X,Z,fa){Z=0;for(var la=X.length;Z<la;Z++){var na=X[Z];if(na){var xa=false;for(na=na[B];na;){if(na[u]===U){xa=X[na.sizset];break}if(na.nodeType===1){if(!fa){na[u]=U;na.sizset=Z}if(typeof F!=="string"){if(na===F){xa=true;break}}else if(Y.filter(F,[na]).length>0){xa=na;break}}na=na[B]}X[Z]=xa}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,u="sizcache"+(Math.random()+"").replace(".",""),x=0,A=Object.prototype.toString,
I=false,L=true,N=/\\/g,T=/\r\n/g,ha=/\W/;[0,0].sort(function(){L=false;return 0});var Y=function(B,F,U,X){U=U||[];var Z=F=F||D;if(F.nodeType!==1&&F.nodeType!==9)return[];if(!B||typeof B!=="string")return U;var fa,la,na,xa,O,ca=true,ma=Y.isXML(F),ia=[],ya=B;do{r.exec("");if(fa=r.exec(ya)){ya=fa[3];ia.push(fa[1]);if(fa[2]){xa=fa[3];break}}}while(fa);if(ia.length>1&&ta.exec(B))if(ia.length===2&&ga.relative[ia[0]])la=Na(ia[0]+ia[1],F,X);else for(la=ga.relative[ia[0]]?[F]:Y(ia.shift(),F);ia.length;){B=
ia.shift();if(ga.relative[B])B+=ia.shift();la=Na(B,la,X)}else{if(!X&&ia.length>1&&F.nodeType===9&&!ma&&ga.match.ID.test(ia[0])&&!ga.match.ID.test(ia[ia.length-1])){fa=Y.find(ia.shift(),F,ma);F=fa.expr?Y.filter(fa.expr,fa.set)[0]:fa.set[0]}if(F){fa=X?{expr:ia.pop(),set:Da(X)}:Y.find(ia.pop(),ia.length===1&&(ia[0]==="~"||ia[0]==="+")&&F.parentNode?F.parentNode:F,ma);la=fa.expr?Y.filter(fa.expr,fa.set):fa.set;if(ia.length>0)na=Da(la);else ca=false;for(;ia.length;){fa=O=ia.pop();if(ga.relative[O])fa=
ia.pop();else O="";if(fa==null)fa=F;ga.relative[O](na,fa,ma)}}else na=[]}na||(na=la);na||Y.error(O||B);if(A.call(na)==="[object Array]")if(ca)if(F&&F.nodeType===1)for(B=0;na[B]!=null;B++){if(na[B]&&(na[B]===true||na[B].nodeType===1&&Y.contains(F,na[B])))U.push(la[B])}else for(B=0;na[B]!=null;B++)na[B]&&na[B].nodeType===1&&U.push(la[B]);else U.push.apply(U,na);else Da(na,U);if(xa){Y(xa,Z,U,X);Y.uniqueSort(U)}return U};Y.uniqueSort=function(B){if(ua){I=L;B.sort(ua);if(I)for(var F=1;F<B.length;F++)B[F]===
B[F-1]&&B.splice(F--,1)}return B};Y.matches=function(B,F){return Y(B,null,null,F)};Y.matchesSelector=function(B,F){return Y(F,null,null,[B]).length>0};Y.find=function(B,F,U){var X,Z,fa,la,na,xa;if(!B)return[];Z=0;for(fa=ga.order.length;Z<fa;Z++){na=ga.order[Z];if(la=ga.leftMatch[na].exec(B)){xa=la[1];la.splice(1,1);if(xa.substr(xa.length-1)!=="\\"){la[1]=(la[1]||"").replace(N,"");X=ga.find[na](la,F,U);if(X!=null){B=B.replace(ga.match[na],"");break}}}}X||(X=typeof F.getElementsByTagName!=="undefined"?
F.getElementsByTagName("*"):[]);return{set:X,expr:B}};Y.filter=function(B,F,U,X){for(var Z,fa,la,na,xa,O,ca,ma,ia=B,ya=[],wa=F,Fa=F&&F[0]&&Y.isXML(F[0]);B&&F.length;){for(la in ga.filter)if((Z=ga.leftMatch[la].exec(B))!=null&&Z[2]){O=ga.filter[la];xa=Z[1];fa=false;Z.splice(1,1);if(xa.substr(xa.length-1)!=="\\"){if(wa===ya)ya=[];if(ga.preFilter[la])if(Z=ga.preFilter[la](Z,wa,U,ya,X,Fa)){if(Z===true)continue}else fa=na=true;if(Z)for(ca=0;(xa=wa[ca])!=null;ca++)if(xa){na=O(xa,Z,ca,wa);ma=X^na;if(U&&
na!=null)if(ma)fa=true;else wa[ca]=false;else if(ma){ya.push(xa);fa=true}}if(na!==d){U||(wa=ya);B=B.replace(ga.match[la],"");if(!fa)return[];break}}}if(B===ia)if(fa==null)Y.error(B);else break;ia=B}return wa};Y.error=function(B){throw new Error("Syntax error, unrecognized expression: "+B);};var ka=Y.getText=function(B){var F,U;F=B.nodeType;var X="";if(F)if(F===1||F===9)if(typeof B.textContent==="string")return B.textContent;else if(typeof B.innerText==="string")return B.innerText.replace(T,"");else for(B=
B.firstChild;B;B=B.nextSibling)X+=ka(B);else{if(F===3||F===4)return B.nodeValue}else for(F=0;U=B[F];F++)if(U.nodeType!==8)X+=ka(U);return X},ga=Y.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(B){return B.getAttribute("href")},type:function(B){return B.getAttribute("type")}},relative:{"+":function(B,F){var U=typeof F==="string",X=U&&!ha.test(F);U=U&&!X;if(X)F=F.toLowerCase();X=0;for(var Z=B.length,fa;X<Z;X++)if(fa=B[X]){for(;(fa=fa.previousSibling)&&fa.nodeType!==
1;);B[X]=U||fa&&fa.nodeName.toLowerCase()===F?fa||false:fa===F}U&&Y.filter(F,B,true)},">":function(B,F){var U,X=typeof F==="string",Z=0,fa=B.length;if(X&&!ha.test(F))for(F=F.toLowerCase();Z<fa;Z++){if(U=B[Z]){U=U.parentNode;B[Z]=U.nodeName.toLowerCase()===F?U:false}}else{for(;Z<fa;Z++)if(U=B[Z])B[Z]=X?U.parentNode:U.parentNode===F;X&&Y.filter(F,B,true)}},"":function(B,F,U){var X,Z=x++,fa=l;if(typeof F==="string"&&!ha.test(F)){X=F=F.toLowerCase();fa=h}fa("parentNode",F,Z,B,X,U)},"~":function(B,F,U){var X,
Z=x++,fa=l;if(typeof F==="string"&&!ha.test(F)){X=F=F.toLowerCase();fa=h}fa("previousSibling",F,Z,B,X,U)}},find:{ID:function(B,F,U){if(typeof F.getElementById!=="undefined"&&!U)return(B=F.getElementById(B[1]))&&B.parentNode?[B]:[]},NAME:function(B,F){if(typeof F.getElementsByName!=="undefined"){var U=[];F=F.getElementsByName(B[1]);for(var X=0,Z=F.length;X<Z;X++)F[X].getAttribute("name")===B[1]&&U.push(F[X]);return U.length===0?null:U}},TAG:function(B,F){if(typeof F.getElementsByTagName!=="undefined")return F.getElementsByTagName(B[1])}},
preFilter:{CLASS:function(B,F,U,X,Z,fa){B=" "+B[1].replace(N,"")+" ";if(fa)return B;fa=0;for(var la;(la=F[fa])!=null;fa++)if(la)if(Z^(la.className&&(" "+la.className+" ").replace(/[\t\n\r]/g," ").indexOf(B)>=0))U||X.push(la);else if(U)F[fa]=false;return false},ID:function(B){return B[1].replace(N,"")},TAG:function(B){return B[1].replace(N,"").toLowerCase()},CHILD:function(B){if(B[1]==="nth"){B[2]||Y.error(B[0]);B[2]=B[2].replace(/^\+|\s*/g,"");var F=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(B[2]==="even"&&
"2n"||B[2]==="odd"&&"2n+1"||!/\D/.test(B[2])&&"0n+"+B[2]||B[2]);B[2]=F[1]+(F[2]||1)-0;B[3]=F[3]-0}else B[2]&&Y.error(B[0]);B[0]=x++;return B},ATTR:function(B,F,U,X,Z,fa){F=B[1]=B[1].replace(N,"");if(!fa&&ga.attrMap[F])B[1]=ga.attrMap[F];B[4]=(B[4]||B[5]||"").replace(N,"");if(B[2]==="~=")B[4]=" "+B[4]+" ";return B},PSEUDO:function(B,F,U,X,Z){if(B[1]==="not")if((r.exec(B[3])||"").length>1||/^\w/.test(B[3]))B[3]=Y(B[3],null,null,F);else{B=Y.filter(B[3],F,U,true^Z);U||X.push.apply(X,B);return false}else if(ga.match.POS.test(B[0])||
ga.match.CHILD.test(B[0]))return true;return B},POS:function(B){B.unshift(true);return B}},filters:{enabled:function(B){return B.disabled===false&&B.type!=="hidden"},disabled:function(B){return B.disabled===true},checked:function(B){return B.checked===true},selected:function(B){return B.selected===true},parent:function(B){return!!B.firstChild},empty:function(B){return!B.firstChild},has:function(B,F,U){return!!Y(U[3],B).length},header:function(B){return/h\d/i.test(B.nodeName)},text:function(B){var F=
B.getAttribute("type"),U=B.type;return B.nodeName.toLowerCase()==="input"&&"text"===U&&(F===U||F===null)},radio:function(B){return B.nodeName.toLowerCase()==="input"&&"radio"===B.type},checkbox:function(B){return B.nodeName.toLowerCase()==="input"&&"checkbox"===B.type},file:function(B){return B.nodeName.toLowerCase()==="input"&&"file"===B.type},password:function(B){return B.nodeName.toLowerCase()==="input"&&"password"===B.type},submit:function(B){var F=B.nodeName.toLowerCase();return(F==="input"||
F==="button")&&"submit"===B.type},image:function(B){return B.nodeName.toLowerCase()==="input"&&"image"===B.type},reset:function(B){var F=B.nodeName.toLowerCase();return(F==="input"||F==="button")&&"reset"===B.type},button:function(B){var F=B.nodeName.toLowerCase();return F==="input"&&"button"===B.type||F==="button"},input:function(B){return/input|select|textarea|button/i.test(B.nodeName)},focus:function(B){return B===B.ownerDocument.activeElement}},setFilters:{first:function(B,F){return F===0},last:function(B,
F,U,X){return F===X.length-1},even:function(B,F){return F%2===0},odd:function(B,F){return F%2===1},lt:function(B,F,U){return F<U[3]-0},gt:function(B,F,U){return F>U[3]-0},nth:function(B,F,U){return U[3]-0===F},eq:function(B,F,U){return U[3]-0===F}},filter:{PSEUDO:function(B,F,U,X){var Z=F[1],fa=ga.filters[Z];if(fa)return fa(B,U,F,X);else if(Z==="contains")return(B.textContent||B.innerText||ka([B])||"").indexOf(F[3])>=0;else if(Z==="not"){F=F[3];U=0;for(X=F.length;U<X;U++)if(F[U]===B)return false;
return true}else Y.error(Z)},CHILD:function(B,F){var U,X,Z,fa;U=F[1];var la=B;switch(U){case "only":case "first":for(;la=la.previousSibling;)if(la.nodeType===1)return false;if(U==="first")return true;la=B;case "last":for(;la=la.nextSibling;)if(la.nodeType===1)return false;return true;case "nth":U=F[2];X=F[3];if(U===1&&X===0)return true;F=F[0];if((Z=B.parentNode)&&(Z[u]!==F||!B.nodeIndex)){fa=0;for(la=Z.firstChild;la;la=la.nextSibling)if(la.nodeType===1)la.nodeIndex=++fa;Z[u]=F}B=B.nodeIndex-X;return U===
0?B===0:B%U===0&&B/U>=0}},ID:function(B,F){return B.nodeType===1&&B.getAttribute("id")===F},TAG:function(B,F){return F==="*"&&B.nodeType===1||!!B.nodeName&&B.nodeName.toLowerCase()===F},CLASS:function(B,F){return(" "+(B.className||B.getAttribute("class"))+" ").indexOf(F)>-1},ATTR:function(B,F){var U=F[1];B=Y.attr?Y.attr(B,U):ga.attrHandle[U]?ga.attrHandle[U](B):B[U]!=null?B[U]:B.getAttribute(U);U=B+"";var X=F[2];F=F[4];return B==null?X==="!=":!X&&Y.attr?B!=null:X==="="?U===F:X==="*="?U.indexOf(F)>=
0:X==="~="?(" "+U+" ").indexOf(F)>=0:!F?U&&B!==false:X==="!="?U!==F:X==="^="?U.indexOf(F)===0:X==="$="?U.substr(U.length-F.length)===F:X==="|="?U===F||U.substr(0,F.length+1)===F+"-":false},POS:function(B,F,U,X){var Z=ga.setFilters[F[2]];if(Z)return Z(B,U,F,X)}}},ta=ga.match.POS,Ca=function(B,F){return"\\"+(F-0+1)};for(var Ea in ga.match){ga.match[Ea]=new RegExp(ga.match[Ea].source+/(?![^\[]*\])(?![^\(]*\))/.source);ga.leftMatch[Ea]=new RegExp(/(^(?:.|\r|\n)*?)/.source+ga.match[Ea].source.replace(/\\(\d+)/g,
Ca))}var Da=function(B,F){B=Array.prototype.slice.call(B,0);if(F){F.push.apply(F,B);return F}return B};try{Array.prototype.slice.call(D.documentElement.childNodes,0)}catch(Qa){Da=function(B,F){var U=0;F=F||[];if(A.call(B)==="[object Array]")Array.prototype.push.apply(F,B);else if(typeof B.length==="number")for(var X=B.length;U<X;U++)F.push(B[U]);else for(;B[U];U++)F.push(B[U]);return F}}var ua,Pa;if(D.documentElement.compareDocumentPosition)ua=function(B,F){if(B===F){I=true;return 0}if(!B.compareDocumentPosition||
!F.compareDocumentPosition)return B.compareDocumentPosition?-1:1;return B.compareDocumentPosition(F)&4?-1:1};else{ua=function(B,F){if(B===F){I=true;return 0}else if(B.sourceIndex&&F.sourceIndex)return B.sourceIndex-F.sourceIndex;var U,X,Z=[],fa=[];U=B.parentNode;X=F.parentNode;var la=U;if(U===X)return Pa(B,F);else if(U){if(!X)return 1}else return-1;for(;la;){Z.unshift(la);la=la.parentNode}for(la=X;la;){fa.unshift(la);la=la.parentNode}U=Z.length;X=fa.length;for(la=0;la<U&&la<X;la++)if(Z[la]!==fa[la])return Pa(Z[la],
fa[la]);return la===U?Pa(B,fa[la],-1):Pa(Z[la],F,1)};Pa=function(B,F,U){if(B===F)return U;for(B=B.nextSibling;B;){if(B===F)return-1;B=B.nextSibling}return 1}}(function(){var B=D.createElement("div"),F="script"+(new Date).getTime(),U=D.documentElement;B.innerHTML="<a name='"+F+"'/>";U.insertBefore(B,U.firstChild);if(D.getElementById(F)){ga.find.ID=function(X,Z,fa){if(typeof Z.getElementById!=="undefined"&&!fa)return(Z=Z.getElementById(X[1]))?Z.id===X[1]||typeof Z.getAttributeNode!=="undefined"&&Z.getAttributeNode("id").nodeValue===
X[1]?[Z]:d:[]};ga.filter.ID=function(X,Z){var fa=typeof X.getAttributeNode!=="undefined"&&X.getAttributeNode("id");return X.nodeType===1&&fa&&fa.nodeValue===Z}}U.removeChild(B);U=B=null})();(function(){var B=D.createElement("div");B.appendChild(D.createComment(""));if(B.getElementsByTagName("*").length>0)ga.find.TAG=function(F,U){U=U.getElementsByTagName(F[1]);if(F[1]==="*"){F=[];for(var X=0;U[X];X++)U[X].nodeType===1&&F.push(U[X]);U=F}return U};B.innerHTML="<a href='#'></a>";if(B.firstChild&&typeof B.firstChild.getAttribute!==
"undefined"&&B.firstChild.getAttribute("href")!=="#")ga.attrHandle.href=function(F){return F.getAttribute("href",2)};B=null})();D.querySelectorAll&&function(){var B=Y,F=D.createElement("div");F.innerHTML="<p class='TEST'></p>";if(!(F.querySelectorAll&&F.querySelectorAll(".TEST").length===0)){Y=function(X,Z,fa,la){Z=Z||D;if(!la&&!Y.isXML(Z)){var na=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(X);if(na&&(Z.nodeType===1||Z.nodeType===9))if(na[1])return Da(Z.getElementsByTagName(X),fa);else if(na[2]&&ga.find.CLASS&&
Z.getElementsByClassName)return Da(Z.getElementsByClassName(na[2]),fa);if(Z.nodeType===9){if(X==="body"&&Z.body)return Da([Z.body],fa);else if(na&&na[3]){var xa=Z.getElementById(na[3]);if(xa&&xa.parentNode){if(xa.id===na[3])return Da([xa],fa)}else return Da([],fa)}try{return Da(Z.querySelectorAll(X),fa)}catch(O){}}else if(Z.nodeType===1&&Z.nodeName.toLowerCase()!=="object"){na=Z;var ca=(xa=Z.getAttribute("id"))||"__sizzle__",ma=Z.parentNode,ia=/^\s*[+~]/.test(X);if(xa)ca=ca.replace(/'/g,"\\$&");else Z.setAttribute("id",
ca);if(ia&&ma)Z=Z.parentNode;try{if(!ia||ma)return Da(Z.querySelectorAll("[id='"+ca+"'] "+X),fa)}catch(ya){}finally{xa||na.removeAttribute("id")}}}return B(X,Z,fa,la)};for(var U in B)Y[U]=B[U];F=null}}();(function(){var B=D.documentElement,F=B.matchesSelector||B.mozMatchesSelector||B.webkitMatchesSelector||B.msMatchesSelector;if(F){var U=!F.call(D.createElement("div"),"div"),X=false;try{F.call(D.documentElement,"[test!='']:sizzle")}catch(Z){X=true}Y.matchesSelector=function(fa,la){la=la.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!Y.isXML(fa))try{if(X||!ga.match.PSEUDO.test(la)&&!/!=/.test(la)){var na=F.call(fa,la);if(na||!U||fa.document&&fa.document.nodeType!==11)return na}}catch(xa){}return Y(la,null,null,[fa]).length>0}}})();(function(){var B=D.createElement("div");B.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!B.getElementsByClassName||B.getElementsByClassName("e").length===0)){B.lastChild.className="e";if(B.getElementsByClassName("e").length!==1){ga.order.splice(1,0,"CLASS");ga.find.CLASS=
function(F,U,X){if(typeof U.getElementsByClassName!=="undefined"&&!X)return U.getElementsByClassName(F[1])};B=null}}})();Y.contains=D.documentElement.contains?function(B,F){return B!==F&&(B.contains?B.contains(F):true)}:D.documentElement.compareDocumentPosition?function(B,F){return!!(B.compareDocumentPosition(F)&16)}:function(){return false};Y.isXML=function(B){return(B=(B?B.ownerDocument||B:0).documentElement)?B.nodeName!=="HTML":false};var Na=function(B,F,U){var X,Z=[],fa="";for(F=F.nodeType?[F]:
F;X=ga.match.PSEUDO.exec(B);){fa+=X[0];B=B.replace(ga.match.PSEUDO,"")}B=ga.relative[B]?B+"*":B;X=0;for(var la=F.length;X<la;X++)Y(B,F[X],Z,U);return Y.filter(fa,Z)};Y.attr=p.attr;Y.selectors.attrMap={};p.find=Y;p.expr=Y.selectors;p.expr[":"]=p.expr.filters;p.unique=Y.uniqueSort;p.text=Y.getText;p.isXMLDoc=Y.isXML;p.contains=Y.contains})();var Ob=/Until$/,Pb=/^(?:parents|prevUntil|prevAll)/,Qb=/,/,Db=/^.[^:#\[\.,]*$/,Rb=Array.prototype.slice,ob=p.expr.match.POS,Sb={children:true,contents:true,next:true,
prev:true};p.fn.extend({find:function(h){var l=this,r,u;if(typeof h!=="string")return p(h).filter(function(){r=0;for(u=l.length;r<u;r++)if(p.contains(l[r],this))return true});var x=this.pushStack("","find",h),A,I,L;r=0;for(u=this.length;r<u;r++){A=x.length;p.find(h,this[r],x);if(r>0)for(I=A;I<x.length;I++)for(L=0;L<A;L++)if(x[L]===x[I]){x.splice(I--,1);break}}return x},has:function(h){var l=p(h);return this.filter(function(){for(var r=0,u=l.length;r<u;r++)if(p.contains(this,l[r]))return true})},not:function(h){return this.pushStack(o(this,
h,false),"not",h)},filter:function(h){return this.pushStack(o(this,h,true),"filter",h)},is:function(h){return!!h&&(typeof h==="string"?ob.test(h)?p(h,this.context).index(this[0])>=0:p.filter(h,this).length>0:this.filter(h).length>0)},closest:function(h,l){var r=[],u,x,A=this[0];if(p.isArray(h)){for(x=1;A&&A.ownerDocument&&A!==l;){for(u=0;u<h.length;u++)p(A).is(h[u])&&r.push({selector:h[u],elem:A,level:x});A=A.parentNode;x++}return r}var I=ob.test(h)||typeof h!=="string"?p(h,l||this.context):0;u=0;
for(x=this.length;u<x;u++)for(A=this[u];A;)if(I?I.index(A)>-1:p.find.matchesSelector(A,h)){r.push(A);break}else{A=A.parentNode;if(!A||!A.ownerDocument||A===l||A.nodeType===11)break}r=r.length>1?p.unique(r):r;return this.pushStack(r,"closest",h)},index:function(h){if(!h)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof h==="string")return p.inArray(this[0],p(h));return p.inArray(h.jquery?h[0]:h,this)},add:function(h,l){h=typeof h==="string"?p(h,l):p.makeArray(h&&h.nodeType?[h]:
h);l=p.merge(this.get(),h);return this.pushStack(q(h[0])||q(l[0])?l:p.unique(l))},andSelf:function(){return this.add(this.prevObject)}});p.each({parent:function(h){return(h=h.parentNode)&&h.nodeType!==11?h:null},parents:function(h){return p.dir(h,"parentNode")},parentsUntil:function(h,l,r){return p.dir(h,"parentNode",r)},next:function(h){return p.nth(h,2,"nextSibling")},prev:function(h){return p.nth(h,2,"previousSibling")},nextAll:function(h){return p.dir(h,"nextSibling")},prevAll:function(h){return p.dir(h,
"previousSibling")},nextUntil:function(h,l,r){return p.dir(h,"nextSibling",r)},prevUntil:function(h,l,r){return p.dir(h,"previousSibling",r)},siblings:function(h){return p.sibling(h.parentNode.firstChild,h)},children:function(h){return p.sibling(h.firstChild)},contents:function(h){return p.nodeName(h,"iframe")?h.contentDocument||h.contentWindow.document:p.makeArray(h.childNodes)}},function(h,l){p.fn[h]=function(r,u){var x=p.map(this,l,r);Ob.test(h)||(u=r);if(u&&typeof u==="string")x=p.filter(u,x);
x=this.length>1&&!Sb[h]?p.unique(x):x;if((this.length>1||Qb.test(u))&&Pb.test(h))x=x.reverse();return this.pushStack(x,h,Rb.call(arguments).join(","))}});p.extend({filter:function(h,l,r){if(r)h=":not("+h+")";return l.length===1?p.find.matchesSelector(l[0],h)?[l[0]]:[]:p.find.matches(h,l)},dir:function(h,l,r){var u=[];for(h=h[l];h&&h.nodeType!==9&&(r===d||h.nodeType!==1||!p(h).is(r));){h.nodeType===1&&u.push(h);h=h[l]}return u},nth:function(h,l,r){l=l||1;for(var u=0;h;h=h[r])if(h.nodeType===1&&++u===
l)break;return h},sibling:function(h,l){for(var r=[];h;h=h.nextSibling)h.nodeType===1&&h!==l&&r.push(h);return r}});var hb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Tb=/ jQuery\d+="(?:\d+|null)"/g,eb=/^\s+/,pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,qb=/<([\w:]+)/,Ub=/<tbody/i,Vb=/<|&#?\w+;/,Wb=/<(?:script|style)/i,Xb=/<(?:script|object|embed|option|style)/i,
rb=new RegExp("<(?:"+hb+")","i"),sb=/checked\s*(?:[^=]|=\s*.checked.)/i,Yb=/\/(java|ecma)script/i,Eb=/^\s*<!(?:\[CDATA\[|\-\-)/,Ma={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ib=s(D);Ma.optgroup=Ma.option;Ma.tbody=Ma.tfoot=
Ma.colgroup=Ma.caption=Ma.thead;Ma.th=Ma.td;if(!p.support.htmlSerialize)Ma._default=[1,"div<div>","</div>"];p.fn.extend({text:function(h){if(p.isFunction(h))return this.each(function(l){var r=p(this);r.text(h.call(this,l,r.text()))});if(typeof h!=="object"&&h!==d)return this.empty().append((this[0]&&this[0].ownerDocument||D).createTextNode(h));return p.text(this)},wrapAll:function(h){if(p.isFunction(h))return this.each(function(r){p(this).wrapAll(h.call(this,r))});if(this[0]){var l=p(h,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&l.insertBefore(this[0]);l.map(function(){for(var r=this;r.firstChild&&r.firstChild.nodeType===1;)r=r.firstChild;return r}).append(this)}return this},wrapInner:function(h){if(p.isFunction(h))return this.each(function(l){p(this).wrapInner(h.call(this,l))});return this.each(function(){var l=p(this),r=l.contents();r.length?r.wrapAll(h):l.append(h)})},wrap:function(h){var l=p.isFunction(h);return this.each(function(r){p(this).wrapAll(l?h.call(this,r):h)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,
"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(h){this.nodeType===1&&this.appendChild(h)})},prepend:function(){return this.domManip(arguments,true,function(h){this.nodeType===1&&this.insertBefore(h,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(l){this.parentNode.insertBefore(l,this)});else if(arguments.length){var h=p.clean(arguments);h.push.apply(h,this.toArray());
return this.pushStack(h,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(l){this.parentNode.insertBefore(l,this.nextSibling)});else if(arguments.length){var h=this.pushStack(this,"after",arguments);h.push.apply(h,p.clean(arguments));return h}},remove:function(h,l){for(var r=0,u;(u=this[r])!=null;r++)if(!h||p.filter(h,[u]).length){if(!l&&u.nodeType===1){p.cleanData(u.getElementsByTagName("*"));p.cleanData([u])}u.parentNode&&u.parentNode.removeChild(u)}return this},
empty:function(){for(var h=0,l;(l=this[h])!=null;h++)for(l.nodeType===1&&p.cleanData(l.getElementsByTagName("*"));l.firstChild;)l.removeChild(l.firstChild);return this},clone:function(h,l){h=h==null?false:h;l=l==null?h:l;return this.map(function(){return p.clone(this,h,l)})},html:function(h){if(h===d)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Tb,""):null;else if(typeof h==="string"&&!Wb.test(h)&&(p.support.leadingWhitespace||!eb.test(h))&&!Ma[(qb.exec(h)||["",""])[1].toLowerCase()]){h=
h.replace(pb,"<$1></$2>");try{for(var l=0,r=this.length;l<r;l++)if(this[l].nodeType===1){p.cleanData(this[l].getElementsByTagName("*"));this[l].innerHTML=h}}catch(u){this.empty().append(h)}}else p.isFunction(h)?this.each(function(x){var A=p(this);A.html(h.call(this,x,A.html()))}):this.empty().append(h);return this},replaceWith:function(h){if(this[0]&&this[0].parentNode){if(p.isFunction(h))return this.each(function(l){var r=p(this),u=r.html();r.replaceWith(h.call(this,l,u))});if(typeof h!=="string")h=
p(h).detach();return this.each(function(){var l=this.nextSibling,r=this.parentNode;p(this).remove();l?p(l).before(h):p(r).append(h)})}else return this.length?this.pushStack(p(p.isFunction(h)?h():h),"replaceWith",h):this},detach:function(h){return this.remove(h,true)},domManip:function(h,l,r){var u,x,A,I=h[0],L=[];if(!p.support.checkClone&&arguments.length===3&&typeof I==="string"&&sb.test(I))return this.each(function(){p(this).domManip(h,l,r,true)});if(p.isFunction(I))return this.each(function(Y){var ka=
p(this);h[0]=I.call(this,Y,l?ka.html():d);ka.domManip(h,l,r)});if(this[0]){u=I&&I.parentNode;u=p.support.parentNode&&u&&u.nodeType===11&&u.childNodes.length===this.length?{fragment:u}:p.buildFragment(h,this,L);A=u.fragment;if(x=A.childNodes.length===1?(A=A.firstChild):A.firstChild){l=l&&p.nodeName(x,"tr");for(var N=0,T=this.length,ha=T-1;N<T;N++)r.call(l?w(this[N],x):this[N],u.cacheable||T>1&&N<ha?p.clone(A,true,true):A)}L.length&&p.each(L,M)}return this}});p.buildFragment=function(h,l,r){var u,x,
A,I,L=h[0];if(l&&l[0])I=l[0].ownerDocument||l[0];I.createDocumentFragment||(I=D);if(h.length===1&&typeof L==="string"&&L.length<512&&I===D&&L.charAt(0)==="<"&&!Xb.test(L)&&(p.support.checkClone||!sb.test(L))&&(p.support.html5Clone||!rb.test(L))){x=true;if((A=p.fragments[L])&&A!==1)u=A}if(!u){u=I.createDocumentFragment();p.clean(h,I,u,r)}if(x)p.fragments[L]=A?u:1;return{fragment:u,cacheable:x}};p.fragments={};p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(h,l){p.fn[h]=function(r){var u=[];r=p(r);var x=this.length===1&&this[0].parentNode;if(x&&x.nodeType===11&&x.childNodes.length===1&&r.length===1){r[l](this[0]);return this}else{x=0;for(var A=r.length;x<A;x++){var I=(x>0?this.clone(true):this).get();p(r[x])[l](I);u=u.concat(I)}return this.pushStack(u,h,r.selector)}}});p.extend({clone:function(h,l,r){var u,x,A,I=p.support.html5Clone||!rb.test("<"+h.nodeName)?h.cloneNode(true):J(h);if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(h.nodeType===
1||h.nodeType===11)&&!p.isXMLDoc(h)){C(h,I);u=E(h);x=E(I);for(A=0;u[A];++A)x[A]&&C(u[A],x[A])}if(l){z(h,I);if(r){u=E(h);x=E(I);for(A=0;u[A];++A)z(u[A],x[A])}}return I},clean:function(h,l,r,u){l=l||D;if(typeof l.createElement==="undefined")l=l.ownerDocument||l[0]&&l[0].ownerDocument||D;for(var x=[],A,I=0,L;(L=h[I])!=null;I++){if(typeof L==="number")L+="";if(L){if(typeof L==="string")if(Vb.test(L)){L=L.replace(pb,"<$1></$2>");A=(qb.exec(L)||["",""])[1].toLowerCase();var N=Ma[A]||Ma._default,T=N[0],
ha=l.createElement("div");l===D?ib.appendChild(ha):s(l).appendChild(ha);for(ha.innerHTML=N[1]+L+N[2];T--;)ha=ha.lastChild;if(!p.support.tbody){T=Ub.test(L);N=A==="table"&&!T?ha.firstChild&&ha.firstChild.childNodes:N[1]==="<table>"&&!T?ha.childNodes:[];for(A=N.length-1;A>=0;--A)p.nodeName(N[A],"tbody")&&!N[A].childNodes.length&&N[A].parentNode.removeChild(N[A])}!p.support.leadingWhitespace&&eb.test(L)&&ha.insertBefore(l.createTextNode(eb.exec(L)[0]),ha.firstChild);L=ha.childNodes}else L=l.createTextNode(L);
var Y;if(!p.support.appendChecked)if(L[0]&&typeof(Y=L.length)==="number")for(A=0;A<Y;A++)H(L[A]);else H(L);if(L.nodeType)x.push(L);else x=p.merge(x,L)}}if(r){h=function(ka){return!ka.type||Yb.test(ka.type)};for(I=0;x[I];I++)if(u&&p.nodeName(x[I],"script")&&(!x[I].type||x[I].type.toLowerCase()==="text/javascript"))u.push(x[I].parentNode?x[I].parentNode.removeChild(x[I]):x[I]);else{if(x[I].nodeType===1){l=p.grep(x[I].getElementsByTagName("script"),h);x.splice.apply(x,[I+1,0].concat(l))}r.appendChild(x[I])}}return x},
cleanData:function(h){for(var l,r,u=p.cache,x=p.event.special,A=p.support.deleteExpando,I=0,L;(L=h[I])!=null;I++)if(!(L.nodeName&&p.noData[L.nodeName.toLowerCase()]))if(r=L[p.expando]){if((l=u[r])&&l.events){for(var N in l.events)x[N]?p.event.remove(L,N):p.removeEvent(L,N,l.handle);if(l.handle)l.handle.elem=null}if(A)delete L[p.expando];else L.removeAttribute&&L.removeAttribute(p.expando);delete u[r]}}});var fb=/alpha\([^)]*\)/i,Zb=/opacity=([^)]*)/,$b=/([A-Z]|^ms)/g,tb=/^-?\d+(?:px)?$/i,ac=/^-?\d/,
bc=/^([\-+])=([\-+.\de]+)/,cc={position:"absolute",visibility:"hidden",display:"block"},Fb=["Left","Right"],Gb=["Top","Bottom"],Va,ub,vb;p.fn.css=function(h,l){if(arguments.length===2&&l===d)return this;return p.access(this,h,l,true,function(r,u,x){return x!==d?p.style(r,u,x):p.css(r,u)})};p.extend({cssHooks:{opacity:{get:function(h,l){if(l){h=Va(h,"opacity","opacity");return h===""?"1":h}else return h.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,
widows:true,zIndex:true,zoom:true},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(h,l,r,u){if(!(!h||h.nodeType===3||h.nodeType===8||!h.style)){var x,A=p.camelCase(l),I=h.style,L=p.cssHooks[A];l=p.cssProps[A]||A;if(r!==d){u=typeof r;if(u==="string"&&(x=bc.exec(r))){r=+(x[1]+1)*+x[2]+parseFloat(p.css(h,l));u="number"}if(!(r==null||u==="number"&&isNaN(r))){if(u==="number"&&!p.cssNumber[A])r+="px";if(!L||!("set"in L)||(r=L.set(h,r))!==d)try{I[l]=r}catch(N){}}}else{if(L&&
"get"in L&&(x=L.get(h,false,u))!==d)return x;return I[l]}}},css:function(h,l,r){var u,x;l=p.camelCase(l);x=p.cssHooks[l];l=p.cssProps[l]||l;if(l==="cssFloat")l="float";if(x&&"get"in x&&(u=x.get(h,true,r))!==d)return u;else if(Va)return Va(h,l)},swap:function(h,l,r){var u={};for(var x in l){u[x]=h.style[x];h.style[x]=l[x]}r.call(h);for(x in l)h.style[x]=u[x]}});p.curCSS=p.css;p.each(["height","width"],function(h,l){p.cssHooks[l]={get:function(r,u,x){var A;if(u){if(r.offsetWidth!==0)return Q(r,l,x);
else p.swap(r,cc,function(){A=Q(r,l,x)});return A}},set:function(r,u){if(tb.test(u)){u=parseFloat(u);if(u>=0)return u+"px"}else return u}}});if(!p.support.opacity)p.cssHooks.opacity={get:function(h,l){return Zb.test((l&&h.currentStyle?h.currentStyle.filter:h.style.filter)||"")?parseFloat(RegExp.$1)/100+"":l?"1":""},set:function(h,l){var r=h.style;h=h.currentStyle;var u=p.isNumeric(l)?"alpha(opacity="+l*100+")":"",x=h&&h.filter||r.filter||"";r.zoom=1;if(l>=1&&p.trim(x.replace(fb,""))===""){r.removeAttribute("filter");
if(h&&!h.filter)return}r.filter=fb.test(x)?x.replace(fb,u):x+" "+u}};p(function(){if(!p.support.reliableMarginRight)p.cssHooks.marginRight={get:function(h,l){var r;p.swap(h,{display:"inline-block"},function(){r=l?Va(h,"margin-right","marginRight"):h.style.marginRight});return r}}});if(D.defaultView&&D.defaultView.getComputedStyle)ub=function(h,l){var r,u,x;l=l.replace($b,"-$1").toLowerCase();if((u=h.ownerDocument.defaultView)&&(x=u.getComputedStyle(h,null))){r=x.getPropertyValue(l);if(r===""&&!p.contains(h.ownerDocument.documentElement,
h))r=p.style(h,l)}return r};if(D.documentElement.currentStyle)vb=function(h,l){var r,u,x=h.currentStyle&&h.currentStyle[l],A=h.style;if(x===null&&A&&(r=A[l]))x=r;if(!tb.test(x)&&ac.test(x)){r=A.left;if(u=h.runtimeStyle&&h.runtimeStyle.left)h.runtimeStyle.left=h.currentStyle.left;A.left=l==="fontSize"?"1em":x||0;x=A.pixelLeft+"px";A.left=r;if(u)h.runtimeStyle.left=u}return x===""?"auto":x};Va=ub||vb;if(p.expr&&p.expr.filters){p.expr.filters.hidden=function(h){var l=h.offsetHeight;return h.offsetWidth===
0&&l===0||!p.support.reliableHiddenOffsets&&(h.style&&h.style.display||p.css(h,"display"))==="none"};p.expr.filters.visible=function(h){return!p.expr.filters.hidden(h)}}var dc=/%20/g,Hb=/\[\]$/,wb=/\r?\n/g,ec=/#.*$/,fc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,gc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,hc=/^(?:GET|HEAD)$/,ic=/^\/\//,xb=/\?/,jc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,kc=/^(?:select|textarea)/i,jb=/\s+/,
lc=/([?&])_=[^&]*/,yb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,zb=p.fn.load,bb={},Ab={},Ta,Ua,Bb=["*/"]+["*"];try{Ta=aa.href}catch(rc){Ta=D.createElement("a");Ta.href="";Ta=Ta.href}Ua=yb.exec(Ta.toLowerCase())||[];p.fn.extend({load:function(h,l,r){if(typeof h!=="string"&&zb)return zb.apply(this,arguments);else if(!this.length)return this;var u=h.indexOf(" ");if(u>=0){var x=h.slice(u,h.length);h=h.slice(0,u)}u="GET";if(l)if(p.isFunction(l)){r=l;l=d}else if(typeof l==="object"){l=p.param(l,
p.ajaxSettings.traditional);u="POST"}var A=this;p.ajax({url:h,type:u,dataType:"html",data:l,complete:function(I,L,N){N=I.responseText;if(I.isResolved()){I.done(function(T){N=T});A.html(x?p("<div>").append(N.replace(jc,"")).find(x):N)}r&&A.each(r,[N,L,I])}});return this},serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||
kc.test(this.nodeName)||gc.test(this.type))}).map(function(h,l){h=p(this).val();return h==null?null:p.isArray(h)?p.map(h,function(r){return{name:l.name,value:r.replace(wb,"\r\n")}}):{name:l.name,value:h.replace(wb,"\r\n")}}).get()}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(h,l){p.fn[l]=function(r){return this.on(l,r)}});p.each(["get","post"],function(h,l){p[l]=function(r,u,x,A){if(p.isFunction(u)){A=A||x;x=u;u=d}return p.ajax({type:l,url:r,data:u,
success:x,dataType:A})}});p.extend({getScript:function(h,l){return p.get(h,d,l,"script")},getJSON:function(h,l,r){return p.get(h,l,r,"json")},ajaxSetup:function(h,l){if(l)W(h,p.ajaxSettings);else{l=h;h=p.ajaxSettings}W(h,l);return h},ajaxSettings:{url:Ta,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ua[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",
json:"application/json, text/javascript","*":Bb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":f.String,"text html":true,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:R(bb),ajaxTransport:R(Ab),ajax:function(h,l){function r(B,F,U,X){if(Ea!==2){Ea=2;Ca&&clearTimeout(Ca);ta=d;ka=X||"";ua.readyState=B>0?4:0;var Z,fa,la;X=F;U=U?S(u,ua,U):d;var na;if(B>=200&&B<300||B===304){if(u.ifModified){if(na=
ua.getResponseHeader("Last-Modified"))p.lastModified[T]=na;if(na=ua.getResponseHeader("Etag"))p.etag[T]=na}if(B===304){X="notmodified";Z=true}else try{fa=da(u,U);X="success";Z=true}catch(xa){X="parsererror";la=xa}}else{la=X;if(!X||B){X="error";if(B<0)B=0}}ua.status=B;ua.statusText=""+(F||X);Z?I.resolveWith(x,[fa,X,ua]):I.rejectWith(x,[ua,X,la]);ua.statusCode(N);N=d;if(Da)A.trigger("ajax"+(Z?"Success":"Error"),[ua,u,Z?fa:la]);L.fireWith(x,[ua,X]);if(Da){A.trigger("ajaxComplete",[ua,u]);--p.active||
p.event.trigger("ajaxStop")}}}if(typeof h==="object"){l=h;h=d}l=l||{};var u=p.ajaxSetup({},l),x=u.context||u,A=x!==u&&(x.nodeType||x instanceof p)?p(x):p.event,I=p.Deferred(),L=p.Callbacks("once memory"),N=u.statusCode||{},T,ha={},Y={},ka,ga,ta,Ca,Ea=0,Da,Qa,ua={readyState:0,setRequestHeader:function(B,F){if(!Ea){var U=B.toLowerCase();B=Y[U]=Y[U]||B;ha[B]=F}return this},getAllResponseHeaders:function(){return Ea===2?ka:null},getResponseHeader:function(B){var F;if(Ea===2){if(!ga)for(ga={};F=fc.exec(ka);)ga[F[1].toLowerCase()]=
F[2];F=ga[B.toLowerCase()]}return F===d?null:F},overrideMimeType:function(B){if(!Ea)u.mimeType=B;return this},abort:function(B){B=B||"abort";ta&&ta.abort(B);r(0,B);return this}};I.promise(ua);ua.success=ua.done;ua.error=ua.fail;ua.complete=L.add;ua.statusCode=function(B){if(B){var F;if(Ea<2)for(F in B)N[F]=[N[F],B[F]];else{F=B[ua.status];ua.then(F,F)}}return this};u.url=((h||u.url)+"").replace(ec,"").replace(ic,Ua[1]+"//");u.dataTypes=p.trim(u.dataType||"*").toLowerCase().split(jb);if(u.crossDomain==
null){h=yb.exec(u.url.toLowerCase());u.crossDomain=!!(h&&(h[1]!=Ua[1]||h[2]!=Ua[2]||(h[3]||(h[1]==="http:"?80:443))!=(Ua[3]||(Ua[1]==="http:"?80:443))))}if(u.data&&u.processData&&typeof u.data!=="string")u.data=p.param(u.data,u.traditional);ea(bb,u,l,ua);if(Ea===2)return false;Da=u.global;u.type=u.type.toUpperCase();u.hasContent=!hc.test(u.type);Da&&p.active++===0&&p.event.trigger("ajaxStart");if(!u.hasContent){if(u.data){u.url+=(xb.test(u.url)?"&":"?")+u.data;delete u.data}T=u.url;if(u.cache===false){h=
p.now();var Pa=u.url.replace(lc,"$1_="+h);u.url=Pa+(Pa===u.url?(xb.test(u.url)?"&":"?")+"_="+h:"")}}if(u.data&&u.hasContent&&u.contentType!==false||l.contentType)ua.setRequestHeader("Content-Type",u.contentType);if(u.ifModified){T=T||u.url;p.lastModified[T]&&ua.setRequestHeader("If-Modified-Since",p.lastModified[T]);p.etag[T]&&ua.setRequestHeader("If-None-Match",p.etag[T])}ua.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+Bb+
"; q=0.01":""):u.accepts["*"]);for(Qa in u.headers)ua.setRequestHeader(Qa,u.headers[Qa]);if(u.beforeSend&&(u.beforeSend.call(x,ua,u)===false||Ea===2)){ua.abort();return false}for(Qa in{success:1,error:1,complete:1})ua[Qa](u[Qa]);if(ta=ea(Ab,u,l,ua)){ua.readyState=1;Da&&A.trigger("ajaxSend",[ua,u]);if(u.async&&u.timeout>0)Ca=setTimeout(function(){ua.abort("timeout")},u.timeout);try{Ea=1;ta.send(ha,r)}catch(Na){if(Ea<2)r(-1,Na);else throw Na;}}else r(-1,"No Transport");return ua},param:function(h,l){var r=
[],u=function(A,I){I=p.isFunction(I)?I():I;r[r.length]=encodeURIComponent(A)+"="+encodeURIComponent(I)};if(l===d)l=p.ajaxSettings.traditional;if(p.isArray(h)||h.jquery&&!p.isPlainObject(h))p.each(h,function(){u(this.name,this.value)});else for(var x in h)P(x,h[x],l,u);return r.join("&").replace(dc,"+")}});p.extend({active:0,lastModified:{},etag:{}});var mc=p.now(),$a=/(\=)\?(&|$)|\?\?/i;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return p.expando+"_"+mc++}});p.ajaxPrefilter("json jsonp",
function(h,l,r){l=h.contentType==="application/x-www-form-urlencoded"&&typeof h.data==="string";if(h.dataTypes[0]==="jsonp"||h.jsonp!==false&&($a.test(h.url)||l&&$a.test(h.data))){var u,x=h.jsonpCallback=p.isFunction(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,A=f[x],I=h.url,L=h.data,N="$1"+x+"$2";if(h.jsonp!==false){I=I.replace($a,N);if(h.url===I){if(l)L=L.replace($a,N);if(h.data===L)I+=(/\?/.test(I)?"&":"?")+h.jsonp+"="+x}}h.url=I;h.data=L;f[x]=function(T){u=[T]};r.always(function(){f[x]=
A;u&&p.isFunction(A)&&f[x](u[0])});h.converters["script json"]=function(){u||p.error(x+" was not called");return u[0]};h.dataTypes[0]="json";return"script"}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(h){p.globalEval(h);return h}}});p.ajaxPrefilter("script",function(h){if(h.cache===d)h.cache=false;if(h.crossDomain){h.type="GET";h.global=false}});
p.ajaxTransport("script",function(h){if(h.crossDomain){var l,r=D.head||D.getElementsByTagName("head")[0]||D.documentElement;return{send:function(u,x){l=D.createElement("script");l.async="async";if(h.scriptCharset)l.charset=h.scriptCharset;l.src=h.url;l.onload=l.onreadystatechange=function(A,I){if(I||!l.readyState||/loaded|complete/.test(l.readyState)){l.onload=l.onreadystatechange=null;r&&l.parentNode&&r.removeChild(l);l=d;I||x(200,"success")}};r.insertBefore(l,r.firstChild)},abort:function(){l&&
l.onload(0,1)}}}});var gb=f.ActiveXObject?function(){for(var h in Xa)Xa[h](0,1)}:false,nc=0,Xa;p.ajaxSettings.xhr=f.ActiveXObject?function(){return!this.isLocal&&ba()||oa()}:ba;(function(h){p.extend(p.support,{ajax:!!h,cors:!!h&&"withCredentials"in h})})(p.ajaxSettings.xhr());p.support.ajax&&p.ajaxTransport(function(h){if(!h.crossDomain||p.support.cors){var l;return{send:function(r,u){var x=h.xhr(),A,I;h.username?x.open(h.type,h.url,h.async,h.username,h.password):x.open(h.type,h.url,h.async);if(h.xhrFields)for(I in h.xhrFields)x[I]=
h.xhrFields[I];h.mimeType&&x.overrideMimeType&&x.overrideMimeType(h.mimeType);if(!h.crossDomain&&!r["X-Requested-With"])r["X-Requested-With"]="XMLHttpRequest";try{for(I in r)x.setRequestHeader(I,r[I])}catch(L){}x.send(h.hasContent&&h.data||null);l=function(N,T){var ha,Y,ka,ga,ta;try{if(l&&(T||x.readyState===4)){l=d;if(A){x.onreadystatechange=p.noop;gb&&delete Xa[A]}if(T)x.readyState!==4&&x.abort();else{ha=x.status;ka=x.getAllResponseHeaders();ga={};if((ta=x.responseXML)&&ta.documentElement)ga.xml=
ta;ga.text=x.responseText;try{Y=x.statusText}catch(Ca){Y=""}if(!ha&&h.isLocal&&!h.crossDomain)ha=ga.text?200:404;else if(ha===1223)ha=204}}}catch(Ea){T||u(-1,Ea)}ga&&u(ha,Y,ga,ka)};if(!h.async||x.readyState===4)l();else{A=++nc;if(gb){if(!Xa){Xa={};p(f).unload(gb)}Xa[A]=l}x.onreadystatechange=l}},abort:function(){l&&l(0,1)}}}});var cb={},Oa,Wa,oc=/^(?:toggle|show|hide)$/,pc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ab,kb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft",
"marginRight","paddingLeft","paddingRight"],["opacity"]],Za;p.fn.extend({show:function(h,l,r){if(h||h===0)return this.animate(v("show",3),h,l,r);else{r=0;for(var u=this.length;r<u;r++){h=this[r];if(h.style){l=h.style.display;if(!p._data(h,"olddisplay")&&l==="none")l=h.style.display="";l===""&&p.css(h,"display")==="none"&&p._data(h,"olddisplay",t(h.nodeName))}}for(r=0;r<u;r++){h=this[r];if(h.style){l=h.style.display;if(l===""||l==="none")h.style.display=p._data(h,"olddisplay")||""}}return this}},hide:function(h,
l,r){if(h||h===0)return this.animate(v("hide",3),h,l,r);else{r=0;for(var u=this.length;r<u;r++){h=this[r];if(h.style){l=p.css(h,"display");l!=="none"&&!p._data(h,"olddisplay")&&p._data(h,"olddisplay",l)}}for(r=0;r<u;r++)if(this[r].style)this[r].style.display="none";return this}},_toggle:p.fn.toggle,toggle:function(h,l,r){var u=typeof h==="boolean";if(p.isFunction(h)&&p.isFunction(l))this._toggle.apply(this,arguments);else h==null||u?this.each(function(){var x=u?h:p(this).is(":hidden");p(this)[x?"show":
"hide"]()}):this.animate(v("toggle",3),h,l,r);return this},fadeTo:function(h,l,r,u){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:l},h,r,u)},animate:function(h,l,r,u){function x(){A.queue===false&&p._mark(this);var I=p.extend({},A),L=this.nodeType===1,N=L&&p(this).is(":hidden"),T,ha,Y,ka,ga;I.animatedProperties={};for(Y in h){T=p.camelCase(Y);if(Y!==T){h[T]=h[Y];delete h[Y]}ha=h[T];if(p.isArray(ha)){I.animatedProperties[T]=ha[1];ha=h[T]=ha[0]}else I.animatedProperties[T]=
I.specialEasing&&I.specialEasing[T]||I.easing||"swing";if(ha==="hide"&&N||ha==="show"&&!N)return I.complete.call(this);if(L&&(T==="height"||T==="width")){I.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(p.css(this,"display")==="inline"&&p.css(this,"float")==="none")if(!p.support.inlineBlockNeedsLayout||t(this.nodeName)==="inline")this.style.display="inline-block";else this.style.zoom=1}}if(I.overflow!=null)this.style.overflow="hidden";for(Y in h){L=new p.fx(this,I,Y);
ha=h[Y];if(oc.test(ha))if(T=p._data(this,"toggle"+Y)||(ha==="toggle"?N?"show":"hide":0)){p._data(this,"toggle"+Y,T==="show"?"hide":"show");L[T]()}else L[ha]();else{T=pc.exec(ha);ka=L.cur();if(T){ha=parseFloat(T[2]);ga=T[3]||(p.cssNumber[Y]?"":"px");if(ga!=="px"){p.style(this,Y,(ha||1)+ga);ka=(ha||1)/L.cur()*ka;p.style(this,Y,ka+ga)}if(T[1])ha=(T[1]==="-="?-1:1)*ha+ka;L.custom(ka,ha,ga)}else L.custom(ka,ha,"")}}return true}var A=p.speed(l,r,u);if(p.isEmptyObject(h))return this.each(A.complete,[false]);
h=p.extend({},h);return A.queue===false?this.each(x):this.queue(A.queue,x)},stop:function(h,l,r){if(typeof h!=="string"){r=l;l=h;h=d}if(l&&h!==false)this.queue(h||"fx",[]);return this.each(function(){function u(N,T,ha){T=T[ha];p.removeData(N,ha,true);T.stop(r)}var x,A=false,I=p.timers,L=p._data(this);r||p._unmark(true,this);if(h==null)for(x in L)L[x]&&L[x].stop&&x.indexOf(".run")===x.length-4&&u(this,L,x);else if(L[x=h+".run"]&&L[x].stop)u(this,L,x);for(x=I.length;x--;)if(I[x].elem===this&&(h==null||
I[x].queue===h)){r?I[x](true):I[x].saveState();A=true;I.splice(x,1)}r&&A||p.dequeue(this,h)})}});p.each({slideDown:v("show",1),slideUp:v("hide",1),slideToggle:v("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(h,l){p.fn[h]=function(r,u,x){return this.animate(l,r,u,x)}});p.extend({speed:function(h,l,r){var u=h&&typeof h==="object"?p.extend({},h):{complete:r||!r&&l||p.isFunction(h)&&h,duration:h,easing:r&&l||l&&!p.isFunction(l)&&l};u.duration=p.fx.off?
0:typeof u.duration==="number"?u.duration:u.duration in p.fx.speeds?p.fx.speeds[u.duration]:p.fx.speeds._default;if(u.queue==null||u.queue===true)u.queue="fx";u.old=u.complete;u.complete=function(x){p.isFunction(u.old)&&u.old.call(this);if(u.queue)p.dequeue(this,u.queue);else x!==false&&p._unmark(this)};return u},easing:{linear:function(h,l,r,u){return r+u*h},swing:function(h,l,r,u){return(-Math.cos(h*Math.PI)/2+0.5)*u+r}},timers:[],fx:function(h,l,r){this.options=l;this.elem=h;this.prop=r;l.orig=
l.orig||{}}});p.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(p.fx.step[this.prop]||p.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var h,l=p.css(this.elem,this.prop);return isNaN(h=parseFloat(l))?!l||l==="auto"?0:l:h},custom:function(h,l,r){function u(I){return x.step(I)}var x=this,A=p.fx;this.startTime=Za||pa();this.end=l;this.now=this.start=
h;this.pos=this.state=0;this.unit=r||this.unit||(p.cssNumber[this.prop]?"":"px");u.queue=this.options.queue;u.elem=this.elem;u.saveState=function(){x.options.hide&&p._data(x.elem,"fxshow"+x.prop)===d&&p._data(x.elem,"fxshow"+x.prop,x.start)};if(u()&&p.timers.push(u)&&!ab)ab=setInterval(A.tick,A.interval)},show:function(){var h=p._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=h||p.style(this.elem,this.prop);this.options.show=true;h!==d?this.custom(this.cur(),h):this.custom(this.prop===
"width"||this.prop==="height"?1:0,this.cur());p(this.elem).show()},hide:function(){this.options.orig[this.prop]=p._data(this.elem,"fxshow"+this.prop)||p.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(h){var l,r=Za||pa(),u=true,x=this.elem,A=this.options;if(h||r>=A.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();A.animatedProperties[this.prop]=true;for(l in A.animatedProperties)if(A.animatedProperties[l]!==true)u=false;if(u){A.overflow!=
null&&!p.support.shrinkWrapBlocks&&p.each(["","X","Y"],function(I,L){x.style["overflow"+L]=A.overflow[I]});A.hide&&p(x).hide();if(A.hide||A.show)for(l in A.animatedProperties){p.style(x,l,A.orig[l]);p.removeData(x,"fxshow"+l,true);p.removeData(x,"toggle"+l,true)}if(h=A.complete){A.complete=false;h.call(x)}}return false}else{if(A.duration==Infinity)this.now=r;else{h=r-this.startTime;this.state=h/A.duration;this.pos=p.easing[A.animatedProperties[this.prop]](this.state,h,0,1,A.duration);this.now=this.start+
(this.end-this.start)*this.pos}this.update()}return true}};p.extend(p.fx,{tick:function(){for(var h,l=p.timers,r=0;r<l.length;r++){h=l[r];!h()&&l[r]===h&&l.splice(r--,1)}l.length||p.fx.stop()},interval:13,stop:function(){clearInterval(ab);ab=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(h){p.style(h.elem,"opacity",h.now)},_default:function(h){if(h.elem.style&&h.elem.style[h.prop]!=null)h.elem.style[h.prop]=h.now+h.unit;else h.elem[h.prop]=h.now}}});p.each(["width","height"],
function(h,l){p.fx.step[l]=function(r){p.style(r.elem,l,Math.max(0,r.now)+r.unit)}});if(p.expr&&p.expr.filters)p.expr.filters.animated=function(h){return p.grep(p.timers,function(l){return h===l.elem}).length};var qc=/^t(?:able|d|h)$/i,Cb=/^(?:body|html)$/i;p.fn.offset="getBoundingClientRect"in D.documentElement?function(h){var l=this[0],r;if(h)return this.each(function(I){p.offset.setOffset(this,h,I)});if(!l||!l.ownerDocument)return null;if(l===l.ownerDocument.body)return p.offset.bodyOffset(l);
try{r=l.getBoundingClientRect()}catch(u){}var x=l.ownerDocument,A=x.documentElement;if(!r||!p.contains(A,l))return r?{top:r.top,left:r.left}:{top:0,left:0};l=x.body;x=G(x);return{top:r.top+(x.pageYOffset||p.support.boxModel&&A.scrollTop||l.scrollTop)-(A.clientTop||l.clientTop||0),left:r.left+(x.pageXOffset||p.support.boxModel&&A.scrollLeft||l.scrollLeft)-(A.clientLeft||l.clientLeft||0)}}:function(h){var l=this[0];if(h)return this.each(function(ha){p.offset.setOffset(this,h,ha)});if(!l||!l.ownerDocument)return null;
if(l===l.ownerDocument.body)return p.offset.bodyOffset(l);var r,u=l.offsetParent,x=l,A=l.ownerDocument,I=A.documentElement,L=A.body;r=(A=A.defaultView)?A.getComputedStyle(l,null):l.currentStyle;for(var N=l.offsetTop,T=l.offsetLeft;(l=l.parentNode)&&l!==L&&l!==I;){if(p.support.fixedPosition&&r.position==="fixed")break;r=A?A.getComputedStyle(l,null):l.currentStyle;N-=l.scrollTop;T-=l.scrollLeft;if(l===u){N+=l.offsetTop;T+=l.offsetLeft;if(p.support.doesNotAddBorder&&!(p.support.doesAddBorderForTableAndCells&&
qc.test(l.nodeName))){N+=parseFloat(r.borderTopWidth)||0;T+=parseFloat(r.borderLeftWidth)||0}x=u;u=l.offsetParent}if(p.support.subtractsBorderForOverflowNotVisible&&r.overflow!=="visible"){N+=parseFloat(r.borderTopWidth)||0;T+=parseFloat(r.borderLeftWidth)||0}r=r}if(r.position==="relative"||r.position==="static"){N+=L.offsetTop;T+=L.offsetLeft}if(p.support.fixedPosition&&r.position==="fixed"){N+=Math.max(I.scrollTop,L.scrollTop);T+=Math.max(I.scrollLeft,L.scrollLeft)}return{top:N,left:T}};p.offset=
{bodyOffset:function(h){var l=h.offsetTop,r=h.offsetLeft;if(p.support.doesNotIncludeMarginInBodyOffset){l+=parseFloat(p.css(h,"marginTop"))||0;r+=parseFloat(p.css(h,"marginLeft"))||0}return{top:l,left:r}},setOffset:function(h,l,r){var u=p.css(h,"position");if(u==="static")h.style.position="relative";var x=p(h),A=x.offset(),I=p.css(h,"top"),L=p.css(h,"left"),N={},T={};if((u==="absolute"||u==="fixed")&&p.inArray("auto",[I,L])>-1){T=x.position();u=T.top;L=T.left}else{u=parseFloat(I)||0;L=parseFloat(L)||
0}if(p.isFunction(l))l=l.call(h,r,A);if(l.top!=null)N.top=l.top-A.top+u;if(l.left!=null)N.left=l.left-A.left+L;"using"in l?l.using.call(h,N):x.css(N)}};p.fn.extend({position:function(){if(!this[0])return null;var h=this[0],l=this.offsetParent(),r=this.offset(),u=Cb.test(l[0].nodeName)?{top:0,left:0}:l.offset();r.top-=parseFloat(p.css(h,"marginTop"))||0;r.left-=parseFloat(p.css(h,"marginLeft"))||0;u.top+=parseFloat(p.css(l[0],"borderTopWidth"))||0;u.left+=parseFloat(p.css(l[0],"borderLeftWidth"))||
0;return{top:r.top-u.top,left:r.left-u.left}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent||D.body;h&&!Cb.test(h.nodeName)&&p.css(h,"position")==="static";)h=h.offsetParent;return h})}});p.each(["Left","Top"],function(h,l){var r="scroll"+l;p.fn[r]=function(u){var x,A;if(u===d){x=this[0];if(!x)return null;return(A=G(x))?"pageXOffset"in A?A[h?"pageYOffset":"pageXOffset"]:p.support.boxModel&&A.document.documentElement[r]||A.document.body[r]:x[r]}return this.each(function(){if(A=
G(this))A.scrollTo(!h?u:p(A).scrollLeft(),h?u:p(A).scrollTop());else this[r]=u})}});p.each(["Height","Width"],function(h,l){var r=l.toLowerCase();p.fn["inner"+l]=function(){var u=this[0];return u?u.style?parseFloat(p.css(u,r,"padding")):this[r]():null};p.fn["outer"+l]=function(u){var x=this[0];return x?x.style?parseFloat(p.css(x,r,u?"margin":"border")):this[r]():null};p.fn[r]=function(u){var x=this[0];if(!x)return u==null?null:this;if(p.isFunction(u))return this.each(function(L){var N=p(this);N[r](u.call(this,
L,N[r]()))});if(p.isWindow(x)){var A=x.document.documentElement["client"+l],I=x.document.body;return x.document.compatMode==="CSS1Compat"&&A||I&&I["client"+l]||A}else if(x.nodeType===9)return Math.max(x.documentElement["client"+l],x.body["scroll"+l],x.documentElement["scroll"+l],x.body["offset"+l],x.documentElement["offset"+l]);else if(u===d){x=p.css(x,r);A=parseFloat(x);return p.isNumeric(A)?A:x}else return this.css(r,typeof u==="string"?u:u+"px")}});f.jQuery=f.$=p;typeof define==="function"&&define.amd&&
define.amd.jQuery&&define("jquery",[],function(){return p})})(window);steal.loaded("jquery/jquery.js");window.Storage=window.localStorage;var storage=function(){try{localStorage.setItem("testLocalStorage","testLocalStorage");return true}catch(f){return false}}();
storage||function(){var f=function(d){function e(q,o,s){var w;if(s){w=new Date;w.setTime(w.getTime()+s*24*60*60*1E3);s="; expires="+w.toGMTString()}else s="";document.cookie=q+"="+o+s+"; path=/"}function a(q){q=q+"=";var o=document.cookie.split(";"),s,w;for(s=0;s<o.length;s++){for(w=o[s];w.charAt(0)==" ";)w=w.substring(1,w.length);if(w.indexOf(q)==0)return w.substring(q.length,w.length)}return null}function c(q){q=JSON.stringify(q);if(d=="session")window.name=q;else e("localStorage",q,365)}function k(){if(d==
"session")window.name="";else e("localStorage","",365)}function n(){var q=d=="session"?window.name:a("localStorage");return q?JSON.parse(q):{}}var j=n();return{length:0,clear:function(){j={};this.length=0;k()},getItem:function(q){return j[q]===undefined?null:j[q]},key:function(q){var o=0;for(var s in j)if(o==q)return s;else o++;return null},removeItem:function(q){delete j[q];this.length--;c(j)},setItem:function(q,o){j[q]=o+"";this.length++;c(j)}}};window.Storage=new f("local");window.sessionStorage=
new f("session")}();
(function(){if(!("JSON"in window&&JSON.stringify&&JSON.parse)){if(!this.JSON)this.JSON={};(function(){function f(o){return o<10?"0"+o:o}function d(o){c.lastIndex=0;return c.test(o)?'"'+o.replace(c,function(s){var w=j[s];return typeof w==="string"?w:"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function e(o,s){var w,z,C=k,E,y=s[o];if(y&&typeof y==="object"&&typeof y.toJSON==="function")y=y.toJSON(o);if(typeof q==="function")y=q.call(s,o,y);switch(typeof y){case "string":return d(y);case "number":return isFinite(y)?
String(y):"null";case "boolean":case "null":return String(y);case "object":if(!y)return"null";k+=n;E=[];if(Object.prototype.toString.apply(y)==="[object Array]"){z=y.length;for(o=0;o<z;o+=1)E[o]=e(o,y)||"null";s=E.length===0?"[]":k?"[\n"+k+E.join(",\n"+k)+"\n"+C+"]":"["+E.join(",")+"]";k=C;return s}if(q&&typeof q==="object"){z=q.length;for(o=0;o<z;o+=1){w=q[o];if(typeof w==="string")if(s=e(w,y))E.push(d(w)+(k?": ":":")+s)}}else for(w in y)if(Object.hasOwnProperty.call(y,w))if(s=e(w,y))E.push(d(w)+
(k?": ":":")+s);s=E.length===0?"{}":k?"{\n"+k+E.join(",\n"+k)+"\n"+C+"}":"{"+E.join(",")+"}";k=C;return s}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,n,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof JSON.stringify!=="function")JSON.stringify=function(o,s,w){var z;n=k="";if(typeof w==="number")for(z=0;z<w;z+=1)n+=" ";else if(typeof w==="string")n=w;if((q=s)&&typeof s!=="function"&&(typeof s!=="object"||typeof s.length!=="number"))throw new Error("JSON.stringify");return e("",
{"":o})};if(typeof JSON.parse!=="function")JSON.parse=function(o,s){function w(z,C){var E,y,H=z[C];if(H&&typeof H==="object")for(E in H)if(Object.hasOwnProperty.call(H,E)){y=w(H,E);if(y!==undefined)H[E]=y;else delete H[E]}return s.call(z,C,H)}o=String(o);a.lastIndex=0;if(a.test(o))o=o.replace(a,function(z){return"\\u"+("0000"+z.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){o=eval("("+o+")");return typeof s==="function"?w({"":o},""):o}throw new SyntaxError("JSON.parse");}})()}})();function empty(f){if(!f)return false;var d;for(d=f.childNodes.length-1;d>=0;d--)f.removeChild(f.childNodes[d])}$.extend({linkUrl:function(f){if(f)return f.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1" target="_blank">$1</a>')}});
$.extend({URLEncode:function(f){if(!f)return false;var d="",e=0;f=f.toString();for(var a=/(^[a-zA-Z0-9_.]*)/;e<f.length;){var c=a.exec(f.substr(e));if(c!=null&&c.length>1&&c[1]!=""){d+=c[1];e+=c[1].length}else{if(f[e]==" ")d+="+";else{c=f.charCodeAt(e).toString(16);d+="%"+(c.length<2?"0":"")+c.toUpperCase()}e++}}return d},URLDecode:function(f){f=f;for(var d,e=/(%[^%]{2})/;(m=e.exec(f))!=null&&m.length>1&&m[1]!="";){b=parseInt(m[1].substr(1),16);d=String.fromCharCode(b);f=f.replace(m[1],d)}return f}});
$.extend({encode64:function(f){var d="",e,a,c,k,n,j,q=0;for(f=function(o){o=o.replace(/\r\n/g,"\n");for(var s="",w=0;w<o.length;w++){var z=o.charCodeAt(w);if(z<128)s+=String.fromCharCode(z);else{if(z>127&&z<2048)s+=String.fromCharCode(z>>6|192);else{s+=String.fromCharCode(z>>12|224);s+=String.fromCharCode(z>>6&63|128)}s+=String.fromCharCode(z&63|128)}}return s}(f);q<f.length;){e=f.charCodeAt(q++);a=f.charCodeAt(q++);c=f.charCodeAt(q++);k=e>>2;e=(e&3)<<4|a>>4;n=(a&15)<<2|c>>6;j=c&63;if(isNaN(a))n=
j=64;else if(isNaN(c))j=64;d=d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)}return d}});
$.fn.serializeObject=function(){var f={},d=this.serializeArray();$.each(d,function(){if(f[this.name]!==undefined){f[this.name].push||(f[this.name]=[f[this.name]]);f[this.name].push(this.value||"")}else f[this.name]=this.value||""});return f};steal.loaded("webapp/core/utils.js");
var WebService={connectError:"<strong>Could not connect to FastND web service. </strong><br>Please try again in a few minutes. <br> Sorry for the delay in accessing our service. If the problem persists, please contact us.",auth:function(f){$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/user_sessions.json",type:"POST",data:{user_session:{login:f.username,password:f.password}},success:function(d){f.complete&&f.complete(d)},error:function(){$().toastmessage("showErrorToast","<strong>Invalid Username or Password</strong><br /> Please try again. ")},
complete:function(){$.mobile.hidePageLoadingMsg()}})},focus:function(f){var d=function(e,a){e=e.title.toLowerCase();a=a.title.toLowerCase();if(e<a)return-1;if(e>a)return 1;return 0};$.ajax({url:finforeBaseUrl+"/category_focus.json",type:"GET",success:function(e){e[0].profiles.sort(d);e[1].profiles.sort(d);e[2].profiles.sort(d);f.complete&&f.complete(e)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"});Loader.hide()}})},updateUser:function(f){Loader.show();
$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:f.data},success:function(d){finfore.data.user=d;finfore.storeData({user:d});f.complete&&f.complete(d)},error:function(){$().toastmessage("showToast",{text:"There was a problem updating your profile. Please try again later. ",type:"error",sticky:true})},complete:function(){Loader.hide()}})},refreshUser:function(f){Loader.show();$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"GET",success:function(d){finfore.data.user=
d;finfore.storeData({user:d});f.complete&&f.complete(d)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"})},complete:function(){Loader.hide()}})},updateCompanies:function(f){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:{user_company_tabs_attributes:f.userCompanyTabs}},success:function(){f.complete&&f.complete()}})},updateColumns:function(f){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+
".json",type:"PUT",data:{user:{feed_accounts_attributes:f.columns}},success:function(){f.complete&&f.complete()}})},getColumn:function(){},getCompanies:function(f){f||(f={});$.ajax({url:finforeBaseUrl+"/feed_infos.json",type:"GET",data:{category:"all_companies"},success:function(d){f.success&&f.success(d)}})}},Loader={$body:$("body"),show:function(){this.$body.addClass("ui-loading")},hide:function(){this.$body.removeClass("ui-loading")}},feedReader={},callbackCounter=-1;
feedReader.get=function(f){var d="select channel.title, channel.item.title, channel.item.link, channel.item.enclosure, channel.item.description, channel.item.date, channel.item.pubDate from xml where url in(";$.each(f.sources,function(k,n){if(k!==0)d+=",";d+='"'+n+'"'});d+=') | unique(field="channel.item.link") | sort(field="channel.item.date", descending="true") | sort(field="channel.item.pubDate", descending="true")  | truncate(count='+f.limit+")";var e="feedReaderCallback";if(f.callbackId)e+=f.callbackId;
else{callbackCounter++;e+=callbackCounter}window[e]=function(k){feedReaderCallback(k,f);delete window[e]};var a="http://query.yahooapis.com/v1/public/yql?q="+$.URLEncode(d)+"&format=json&diagnostics=false&_maxage=300&callback="+e;if((finfore.smallScreen||touchSupport)&&!f.podcast)a=finforeAppUrl+"mobileProxy.php?url="+$.URLEncode(a)+"&mode=native&user_agent="+$.URLEncode("Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20100101 Firefox/12.0");var c=document.createElement("script");c.type="text/javascript";
c.src=a;document.body.appendChild(c)};
function feedReaderCallback(f,d){var e=[],a="";if(f.query&&f.query.results&&f.query.results.rss){if(!$.isArray(f.query.results.rss))f.query.results.rss=[f.query.results.rss];e=$.map(f.query.results.rss,function(c){if(!c.channel.item)return null;if(c.channel.item.description)a=c.channel.item.description.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";else if(c.channel.item.summary)a=c.channel.item.summary.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";try{return{title:c.channel.item.title.replace(/(<([^>]+)>)/ig,""),
link:c.channel.item.link,description:a,pubDate:c.channel.item.pubDate?new Date(c.channel.item.pubDate):new Date(c.channel.item.date),source:c.channel.title,enclosure:c.channel.item.enclosure}}catch(k){return null}})}d.complete(e)}steal.loaded("webapp/core/api.js");
(function(f,d,e){typeof define==="function"&&define.amd?define(["jquery"],function(a){e(a,f,d);return a.mobile}):e(f.jQuery,f,d)})(this,document,function(f,d,e){(function(a,c,k,n){function j(ja){for(;ja&&typeof ja.originalEvent!=="undefined";)ja=ja.originalEvent;return ja}function q(ja,qa){var sa=ja.type,za,Ha,Ja;ja=a.Event(ja);ja.type=qa;za=ja.originalEvent;Ha=a.event.props;if(sa.search(/^(mouse|click)/)>-1)Ha=K;if(za)for(Ja=Ha.length;Ja;){qa=Ha[--Ja];ja[qa]=za[qa]}if(sa.search(/mouse(down|up)|click/)>
-1&&!ja.which)ja.which=1;if(sa.search(/^touch/)!==-1){qa=j(za);sa=qa.touches;qa=qa.changedTouches;if(sa=sa&&sa.length?sa[0]:qa&&qa.length?qa[0]:n){za=0;for(len=pa.length;za<len;za++){qa=pa[za];ja[qa]=sa[qa]}}}return ja}function o(ja){for(var qa={},sa,za;ja;){sa=a.data(ja,ba);for(za in sa)if(sa[za])qa[za]=qa.hasVirtualBinding=true;ja=ja.parentNode}return qa}function s(ja,qa){for(var sa;ja;){if((sa=a.data(ja,ba))&&(!qa||sa[qa]))return ja;ja=ja.parentNode}return null}function w(){ra=false}function z(){ra=
true}function C(){Ia=0;aa.length=0;p=false;z()}function E(){w()}function y(){H();t=setTimeout(function(){t=0;C()},a.vmouse.resetTimerDuration)}function H(){if(t){clearTimeout(t);t=0}}function J(ja,qa,sa){var za;if(sa&&sa[ja]||!sa&&s(qa.target,ja)){za=q(qa,ja);a(qa.target).trigger(za)}return za}function M(ja){var qa=a.data(ja.target,oa);if(!p&&(!Ia||Ia!==qa))if(qa=J("v"+ja.type,ja)){qa.isDefaultPrevented()&&ja.preventDefault();qa.isPropagationStopped()&&ja.stopPropagation();qa.isImmediatePropagationStopped()&&
ja.stopImmediatePropagation()}}function Q(ja){var qa=j(ja).touches,sa;if(qa&&qa.length===1){sa=ja.target;qa=o(sa);if(qa.hasVirtualBinding){Ia=Ba++;a.data(sa,oa,Ia);H();E();V=false;sa=j(ja).touches[0];G=sa.pageX;D=sa.pageY;J("vmouseover",ja,qa);J("vmousedown",ja,qa)}}}function R(ja){if(!ra){V||J("vmousecancel",ja,o(ja.target));V=true;y()}}function ea(ja){if(!ra){var qa=j(ja).touches[0],sa=V,za=a.vmouse.moveDistanceThreshold;V=V||Math.abs(qa.pageX-G)>za||Math.abs(qa.pageY-D)>za;flags=o(ja.target);V&&
!sa&&J("vmousecancel",ja,flags);J("vmousemove",ja,flags);y()}}function W(ja){if(!ra){z();var qa=o(ja.target),sa;J("vmouseup",ja,qa);if(!V)if((sa=J("vclick",ja,qa))&&sa.isDefaultPrevented()){sa=j(ja).changedTouches[0];aa.push({touchID:Ia,x:sa.clientX,y:sa.clientY});p=true}J("vmouseout",ja,qa);V=false;y()}}function P(ja){ja=a.data(ja,ba);var qa;if(ja)for(qa in ja)if(ja[qa])return true;return false}function S(){}function da(ja){var qa=ja.substr(1);return{setup:function(){P(this)||a.data(this,ba,{});
a.data(this,ba)[ja]=true;v[ja]=(v[ja]||0)+1;v[ja]===1&&Aa.bind(qa,M);a(this).bind(qa,S);if(va){v.touchstart=(v.touchstart||0)+1;v.touchstart===1&&Aa.bind("touchstart",Q).bind("touchend",W).bind("touchmove",ea).bind("scroll",R)}},teardown:function(){--v[ja];v[ja]||Aa.unbind(qa,M);if(va){--v.touchstart;v.touchstart||Aa.unbind("touchstart",Q).unbind("touchmove",ea).unbind("touchend",W).unbind("scroll",R)}var sa=a(this),za=a.data(this,ba);if(za)za[ja]=false;sa.unbind(qa,S);P(this)||sa.removeData(ba)}}}
var ba="virtualMouseBindings",oa="virtualTouchID";c="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var pa="clientX clientY pageX pageY screenX screenY".split(" "),K=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:[]),v={},t=0,G=0,D=0,V=false,aa=[],p=false,ra=false,va="addEventListener"in k,Aa=a(k),Ba=1,Ia=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var La=0;La<c.length;La++)a.event.special[c[La]]=
da(c[La]);va&&k.addEventListener("click",function(ja){var qa=aa.length,sa=ja.target,za,Ha,Ja,Ka,Ra;if(qa){za=ja.clientX;Ha=ja.clientY;threshold=a.vmouse.clickDistanceThreshold;for(Ja=sa;Ja;){for(Ka=0;Ka<qa;Ka++){Ra=aa[Ka];if(Ja===sa&&Math.abs(Ra.x-za)<threshold&&Math.abs(Ra.y-Ha)<threshold||a.data(Ja,oa)===Ra.touchID){ja.preventDefault();ja.stopPropagation();return}}Ja=Ja.parentNode}}},true)})(jQuery,d,e);(function(a,c,k){function n(C){C=C||location.href;return"#"+C.replace(/^[^#]*#?(.*)$/,"$1")}
var j="hashchange",q=e,o,s=a.event.special,w=q.documentMode,z="on"+j in c&&(w===k||w>7);a.fn[j]=function(C){return C?this.bind(j,C):this.trigger(j)};a.fn[j].delay=50;s[j]=a.extend(s[j],{setup:function(){if(z)return false;a(o.start)},teardown:function(){if(z)return false;a(o.stop)}});o=function(){function C(){var R=n(),ea=Q(H);if(R!==H){M(H=R,ea);a(c).trigger(j)}else if(ea!==H)location.href=location.href.replace(/#.*/,"")+ea;y=setTimeout(C,a.fn[j].delay)}var E={},y,H=n(),J=function(R){return R},M=
J,Q=J;E.start=function(){y||C()};E.stop=function(){y&&clearTimeout(y);y=k};a.browser.msie&&!z&&function(){var R,ea;E.start=function(){if(!R){ea=(ea=a.fn[j].src)&&ea+n();R=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){ea||M(n());C()}).attr("src",ea||"javascript:0").insertAfter("body")[0].contentWindow;q.onpropertychange=function(){try{if(event.propertyName==="title")R.document.title=q.title}catch(W){}}}};E.stop=J;Q=function(){return n(R.location.href)};M=function(W,P){var S=
R.document,da=a.fn[j].domain;if(W!==P){S.title=q.title;S.open();da&&S.write('<script>document.domain="'+da+'"<\/script>');S.close();R.location.hash=W}}}();return E}()})(jQuery,this);(function(a,c){if(a.cleanData){var k=a.cleanData;a.cleanData=function(j){for(var q=0,o;(o=j[q])!=null;q++)a(o).triggerHandler("remove");k(j)}}else{var n=a.fn.remove;a.fn.remove=function(j,q){return this.each(function(){if(!q)if(!j||a.filter(j,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});
return n.call(a(this),j,q)})}}a.widget=function(j,q,o){var s=j.split(".")[0],w;j=j.split(".")[1];w=s+"-"+j;if(!o){o=q;q=a.Widget}a.expr[":"][w]=function(z){return!!a.data(z,j)};a[s]=a[s]||{};a[s][j]=function(z,C){arguments.length&&this._createWidget(z,C)};q=new q;q.options=a.extend(true,{},q.options);a[s][j].prototype=a.extend(true,q,{namespace:s,widgetName:j,widgetEventPrefix:a[s][j].prototype.widgetEventPrefix||j,widgetBaseClass:w},o);a.widget.bridge(j,a[s][j])};a.widget.bridge=function(j,q){a.fn[j]=
function(o){var s=typeof o==="string",w=Array.prototype.slice.call(arguments,1),z=this;o=!s&&w.length?a.extend.apply(null,[true,o].concat(w)):o;if(s&&o.charAt(0)==="_")return z;s?this.each(function(){var C=a.data(this,j);if(!C)throw"cannot call methods on "+j+" prior to initialization; attempted to call method '"+o+"'";if(!a.isFunction(C[o]))throw"no such method '"+o+"' for "+j+" widget instance";var E=C[o].apply(C,w);if(E!==C&&E!==c){z=E;return false}}):this.each(function(){var C=a.data(this,j);
C?C.option(o||{})._init():a.data(this,j,new q(o,this))});return z}};a.Widget=function(j,q){arguments.length&&this._createWidget(j,q)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(j,q){a.data(q,this.widgetName,this);this.element=a(q);this.options=a.extend(true,{},this.options,this._getCreateOptions(),j);var o=this;this.element.bind("remove."+this.widgetName,function(){o.destroy()});this._create();this._trigger("create");this._init()},
_getCreateOptions:function(){var j={};if(a.metadata)j=a.metadata.get(element)[this.widgetName];return j},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(j,q){var o=j;if(arguments.length===0)return a.extend({},this.options);if(typeof j===
"string"){if(q===c)return this.options[j];o={};o[j]=q}this._setOptions(o);return this},_setOptions:function(j){var q=this;a.each(j,function(o,s){q._setOption(o,s)});return this},_setOption:function(j,q){this.options[j]=q;if(j==="disabled")this.widget()[q?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",q);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(j,
q,o){var s=this.options[j];q=a.Event(q);q.type=(j===this.widgetEventPrefix?j:this.widgetEventPrefix+j).toLowerCase();o=o||{};if(q.originalEvent){j=a.event.props.length;for(var w;j;){w=a.event.props[--j];q[w]=q.originalEvent[w]}}this.element.trigger(q,o);return!(a.isFunction(s)&&s.call(this.element[0],q,o)===false||q.isDefaultPrevented())}}})(jQuery);(function(a,c){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var k=
this.element,n={};a.each(this.options,function(j){var q=k.jqmData(j.replace(/[A-Z]/g,function(o){return"-"+o.toLowerCase()}));if(q!==c)n[j]=q});return n},enhanceWithin:function(k,n){this.enhance(a(this.options.initSelector,a(k)),n)},enhance:function(k,n){k=a(k);k=a.mobile.enhanceable(k);if(n&&k.length){n=(n=a.mobile.closestPageData(k))&&n.keepNativeSelector()||"";k=k.not(n)}k[this.widgetName]()},raise:function(k){throw"Widget ["+this.widgetName+"]: "+k;}})})(jQuery);(function(a,c){var k={};a.mobile=
a.extend({},{version:"1.1.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:false,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",autoInitializePage:true,
pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(q){if(a.type(q)!==
"number")q=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;setTimeout(function(){c.scrollTo(0,q);a(e).trigger("silentscroll",{x:0,y:q})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:k,nsNormalize:function(q){if(q)return k[q]||(k[q]=a.camelCase(a.mobile.ns+q))},getInheritedTheme:function(q,o){q=q[0];for(var s="",w=/ui-(bar|body|overlay)-([a-z])\b/,z,C;q;){z=q.className||"";if((C=w.exec(z))&&(s=C[2]))break;q=q.parentNode}return s||o||
"a"},closestPageData:function(q){return q.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(q){return this.haveParents(q,"enhance")},hijackable:function(q){return this.haveParents(q,"ajax")},haveParents:function(q,o){if(!a.mobile.ignoreContentEnabled)return q;for(var s=q.length,w=a(),z,C,E,y=0;y<s;y++){C=q.eq(y);E=false;for(z=q[y];z;){if((z.getAttribute?z.getAttribute("data-"+a.mobile.ns+o):"")==="false"){E=true;break}z=z.parentNode}E||(w=w.add(C))}return w}},
a.mobile);a.fn.jqmData=function(q,o){var s;if(typeof q!="undefined"){if(q)q=a.mobile.nsNormalize(q);s=this.data.apply(this,arguments.length<2?[q]:[q,o])}return s};a.jqmData=function(q,o,s){var w;if(typeof o!="undefined")w=a.data(q,o?a.mobile.nsNormalize(o):o,s);return w};a.fn.jqmRemoveData=function(q){return this.removeData(a.mobile.nsNormalize(q))};a.jqmRemoveData=function(q,o){return a.removeData(q,a.mobile.nsNormalize(o))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=
function(q){q=a(q);(q.jqmData("dependents")||a()).remove();q.remove()};a.fn.addDependents=function(q){a.addDependents(a(this),q)};a.addDependents=function(q,o){var s=a(q).jqmData("dependents")||a();a(q).jqmData("dependents",a.merge(s,o))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};a.fn.jqmEnhanceable=function(){return a.mobile.enhanceable(this)};a.fn.jqmHijackable=function(){return a.mobile.hijackable(this)};var n=a.find,j=/:jqmData\(([^)]*)\)/g;a.find=function(q,
o,s,w){q=q.replace(j,"[data-"+(a.mobile.ns||"")+"$1]");return n.call(this,q,o,s,w)};a.extend(a.find,n);a.find.matches=function(q,o){return a.find(q,null,null,o)};a.find.matchesSelector=function(q,o){return a.find(o,null,null,[q]).length>0}})(jQuery,this);(function(a){a(d);var c=a("html");a.mobile.media=function(){var k={},n=a("<div id='jquery-mediatest'>"),j=a("<body>").append(n);return function(q){if(!(q in k)){var o=e.createElement("style"),s="@media "+q+" { #jquery-mediatest { position:absolute; } }";
o.type="text/css";if(o.styleSheet)o.styleSheet.cssText=s;else o.appendChild(e.createTextNode(s));c.prepend(j).prepend(o);k[q]=n.css("position")==="absolute";j.add(o).remove()}return k[q]}}()})(jQuery);(function(a,c){function k(y){var H=y.charAt(0).toUpperCase()+y.substr(1);y=(y+" "+w.join(H+" ")+H).split(" ");for(var J in y)if(s[y[J]]!==c)return true}function n(y,H,J){var M=e.createElement("div"),Q=function(P){return P.charAt(0).toUpperCase()+P.substr(1)},R=function(P){return"-"+P.charAt(0).toLowerCase()+
P.substr(1)+"-"},ea=function(P){var S=R(P)+y+": "+H+";";P=Q(P)+Q(y);M.setAttribute("style",S);if(M.style[P])W=true};J=J?[J]:w;var W;for(i=0;i<J.length;i++)ea(J[i]);return!!W}function j(){return n("perspective","10px","moz")||a.mobile.media("(-"+w.join("-transform-3d),(-")+"-transform-3d),(transform-3d)")}function q(){var y=location.protocol+"//"+location.host+location.pathname+"ui-dir/",H=a("head base"),J=null,M="",Q;if(H.length)M=H.attr("href");else H=J=a("<base>",{href:y}).appendTo("head");Q=a("<a href='testurl' />").prependTo(o)[0].href;
H[0].href=M||location.pathname;J&&J.remove();return Q.indexOf(y)===0}var o=a("<body>").prependTo("html"),s=o[0].style,w=["Webkit","Moz","O"],z="palmGetResource"in d,C=d.operamini&&{}.toString.call(d.operamini)==="[object OperaMini]",E=d.blackberry;a.extend(a.mobile,{browser:{}});a.mobile.browser.ie=function(){for(var y=3,H=e.createElement("div"),J=H.all||[];H.innerHTML="<!--[if gt IE "+ ++y+"]><br><![endif]--\>",J[0];);return y>4?y:!y}();a.extend(a.support,{orientation:"orientation"in d&&"onorientationchange"in
d,touch:"ontouchend"in e,cssTransitions:"WebKitTransitionEvent"in d||n("transition","height 100ms linear"),pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!k("content"),touchOverflow:!!k("overflowScrolling"),cssTransform3d:j(),boxShadow:!!k("boxShadow")&&!E,scrollTop:("pageXOffset"in d||"scrollTop"in e.documentElement||"scrollTop"in o[0])&&!z&&!C,dynamicBaseTag:q()});o.remove();z=function(){var y=d.navigator.userAgent;return y.indexOf("Nokia")>
-1&&(y.indexOf("Symbian/3")>-1||y.indexOf("Series60/5")>-1)&&y.indexOf("AppleWebKit")>-1&&y.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=7};a.mobile.ajaxBlacklist=d.blackberry&&!d.WebKitPoint||C||z;z&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);(function(a,
c,k){function n(w,z,C){var E=C.type;C.type=z;a.event.handle.call(w,C);C.type=E}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(w,z){a.fn[z]=function(C){return C?this.bind(z,C):this.trigger(z)};a.attrFn[z]=true});var j=a.support.touch,q=j?"touchstart":"mousedown",o=j?"touchend":"mouseup",s=j?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function w(y,H){C=H;
n(z,C?"scrollstart":"scrollstop",y)}var z=this,C,E;a(z).bind("touchmove scroll",function(y){if(a.event.special.scrollstart.enabled){C||w(y,true);clearTimeout(E);E=setTimeout(function(){w(y,false)},50)}})}};a.event.special.tap={setup:function(){var w=this,z=a(w);z.bind("vmousedown",function(C){function E(){clearTimeout(M)}function y(){E();z.unbind("vclick",H).unbind("vmouseup",E);a(e).unbind("vmousecancel",y)}function H(Q){y();J==Q.target&&n(w,"tap",Q)}if(C.which&&C.which!==1)return false;var J=C.target,
M;z.bind("vmouseup",E).bind("vclick",H);a(e).bind("vmousecancel",y);M=setTimeout(function(){n(w,"taphold",a.Event("taphold",{target:J}))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var w=a(this);w.bind(q,function(z){function C(J){if(y){var M=J.originalEvent.touches?J.originalEvent.touches[0]:J;H={time:(new Date).getTime(),coords:[M.pageX,M.pageY]};Math.abs(y.coords[0]-H.coords[0])>
a.event.special.swipe.scrollSupressionThreshold&&J.preventDefault()}}var E=z.originalEvent.touches?z.originalEvent.touches[0]:z,y={time:(new Date).getTime(),coords:[E.pageX,E.pageY],origin:a(z.target)},H;w.bind(s,C).one(o,function(){w.unbind(s,C);if(y&&H)if(H.time-y.time<a.event.special.swipe.durationThreshold&&Math.abs(y.coords[0]-H.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(y.coords[1]-H.coords[1])<a.event.special.swipe.verticalDistanceThreshold)y.origin.trigger("swipe").trigger(y.coords[0]>
H.coords[0]?"swipeleft":"swiperight");y=H=k})})}};(function(w,z){function C(){var R=y();if(R!==H){H=R;E.trigger("orientationchange")}}var E=w(z),y,H,J,M,Q={"0":true,"180":true};if(w.support.orientation){J=z.innerWidth||w(z).width();M=z.innerHeight||w(z).height();J=J>M&&J-M>50;M=Q[z.orientation];if(J&&M||!J&&!M)Q={"-90":true,"90":true}}w.event.special.orientationchange={setup:function(){if(w.support.orientation&&w.mobile.orientationChangeEnabled)return false;H=y();E.bind("throttledresize",C)},teardown:function(){if(w.support.orientation&&
w.mobile.orientationChangeEnabled)return false;E.unbind("throttledresize",C)},add:function(R){var ea=R.handler;R.handler=function(W){W.orientation=y();return ea.apply(this,arguments)}}};w.event.special.orientationchange.orientation=y=function(){var R=true;R=e.documentElement;return(R=w.support.orientation?Q[z.orientation]:R&&R.clientWidth/R.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,c);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",w)},teardown:function(){a(this).unbind("resize",
w)}};var w=function(){E=(new Date).getTime();y=E-z;if(y>=250){z=E;a(this).trigger("throttledresize")}else{C&&clearTimeout(C);C=setTimeout(w,250-y)}},z=0,C,E,y})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(w,z){a.event.special[w]={setup:function(){a(this).bind(z,a.noop)}}})})(jQuery,this);(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var c=
this;if(c._trigger("beforecreate")===false)return false;c.element.attr("tabindex","0").addClass("ui-page ui-body-"+c.options.theme).bind("pagebeforehide",function(){c.removeContainerBackground()}).bind("pagebeforeshow",function(){c.setContainerBackground()})},removeContainerBackground:function(){a.mobile.pageContainer.removeClass("ui-overlay-"+a.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(c){if(this.options.theme)a.mobile.pageContainer.addClass("ui-overlay-"+
(c||this.options.theme))},keepNativeSelector:function(){var c=this.options;if(c.keepNative&&a.trim(c.keepNative)&&c.keepNative!==c.keepNativeDefault)return[c.keepNative,c.keepNativeDefault].join(", ");return c.keepNativeDefault}})})(jQuery);(function(a,c,k){var n=function(q){if(q===k)q=true;return function(o,s,w,z){var C=new a.Deferred,E=s?" reverse":"",y=a.mobile.urlHistory.getActive().lastScroll||a.mobile.defaultHomeScroll,H=a.mobile.getScreenHeight(),J=a.mobile.maxTransitionWidth!==false&&a(c).width()>
a.mobile.maxTransitionWidth,M=!a.support.cssTransitions||J||!o||o==="none",Q=function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+o)},R=function(){a.event.special.scrollstart.enabled=false;c.scrollTo(0,y);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},ea=function(){z.removeClass(a.mobile.activePageClass+" out in reverse "+o).height("")};J=function(){q?z.animationComplete(W):W();z.height(H+a(c).scrollTop()).addClass(o+" out"+E)};var W=function(){z&&
q&&ea();P()},P=function(){w.addClass(a.mobile.activePageClass);a.mobile.focusPage(w);w.height(H+y);R();M||w.animationComplete(S);w.addClass(o+" in"+E);M&&S()},S=function(){q||z&&ea();w.removeClass("out in reverse "+o).height("");Q();a(c).scrollTop()!==y&&R();C.resolve(o,s,w,z,true)};Q();z&&!M?J():W();return C.promise()}},j=n();n=n(false);a.mobile.defaultTransitionHandler=j;a.mobile.transitionHandlers={"default":a.mobile.defaultTransitionHandler,sequential:j,simultaneous:n};a.mobile.transitionFallbacks=
{}})(jQuery,this);(function(a,c){function k(K){if(H&&(!H.closest(".ui-page-active").length||K))H.removeClass(a.mobile.activeBtnClass);H=null}function n(){Q=false;M.length>0&&a.mobile.changePage.apply(null,M.pop())}function j(K,v,t,G){v&&v.data("page")._trigger("beforehide",null,{nextPage:K});K.data("page")._trigger("beforeshow",null,{prevPage:v||a("")});a.mobile.hidePageLoadingMsg();if(t&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[t])t=a.mobile.transitionFallbacks[t];t=(a.mobile.transitionHandlers[t||
"default"]||a.mobile.defaultTransitionHandler)(t,G,K,v);t.done(function(){v&&v.data("page")._trigger("hide",null,{nextPage:K});K.data("page")._trigger("show",null,{prevPage:v||a("")})});return t}function q(){return d.innerHeight||a(d).height()}function o(){var K=a("."+a.mobile.activePageClass),v=parseFloat(K.css("padding-top")),t=parseFloat(K.css("padding-bottom"));K.css("min-height",q()-v-t)}function s(K,v){v&&K.attr("data-"+a.mobile.ns+"role",v);K.page()}function w(K){for(;K;){if(typeof K.nodeName===
"string"&&K.nodeName.toLowerCase()=="a")break;K=K.parentNode}return K}function z(K){K=a(K).closest(".ui-page").jqmData("url");var v=P.hrefNoHash;if(!K||!y.isPath(K))K=v;return y.makeUrlAbsolute(K,v)}var C=a(d);a("html");var E=a("head"),y={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(K){if(a.type(K)==="object")return K;K=y.urlParseRE.exec(K||
"")||[];return{href:K[0]||"",hrefNoHash:K[1]||"",hrefNoSearch:K[2]||"",domain:K[3]||"",protocol:K[4]||"",doubleSlash:K[5]||"",authority:K[6]||"",username:K[8]||"",password:K[9]||"",host:K[10]||"",hostname:K[11]||"",port:K[12]||"",pathname:K[13]||"",directory:K[14]||"",filename:K[15]||"",search:K[16]||"",hash:K[17]||""}},makePathAbsolute:function(K,v){if(K&&K.charAt(0)==="/")return K;K=K||"";v=(v=v?v.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?v.split("/"):[];K=K.split("/");for(var t=0;t<K.length;t++){var G=
K[t];switch(G){case ".":break;case "..":v.length&&v.pop();break;default:v.push(G);break}}return"/"+v.join("/")},isSameDomain:function(K,v){return y.parseUrl(K).domain===y.parseUrl(v).domain},isRelativeUrl:function(K){return y.parseUrl(K).protocol===""},isAbsoluteUrl:function(K){return y.parseUrl(K).protocol!==""},makeUrlAbsolute:function(K,v){if(!y.isRelativeUrl(K))return K;K=y.parseUrl(K);v=y.parseUrl(v);var t=K.protocol||v.protocol,G=K.protocol?K.doubleSlash:K.doubleSlash||v.doubleSlash,D=K.authority||
v.authority,V=K.pathname!=="",aa=y.makePathAbsolute(K.pathname||v.filename,v.pathname);return t+G+D+aa+(K.search||!V&&v.search||"")+K.hash},addSearchParams:function(K,v){K=y.parseUrl(K);v=typeof v==="object"?a.param(v):v;var t=K.search||"?";return K.hrefNoSearch+t+(t.charAt(t.length-1)!=="?"?"&":"")+v+(K.hash||"")},convertUrlToDataUrl:function(K){var v=y.parseUrl(K);if(y.isEmbeddedPage(v))return v.hash.split(R)[0].replace(/^#/,"");else if(y.isSameDomain(v,P))return v.hrefNoHash.replace(P.domain,"");
return K},get:function(K){if(K===c)K=location.hash;return y.stripHash(K).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(K){var v="&"+a.mobile.subPageUrlKey;return K&&K.split(v)[0].split(R)[0]},set:function(K){location.hash=K},isPath:function(K){return/\//.test(K)},clean:function(K){return K.replace(P.domain,"")},stripHash:function(K){return K.replace(/^#/,"")},cleanHash:function(K){return y.stripHash(K.replace(/\?.*$/,"").replace(R,""))},isExternal:function(K){K=y.parseUrl(K);return K.protocol&&
K.domain!==W.domain?true:false},hasProtocol:function(K){return/^(:?\w+:)/.test(K)},isFirstPageUrl:function(K){K=y.parseUrl(y.makeUrlAbsolute(K,P));var v=a.mobile.firstPage;v=v&&v[0]?v[0].id:c;return(K.hrefNoHash===W.hrefNoHash||S&&K.hrefNoHash===P.hrefNoHash)&&(!K.hash||K.hash==="#"||v&&K.hash.replace(/^#/,"")===v)},isEmbeddedPage:function(K){K=y.parseUrl(K);if(K.protocol!=="")return K.hash&&(K.hrefNoHash===W.hrefNoHash||S&&K.hrefNoHash===P.hrefNoHash);return/^#/.test(K.href)}},H=null,J={stack:[],
activeIndex:0,getActive:function(){return J.stack[J.activeIndex]},getPrev:function(){return J.stack[J.activeIndex-1]},getNext:function(){return J.stack[J.activeIndex+1]},addNew:function(K,v,t,G,D){J.getNext()&&J.clearForward();J.stack.push({url:K,transition:v,title:t,pageUrl:G,role:D});J.activeIndex=J.stack.length-1},clearForward:function(){J.stack=J.stack.slice(0,J.activeIndex+1)},directHashChange:function(K){var v,t,G;this.getActive();a.each(J.stack,function(D,V){if(K.currentUrl===V.url){v=D<J.activeIndex;
t=!v;G=D}});this.activeIndex=G!==c?G:this.activeIndex;if(v)(K.either||K.isBack)(true);else if(t)(K.either||K.isForward)(false)},ignoreNextHashChange:false},M=[],Q=false,R="&ui-state=dialog",ea=E.children("base"),W=y.parseUrl(location.href),P=ea.length?y.parseUrl(y.makeUrlAbsolute(ea.attr("href"),W.href)):W,S=W.hrefNoHash!==P.hrefNoHash,da=a.support.dynamicBaseTag?{element:ea.length?ea:a("<base>",{href:P.hrefNoHash}).prependTo(E),set:function(K){da.element.attr("href",y.makeUrlAbsolute(K,P))},reset:function(){da.element.attr("href",
P.hrefNoHash)}}:c;a.mobile.focusPage=function(K){var v=K.find("[autofocus]"),t=K.find(".ui-title:eq(0)");if(v.length)v.focus();else t.length?t.focus():K.focus()};var ba=true,oa,pa;oa=function(){if(ba){var K=a.mobile.urlHistory.getActive();if(K){var v=C.scrollTop();K.lastScroll=v<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:v}}};pa=function(){setTimeout(oa,100)};C.bind(a.support.pushState?"popstate":"hashchange",function(){ba=false});C.one(a.support.pushState?"popstate":"hashchange",function(){ba=
true});C.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){ba=true;C.unbind("scrollstop",pa);C.bind("scrollstop",pa)})});C.bind("scrollstop",pa);a.mobile.getScreenHeight=q;a.fn.animationComplete=function(K){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd animationend",K);else{setTimeout(K,0);return a(this)}};a.mobile.path=y;a.mobile.base=da;a.mobile.urlHistory=J;a.mobile.dialogHashKey=R;a.mobile.allowCrossDomainPages=false;a.mobile.getDocumentUrl=
function(K){return K?a.extend({},W):W.href};a.mobile.getDocumentBase=function(K){return K?a.extend({},P):P.href};a.mobile._bindPageRemove=function(){var K=a(this);!K.data("page").options.domCache&&K.is(":jqmData(external-page='true')")&&K.bind("pagehide.remove",function(){var v=a(this),t=new a.Event("pageremove");v.trigger(t);t.isDefaultPrevented()||v.removeWithDependents()})};a.mobile.loadPage=function(K,v){var t=a.Deferred(),G=a.extend({},a.mobile.loadPage.defaults,v),D=null,V=null,aa=y.makeUrlAbsolute(K,
function(){return a.mobile.activePage&&z(a.mobile.activePage)||P.hrefNoHash}());if(G.data&&G.type==="get"){aa=y.addSearchParams(aa,G.data);G.data=c}if(G.data&&G.type==="post")G.reloadPage=true;var p=y.getFilePath(aa),ra=y.convertUrlToDataUrl(aa);G.pageContainer=G.pageContainer||a.mobile.pageContainer;D=G.pageContainer.children(":jqmData(url='"+ra+"')");if(D.length===0&&ra&&!y.isPath(ra))D=G.pageContainer.children("#"+ra).attr("data-"+a.mobile.ns+"url",ra);if(D.length===0)if(a.mobile.firstPage&&y.isFirstPageUrl(p)){if(a.mobile.firstPage.parent().length)D=
a(a.mobile.firstPage)}else if(y.isEmbeddedPage(p)){t.reject(aa,v);return t.promise()}da&&da.reset();if(D.length){if(!G.reloadPage){s(D,G.role);t.resolve(aa,v,D);return t.promise()}V=D}var va=G.pageContainer,Aa=new a.Event("pagebeforeload"),Ba={url:K,absUrl:aa,dataUrl:ra,deferred:t,options:G};va.trigger(Aa,Ba);if(Aa.isDefaultPrevented())return t.promise();if(G.showLoadMsg)var Ia=setTimeout(function(){a.mobile.showPageLoadingMsg()},G.loadMsgDelay),La=function(){clearTimeout(Ia);a.mobile.hidePageLoadingMsg()};
a.mobile.allowCrossDomainPages||y.isSameDomain(W,aa)?a.ajax({url:p,type:G.type,data:G.data,dataType:"html",success:function(ja,qa,sa){var za=a("<div></div>"),Ha=ja.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Ja=new RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),Ka=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Ja.test(ja)&&RegExp.$1&&Ka.test(RegExp.$1)&&RegExp.$1)K=p=y.getFilePath(RegExp.$1);da&&da.set(p);za.get(0).innerHTML=ja;D=za.find(":jqmData(role='page'), :jqmData(role='dialog')").first();
D.length||(D=a("<div data-"+a.mobile.ns+"role='page'>"+ja.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(Ha&&!D.jqmData("title")){if(~Ha.indexOf("&"))Ha=a("<div>"+Ha+"</div>").text();D.jqmData("title",Ha)}if(!a.support.dynamicBaseTag){var Ra=y.get(p);D.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Ya=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",Sa=a(this).attr(Ya);Sa=Sa.replace(location.protocol+"//"+location.host+location.pathname,
"");/^(\w+:|#|\/)/.test(Sa)||a(this).attr(Ya,Ra+Sa)})}D.attr("data-"+a.mobile.ns+"url",y.convertUrlToDataUrl(p)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(G.pageContainer);D.one("pagecreate",a.mobile._bindPageRemove);s(D,G.role);if(aa.indexOf("&"+a.mobile.subPageUrlKey)>-1)D=G.pageContainer.children(":jqmData(url='"+ra+"')");G.showLoadMsg&&La();Ba.xhr=sa;Ba.textStatus=qa;Ba.page=D;G.pageContainer.trigger("pageload",Ba);t.resolve(aa,v,D,V)},error:function(ja,qa,sa){da&&da.set(y.get());
Ba.xhr=ja;Ba.textStatus=qa;Ba.errorThrown=sa;ja=new a.Event("pageloadfailed");G.pageContainer.trigger(ja,Ba);if(!ja.isDefaultPrevented()){if(G.showLoadMsg){La();a.mobile.showPageLoadingMsg(a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,true);setTimeout(a.mobile.hidePageLoadingMsg,1500)}t.reject(aa,v)}}}):t.reject(aa,v);return t.promise()};a.mobile.loadPage.defaults={type:"get",data:c,reloadPage:false,role:c,showLoadMsg:false,pageContainer:c,loadMsgDelay:50};a.mobile.changePage=function(K,
v){if(Q)M.unshift(arguments);else{var t=a.extend({},a.mobile.changePage.defaults,v);t.pageContainer=t.pageContainer||a.mobile.pageContainer;t.fromPage=t.fromPage||a.mobile.activePage;var G=t.pageContainer,D=new a.Event("pagebeforechange"),V={toPage:K,options:t};G.trigger(D,V);if(!D.isDefaultPrevented()){K=V.toPage;Q=true;if(typeof K=="string")a.mobile.loadPage(K,t).done(function(qa,sa,za,Ha){Q=false;sa.duplicateCachedPage=Ha;a.mobile.changePage(za,sa)}).fail(function(){Q=false;k(true);n();t.pageContainer.trigger("pagechangefailed",
V)});else{if(K[0]===a.mobile.firstPage[0]&&!t.dataUrl)t.dataUrl=W.hrefNoHash;D=t.fromPage;var aa=t.dataUrl&&y.convertUrlToDataUrl(t.dataUrl)||K.jqmData("url"),p=aa;y.getFilePath(aa);var ra=J.getActive(),va=J.activeIndex===0,Aa=0,Ba=e.title,Ia=t.role==="dialog"||K.jqmData("role")==="dialog";if(D&&D[0]===K[0]&&!t.allowSamePageTransition){Q=false;G.trigger("pagechange",V)}else{s(K,t.role);t.fromHashChange&&J.directHashChange({currentUrl:aa,isBack:function(){Aa=-1},isForward:function(){Aa=1}});try{e.activeElement&&
e.activeElement.nodeName.toLowerCase()!="body"?a(e.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(La){}if(Ia&&ra)aa=(ra.url||"")+R;if(t.changeHash!==false&&aa){J.ignoreNextHashChange=true;y.set(aa)}var ja=!ra?Ba:K.jqmData("title")||K.children(":jqmData(role='header')").find(".ui-title").getEncodedText();if(ja&&Ba==e.title)Ba=ja;K.jqmData("title")||K.jqmData("title",Ba);t.transition=t.transition||(Aa&&!va?ra.transition:c)||(Ia?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);
Aa||J.addNew(aa,t.transition,Ba,p,t.role);e.title=J.getActive().title;a.mobile.activePage=K;t.reverse=t.reverse||Aa<0;j(K,D,t.transition,t.reverse).done(function(qa,sa,za,Ha,Ja){k();t.duplicateCachedPage&&t.duplicateCachedPage.remove();Ja||a.mobile.focusPage(K);n();G.trigger("pagechange",V)})}}}}};a.mobile.changePage.defaults={transition:c,reverse:false,changeHash:true,fromHashChange:false,role:c,duplicateCachedPage:c,pageContainer:c,showLoadMsg:true,dataUrl:c,fromPage:c,allowSamePageTransition:false};
a.mobile._registerInternalEvents=function(){a(e).delegate("form","submit",function(K){var v=a(this);if(!(!a.mobile.ajaxEnabled||v.is(":jqmData(ajax='false')")||!v.jqmHijackable().length)){var t=v.attr("method"),G=v.attr("target"),D=v.attr("action");if(!D){D=z(v);if(D===P.hrefNoHash)D=W.hrefNoSearch}D=y.makeUrlAbsolute(D,z(v));if(!(y.isExternal(D)||G)){a.mobile.changePage(D,{type:t&&t.length&&t.toLowerCase()||"get",data:v.serialize(),transition:v.jqmData("transition"),direction:v.jqmData("direction"),
reloadPage:true});K.preventDefault()}}});a(e).bind("vclick",function(K){if(!(K.which>1||!a.mobile.linkBindingEnabled)){K=w(K.target);if(a(K).jqmHijackable().length)if(K)if(y.parseUrl(K.getAttribute("href")||"#").hash!=="#"){k(true);H=a(K).closest(".ui-btn").not(".ui-disabled");H.addClass(a.mobile.activeBtnClass);a("."+a.mobile.activePageClass+" .ui-btn").not(K).blur();a(K).jqmData("href",a(K).attr("href")).attr("href","#")}}});a(e).bind("click",function(K){if(a.mobile.linkBindingEnabled){var v=w(K.target),
t=a(v),G;if(!(!v||K.which>1||!t.jqmHijackable().length)){G=function(){d.setTimeout(function(){k(true)},200)};t.jqmData("href")&&t.attr("href",t.jqmData("href"));if(t.is(":jqmData(rel='back')")){d.history.back();return false}var D=z(t);v=y.makeUrlAbsolute(t.attr("href")||"#",D);if(!a.mobile.ajaxEnabled&&!y.isEmbeddedPage(v))G();else{if(v.search("#")!=-1)if(v=v.replace(/[^#]*#/,""))v=y.isPath(v)?y.makeUrlAbsolute(v,D):y.makeUrlAbsolute("#"+v,W.hrefNoHash);else{K.preventDefault();return}D=t.is("[rel='external']")||
t.is(":jqmData(ajax='false')")||t.is("[target]");var V=a.mobile.allowCrossDomainPages&&W.protocol==="file:"&&v.search(/^https?:/)!=-1;if(D||y.isExternal(v)&&!V)G();else{G=t.jqmData("transition");D=(D=t.jqmData("direction"))&&D==="reverse"||t.jqmData("back");t=t.attr("data-"+a.mobile.ns+"rel")||c;a.mobile.changePage(v,{transition:G,reverse:D,role:t});K.preventDefault()}}}}});a(e).delegate(".ui-page","pageshow.prefetch",function(){var K=[];a(this).find("a:jqmData(prefetch)").each(function(){var v=a(this),
t=v.attr("href");if(t&&a.inArray(t,K)===-1){K.push(t);a.mobile.loadPage(t,{role:v.attr("data-"+a.mobile.ns+"rel")})}})});a.mobile._handleHashChange=function(K){var v=y.stripHash(K),t={transition:a.mobile.urlHistory.stack.length===0?"none":c,changeHash:false,fromHashChange:true};if(!a.mobile.hashListeningEnabled||J.ignoreNextHashChange)J.ignoreNextHashChange=false;else{if(J.stack.length>1&&v.indexOf(R)>-1)if(a.mobile.activePage.is(".ui-dialog"))J.directHashChange({currentUrl:v,either:function(G){var D=
a.mobile.urlHistory.getActive();v=D.pageUrl;a.extend(t,{role:D.role,transition:D.transition,reverse:G})}});else{J.directHashChange({currentUrl:v,isBack:function(){d.history.back()},isForward:function(){d.history.forward()}});return}if(v){v=typeof v==="string"&&!y.isPath(v)?y.makeUrlAbsolute("#"+v,P):v;a.mobile.changePage(v,t)}else a.mobile.changePage(a.mobile.firstPage,t)}};C.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(e).bind("pageshow",o);a(d).bind("throttledresize",
o)}})(jQuery);(function(a,c){var k={},n=a(c),j=a.mobile.path.parseUrl(location.href);a.extend(k,{initialFilePath:function(){return j.pathname+j.search}(),initialHref:j.hrefNoHash,state:function(){return{hash:location.hash||"#"+k.initialFilePath,title:e.title,initialHref:k.initialHref}},resetUIKeys:function(q){var o="&"+a.mobile.subPageUrlKey,s=q.indexOf(a.mobile.dialogHashKey);if(s>-1)q=q.slice(0,s)+"#"+q.slice(s);else if(q.indexOf(o)>-1)q=q.split(o).join("#"+o);return q},hashValueAfterReset:function(q){q=
k.resetUIKeys(q);return a.mobile.path.parseUrl(q).hash},nextHashChangePrevented:function(q){a.mobile.urlHistory.ignoreNextHashChange=q;k.onHashChangeDisabled=q},onHashChange:function(){if(!k.onHashChangeDisabled){var q,o;q=location.hash;var s=a.mobile.path.isPath(q),w=s?location.href:a.mobile.getDocumentUrl();q=s?q.replace("#",""):q;o=k.state();q=a.mobile.path.makeUrlAbsolute(q,w);if(s)q=k.resetUIKeys(q);history.replaceState(o,e.title,q)}},onPopState:function(q){q=q.originalEvent.state;var o,s;if(q){o=
k.hashValueAfterReset(a.mobile.urlHistory.getActive().url);s=k.hashValueAfterReset(q.hash.replace("#",""));(o=o!==s)&&n.one("hashchange.pushstate",function(){k.nextHashChangePrevented(false)});k.nextHashChangePrevented(false);a.mobile._handleHashChange(q.hash);o&&k.nextHashChangePrevented(true)}},init:function(){n.bind("hashchange",k.onHashChange);n.bind("popstate",k.onPopState);location.hash===""&&history.replaceState(k.state(),e.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&
k.init()})})(jQuery,this);(function(a){a.mobile.transitionFallbacks.pop="fade"})(jQuery,this);(function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous;a.mobile.transitionFallbacks.slide="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.slidedown="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.slideup="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.flip="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.flow=
"fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.turn="fade"})(jQuery,this);(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};a(e).bind("pagecreate create",function(c){var k=a.mobile.closestPageData(a(c.target)),n;if(k){n=k.options;a(c.target).find("input").not(k.keepNativeSelector()).each(function(){var j=
a(this),q=this.getAttribute("type"),o=n.degradeInputs[q]||"text";if(n.degradeInputs[q]){var s=a("<div>").html(j.clone()).html(),w=s.indexOf(" type=")>-1;j.replaceWith(s.replace(w?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+o+'" data-'+a.mobile.ns+'type="'+q+'"'+(w?"":">")))}})}})})(jQuery);(function(a,c){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var k=this,n=this.element,j=a("<a href='#' data-"+
a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),q=a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});n.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);n.wrapInner(q).children().find(":jqmData(role='header')").prepend(j).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");j.bind("click",function(){k.close()});n.bind("vclick submit",function(o){o=
a(o.target).closest(o.type==="vclick"?"a":"form");var s;if(o.length&&!o.jqmData("transition")){s=a.mobile.urlHistory.getActive()||{};o.attr("data-"+a.mobile.ns+"transition",s.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){k.options.overlayTheme&&k.element.page("removeContainerBackground").page("setContainerBackground",
k.options.overlayTheme)})},close:function(){c.history.back()}});a(e).delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a.mobile.dialog.prototype.enhance(this)})})(jQuery,this);(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(e).bind("pagecreate create",function(c){a(":jqmData(role='fieldcontain')",c.target).jqmEnhanceable().fieldcontain()})})(jQuery);(function(a){a.fn.grid=function(c){return this.each(function(){var k=
a(this),n=a.extend({grid:null},c),j=k.children(),q={solo:1,a:2,b:3,c:4,d:5};n=n.grid;if(!n)if(j.length<=5)for(var o in q){if(q[o]===j.length)n=o}else n="a";q=q[n];k.addClass("ui-grid-"+n);j.filter(":nth-child("+q+"n+1)").addClass("ui-block-a");q>1&&j.filter(":nth-child("+q+"n+2)").addClass("ui-block-b");q>2&&j.filter(":nth-child(3n+3)").addClass("ui-block-c");q>3&&j.filter(":nth-child(4n+4)").addClass("ui-block-d");q>4&&j.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);(function(a){a(e).bind("pagecreate create",
function(c){a(":jqmData(role='nojs')",c.target).addClass("ui-nojs")})})(jQuery);(function(a,c){function k(j){for(var q;j;){if((q=typeof j.className==="string"&&j.className+" ")&&q.indexOf("ui-btn ")>-1&&q.indexOf("ui-disabled ")<0)break;j=j.parentNode}return j}a.fn.buttonMarkup=function(j){var q=this;j=j&&a.type(j)=="object"?j:{};for(var o=0;o<q.length;o++){var s=q.eq(o),w=s[0],z=a.extend({},a.fn.buttonMarkup.defaults,{icon:j.icon!==c?j.icon:s.jqmData("icon"),iconpos:j.iconpos!==c?j.iconpos:s.jqmData("iconpos"),
theme:j.theme!==c?j.theme:s.jqmData("theme")||a.mobile.getInheritedTheme(s,"c"),inline:j.inline!==c?j.inline:s.jqmData("inline"),shadow:j.shadow!==c?j.shadow:s.jqmData("shadow"),corners:j.corners!==c?j.corners:s.jqmData("corners"),iconshadow:j.iconshadow!==c?j.iconshadow:s.jqmData("iconshadow"),mini:j.mini!==c?j.mini:s.jqmData("mini")},j),C="ui-btn-inner",E,y,H,J,M,Q;a.each(z,function(R,ea){w.setAttribute("data-"+a.mobile.ns+R,ea);s.jqmData(R,ea)});if(Q=a.data(w.tagName==="INPUT"||w.tagName==="BUTTON"?
w.parentNode:w,"buttonElements")){w=Q.outer;s=a(w);H=Q.inner;J=Q.text;a(Q.icon).remove();Q.icon=null}else{H=e.createElement(z.wrapperEls);J=e.createElement(z.wrapperEls)}M=z.icon?e.createElement("span"):null;n&&!Q&&n();if(!z.theme)z.theme=a.mobile.getInheritedTheme(s,"c");E="ui-btn ui-btn-up-"+z.theme;E+=z.inline?" ui-btn-inline":"";E+=z.shadow?" ui-shadow":"";E+=z.corners?" ui-btn-corner-all":"";if(z.mini!==c)E+=z.mini?" ui-mini":" ui-fullsize";if(z.inline!==c)E+=z.inline===false?" ui-btn-block":
" ui-btn-inline";if(z.icon){z.icon="ui-icon-"+z.icon;z.iconpos=z.iconpos||"left";y="ui-icon "+z.icon;if(z.iconshadow)y+=" ui-icon-shadow"}if(z.iconpos){E+=" ui-btn-icon-"+z.iconpos;z.iconpos=="notext"&&!s.attr("title")&&s.attr("title",s.getEncodedText())}C+=z.corners?" ui-btn-corner-all":"";z.iconpos&&z.iconpos==="notext"&&!s.attr("title")&&s.attr("title",s.getEncodedText());if(Q)s.removeClass(Q.bcls||"");s.removeClass("ui-link").addClass(E);H.className=C;J.className="ui-btn-text";Q||H.appendChild(J);
if(M){M.className=y;if(!(Q&&Q.icon)){M.appendChild(e.createTextNode("\u00a0"));H.appendChild(M)}}for(;w.firstChild&&!Q;)J.appendChild(w.firstChild);Q||w.appendChild(H);Q={bcls:E,outer:w,inner:H,text:J,icon:M};a.data(w,"buttonElements",Q);a.data(H,"buttonElements",Q);a.data(J,"buttonElements",Q);M&&a.data(M,"buttonElements",Q)}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,wrapperEls:"span"};var n=function(){var j=a.mobile.buttonMarkup.hoverDelay,q,o;a(e).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(s){var w,
z=a(k(s.target));s=s.type;if(z.length){w=z.attr("data-"+a.mobile.ns+"theme");if(s==="vmousedown")if(a.support.touch)q=setTimeout(function(){z.removeClass("ui-btn-up-"+w).addClass("ui-btn-down-"+w)},j);else z.removeClass("ui-btn-up-"+w).addClass("ui-btn-down-"+w);else if(s==="vmousecancel"||s==="vmouseup")z.removeClass("ui-btn-down-"+w).addClass("ui-btn-up-"+w);else if(s==="vmouseover"||s==="focus")if(a.support.touch)o=setTimeout(function(){z.removeClass("ui-btn-up-"+w).addClass("ui-btn-hover-"+w)},
j);else z.removeClass("ui-btn-up-"+w).addClass("ui-btn-hover-"+w);else if(s==="vmouseout"||s==="blur"||s==="scrollstart"){z.removeClass("ui-btn-hover-"+w+" ui-btn-down-"+w).addClass("ui-btn-up-"+w);q&&clearTimeout(q);o&&clearTimeout(o)}}},"focusin focus":function(s){a(k(s.target)).addClass(a.mobile.focusClass)},"focusout blur":function(s){a(k(s.target)).removeClass(a.mobile.focusClass)}});n=null};a(e).bind("pagecreate create",function(j){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",
j.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme="a";a.mobile.page.prototype.options.contentTheme=null;a(e).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var c=a(this),
k=c.data("page").options,n=c.jqmData("role"),j=k.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).jqmEnhanceable().each(function(){var q=a(this),o=q.jqmData("role"),s=q.jqmData("theme"),w=s||k.contentTheme||n==="dialog"&&j,z;q.addClass("ui-"+o);if(o==="header"||o==="footer"){var C=s||(o==="header"?k.headerTheme:k.footerTheme)||j;q.addClass("ui-bar-"+C).attr("role",o==="header"?"banner":"contentinfo");if(o==="header"){s=q.children("a");z=s.hasClass("ui-btn-left");
w=s.hasClass("ui-btn-right");z=z||s.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;w||s.eq(1).addClass("ui-btn-right")}if(k.addBackBtn&&o==="header"&&a(".ui-page").length>1&&c.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!z)a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+k.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",k.backBtnTheme||C).prependTo(q);q.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading",
"aria-level":"1"})}else if(o==="content"){w&&q.addClass("ui-body-"+w);q.attr("role","main")}})})})(jQuery);(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",mini:false,initSelector:":jqmData(role='collapsible')"},_create:function(){var c=this.element,k=this.options,n=c.addClass("ui-collapsible"),j=c.children(k.heading).first(),
q=n.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),o=c.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");if(j.is("legend")){j=a("<div role='heading'>"+j.html()+"</div>").insertBefore(j);j.next().remove()}if(o.length){if(!k.theme)k.theme=o.jqmData("theme")||a.mobile.getInheritedTheme(o,"c");if(!k.contentTheme)k.contentTheme=o.jqmData("content-theme");if(!k.iconPos)k.iconPos=o.jqmData("iconpos");if(!k.mini)k.mini=o.jqmData("mini")}q.addClass(k.contentTheme?
"ui-body-"+k.contentTheme:"");j.insertBefore(q).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,corners:false,iconpos:c.jqmData("iconpos")||k.iconPos||"left",icon:"plus",mini:k.mini,theme:k.theme}).add(".ui-btn-inner",c).addClass("ui-corner-top ui-corner-bottom");n.bind("expand collapse",function(s){if(!s.isDefaultPrevented()){s.preventDefault();
var w=a(this);s=s.type==="collapse";var z=k.contentTheme;j.toggleClass("ui-collapsible-heading-collapsed",s).find(".ui-collapsible-heading-status").text(s?k.expandCueText:k.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!s).toggleClass("ui-icon-plus",s);w.toggleClass("ui-collapsible-collapsed",s);q.toggleClass("ui-collapsible-content-collapsed",s).attr("aria-hidden",s);if(z&&(!o.length||n.jqmData("collapsible-last"))){j.find("a").first().add(j.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",
s);q.toggleClass("ui-corner-bottom",!s)}q.trigger("updatelayout")}}).trigger(k.collapsed?"collapse":"expand");j.bind("click",function(s){var w=j.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";n.trigger(w);s.preventDefault()})}});a(e).bind("pagecreate create",function(c){a.mobile.collapsible.prototype.enhanceWithin(c.target)})})(jQuery);(function(a,c){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var k=this.element.addClass("ui-collapsible-set"),
n=this.options;if(!n.theme)n.theme=a.mobile.getInheritedTheme(k,"c");if(!n.contentTheme)n.contentTheme=k.jqmData("content-theme");if(!n.corners)n.corners=k.jqmData("corners")===c?true:false;k.jqmData("collapsiblebound")||k.jqmData("collapsiblebound",true).bind("expand collapse",function(j){var q=j.type==="collapse";j=a(j.target).closest(".ui-collapsible");var o=j.data("collapsible");if(o.options.contentTheme&&j.jqmData("collapsible-last")){j.find(o.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",
q);j.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!q)}}).bind("expand",function(j){a(j.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var k=this.options,n=this.element.children(":jqmData(role='collapsible')");a.mobile.collapsible.prototype.enhance(n.not(".ui-collapsible"));n.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});
n.first().find("a").first().addClass(k.corners?"ui-corner-top":"").find(".ui-btn-inner").addClass("ui-corner-top");n.last().jqmData("collapsible-last",true).find("a").first().addClass(k.corners?"ui-corner-bottom":"").find(".ui-btn-inner").addClass("ui-corner-bottom")}});a(e).bind("pagecreate create",function(k){a.mobile.collapsibleset.prototype.enhanceWithin(k.target)})})(jQuery);(function(a,c){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},
_create:function(){var k=this.element,n=k.find("a"),j=n.filter(":jqmData(icon)").length?this.options.iconpos:c;k.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});j||k.addClass("ui-navbar-noicons");n.buttonMarkup({corners:false,shadow:false,inline:true,iconpos:j});k.delegate("a","vclick",function(q){if(!a(q.target).hasClass("ui-disabled")){n.removeClass(a.mobile.activeBtnClass);a(this).addClass(a.mobile.activeBtnClass)}});k.closest(".ui-page").bind("pagebeforeshow",
function(){n.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}});a(e).bind("pagecreate create",function(k){a.mobile.navbar.prototype.enhanceWithin(k.target)})})(jQuery);(function(a){var c={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",mini:false,inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var k=this,n="";n+=k.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":
"";n+=k.element.jqmData("mini")||k.options.mini===true?" ui-mini":"";k.element.addClass(function(j,q){return q+" ui-listview "+n});k.refresh(true)},_removeCorners:function(k,n){k=k.add(k.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(n==="top")k.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");else n==="bottom"?k.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):k.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(k){var n,
j;if(this.options.inset){n=this.element.children("li");j=k?n.not(".ui-screen-hidden"):n.filter(":visible");this._removeCorners(n);n=j.first().addClass("ui-corner-top");n.add(n.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");j=j.last().addClass("ui-corner-bottom");j.add(j.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}k||
this.element.trigger("updatelayout")},_findFirstElementByTagName:function(k,n,j,q){var o={};for(o[j]=o[q]=true;k;){if(o[k.nodeName])return k;k=k[n]}return null},_getChildrenByTagName:function(k,n,j){var q=[],o={};o[n]=o[j]=true;for(k=k.firstChild;k;){o[k.nodeName]&&q.push(k);k=k.nextSibling}return a(q)},_addThumbClasses:function(k){var n,j,q=k.length;for(n=0;n<q;n++){j=a(this._findFirstElementByTagName(k[n].firstChild,"nextSibling","img","IMG"));if(j.length){j.addClass("ui-li-thumb");a(this._findFirstElementByTagName(j[0].parentNode,
"parentNode","li","LI")).addClass(j.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(k){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var n=this.options,j=this.element,q=j.jqmData("dividertheme")||n.dividerTheme,o=j.jqmData("splittheme"),s=j.jqmData("spliticon"),w=this._getChildrenByTagName(j[0],"li","LI"),z=a.support.cssPseudoElement||!a.nodeName(j[0],"ol")?0:1,C={},E,y,H,J,M,Q,R;z&&j.find(".ui-li-dec").remove();if(!n.theme)n.theme=a.mobile.getInheritedTheme(this.element,
"c");for(var ea=0,W=w.length;ea<W;ea++){E=w.eq(ea);y="ui-li";if(k||!E.hasClass("ui-li")){H=E.jqmData("theme")||n.theme;J=this._getChildrenByTagName(E[0],"a","A");if(J.length){Q=E.jqmData("icon");E.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:J.length>1||Q===false?false:Q||"arrow-r",theme:H});Q!=false&&J.length==1&&E.addClass("ui-li-has-arrow");J.first().removeClass("ui-link").addClass("ui-link-inherit");if(J.length>1){y+=" ui-li-has-alt";J=J.last();M=o||J.jqmData("theme")||
n.splitTheme;R=J.jqmData("icon");J.appendTo(E).attr("title",J.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:H,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(e.createElement("span")).buttonMarkup({shadow:true,corners:true,theme:M,iconpos:"notext",icon:R||Q||s||n.splitIcon}))}}else if(E.jqmData("role")==="list-divider"){y+=" ui-li-divider ui-bar-"+q;E.attr("role","heading");if(z)z=1}else y+=" ui-li-static ui-body-"+H}if(z&&y.indexOf("ui-li-divider")<
0){H=E.is(".ui-li-static:first")?E:E.find(".ui-link-inherit");H.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+z++ +". </span>")}C[y]||(C[y]=[]);C[y].push(E[0])}for(y in C)a(C[y]).addClass(y).children(".ui-btn-inner").addClass(y);j.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var P=a(this);P.prependTo(P.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+
(j.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(w);this._addThumbClasses(j.find(".ui-link-inherit"));this._refreshCorners(k)},_idStringEscape:function(k){return k.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var k=this.element,n=k.closest(".ui-page"),j=n.jqmData("url"),q=j||n[0][a.expando],o=k.attr("id"),s=this.options,w="data-"+a.mobile.ns,z=this,C=n.find(":jqmData(role='footer')").jqmData("id"),E;if(typeof c[q]==="undefined")c[q]=-1;o=o||
++c[q];a(k.find("li>ul, li>ol").toArray().reverse()).each(function(y){var H=a(this),J=H.attr("id")||o+"-"+y;y=H.parent();var M=a(H.prevAll().toArray().reverse());M=M.length?M:a("<span>"+a.trim(y.contents()[0].nodeValue)+"</span>");var Q=M.first().getEncodedText();J=(j||"")+"&"+a.mobile.subPageUrlKey+"="+J;var R=H.jqmData("theme")||s.theme,ea=H.jqmData("counttheme")||k.jqmData("counttheme")||s.countTheme;E=true;H.detach().wrap("<div "+w+"role='page' "+w+"url='"+J+"' "+w+"theme='"+R+"' "+w+"count-theme='"+
ea+"'><div "+w+"role='content'></div></div>").parent().before("<div "+w+"role='header' "+w+"theme='"+s.headerTheme+"'><div class='ui-title'>"+Q+"</div></div>").after(C?a("<div "+w+"role='footer' "+w+"id='"+C+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();H=y.find("a:first");H.length||(H=a("<a/>").html(M||Q).prependTo(y.empty()));H.attr("href","#"+J)}).listview();E&&n.is(":jqmData(external-page='true')")&&n.data("page").options.domCache===false&&n.unbind("pagehide.remove").bind("pagehide.remove",
function(y,H){if(y=H.nextPage){H=y.jqmData("url");if(H.indexOf(j+"&"+a.mobile.subPageUrlKey)!==0){z.childPages().remove();n.remove()}}})},childPages:function(){var k=this.parentPage.jqmData("url");return a(":jqmData(url^='"+k+"&"+a.mobile.subPageUrlKey+"')")}});a(e).bind("pagecreate create",function(k){a.mobile.listview.prototype.enhanceWithin(k.target)})})(jQuery);(function(a,c){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},
_create:function(){var k=this,n=this.element,j=function(E,y){return E.jqmData(y)||E.closest("form,fieldset").jqmData(y)},q=a(n).closest("label"),o=q.length?q:a(n).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+n[0].id+"']"),s=n[0].type;q=j(n,"mini");var w=s+"-on",z=s+"-off",C=n.parents(":jqmData(type='horizontal')").length?c:z;j=j(n,"iconpos");if(!(s!=="checkbox"&&s!=="radio")){a.extend(this,{label:o,inputtype:s,checkedClass:"ui-"+w+(C?"":" "+
a.mobile.activeBtnClass),uncheckedClass:"ui-"+z,checkedicon:"ui-icon-"+w,uncheckedicon:"ui-icon-"+z});if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");o.buttonMarkup({theme:this.options.theme,icon:C,shadow:false,mini:q,iconpos:j});j=e.createElement("div");j.className="ui-"+s;n.add(o).wrapAll(j);o.bind({vmouseover:function(E){a(this).parent().is(".ui-disabled")&&E.stopPropagation()},vclick:function(E){if(n.is(":disabled"))E.preventDefault();else{k._cacheVals();
n.prop("checked",s==="radio"&&true||!n.prop("checked"));n.triggerHandler("click");k._getInputSet().not(n).prop("checked",false);k._updateAll();return false}}});n.bind({vmousedown:function(){k._cacheVals()},vclick:function(){var E=a(this);if(E.is(":checked")){E.prop("checked",true);k._getInputSet().not(E).prop("checked",false)}else E.prop("checked",false);k._updateAll()},focus:function(){o.addClass(a.mobile.focusClass)},blur:function(){o.removeClass(a.mobile.focusClass)}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){a(this).jqmData("cacheVal",
this.checked)})},_getInputSet:function(){if(this.inputtype==="checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var k=this;this._getInputSet().each(function(){var n=a(this);if(this.checked||k.inputtype==="checkbox")n.trigger("change")}).checkboxradio("refresh")},refresh:function(){var k=this.element[0],n=this.label,j=n.find(".ui-icon");if(k.checked){n.addClass(this.checkedClass).removeClass(this.uncheckedClass);
j.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{n.removeClass(this.checkedClass).addClass(this.uncheckedClass);j.removeClass(this.checkedicon).addClass(this.uncheckedicon)}k.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(k){a.mobile.checkboxradio.prototype.enhanceWithin(k.target,
true)})})(jQuery);(function(a,c){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:false,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']",mini:false},_create:function(){var k=this.element,n,j=this.options,q;q="";var o;if(k[0].tagName==="A")!k.hasClass("ui-btn")&&k.buttonMarkup();else{if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");if(~k[0].className.indexOf("ui-btn-left"))q=
"ui-btn-left";if(~k[0].className.indexOf("ui-btn-right"))q="ui-btn-right";n=this.button=a("<div></div>").text(k.text()||k.val()).insertBefore(k).buttonMarkup({theme:j.theme,icon:j.icon,iconpos:j.iconpos,inline:j.inline,corners:j.corners,shadow:j.shadow,iconshadow:j.iconshadow,mini:j.mini}).addClass(q).append(k.addClass("ui-btn-hidden"));j=k.attr("type");q=k.attr("name");j!=="button"&&j!=="reset"&&q&&k.bind("vclick",function(){if(o===c){o=a("<input>",{type:"hidden",name:k.attr("name"),value:k.attr("value")}).insertBefore(k);
a(e).one("submit",function(){o.remove();o=c})}});k.bind({focus:function(){n.addClass(a.mobile.focusClass)},blur:function(){n.removeClass(a.mobile.focusClass)}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var k=
this.element;k.prop("disabled")?this.disable():this.enable();a(this.button.data("buttonElements").text).text(k.text()||k.val())}});a(e).bind("pagecreate create",function(k){a.mobile.button.prototype.enhanceWithin(k.target,true)})})(jQuery);(function(a){a.fn.controlgroup=function(c){function k(n,j){n.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(j[0]).end().last().addClass(j[1]).addClass("ui-controlgroup-last")}return this.each(function(){var n=a(this),j=a.extend({direction:n.jqmData("type")||
"vertical",shadow:false,excludeInvisible:true,mini:n.jqmData("mini")},c),q=n.children("legend"),o=j.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];n.find("input").first().attr("type");if(q.length){n.wrapInner("<div class='ui-controlgroup-controls'></div>");a("<div role='heading' class='ui-controlgroup-label'>"+q.html()+"</div>").insertBefore(n.children(0));q.remove()}n.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+j.direction);k(n.find(".ui-btn"+
(j.excludeInvisible?":visible":"")).not(".ui-slider-handle"),o);k(n.find(".ui-btn-inner"),o);j.shadow&&n.addClass("ui-shadow");j.mini&&n.addClass("ui-mini")})}})(jQuery);(function(a){a(e).bind("pagecreate create",function(c){a(c.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);(function(a){var c=a("meta[name=viewport]"),k=c.attr("content"),n=k+",maximum-scale=1, user-scalable=no",j=k+",maximum-scale=10, user-scalable=yes",
q=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(k);a.mobile.zoom=a.extend({},{enabled:!q,locked:false,disable:function(o){if(!q&&!a.mobile.zoom.locked){c.attr("content",n);a.mobile.zoom.enabled=false;a.mobile.zoom.locked=o||false}},enable:function(o){if(!q&&(!a.mobile.zoom.locked||o===true)){c.attr("content",j);a.mobile.zoom.enabled=true;a.mobile.zoom.locked=false}},restore:function(){if(!q){c.attr("content",k);a.mobile.zoom.enabled=true}}})})(jQuery);(function(a){a.widget("mobile.textinput",
a.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text"},_create:function(){var c=this.element,k=this.options,n=k.theme||a.mobile.getInheritedTheme(this.element,"c"),j=" ui-body-"+n,q=c.jqmData("mini")==true,o=q?" ui-mini":"",s,w;a("label[for='"+c.attr("id")+"']").addClass("ui-input-text");s=c.addClass("ui-input-text ui-body-"+n);if(typeof c[0].autocorrect!=="undefined"&&!a.support.touchOverflow){c[0].setAttribute("autocorrect","off");c[0].setAttribute("autocomplete","off")}if(c.is("[type='search'],:jqmData(type='search')")){s=
c.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+j+o+"'></div>").parent();w=a("<a href='#' class='ui-input-clear' title='"+k.clearSearchButtonText+"'>"+k.clearSearchButtonText+"</a>").bind("click",function(y){c.val("").focus().trigger("change");w.addClass("ui-input-clear-hidden");y.preventDefault()}).appendTo(s).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true,mini:q});function z(){setTimeout(function(){w.toggleClass("ui-input-clear-hidden",
!c.val())},0)}z();c.bind("paste cut keyup focus change blur",z)}else c.addClass("ui-corner-all ui-shadow-inset"+j+o);c.focus(function(){s.addClass(a.mobile.focusClass)}).blur(function(){s.removeClass(a.mobile.focusClass)}).bind("focus",function(){k.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("blur",function(){k.preventFocusZoom&&a.mobile.zoom.enable(true)});if(c.is("textarea")){var C=function(){var y=c[0].scrollHeight;c[0].clientHeight<y&&c.height(y+15)},E;c.keyup(function(){clearTimeout(E);
E=setTimeout(C,100)});a(e).one("pagechange",C);a.trim(c.val())&&a(d).load(C)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(c){a.mobile.textinput.prototype.enhanceWithin(c.target,
true)})})(jQuery);(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(c,k){return c.toLowerCase().indexOf(k)===-1};a(e).delegate(":jqmData(role='listview')","listviewcreate",function(){var c=a(this),k=c.data("listview");if(k.options.filter){var n=a("<form>",{"class":"ui-listview-filter ui-bar-"+k.options.filterTheme,
role:"search"});a("<input>",{placeholder:k.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var j=a(this),q=this.value.toLowerCase(),o=null;o=j.jqmData("lastval")+"";var s=false,w="";j.jqmData("lastval",q);o=q.length<o.length||q.indexOf(o)!==0?c.children():c.children(":not(.ui-screen-hidden)");if(q){for(var z=o.length-1;z>=0;z--){j=a(o[z]);w=j.jqmData("filtertext")||j.text();if(j.is("li:jqmData(role=list-divider)")){j.toggleClass("ui-filter-hidequeue",
!s);s=false}else if(k.options.filterCallback(w,q))j.toggleClass("ui-filter-hidequeue",true);else s=true}o.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);o.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else o.toggleClass("ui-screen-hidden",false);k._refreshCorners()}).appendTo(n).textinput();k.options.inset&&n.addClass("ui-listview-filter-inset");n.bind("submit",function(){return false}).insertBefore(c)}})})(jQuery);
(function(a,c){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:false},_create:function(){var k=this,n=this.element,j=a.mobile.getInheritedTheme(n,"c"),q=this.options.theme||j;j=this.options.trackTheme||j;var o=n[0].nodeName.toLowerCase(),s=o=="select"?"ui-slider-switch":"",w=n.attr("id"),z=w+"-label";w=a("[for='"+w+"']").attr("id",z);var C=function(){return o=="input"?
parseFloat(n.val()):n[0].selectedIndex},E=o=="input"?parseFloat(n.attr("min")):0,y=o=="input"?parseFloat(n.attr("max")):n.find("option").length-1,H=d.parseFloat(n.attr("step")||1),J=this.options.inline||n.jqmData("inline")==true?" ui-slider-inline":"",M=this.options.mini||n.jqmData("mini")?" ui-slider-mini":"",Q=e.createElement("a"),R=a(Q),ea=e.createElement("div"),W=a(ea),P=n.jqmData("highlight")&&o!="select"?function(){var S=e.createElement("div");S.className="ui-slider-bg ui-btn-active ui-btn-corner-all";
return a(S).prependTo(W)}():false;Q.setAttribute("href","#");ea.setAttribute("role","application");ea.className=["ui-slider ",s," ui-btn-down-",j," ui-btn-corner-all",J,M].join("");Q.className="ui-slider-handle";ea.appendChild(Q);R.buttonMarkup({corners:true,theme:q,shadow:true}).attr({role:"slider","aria-valuemin":E,"aria-valuemax":y,"aria-valuenow":C(),"aria-valuetext":C(),title:C(),"aria-labelledby":z});a.extend(this,{slider:W,handle:R,valuebg:P,dragging:false,beforeStart:null,userModified:false,
mouseMoved:false});if(o=="select"){q=e.createElement("div");q.className="ui-slider-inneroffset";s=0;for(z=ea.childNodes.length;s<z;s++)q.appendChild(ea.childNodes[s]);ea.appendChild(q);R.addClass("ui-slider-handle-snapping");ea=n.find("option");q=0;for(s=ea.length;q<s;q++){z=!q?"b":"a";J=!q?" ui-btn-down-"+j:" "+a.mobile.activeBtnClass;e.createElement("div");M=e.createElement("span");M.className=["ui-slider-label ui-slider-label-",z,J," ui-btn-corner-all"].join("");M.setAttribute("role","img");M.appendChild(e.createTextNode(ea[q].innerHTML));
a(M).prependTo(W)}k._labels=a(".ui-slider-label",W)}w.addClass("ui-slider");n.addClass(o==="input"?"ui-slider-input":"ui-slider-switch").change(function(){k.mouseMoved||k.refresh(C(),true)}).keyup(function(){k.refresh(C(),true,true)}).blur(function(){k.refresh(C(),true)});a(e).bind("vmousemove",function(S){if(k.dragging){k.mouseMoved=true;o==="select"&&R.removeClass("ui-slider-handle-snapping");k.refresh(S);k.userModified=k.beforeStart!==n[0].selectedIndex;return false}});W.bind("vmousedown",function(S){k.dragging=
true;k.userModified=false;k.mouseMoved=false;if(o==="select")k.beforeStart=n[0].selectedIndex;k.refresh(S);return false}).bind("vclick",false);W.add(e).bind("vmouseup",function(){if(k.dragging){k.dragging=false;if(o==="select"){R.addClass("ui-slider-handle-snapping");if(k.mouseMoved)k.userModified?k.refresh(k.beforeStart==0?1:0):k.refresh(k.beforeStart);else k.refresh(k.beforeStart==0?1:0)}return k.mouseMoved=false}});W.insertAfter(n);o=="select"&&this.handle.bind({focus:function(){W.addClass(a.mobile.focusClass)},
blur:function(){W.removeClass(a.mobile.focusClass)}});this.handle.bind({vmousedown:function(){a(this).focus()},vclick:false,keydown:function(S){var da=C();if(!k.options.disabled){switch(S.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:S.preventDefault();if(!k._keySliding){k._keySliding=true;a(this).addClass("ui-state-active")}break}switch(S.keyCode){case a.mobile.keyCode.HOME:k.refresh(E);
break;case a.mobile.keyCode.END:k.refresh(y);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:k.refresh(da+H);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:k.refresh(da-H);break}}},keyup:function(){if(k._keySliding){k._keySliding=false;a(this).removeClass("ui-state-active")}}});this.refresh(c,c,true)},refresh:function(k,n,j){if(this.options.disabled||this.element.attr("disabled"))this.disable();var q=this.element,
o=q[0].nodeName.toLowerCase(),s=o==="input"?parseFloat(q.attr("min")):0,w=o==="input"?parseFloat(q.attr("max")):q.find("option").length-1,z=o==="input"&&parseFloat(q.attr("step"))>0?parseFloat(q.attr("step")):1;if(typeof k==="object"){k=k;if(!this.dragging||k.pageX<this.slider.offset().left-8||k.pageX>this.slider.offset().left+this.slider.width()+8)return;k=Math.round((k.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(k==null)k=o==="input"?parseFloat(q.val()||0):q[0].selectedIndex;
k=(parseFloat(k)-s)/(w-s)*100}if(!isNaN(k)){if(k<0)k=0;if(k>100)k=100;var C=k/100*(w-s)+s,E=(C-s)%z;C=C-E;if(Math.abs(E)*2>=z)C+=E>0?z:-z;C=parseFloat(C.toFixed(5));if(C<s)C=s;if(C>w)C=w;this.handle.css("left",k+"%");this.handle.attr({"aria-valuenow":o==="input"?C:q.find("option").eq(C).attr("value"),"aria-valuetext":o==="input"?C:q.find("option").eq(C).getEncodedText(),title:o==="input"?C:q.find("option").eq(C).getEncodedText()});this.valuebg&&this.valuebg.css("width",k+"%");if(this._labels){s=this.handle.width()/
this.slider.width()*100;var y=k&&s+(100-s)*k/100,H=k===100?0:Math.min(s+100-y,100);this._labels.each(function(){var J=a(this).is(".ui-slider-label-a");a(this).width((J?y:H)+"%")})}if(!j){j=false;if(o==="input"){j=q.val()!==C;q.val(C)}else{j=q[0].selectedIndex!==C;q[0].selectedIndex=C}!n&&j&&q.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",
true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)}});a(e).bind("pagecreate create",function(k){a.mobile.slider.prototype.enhanceWithin(k.target,true)})})(jQuery);(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:true,overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&
navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not(:jqmData(role='slider'))",mini:false},_button:function(){return a("<div/>")},_setDisabled:function(c){this.element.attr("disabled",c);this.button.attr("aria-disabled",c);return this._setOption("disabled",c)},_focusButton:function(){var c=this;setTimeout(function(){c.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var c="";if(~this.element[0].className.indexOf("ui-btn-left"))c=
" ui-btn-left";if(~this.element[0].className.indexOf("ui-btn-right"))c=" ui-btn-right";this.select=this.element.wrap("<div class='ui-select"+c+"'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var c=this,k=this.options,
n=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:k.theme,icon:k.icon,iconpos:k.iconpos,inline:k.inline,corners:k.corners,shadow:k.shadow,iconshadow:k.iconshadow,mini:k.mini});k.nativeMenu&&d.opera&&d.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(n.addClass("ui-li-has-count"));
if(k.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){c.refresh()});this.build()},build:function(){var c=this;this.select.appendTo(c.button).bind("vmousedown",function(){c.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){c.button.addClass(a.mobile.focusClass)}).bind("blur",function(){c.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){c.button.trigger("vmouseover")}).bind("vmousemove",function(){c.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",
function(){c.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){c.button.removeClass("ui-btn-down-"+c.options.theme)});c.button.bind("vmousedown",function(){c.options.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("mouseup",function(){c.options.preventFocusZoom&&a.mobile.zoom.enable(true)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var c=this;return this.selected().map(function(){return c._selectOptions().index(this)}).get()},
setButtonText:function(){var c=this,k=this.selected();this.button.find(".ui-btn-text").text(function(){if(!c.isMultiple)return k.text();return k.length?k.map(function(){return a(this).text()}).get().join(", "):c.placeholder})},setButtonCount:function(){var c=this.selected();if(this.isMultiple)this.buttonCount[c.length>1?"show":"hide"]().text(c.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},
enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(c){a.mobile.selectmenu.prototype.enhanceWithin(c.target,true)})})(jQuery);(function(a){var c=function(k){var n=k.selectID,j=k.label,q=k.select.closest(".ui-page"),o=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(q),s=k._selectOptions(),w=k.isMultiple=k.select[0].multiple,z=n+"-button",C=n+"-menu",E=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+
"theme='"+k.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+k.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+j.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),y=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+k.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(o),H=a("<ul>",{"class":"ui-selectmenu-list",id:C,role:"listbox","aria-labelledby":z}).attr("data-"+
a.mobile.ns+"theme",k.options.theme).appendTo(y),J=a("<div>",{"class":"ui-header ui-bar-"+k.options.theme}).prependTo(y),M=a("<h1>",{"class":"ui-title"}).appendTo(J),Q,R,ea;if(k.isMultiple)ea=a("<a>",{text:k.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(J).buttonMarkup();a.extend(k,{select:k.select,selectID:n,buttonId:z,menuId:C,thisPage:q,menuPage:E,label:j,screen:o,selectOptions:s,isMultiple:w,theme:k.options.theme,
listbox:y,list:H,header:J,headerTitle:M,headerClose:ea,menuPageContent:Q,menuPageClose:R,placeholder:"",build:function(){var W=this;W.refresh();W.select.attr("tabindex","-1").focus(function(){a(this).blur();W.button.focus()});W.button.bind("vclick keydown",function(P){if(P.type=="vclick"||P.keyCode&&(P.keyCode===a.mobile.keyCode.ENTER||P.keyCode===a.mobile.keyCode.SPACE)){W.open();P.preventDefault()}});W.list.attr("role","listbox").bind("focusin",function(P){a(P.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",
function(P){a(P.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(P){var S=W.select[0].selectedIndex,da=W.list.find("li:not(.ui-li-divider)").index(this),ba=W._selectOptions().eq(da)[0];ba.selected=W.isMultiple?!ba.selected:true;W.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",ba.selected).toggleClass("ui-icon-checkbox-off",!ba.selected);if(W.isMultiple||S!==da)W.select.trigger("change");W.isMultiple||W.close();
P.preventDefault()}).keydown(function(P){var S=a(P.target),da=S.closest("li");switch(P.keyCode){case 38:P=da.prev().not(".ui-selectmenu-placeholder");if(P.is(".ui-li-divider"))P=P.prev();if(P.length){S.blur().attr("tabindex","-1");P.addClass("ui-btn-down-"+k.options.theme).find("a").first().focus()}return false;case 40:P=da.next();if(P.is(".ui-li-divider"))P=P.next();if(P.length){S.blur().attr("tabindex","-1");P.addClass("ui-btn-down-"+k.options.theme).find("a").first().focus()}return false;case 13:case 32:S.trigger("click");
return false}});W.menuPage.bind("pagehide",function(){W.list.appendTo(W.listbox);W._focusButton();a.mobile._bindPageRemove.call(W.thisPage)});W.screen.bind("vclick",function(){W.close()});W.isMultiple&&W.headerClose.click(function(){if(W.menuType=="overlay"){W.close();return false}});W.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var W=this.list.find("li");return this._selectOptions().text()!==W.text()},refresh:function(W){var P=this;this._selectOptions();this.selected();var S=
this.selectedIndices();if(W||this._isRebuildRequired())P._buildList();P.setButtonText();P.setButtonCount();P.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",false).each(function(da){if(a.inArray(da,S)>-1){da=a(this);da.attr("aria-selected",true);if(P.isMultiple)da.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on");else da.is(".ui-selectmenu-placeholder")?da.next().addClass(a.mobile.activeBtnClass):da.addClass(a.mobile.activeBtnClass)}})},
close:function(){if(!(this.options.disabled||!this.isOpen)){var W=this;if(W.menuType=="page")d.history.back();else{W.screen.addClass("ui-screen-hidden");W.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");W.list.appendTo(W.listbox);W._focusButton()}W.isOpen=false}},open:function(){function W(){P.list.find("."+a.mobile.activeBtnClass+" a").focus()}if(!this.options.disabled){var P=this,S=a(d),da=P.list.parent(),ba=da.outerHeight();da=da.outerWidth();a(".ui-page-active");
var oa=S.scrollTop(),pa=P.button.offset().top,K=S.height();S=S.width();P.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){P.button.removeClass(a.mobile.activeBtnClass)},300);if(ba>K-80||!a.support.scrollTop){P.menuPage.appendTo(a.mobile.pageContainer).page();P.menuPageContent=E.find(".ui-content");P.menuPageClose=E.find(".ui-header a");P.thisPage.unbind("pagehide.remove");oa==0&&pa>K&&P.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",pa)});P.menuPage.one("pageshow",function(){W();
P.isOpen=true});P.menuType="page";P.menuPageContent.append(P.list);P.menuPage.find("div .ui-title").text(P.label.text());a.mobile.changePage(P.menuPage,{transition:a.mobile.defaultDialogTransition})}else{P.menuType="overlay";P.screen.height(a(e).height()).removeClass("ui-screen-hidden");var v=pa-oa,t=oa+K-pa,G=ba/2,D=parseFloat(P.list.parent().css("max-width"));ba=v>ba/2&&t>ba/2?pa+P.button.outerHeight()/2-G:v>t?oa+K-ba-30:oa+30;if(da<D)oa=(S-da)/2;else{oa=P.button.offset().left+P.button.outerWidth()/
2-da/2;if(oa<30)oa=30;else if(oa+da>S)oa=S-da-30}P.listbox.append(P.list).removeClass("ui-selectmenu-hidden").css({top:ba,left:oa}).addClass("in");W();P.isOpen=true}}},_buildList:function(){var W=this,P=this.options,S=this.placeholder,da=true,ba=W.isMultiple?"checkbox-off":"false";W.list.empty().filter(".ui-listview").listview("destroy");var oa=W.select.find("option"),pa=oa.length,K=this.select[0],v="data-"+a.mobile.ns,t=v+"option-index",G=v+"icon";v=v+"role";for(var D=e.createDocumentFragment(),
V,aa=0;aa<pa;aa++){var p=oa[aa],ra=a(p),va=p.parentNode,Aa=ra.text(),Ba=e.createElement("a"),Ia=[];Ba.setAttribute("href","#");Ba.appendChild(e.createTextNode(Aa));if(va!==K&&va.nodeName.toLowerCase()==="optgroup"){va=va.getAttribute("label");if(va!=V){V=e.createElement("li");V.setAttribute(v,"list-divider");V.setAttribute("role","option");V.setAttribute("tabindex","-1");V.appendChild(e.createTextNode(va));D.appendChild(V);V=va}}if(da&&(!p.getAttribute("value")||Aa.length==0||ra.jqmData("placeholder"))){da=
false;P.hidePlaceholderMenuItems&&Ia.push("ui-selectmenu-placeholder");if(!S)S=W.placeholder=Aa}ra=e.createElement("li");if(p.disabled){Ia.push("ui-disabled");ra.setAttribute("aria-disabled",true)}ra.setAttribute(t,aa);ra.setAttribute(G,ba);ra.className=Ia.join(" ");ra.setAttribute("role","option");Ba.setAttribute("tabindex","-1");ra.appendChild(Ba);D.appendChild(ra)}W.list[0].appendChild(D);!this.isMultiple&&!S.length?this.header.hide():this.headerTitle.text(this.placeholder);W.list.listview()},
_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a(e).bind("selectmenubeforecreate",function(k){k=a(k.target).data("selectmenu");k.options.nativeMenu||c(k)})})(jQuery);(function(a){a.widget("mobile.fixedtoolbar",a.mobile.widget,{options:{visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,tapToggle:true,tapToggleBlacklist:"a, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",
updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){var c=d,k=navigator.userAgent,n=navigator.platform,j=k.match(/AppleWebKit\/([0-9]+)/);j=!!j&&j[1];var q=k.match(/Fennec\/([0-9]+)/);q=!!q&&q[1];var o=k.match(/Opera Mobi\/([0-9]+)/),s=!!o&&o[1];if((n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&j&&j<534||c.operamini&&{}.toString.call(c.operamini)==="[object OperaMini]"||o&&s<7458||k.indexOf("Android")>-1&&j&&j<533||q&&q<6||"palmGetResource"in d&&
j&&j<534||k.indexOf("MeeGo")>-1&&k.indexOf("NokiaBrowser/8.5.0")>-1)return true;return false},initSelector:":jqmData(position='fixed')"},_create:function(){var c=this,k=c.options,n=c.element,j=n.is(":jqmData(role='header')")?"header":"footer",q=n.closest(".ui-page");if(k.supportBlacklist())c.destroy();else{n.addClass("ui-"+j+"-fixed");if(k.fullscreen){n.addClass("ui-"+j+"-fullscreen");q.addClass("ui-page-"+j+"-fullscreen")}else q.addClass("ui-page-"+j+"-fixed");c._addTransitionClass();c._bindPageEvents();
c._bindToggleHandlers()}},_addTransitionClass:function(){var c=this.options.transition;if(c&&c!=="none"){if(c==="slide")c=this.element.is(".ui-header")?"slidedown":"slideup";this.element.addClass(c)}},_bindPageEvents:function(){var c=this,k=c.options;c.element.closest(".ui-page").bind("pagebeforeshow",function(){k.disablePageZoom&&a.mobile.zoom.disable(true);k.visibleOnPageShow||c.hide(true)}).bind("webkitAnimationStart animationstart updatelayout",function(){k.updatePagePadding&&c.updatePagePadding()}).bind("pageshow",
function(){c.updatePagePadding();k.updatePagePadding&&a(d).bind("throttledresize."+c.widgetName,function(){c.updatePagePadding()})}).bind("pagebeforehide",function(n,j){k.disablePageZoom&&a.mobile.zoom.enable(true);k.updatePagePadding&&a(d).unbind("throttledresize."+c.widgetName);if(k.trackPersistentToolbars){n=a(".ui-footer-fixed:jqmData(id)",this);var q=a(".ui-header-fixed:jqmData(id)",this),o=n.length&&j.nextPage&&a(".ui-footer-fixed:jqmData(id='"+n.jqmData("id")+"')",j.nextPage),s=q.length&&j.nextPage&&
a(".ui-header-fixed:jqmData(id='"+q.jqmData("id")+"')",j.nextPage);o=o||a();if(o.length||s.length){o.add(s).appendTo(a.mobile.pageContainer);j.nextPage.one("pageshow",function(){o.add(s).appendTo(this)})}}})},_visible:true,updatePagePadding:function(){var c=this.element,k=c.is(".ui-header");this.options.fullscreen||c.closest(".ui-page").css("padding-"+(k?"top":"bottom"),c.outerHeight())},_useTransition:function(c){var k=this.element,n=a(d).scrollTop(),j=k.height(),q=k.closest(".ui-page").height(),
o=a.mobile.getScreenHeight();k=k.is(":jqmData(role='header')")?"header":"footer";return!c&&(this.options.transition&&this.options.transition!=="none"&&(k==="header"&&!this.options.fullscreen&&n>j||k==="footer"&&!this.options.fullscreen&&n+o<q-j)||this.options.fullscreen)},show:function(c){var k=this.element;this._useTransition(c)?k.removeClass("out ui-fixed-hidden").addClass("in"):k.removeClass("ui-fixed-hidden");this._visible=true},hide:function(c){var k=this.element,n="out"+(this.options.transition===
"slide"?" reverse":"");this._useTransition(c)?k.addClass(n).removeClass("in").animationComplete(function(){k.addClass("ui-fixed-hidden").removeClass(n)}):k.addClass("ui-fixed-hidden").removeClass(n);this._visible=false},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var c=this,k=c.options;c.element.closest(".ui-page").bind("vclick",function(n){k.tapToggle&&!a(n.target).closest(k.tapToggleBlacklist).length&&c.toggle()}).bind("focusin focusout",function(n){if(screen.width<
500&&a(n.target).is(k.hideDuringFocus)&&!a(n.target).closest(".ui-header-fixed, .ui-footer-fixed").length)c[n.type==="focusin"&&c._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});a(e).bind("pagecreate create",
function(c){a(c.target).jqmData("fullscreen")&&a(a.mobile.fixedtoolbar.prototype.options.initSelector,c.target).not(":jqmData(fullscreen)").jqmData("fullscreen",true);a.mobile.fixedtoolbar.prototype.enhanceWithin(c.target)})})(jQuery);(function(a,c){function k(z){j=z.originalEvent;w=j.accelerationIncludingGravity;q=Math.abs(w.x);o=Math.abs(w.y);s=Math.abs(w.z);if(!c.orientation&&(q>7||(s>6&&o<8||s<8&&o>6)&&q>5))n.enabled&&n.disable();else n.enabled||n.enable()}if(/iPhone|iPad|iPod/.test(navigator.platform)&&
navigator.userAgent.indexOf("AppleWebKit")>-1){var n=a.mobile.zoom,j,q,o,s,w;a(c).bind("orientationchange.iosorientationfix",n.enable).bind("devicemotion.iosorientationfix",k)}})(jQuery,this);(function(a,c){function k(){var w=a("."+a.mobile.activeBtnClass).first();s.css({top:a.support.scrollTop&&o.scrollTop()+o.height()/2||w.length&&w.offset().top||100})}function n(){var w=s.offset(),z=o.scrollTop(),C=a.mobile.getScreenHeight();if(w.top<z||w.top-z>C){s.addClass("ui-loader-fakefix");k();o.unbind("scroll",
n).bind("scroll",k)}}function j(){q.removeClass("ui-mobile-rendering")}var q=a("html");a("head");var o=a(c);a(c.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;q.addClass("ui-mobile ui-mobile-rendering");setTimeout(j,5E3);var s=a("<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");a.extend(a.mobile,{showPageLoadingMsg:function(w,z,C){q.addClass("ui-loading");if(a.mobile.loadingMessage){var E=C||a.mobile.loadingMessageTextVisible;
w=w||a.mobile.loadingMessageTheme;s.attr("class","ui-loader ui-corner-all ui-body-"+(w||"a")+" ui-loader-"+(E?"verbose":"default")+(C?" ui-loader-textonly":"")).find("h1").text(z||a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer);n();o.bind("scroll",n)}},hidePageLoadingMsg:function(){q.removeClass("ui-loading");a.mobile.loadingMessage&&s.removeClass("ui-loader-fakefix");a(c).unbind("scroll",k);a(c).unbind("scroll",n)},initializePage:function(){var w=a(":jqmData(role='page'), :jqmData(role='dialog')");
w.length||(w=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));w.each(function(){var z=a(this);z.jqmData("url")||z.attr("data-"+a.mobile.ns+"url",z.attr("id")||location.pathname+location.search)});a.mobile.firstPage=w.first();a.mobile.pageContainer=w.first().parent().addClass("ui-mobile-viewport");o.trigger("pagecontainercreate");a.mobile.showPageLoadingMsg();j();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?a.mobile.changePage(a.mobile.firstPage,
{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):o.trigger("hashchange",[true])}});a.mobile._registerInternalEvents();a(function(){c.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(c).scrollTop()===1?0:1;a.fn.controlgroup&&a(e).bind("pagecreate create",function(w){a(":jqmData(role='controlgroup')",w.target).jqmEnhanceable().controlgroup({excludeInvisible:false})});a.mobile.autoInitializePage&&a.mobile.initializePage();o.load(a.mobile.silentScroll)})}})(jQuery,
this)});steal.loaded("webapp/lib/jquery.mobile.js");
var FlashDetect=new (function(){var f=this;f.installed=false;f.raw="";f.major=-1;f.minor=-1;f.revision=-1;f.revisionStr="";var d=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(j){return e(j)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(j){var q="6,0,21";try{j.AllowScriptAccess="always";q=e(j)}catch(o){}return q}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(j){return e(j)}}],e=function(j){var q=-1;try{q=j.GetVariable("$version")}catch(o){}return q},a=function(j){var q=
-1;try{q=new ActiveXObject(j)}catch(o){q={activeXError:true}}return q},c=function(j){var q=j.split(",");return{raw:j,major:parseInt(q[0].split(" ")[1],10),minor:parseInt(q[1],10),revision:parseInt(q[2],10),revisionStr:q[2]}},k=function(j){var q=j.split(/ +/),o=q[2].split(/\./);q=q[3];return{raw:j,major:parseInt(o[0],10),minor:parseInt(o[1],10),revisionStr:q,revision:n(q)}},n=function(j){return parseInt(j.replace(/[a-zA-Z]/g,""),10)||f.revision};f.majorAtLeast=function(j){return f.major>=j};f.minorAtLeast=
function(j){return f.minor>=j};f.revisionAtLeast=function(j){return f.revision>=j};f.versionAtLeast=function(){var j=[f.major,f.minor,f.revision],q=Math.min(j.length,arguments.length);for(i=0;i<q;i++)if(j[i]>=arguments[i]){if(!(i+1<q&&j[i]==arguments[i]))return true}else return false};f.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var j=navigator.mimeTypes;if(j&&j["application/x-shockwave-flash"]&&j["application/x-shockwave-flash"].enabledPlugin&&j["application/x-shockwave-flash"].enabledPlugin.description){j=
j["application/x-shockwave-flash"].enabledPlugin.description;var q=k(j);f.raw=q.raw;f.major=q.major;f.minor=q.minor;f.revisionStr=q.revisionStr;f.revision=q.revision;f.installed=true}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){j=-1;for(var o=0;o<d.length&&j==-1;o++){q=a(d[o].name);if(!q.activeXError){f.installed=true;j=d[o].version(q);if(j!=-1){q=c(j);f.raw=q.raw;f.major=q.major;f.minor=q.minor;f.revision=q.revision;f.revisionStr=q.revisionStr}}}}}()});
FlashDetect.JS_RELEASE="1.0.4";steal.loaded("webapp/lib/flash_detect_min.js");
(function(f,d){function e(c,k){var n=c.nodeName.toLowerCase();if("area"===n){k=c.parentNode;n=k.name;var j;return!c.href||!n||k.nodeName.toLowerCase()!=="map"?false:(j=f("img[usemap=#"+n+"]")[0],!!j&&a(j))}return(/input|select|textarea|button|object/.test(n)?!c.disabled:"a"==n?c.href||k:k)&&a(c)}function a(c){return!f(c).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}f.ui=f.ui||{};if(!f.ui.version){f.extend(f.ui,{version:"1.8.20",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(c,k){return typeof c=="number"?this.each(function(){var n=
this;setTimeout(function(){f(n).focus();k&&k.call(n)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;return f.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?(c=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.curCSS(this,"position",1))&&/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0)):(c=this.parents().filter(function(){return/(auto|scroll)/.test(f.curCSS(this,
"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0)),/fixed/.test(this.css("position"))||!c.length?f(document):c},zIndex:function(c){if(c!==d)return this.css("zIndex",c);if(this.length){c=f(this[0]);for(var k;c.length&&c[0]!==document;){k=c.css("position");if(k==="absolute"||k==="relative"||k==="fixed"){k=parseInt(c.css("zIndex"),10);if(!isNaN(k)&&k!==0)return k}c=c.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});f.each(["Width","Height"],function(c,k){function n(s,w,z,C){return f.each(j,function(){w-=parseFloat(f.curCSS(s,"padding"+this,true))||0;z&&(w-=parseFloat(f.curCSS(s,"border"+this+"Width",true))||0);C&&(w-=parseFloat(f.curCSS(s,"margin"+this,true))||0)}),w}var j=k==="Width"?["Left","Right"]:["Top","Bottom"],q=k.toLowerCase(),o={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,
outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+k]=function(s){return s===d?o["inner"+k].call(this):this.each(function(){f(this).css(q,n(this,s)+"px")})};f.fn["outer"+k]=function(s,w){return typeof s!="number"?o["outer"+k].call(this,s):this.each(function(){f(this).css(q,n(this,s,true,w)+"px")})}});f.extend(f.expr[":"],{data:function(c,k,n){return!!f.data(c,n[3])},focusable:function(c){return e(c,!isNaN(f.attr(c,"tabindex")))},tabbable:function(c){var k=f.attr(c,"tabindex"),n=
isNaN(k);return(n||k>=0)&&e(c,!n)}});f(function(){var c=document.body,k=c.appendChild(k=document.createElement("div"));f.extend(k.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});f.support.minHeight=k.offsetHeight===100;f.support.selectstart="onselectstart"in k;c.removeChild(k).style.display="none"});f.extend(f.ui,{plugin:{add:function(c,k,n){c=f.ui[c].prototype;for(var j in n){c.plugins[j]=c.plugins[j]||[];c.plugins[j].push([k,n[j]])}},call:function(c,k,n){if((k=c.plugins[k])&&c.element[0].parentNode)for(var j=
0;j<k.length;j++)c.options[k[j][0]]&&k[j][1].apply(c.element,n)}},contains:function(c,k){return document.compareDocumentPosition?c.compareDocumentPosition(k)&16:c!==k&&c.contains(k)},hasScroll:function(c,k){if(f(c).css("overflow")==="hidden")return false;k=k&&k==="left"?"scrollLeft":"scrollTop";var n=false;return c[k]>0?true:(c[k]=1,n=c[k]>0,c[k]=0,n)},isOverAxis:function(c,k,n){return c>k&&c<k+n},isOver:function(c,k,n,j,q,o){return f.ui.isOverAxis(c,n,q)&&f.ui.isOverAxis(k,j,o)}})}})(jQuery);
(function(f,d){if(f.cleanData){var e=f.cleanData;f.cleanData=function(c){for(var k=0,n;(n=c[k])!=null;k++)try{f(n).triggerHandler("remove")}catch(j){}e(c)}}else{var a=f.fn.remove;f.fn.remove=function(c,k){return this.each(function(){return k||(!c||f.filter(c,[this]).length)&&f("*",this).add([this]).each(function(){try{f(this).triggerHandler("remove")}catch(n){}}),a.call(f(this),c,k)})}}f.widget=function(c,k,n){var j=c.split(".")[0],q;c=c.split(".")[1];q=j+"-"+c;n||(n=k,k=f.Widget);f.expr[":"][q]=
function(o){return!!f.data(o,c)};f[j]=f[j]||{};f[j][c]=function(o,s){arguments.length&&this._createWidget(o,s)};k=new k;k.options=f.extend(true,{},k.options);f[j][c].prototype=f.extend(true,k,{namespace:j,widgetName:c,widgetEventPrefix:f[j][c].prototype.widgetEventPrefix||c,widgetBaseClass:q},n);f.widget.bridge(c,f[j][c])};f.widget.bridge=function(c,k){f.fn[c]=function(n){var j=typeof n=="string",q=Array.prototype.slice.call(arguments,1),o=this;return n=!j&&q.length?f.extend.apply(null,[true,n].concat(q)):
n,j&&n.charAt(0)==="_"?o:(j?this.each(function(){var s=f.data(this,c),w=s&&f.isFunction(s[n])?s[n].apply(s,q):s;if(w!==s&&w!==d)return o=w,false}):this.each(function(){var s=f.data(this,c);s?s.option(n||{})._init():f.data(this,c,new k(n,this))}),o)}};f.Widget=function(c,k){arguments.length&&this._createWidget(c,k)};f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(c,k){f.data(k,this.widgetName,this);this.element=f(k);this.options=f.extend(true,
{},this.options,this._getCreateOptions(),c);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,k){var n=c;if(arguments.length===0)return f.extend({},this.options);if(typeof c=="string"){if(k===d)return this.options[c];n={};n[c]=k}return this._setOptions(n),this},_setOptions:function(c){var k=this;return f.each(c,function(n,j){k._setOption(n,j)}),this},_setOption:function(c,k){return this.options[c]=k,c==="disabled"&&this.widget()[k?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
k),this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(c,k,n){var j,q=this.options[c];n=n||{};k=f.Event(k);k.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();k.target=this.element[0];if(c=k.originalEvent)for(j in c)j in k||(k[j]=c[j]);return this.element.trigger(k,n),!(f.isFunction(q)&&q.call(this.element[0],k,n)===false||k.isDefaultPrevented())}}})(jQuery);
(function(f){var d=false;f(document).mouseup(function(){d=false});f.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(a){return e._mouseDown(a)}).bind("click."+this.widgetName,function(a){if(true===f.data(a.target,e.widgetName+".preventClickEvent"))return f.removeData(a.target,e.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),false});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName);f(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!d){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var a=this,c=e.which==1,k=typeof this.options.cancel=="string"&&e.target.nodeName?f(e.target).closest(this.options.cancel).length:false;if(!c||k||!this._mouseCapture(e))return true;(this.mouseDelayMet=!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=
true},this.options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted)return e.preventDefault(),true}return true===f.data(e.target,this.widgetName+".preventClickEvent")&&f.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return a._mouseMove(n)},this._mouseUpDelegate=function(n){return a._mouseUp(n)},f(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate),e.preventDefault(),d=true,true}},_mouseMove:function(e){return!f.browser.msie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return f(document).unbind("mousemove."+this.widgetName,
this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=false,e.target==this._mouseDownEvent.target&&f.data(e.target,this.widgetName+".preventClickEvent",true),this._mouseStop(e)),false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},
_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(f){f.widget("ui.draggable",f.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){this.options.helper=="original"&&
!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(d){var e=this.options;
return this.helper||e.disabled||f(d.target).is(".ui-resizable-handle")?false:(this.handle=this._getHandle(d),this.handle?(e.iframeFix&&f(e.iframeFix===true?"iframe":e.iframeFix).each(function(){f('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(f(this).offset()).appendTo("body")}),true):false)},_mouseStart:function(d){var e=this.options;return this.helper=this._createHelper(d),
this._cacheHelperProportions(),f.ui.ddmanager&&(f.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},f.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=
this.position=this._generatePosition(d),this.originalPageX=d.pageX,this.originalPageY=d.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment(),this._trigger("start",d)===false?(this._clear(),false):(this._cacheHelperProportions(),f.ui.ddmanager&&!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,d),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(d,true),f.ui.ddmanager&&f.ui.ddmanager.dragStart(this,d),true)},_mouseDrag:function(d,e){this.position=
this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!e){e=this._uiHash();if(this._trigger("drag",d,e)===false)return this._mouseUp({}),false;this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return f.ui.ddmanager&&f.ui.ddmanager.drag(this,d),false},_mouseStop:function(d){var e=false;f.ui.ddmanager&&!this.options.dropBehaviour&&
(e=f.ui.ddmanager.drop(this,d));this.dropped&&(e=this.dropped,this.dropped=false);for(var a=this.element[0],c=false;a&&(a=a.parentNode);)a==document&&(c=true);if(!c&&this.options.helper==="original")return false;if(this.options.revert=="invalid"&&!e||this.options.revert=="valid"&&e||this.options.revert===true||f.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var k=this;f(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){k._trigger("stop",
d)!==false&&k._clear()})}else this._trigger("stop",d)!==false&&this._clear();return false},_mouseUp:function(d){return this.options.iframeFix===true&&f("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),f.ui.ddmanager&&f.ui.ddmanager.dragStop(this,d),f.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(d){var e=!this.options.handle||!f(this.options.handle,
this.element).length?true:false;return f(this.options.handle,this.element).find("*").andSelf().each(function(){this==d.target&&(e=true)}),e},_createHelper:function(d){var e=this.options;d=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[d])):e.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(e.appendTo=="parent"?this.element[0].parentNode:e.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position",
"absolute"),d},_adjustOffsetFromHelper:function(d){typeof d=="string"&&(d=d.split(" "));f.isArray(d)&&(d={left:+d[0],top:+d[1]||0});"left"in d&&(this.offset.click.left=d.left+this.margins.left);"right"in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left);"top"in d&&(this.offset.click.top=d.top+this.margins.top);"bottom"in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();
var d=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&f.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;d.containment=="parent"&&(d.containment=this.helper[0].parentNode);if(d.containment=="document"||d.containment=="window")this.containment=[d.containment=="document"?0:f(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d.containment=="document"?0:f(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,
(d.containment=="document"?0:f(window).scrollLeft())+f(d.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d.containment=="document"?0:f(window).scrollTop())+(f(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)&&d.containment.constructor!=Array){d=f(d.containment);var e=d[0];if(e){d.offset();var a=f(e).css("overflow")!=
"hidden";this.containment=[(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0),(parseInt(f(e).css("borderTopWidth"),10)||0)+(parseInt(f(e).css("paddingTop"),10)||0),(a?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),
10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=d}}else d.containment.constructor==Array&&(this.containment=d.containment)},_convertPositionTo:function(d,e){e||(e=this.position);d=d=="absolute"?1:-1;var a=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(a[0].tagName);return{top:e.top+
this.offset.relative.top*d+this.offset.parent.top*d-(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:a.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())*d)}},_generatePosition:function(d){var e=this.options,a=this.cssPosition=="absolute"&&
(this.scrollParent[0]==document||!f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(a[0].tagName),k=d.pageX,n=d.pageY;if(this.originalPosition){var j;if(this.containment){if(this.relative_container){j=this.relative_container.offset();j=[this.containment[0]+j.left,this.containment[1]+j.top,this.containment[2]+j.left,this.containment[3]+j.top]}else j=this.containment;d.pageX-this.offset.click.left<j[0]&&(k=j[0]+this.offset.click.left);
d.pageY-this.offset.click.top<j[1]&&(n=j[1]+this.offset.click.top);d.pageX-this.offset.click.left>j[2]&&(k=j[2]+this.offset.click.left);d.pageY-this.offset.click.top>j[3]&&(n=j[3]+this.offset.click.top)}if(e.grid){n=e.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;n=j?n-this.offset.click.top<j[1]||n-this.offset.click.top>j[3]?n-this.offset.click.top<j[1]?n+e.grid[1]:n-e.grid[1]:n:n;k=e.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/
e.grid[0])*e.grid[0]:this.originalPageX;k=j?k-this.offset.click.left<j[0]||k-this.offset.click.left>j[2]?k-this.offset.click.left<j[0]?k+e.grid[0]:k-e.grid[0]:k:k}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:a.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(f.browser.safari&&f.browser.version<
526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(d,e,a){return a=a||this._uiHash(),f.ui.plugin.call(this,d,[e,a]),d=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),f.Widget.prototype._trigger.call(this,d,e,
a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});f.extend(f.ui.draggable,{version:"1.8.20"});f.ui.plugin.add("draggable","connectToSortable",{start:function(d,e){var a=f(this).data("draggable"),c=a.options,k=f.extend({},e,{item:a.element});a.sortables=[];f(c.connectToSortable).each(function(){var n=f.data(this,"sortable");n&&!n.options.disabled&&(a.sortables.push({instance:n,shouldRevert:n.options.revert}),
n.refreshPositions(),n._trigger("activate",d,k))})},stop:function(d,e){var a=f(this).data("draggable"),c=f.extend({},e,{item:a.element});f.each(a.sortables,function(){this.instance.isOver?(this.instance.isOver=0,a.cancelHelperRemoval=true,this.instance.cancelHelperRemoval=false,this.shouldRevert&&(this.instance.options.revert=true),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,a.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):
(this.instance.cancelHelperRemoval=false,this.instance._trigger("deactivate",d,c))})},drag:function(d,e){var a=f(this).data("draggable"),c=this;f.each(a.sortables,function(){this.instance.positionAbs=a.positionAbs;this.instance.helperProportions=a.helperProportions;this.instance.offset.click=a.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=f(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",
true),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return e.helper[0]},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,true),this.instance._mouseStart(d,true,true),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top,
a._trigger("toSortable",d),a.dropped=this.instance.element,a.currentItem=a.element,this.instance.fromOutside=a),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=true,this.instance.options.revert=false,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,true),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&
this.instance.placeholder.remove(),a._trigger("fromSortable",d),a.dropped=false)})}});f.ui.plugin.add("draggable","cursor",{start:function(){var d=f("body"),e=f(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor"));d.css("cursor",e.cursor)},stop:function(){var d=f(this).data("draggable").options;d._cursor&&f("body").css("cursor",d._cursor)}});f.ui.plugin.add("draggable","opacity",{start:function(d,e){d=f(e.helper);e=f(this).data("draggable").options;d.css("opacity")&&(e._opacity=
d.css("opacity"));d.css("opacity",e.opacity)},stop:function(d,e){d=f(this).data("draggable").options;d._opacity&&f(e.helper).css("opacity",d._opacity)}});f.ui.plugin.add("draggable","scroll",{start:function(){var d=f(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(d){var e=f(this).data("draggable"),a=e.options,c=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!a.axis||a.axis!=
"x")e.overflowOffset.top+e.scrollParent[0].offsetHeight-d.pageY<a.scrollSensitivity?(e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop+a.scrollSpeed):d.pageY-e.overflowOffset.top<a.scrollSensitivity&&(e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop-a.scrollSpeed);if(!a.axis||a.axis!="y")e.overflowOffset.left+e.scrollParent[0].offsetWidth-d.pageX<a.scrollSensitivity?(e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft+a.scrollSpeed):d.pageX-e.overflowOffset.left<a.scrollSensitivity&&
(e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft-a.scrollSpeed)}else{if(!a.axis||a.axis!="x")d.pageY-f(document).scrollTop()<a.scrollSensitivity?(c=f(document).scrollTop(f(document).scrollTop()-a.scrollSpeed)):f(window).height()-(d.pageY-f(document).scrollTop())<a.scrollSensitivity&&(c=f(document).scrollTop(f(document).scrollTop()+a.scrollSpeed));if(!a.axis||a.axis!="y")d.pageX-f(document).scrollLeft()<a.scrollSensitivity?(c=f(document).scrollLeft(f(document).scrollLeft()-a.scrollSpeed)):
f(window).width()-(d.pageX-f(document).scrollLeft())<a.scrollSensitivity&&(c=f(document).scrollLeft(f(document).scrollLeft()+a.scrollSpeed))}c!==false&&f.ui.ddmanager&&!a.dropBehaviour&&f.ui.ddmanager.prepareOffsets(e,d)}});f.ui.plugin.add("draggable","snap",{start:function(){var d=f(this).data("draggable"),e=d.options;d.snapElements=[];f(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var a=f(this),c=a.offset();this!=d.element[0]&&d.snapElements.push({item:this,
width:a.outerWidth(),height:a.outerHeight(),top:c.top,left:c.left})})},drag:function(d,e){for(var a=f(this).data("draggable"),c=a.options,k=c.snapTolerance,n=e.offset.left,j=n+a.helperProportions.width,q=e.offset.top,o=q+a.helperProportions.height,s=a.snapElements.length-1;s>=0;s--){var w=a.snapElements[s].left,z=w+a.snapElements[s].width,C=a.snapElements[s].top,E=C+a.snapElements[s].height;if(w-k<n&&n<z+k&&C-k<q&&q<E+k||w-k<n&&n<z+k&&C-k<o&&o<E+k||w-k<j&&j<z+k&&C-k<q&&q<E+k||w-k<j&&j<z+k&&C-k<o&&
o<E+k){if(c.snapMode!="inner"){var y=Math.abs(C-o)<=k,H=Math.abs(E-q)<=k,J=Math.abs(w-j)<=k,M=Math.abs(z-n)<=k;y&&(e.position.top=a._convertPositionTo("relative",{top:C-a.helperProportions.height,left:0}).top-a.margins.top);H&&(e.position.top=a._convertPositionTo("relative",{top:E,left:0}).top-a.margins.top);J&&(e.position.left=a._convertPositionTo("relative",{top:0,left:w-a.helperProportions.width}).left-a.margins.left);M&&(e.position.left=a._convertPositionTo("relative",{top:0,left:z}).left-a.margins.left)}var Q=
y||H||J||M;if(c.snapMode!="outer"){y=Math.abs(C-q)<=k;H=Math.abs(E-o)<=k;J=Math.abs(w-n)<=k;M=Math.abs(z-j)<=k;y&&(e.position.top=a._convertPositionTo("relative",{top:C,left:0}).top-a.margins.top);H&&(e.position.top=a._convertPositionTo("relative",{top:E-a.helperProportions.height,left:0}).top-a.margins.top);J&&(e.position.left=a._convertPositionTo("relative",{top:0,left:w}).left-a.margins.left);M&&(e.position.left=a._convertPositionTo("relative",{top:0,left:z-a.helperProportions.width}).left-a.margins.left)}!a.snapElements[s].snapping&&
(y||H||J||M||Q)&&a.options.snap.snap&&a.options.snap.snap.call(a.element,d,f.extend(a._uiHash(),{snapItem:a.snapElements[s].item}));a.snapElements[s].snapping=y||H||J||M||Q}else{a.snapElements[s].snapping&&a.options.snap.release&&a.options.snap.release.call(a.element,d,f.extend(a._uiHash(),{snapItem:a.snapElements[s].item}));a.snapElements[s].snapping=false}}}});f.ui.plugin.add("draggable","stack",{start:function(){var d=f(this).data("draggable").options;d=f.makeArray(f(d.stack)).sort(function(a,
c){return(parseInt(f(a).css("zIndex"),10)||0)-(parseInt(f(c).css("zIndex"),10)||0)});if(d.length){var e=parseInt(d[0].style.zIndex)||0;f(d).each(function(a){this.style.zIndex=e+a});this[0].style.zIndex=e+d.length}}});f.ui.plugin.add("draggable","zIndex",{start:function(d,e){d=f(e.helper);e=f(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex"));d.css("zIndex",e.zIndex)},stop:function(d,e){d=f(this).data("draggable").options;d._zIndex&&f(e.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(f){f.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,e=d.accept;this.isover=0;this.isout=1;this.accept=f.isFunction(e)?e:function(a){return a.is(e)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};f.ui.ddmanager.droppables[d.scope]=f.ui.ddmanager.droppables[d.scope]||[];f.ui.ddmanager.droppables[d.scope].push(this);
d.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var d=f.ui.ddmanager.droppables[this.options.scope],e=0;e<d.length;e++)d[e]==this&&d.splice(e,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(d,e){d=="accept"&&(this.accept=f.isFunction(e)?e:function(a){return a.is(e)});f.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var e=f.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);e&&this._trigger("activate",d,this.ui(e))},_deactivate:function(d){var e=f.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",d,this.ui(e))},_over:function(d){var e=f.ui.ddmanager.current;!e||(e.currentItem||e.element)[0]==this.element[0]||this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
d,this.ui(e)))},_out:function(d){var e=f.ui.ddmanager.current;!e||(e.currentItem||e.element)[0]==this.element[0]||this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(e)))},_drop:function(d,e){var a=e||f.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0])return false;var c=false;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var k=
f.data(this,"droppable");if(k.options.greedy&&!k.options.disabled&&k.options.scope==a.options.scope&&k.accept.call(k.element[0],a.currentItem||a.element)&&f.ui.intersect(a,f.extend(k,{offset:k.element.offset()}),k.options.tolerance))return c=true,false}),c?false:this.accept.call(this.element[0],a.currentItem||a.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",d,this.ui(a)),
this.element):false},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}});f.extend(f.ui.droppable,{version:"1.8.20"});f.ui.intersect=function(d,e,a){if(!e.offset)return false;var c=(d.positionAbs||d.position.absolute).left,k=c+d.helperProportions.width,n=(d.positionAbs||d.position.absolute).top,j=n+d.helperProportions.height,q=e.offset.left,o=q+e.proportions.width,s=e.offset.top,w=s+e.proportions.height;switch(a){case "fit":return q<=
c&&k<=o&&s<=n&&j<=w;case "intersect":return q<c+d.helperProportions.width/2&&k-d.helperProportions.width/2<o&&s<n+d.helperProportions.height/2&&j-d.helperProportions.height/2<w;case "pointer":return f.ui.isOver((d.positionAbs||d.position.absolute).top+(d.clickOffset||d.offset.click).top,(d.positionAbs||d.position.absolute).left+(d.clickOffset||d.offset.click).left,s,q,e.proportions.height,e.proportions.width);case "touch":return(n>=s&&n<=w||j>=s&&j<=w||n<s&&j>w)&&(c>=q&&c<=o||k>=q&&k<=o||c<q&&k>o);
default:return false}};f.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(d,e){var a=f.ui.ddmanager.droppables[d.options.scope]||[],c=e?e.type:null,k=(d.currentItem||d.element).find(":data(droppable)").andSelf(),n=0;a:for(;n<a.length;n++)if(!(a[n].options.disabled||d&&!a[n].accept.call(a[n].element[0],d.currentItem||d.element))){for(var j=0;j<k.length;j++)if(k[j]==a[n].element[0]){a[n].proportions.height=0;continue a}a[n].visible=a[n].element.css("display")!="none";if(a[n].visible){c==
"mousedown"&&a[n]._activate.call(a[n],e);a[n].offset=a[n].element.offset();a[n].proportions={width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight}}}},drop:function(d,e){var a=false;return f.each(f.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options){!this.options.disabled&&this.visible&&f.ui.intersect(d,this,this.options.tolerance)&&(a=this._drop.call(this,e)||a);!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)&&
(this.isout=1,this.isover=0,this._deactivate.call(this,e))}}),a},dragStart:function(d,e){d.element.parents(":not(body,html)").bind("scroll.droppable",function(){d.options.refreshPositions||f.ui.ddmanager.prepareOffsets(d,e)})},drag:function(d,e){d.options.refreshPositions&&f.ui.ddmanager.prepareOffsets(d,e);f.each(f.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var a=f.ui.intersect(d,this,this.options.tolerance);if(a=!a&&this.isover==
1?"isout":a&&this.isover==0?"isover":null){var c;if(this.options.greedy){var k=this.element.parents(":data(droppable):eq(0)");k.length&&(c=f.data(k[0],"droppable"),c.greedyChild=a=="isover"?1:0)}c&&a=="isover"&&(c.isover=0,c.isout=1,c._out.call(c,e));this[a]=1;this[a=="isout"?"isover":"isout"]=0;this[a=="isover"?"_over":"_out"].call(this,e);c&&a=="isout"&&(c.isout=0,c.isover=1,c._over.call(c,e))}}})},dragStop:function(d,e){d.element.parents(":not(body,html)").unbind("scroll.droppable");d.options.refreshPositions||
f.ui.ddmanager.prepareOffsets(d,e)}}})(jQuery);
(function(f){f.widget("ui.sortable",f.ui.mouse,{widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var d=this.options;this.containerCache=
{};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?d.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},destroy:function(){f.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--)this.items[d].item.removeData(this.widgetName+
"-item");return this},_setOption:function(d,e){d==="disabled"?(this.options[d]=e,this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")):f.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,e){var a=this;if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(d);var c=null,k=this;f(d.target).parents().each(function(){if(f.data(this,a.widgetName+"-item")==k)return c=f(this),false});f.data(d.target,a.widgetName+
"-item")==k&&(c=f(d.target));if(!c)return false;if(this.options.handle&&!e){var n=false;f(this.options.handle,c).find("*").andSelf().each(function(){this==d.target&&(n=true)});if(!n)return false}return this.currentItem=c,this._removeCurrentsFromItems(),true},_mouseStart:function(d,e,a){e=this.options;var c=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(d);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=
this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");f.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();e.cursor&&(f("body").css("cursor")&&(this._storedCursor=f("body").css("cursor")),f("body").css("cursor",e.cursor));e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity));e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=
this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex));this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",d,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!a)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",d,c._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,
d),this.dragging=true,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(d),true},_mouseDrag:function(d){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var e=this.options,a=false;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-d.pageY<e.scrollSensitivity?(this.scrollParent[0].scrollTop=
a=this.scrollParent[0].scrollTop+e.scrollSpeed):d.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-d.pageX<e.scrollSensitivity?(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+e.scrollSpeed):d.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(d.pageY-f(document).scrollTop()<
e.scrollSensitivity?(a=f(document).scrollTop(f(document).scrollTop()-e.scrollSpeed)):f(window).height()-(d.pageY-f(document).scrollTop())<e.scrollSensitivity&&(a=f(document).scrollTop(f(document).scrollTop()+e.scrollSpeed)),d.pageX-f(document).scrollLeft()<e.scrollSensitivity?(a=f(document).scrollLeft(f(document).scrollLeft()-e.scrollSpeed)):f(window).width()-(d.pageX-f(document).scrollLeft())<e.scrollSensitivity&&(a=f(document).scrollLeft(f(document).scrollLeft()+e.scrollSpeed)));a!==false&&f.ui.ddmanager&&
!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,d)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(e=this.items.length-1;e>=0;e--){a=this.items[e];var c=a.item[0],k=this._intersectsWithPointer(a);if(k)if(c!=this.currentItem[0]&&this.placeholder[k==1?"next":"prev"]()[0]!=c&&!f.ui.contains(this.placeholder[0],
c)&&(this.options.type=="semi-dynamic"?!f.ui.contains(this.element[0],c):true)){this.direction=k==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(a))this._rearrange(d,a);else break;this._trigger("change",d,this._uiHash());break}}return this._contactContainers(d),f.ui.ddmanager&&f.ui.ddmanager.drag(this,d),this._trigger("sort",d,this._uiHash()),this.lastPositionAbs=this.positionAbs,false},_mouseStop:function(d,e){if(d){f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,
d);if(this.options.revert){var a=this;e=a.placeholder.offset();a.reverting=true;f(this.helper).animate({left:e.left-this.offset.parent.left-a.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-a.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){a._clear(d)})}else this._clear(d,e);return false}},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});
this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,d._uiHash(this));this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,d._uiHash(this)),this.containers[e].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=
"original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(d){var e=this._getItemsAsjQuery(d&&d.connected),a=[];return d=d||{},f(e).each(function(){var c=(f(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[-=_](.+)/);c&&a.push((d.key||c[1]+
"[]")+"="+(d.key&&d.expression?c[1]:c[2]))}),!a.length&&d.key&&a.push(d.key+"="),a.join("&")},toArray:function(d){var e=this._getItemsAsjQuery(d&&d.connected),a=[];return d=d||{},e.each(function(){a.push(f(d.item||this).attr(d.attribute||"id")||"")}),a},_intersectsWith:function(d){var e=this.positionAbs.left,a=e+this.helperProportions.width,c=this.positionAbs.top,k=c+this.helperProportions.height,n=d.left,j=n+d.width,q=d.top,o=q+d.height,s=this.offset.click.top,w=this.offset.click.left;s=c+s>q&&c+
s<o&&e+w>n&&e+w<j;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>d[this.floating?"width":"height"]?s:n<e+this.helperProportions.width/2&&a-this.helperProportions.width/2<j&&q<c+this.helperProportions.height/2&&k-this.helperProportions.height/2<o},_intersectsWithPointer:function(d){var e=this.options.axis==="x"||f.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,
d.height);d=this.options.axis==="y"||f.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width);e=e&&d;d=this._getDragVerticalDirection();var a=this._getDragHorizontalDirection();return e?this.floating?a&&a=="right"||d=="down"?2:1:d&&(d=="down"?2:1):false},_intersectsWithSides:function(d){var e=f.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top+d.height/2,d.height);d=f.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left+d.width/2,d.width);var a=this._getDragVerticalDirection(),
c=this._getDragHorizontalDirection();return this.floating&&c?c=="right"&&d||c=="left"&&!d:a&&(a=="down"&&e||a=="up"&&!e)},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return d!=0&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return d!=0&&(d>0?"right":"left")},refresh:function(d){return this._refreshItems(d),this.refreshPositions(),this},_connectWith:function(){var d=this.options;return d.connectWith.constructor==
String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(d){var e=[],a=[],c=this._connectWith();if(c&&d)for(d=c.length-1;d>=0;d--)for(var k=f(c[d]),n=k.length-1;n>=0;n--){var j=f.data(k[n],this.widgetName);j&&j!=this&&!j.options.disabled&&a.push([f.isFunction(j.options.items)?j.options.items.call(j.element):f(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}a.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,
item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(d=a.length-1;d>=0;d--)a[d][0].each(function(){e.push(this)});return f(e)},_removeCurrentsFromItems:function(){for(var d=this.currentItem.find(":data("+this.widgetName+"-item)"),e=0;e<this.items.length;e++)for(var a=0;a<d.length;a++)d[a]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(d){this.items=[];this.containers=[this];var e=this.items,a=[[f.isFunction(this.options.items)?
this.options.items.call(this.element[0],d,{item:this.currentItem}):f(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(var k=c.length-1;k>=0;k--)for(var n=f(c[k]),j=n.length-1;j>=0;j--){var q=f.data(n[j],this.widgetName);q&&q!=this&&!q.options.disabled&&(a.push([f.isFunction(q.options.items)?q.options.items.call(q.element[0],d,{item:this.currentItem}):f(q.options.items,q.element),q]),this.containers.push(q))}for(k=a.length-1;k>=0;k--){d=a[k][1];c=a[k][0];j=0;for(n=
c.length;j<n;j++){q=f(c[j]);q.data(this.widgetName+"-item",d);e.push({item:q,instance:d,width:0,height:0,left:0,top:0})}}},refreshPositions:function(d){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var e=this.items.length-1;e>=0;e--){var a=this.items[e];if(!(a.instance!=this.currentContainer&&this.currentContainer&&a.item[0]!=this.currentItem[0])){var c=this.options.toleranceElement?f(this.options.toleranceElement,a.item):a.item;d||(a.width=c.outerWidth(),a.height=
c.outerHeight());c=c.offset();a.left=c.left;a.top=c.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;e>=0;e--){c=this.containers[e].element.offset();this.containers[e].containerCache.left=c.left;this.containers[e].containerCache.top=c.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},
_createPlaceholder:function(d){var e=d||this,a=e.options;if(!a.placeholder||a.placeholder.constructor==String){var c=a.placeholder;a.placeholder={element:function(){var k=f(document.createElement(e.currentItem[0].nodeName)).addClass(c||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return c||(k.style.visibility="hidden"),k},update:function(k,n){if(!(c&&!a.forcePlaceholderSize)){n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||
0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=f(a.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);a.placeholder.update(e,e.placeholder)},_contactContainers:function(d){for(var e=null,a=null,c=this.containers.length-1;c>=0;c--)if(!f.ui.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(!(e&&
f.ui.contains(this.containers[c].element[0],e.element[0]))){e=this.containers[c];a=c}}else this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",d,this._uiHash(this)),this.containers[c].containerCache.over=0);if(e)if(this.containers.length===1){this.containers[a]._trigger("over",d,this._uiHash(this));this.containers[a].containerCache.over=1}else if(this.currentContainer!=this.containers[a]){e=1E4;c=null;for(var k=this.positionAbs[this.containers[a].floating?"left":"top"],n=this.items.length-
1;n>=0;n--)if(f.ui.contains(this.containers[a].element[0],this.items[n].item[0])){var j=this.items[n][this.containers[a].floating?"left":"top"];Math.abs(j-k)<e&&(e=Math.abs(j-k),c=this.items[n])}if(c||this.options.dropOnEmpty){this.currentContainer=this.containers[a];c?this._rearrange(d,c,null,true):this._rearrange(d,null,this.containers[a].element,true);this._trigger("change",d,this._uiHash());this.containers[a]._trigger("change",d,this._uiHash(this));this.options.placeholder.update(this.currentContainer,
this.placeholder);this.containers[a]._trigger("over",d,this._uiHash(this));this.containers[a].containerCache.over=1}}},_createHelper:function(d){var e=this.options;d=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[d,this.currentItem])):e.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||f(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,
height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||e.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||e.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(d){typeof d=="string"&&(d=d.split(" "));f.isArray(d)&&(d={left:+d[0],top:+d[1]||0});"left"in d&&(this.offset.click.left=d.left+this.margins.left);"right"in d&&
(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left);"top"in d&&(this.offset.click.top=d.top+this.margins.top);"bottom"in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=
this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&f.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),
left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;d.containment=="parent"&&(d.containment=this.helper[0].parentNode);if(d.containment==
"document"||d.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,f(d.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(f(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)){var e=f(d.containment)[0];d=f(d.containment).offset();
var a=f(e).css("overflow")!="hidden";this.containment=[d.left+(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(f(e).css("borderTopWidth"),10)||0)+(parseInt(f(e).css("paddingTop"),10)||0)-this.margins.top,d.left+(a?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(a?Math.max(e.scrollHeight,
e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,e){e||(e=this.position);d=d=="absolute"?1:-1;var a=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(a[0].tagName);return{top:e.top+this.offset.relative.top*d+this.offset.parent.top*
d-(f.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:a.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(f.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())*d)}},_generatePosition:function(d){var e=this.options,a=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:
this.scrollParent,c=/(html|body)/i.test(a[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var k=d.pageX,n=d.pageY;if(this.originalPosition){this.containment&&(d.pageX-this.offset.click.left<this.containment[0]&&(k=this.containment[0]+this.offset.click.left),d.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),d.pageX-this.offset.click.left>
this.containment[2]&&(k=this.containment[2]+this.offset.click.left),d.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top));if(e.grid){n=this.originalPageY+Math.round((n-this.originalPageY)/e.grid[1])*e.grid[1];n=this.containment?n-this.offset.click.top<this.containment[1]||n-this.offset.click.top>this.containment[3]?n-this.offset.click.top<this.containment[1]?n+e.grid[1]:n-e.grid[1]:n:n;k=this.originalPageX+Math.round((k-this.originalPageX)/e.grid[0])*e.grid[0];
k=this.containment?k-this.offset.click.left<this.containment[0]||k-this.offset.click.left>this.containment[2]?k-this.offset.click.left<this.containment[0]?k+e.grid[0]:k-e.grid[0]:k:k}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(f.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:a.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(f.browser.safari&&this.cssPosition==
"fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())}},_rearrange:function(d,e,a,c){a?a[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var k=this,n=this.counter;window.setTimeout(function(){n==k.counter&&k.refreshPositions(!c)},0)},_clear:function(d,e){this.reverting=false;var a=[];!this._noFinalSort&&this.currentItem.parent().length&&
this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS)if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static")this._storedCSS[c]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&a.push(function(k){this._trigger("receive",k,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||
this.domPosition.parent!=this.currentItem.parent()[0])&&!e&&a.push(function(k){this._trigger("update",k,this._uiHash())});if(!f.ui.contains(this.element[0],this.currentItem[0])){e||a.push(function(k){this._trigger("remove",k,this._uiHash())});for(c=this.containers.length-1;c>=0;c--)f.ui.contains(this.containers[c].element[0],this.currentItem[0])&&!e&&(a.push(function(k){return function(n){k._trigger("receive",n,this._uiHash(this))}}.call(this,this.containers[c])),a.push(function(k){return function(n){k._trigger("update",
n,this._uiHash(this))}}.call(this,this.containers[c])))}for(c=this.containers.length-1;c>=0;c--){e||a.push(function(k){return function(n){k._trigger("deactivate",n,this._uiHash(this))}}.call(this,this.containers[c]));this.containers[c].containerCache.over&&(a.push(function(k){return function(n){k._trigger("out",n,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over=0)}this._storedCursor&&f("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",
this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",d,this._uiHash());for(c=0;c<a.length;c++)a[c].call(this,d);this._trigger("stop",d,this._uiHash())}return false}e||this._trigger("beforeStop",d,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(c=
0;c<a.length;c++)a[c].call(this,d);this._trigger("stop",d,this._uiHash())}return this.fromOutside=false,true},_trigger:function(){f.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(d){var e=d||this;return{helper:e.helper,placeholder:e.placeholder||f([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:d?d.element:null}}});f.extend(f.ui.sortable,{version:"1.8.20"})})(jQuery);steal.loaded("webapp/lib/jquery-ui/jquery-ui.min.js");
var mejs=mejs||{};mejs.version="2.8.1";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]};
mejs.Utility={encodeUrl:function(f){return encodeURIComponent(f)},escapeHTML:function(f){return f.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(f){var d=document.createElement("div");d.innerHTML='<a href="'+this.escapeHTML(f)+'">x</a>';return d.firstChild.href},getScriptPath:function(f){for(var d=0,e,a="",c="",k,n=document.getElementsByTagName("script"),j=n.length,q=f.length;d<j;d++){k=n[d].src;for(e=0;e<q;e++){c=f[e];if(k.indexOf(c)>
-1){a=k.substring(0,k.indexOf(c));break}}if(a!=="")break}return a},secondsToTimeCode:function(f,d,e,a){if(typeof e=="undefined")e=false;else if(typeof a=="undefined")a=25;var c=Math.floor(f/3600)%24,k=Math.floor(f/60)%60,n=Math.floor(f%60);f=Math.floor((f%1*a).toFixed(3));return(d||c>0?(c<10?"0"+c:c)+":":"")+(k<10?"0"+k:k)+":"+(n<10?"0"+n:n)+(e?":"+(f<10?"0"+f:f):"")},timeCodeToSeconds:function(f,d,e,a){if(typeof e=="undefined")e=false;else if(typeof a=="undefined")a=25;f=f.split(":");d=parseInt(f[0],
10);var c=parseInt(f[1],10),k=parseInt(f[2],10),n=0,j=0;if(e)n=parseInt(f[3])/a;return j=d*3600+c*60+k+n},removeSwf:function(f){var d=document.getElementById(f);if(d&&d.nodeName=="OBJECT")if(mejs.MediaFeatures.isIE){d.style.display="none";(function(){d.readyState==4?mejs.Utility.removeObjectInIE(f):setTimeout(arguments.callee,10)})()}else d.parentNode.removeChild(d)},removeObjectInIE:function(f){if(f=document.getElementById(f)){for(var d in f)if(typeof f[d]=="function")f[d]=null;f.parentNode.removeChild(f)}}};
mejs.PluginDetector={hasPluginVersion:function(f,d){f=this.plugins[f];d[1]=d[1]||0;d[2]=d[2]||0;return f[0]>d[0]||f[0]==d[0]&&f[1]>d[1]||f[0]==d[0]&&f[1]==d[1]&&f[2]>=d[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(f,d,e,a,c){this.plugins[f]=this.detectPlugin(d,e,a,c)},detectPlugin:function(f,d,e,a){var c=[0,0,0],k;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[f]=="object"){if((e=this.nav.plugins[f].description)&&!(typeof this.nav.mimeTypes!=
"undefined"&&this.nav.mimeTypes[d]&&!this.nav.mimeTypes[d].enabledPlugin)){c=e.replace(f,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(f=0;f<c.length;f++)c[f]=parseInt(c[f].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(k=new ActiveXObject(e))c=a(k)}catch(n){}return c}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(f){var d=[];if(f=f.GetVariable("$version")){f=f.split(" ")[1].split(",");d=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)]}return d});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(f){var d=[0,0,0,0],e=function(a,c,k,n){for(;a.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);)c[k]+=n;c[k]-=n};e(f,d,0,1);e(f,d,1,1);e(f,d,2,1E4);e(f,d,2,1E3);e(f,d,2,100);e(f,d,2,10);e(f,d,2,1);e(f,d,3,1);return d});
mejs.MediaFeatures={init:function(){var f=this,d=document,e=mejs.PluginDetector.nav,a=mejs.PluginDetector.ua.toLowerCase(),c,k=["source","track","audio","video"];f.isiPad=a.match(/ipad/i)!==null;f.isiPhone=a.match(/iphone/i)!==null;f.isiOS=f.isiPhone||f.isiPad;f.isAndroid=a.match(/android/i)!==null;f.isBustedAndroid=a.match(/android 2\.[12]/)!==null;f.isIE=e.appName.toLowerCase().indexOf("microsoft")!=-1;f.isChrome=a.match(/chrome/gi)!==null;f.isFirefox=a.match(/firefox/gi)!==null;f.isWebkit=a.match(/webkit/gi)!==
null;f.isGecko=a.match(/gecko/gi)!==null&&!f.isWebkit;f.isOpera=a.match(/opera/gi)!==null;f.hasTouch="ontouchstart"in window;for(e=0;e<k.length;e++)c=document.createElement(k[e]);f.supportsMediaTag=typeof c.canPlayType!=="undefined"||f.isBustedAndroid;f.hasSemiNativeFullScreen=typeof c.webkitEnterFullscreen!=="undefined";f.hasWebkitNativeFullScreen=typeof c.webkitRequestFullScreen!=="undefined";f.hasMozNativeFullScreen=typeof c.mozRequestFullScreen!=="undefined";f.hasTrueNativeFullScreen=f.hasWebkitNativeFullScreen||
f.hasMozNativeFullScreen;f.nativeFullScreenEnabled=f.hasTrueNativeFullScreen;if(f.hasMozNativeFullScreen)f.nativeFullScreenEnabled=c.mozFullScreenEnabled;if(this.isChrome)f.hasSemiNativeFullScreen=false;if(f.hasTrueNativeFullScreen){f.fullScreenEventName=f.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange";f.isFullScreen=function(){if(c.mozRequestFullScreen)return d.mozFullScreen;else if(c.webkitRequestFullScreen)return d.webkitIsFullScreen};f.requestFullScreen=function(n){if(f.hasWebkitNativeFullScreen)n.webkitRequestFullScreen();
else f.hasMozNativeFullScreen&&n.mozRequestFullScreen()};f.cancelFullScreen=function(){if(f.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();else f.hasMozNativeFullScreen&&document.mozCancelFullScreen()}}if(f.hasSemiNativeFullScreen&&a.match(/mac os x 10_5/i)){f.hasNativeFullScreen=false;f.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(f){this.currentTime=f},setMuted:function(f){this.muted=f},setVolume:function(f){this.volume=f},stop:function(){this.pause()},setSrc:function(f){for(var d=this.getElementsByTagName("source");d.length>0;)this.removeChild(d[0]);if(typeof f=="string")this.src=f;else{var e;for(d=0;d<f.length;d++){e=f[d];if(this.canPlayType(e.type))this.src=e.src}}},setVideoSize:function(f,d){this.width=f;this.height=d}};
mejs.PluginMediaElement=function(f,d,e){this.id=f;this.pluginType=d;this.src=e;this.events={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!="youtube"&&this.pluginApi.loadMedia();this.paused=
false}},pause:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(f){var d,e,a,c=mejs.plugins[this.pluginType];for(d=0;d<c.length;d++){a=c[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,a.version))for(e=0;e<a.types.length;e++)if(f==a.types[e])return true}return false},
positionFullscreenButton:function(f,d,e){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(f,d,e)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(f){if(typeof f=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(f));this.src=mejs.Utility.absolutizeUrl(f)}else{var d,e;for(d=0;d<f.length;d++){e=f[d];if(this.canPlayType(e.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e.src));
this.src=mejs.Utility.absolutizeUrl(f)}}}},setCurrentTime:function(f){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.seekTo(f):this.pluginApi.setCurrentTime(f);this.currentTime=f}},setVolume:function(f){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.setVolume(f*100):this.pluginApi.setVolume(f);this.volume=f}},setMuted:function(f){if(this.pluginApi!=null){if(this.pluginType=="youtube"){f?this.pluginApi.mute():this.pluginApi.unMute();this.muted=f;this.dispatchEvent("volumechange")}else this.pluginApi.setMuted(f);
this.muted=f}},setVideoSize:function(f,d){if(this.pluginElement.style){this.pluginElement.style.width=f+"px";this.pluginElement.style.height=d+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(f,d)},setFullscreen:function(f){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(f)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&
this.setFullscreen(false)},addEventListener:function(f,d){this.events[f]=this.events[f]||[];this.events[f].push(d)},removeEventListener:function(f,d){if(!f){this.events={};return true}var e=this.events[f];if(!e)return true;if(!d){this.events[f]=[];return true}for(i=0;i<e.length;i++)if(e[i]===d){this.events[f].splice(i,1);return true}return false},dispatchEvent:function(f){var d,e,a=this.events[f];if(a){e=Array.prototype.slice.call(arguments,1);for(d=0;d<a.length;d++)a[d].apply(null,e)}},attributes:{},
hasAttribute:function(f){return f in this.attributes},removeAttribute:function(f){delete this.attributes[f]},getAttribute:function(f){if(this.hasAttribute(f))return this.attributes[f];return""},setAttribute:function(f,d){this.attributes[f]=d},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(f,d,e){this.pluginMediaElements[f]=d;this.htmlMediaElements[f]=e},initPlugin:function(f){var d=this.pluginMediaElements[f],e=this.htmlMediaElements[f];if(d){switch(d.pluginType){case "flash":d.pluginElement=d.pluginApi=document.getElementById(f);break;case "silverlight":d.pluginElement=document.getElementById(d.id);d.pluginApi=d.pluginElement.Content.MediaElementJS;break}d.pluginApi!=null&&d.success&&
d.success(d,e)}},fireEvent:function(f,d,e){var a,c;f=this.pluginMediaElements[f];f.ended=false;f.paused=true;d={type:d,target:f};for(a in e){f[a]=e[a];d[a]=e[a]}c=e.bufferedTime||0;d.target.buffered=d.buffered={start:function(){return 0},end:function(){return c},length:1};f.dispatchEvent(d.type,d)}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},
error:function(){}};mejs.MediaElement=function(f,d){return mejs.HtmlMediaElementShim.create(f,d)};
mejs.HtmlMediaElementShim={create:function(f,d){var e=mejs.MediaElementDefaults,a=typeof f=="string"?document.getElementById(f):f;f=a.tagName.toLowerCase();var c=f==="audio"||f==="video",k=c?a.getAttribute("src"):a.getAttribute("href");f=a.getAttribute("poster");var n=a.getAttribute("autoplay"),j=a.getAttribute("preload"),q=a.getAttribute("controls"),o;for(o in d)e[o]=d[o];k=typeof k=="undefined"||k===null||k==""?null:k;f=typeof f=="undefined"||f===null?"":f;j=typeof j=="undefined"||j===null||j===
"false"?"none":j;n=!(typeof n=="undefined"||n===null||n==="false");q=!(typeof q=="undefined"||q===null||q==="false");d=this.determinePlayback(a,e,mejs.MediaFeatures.supportsMediaTag,c,k);d.url=d.url!==null?mejs.Utility.absolutizeUrl(d.url):"";if(d.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){a.src=d.url;a.addEventListener("click",function(){a.play()},false)}return this.updateNative(d,e,n,j)}else if(d.method!=="")return this.createPlugin(d,e,f,n,j,q);else{this.createErrorMessage(d,e,f);
return this}},determinePlayback:function(f,d,e,a,c){var k=[],n,j,q={method:"",url:"",htmlMediaElement:f,isVideo:f.tagName.toLowerCase()!="audio"},o,s;if(typeof d.type!="undefined"&&d.type!=="")if(typeof d.type=="string")k.push({type:d.type,url:c});else for(n=0;n<d.type.length;n++)k.push({type:d.type[n],url:c});else if(c!==null){j=this.formatType(c,f.getAttribute("type"));k.push({type:j,url:c})}else for(n=0;n<f.childNodes.length;n++){j=f.childNodes[n];if(j.nodeType==1&&j.tagName.toLowerCase()=="source"){c=
j.getAttribute("src");j=this.formatType(c,j.getAttribute("type"));k.push({type:j,url:c})}}if(!a&&k.length>0&&k[0].url!==null&&this.getTypeFromFile(k[0].url).indexOf("audio")>-1)q.isVideo=false;if(mejs.MediaFeatures.isBustedAndroid)f.canPlayType=function(w){return w.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(e&&(d.mode==="auto"||d.mode==="native")){if(!a){n=document.createElement(q.isVideo?"video":"audio");f.parentNode.insertBefore(n,f);f.style.display="none";q.htmlMediaElement=f=n}for(n=0;n<
k.length;n++)if(f.canPlayType(k[n].type).replace(/no/,"")!==""||f.canPlayType(k[n].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){q.method="native";q.url=k[n].url;break}if(q.method==="native"){if(q.url!==null)f.src=q.url;return q}}if(d.mode==="auto"||d.mode==="shim")for(n=0;n<k.length;n++){j=k[n].type;for(f=0;f<d.plugins.length;f++){c=d.plugins[f];o=mejs.plugins[c];for(e=0;e<o.length;e++){s=o[e];if(s.version==null||mejs.PluginDetector.hasPluginVersion(c,s.version))for(a=0;a<s.types.length;a++)if(j==
s.types[a]){q.method=c;q.url=k[n].url;return q}}}}if(q.method===""&&k.length>0)q.url=k[0].url;return q},formatType:function(f,d){return f&&!d?this.getTypeFromFile(f):d&&~d.indexOf(";")?d.substr(0,d.indexOf(";")):d},getTypeFromFile:function(f){f=f.substring(f.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(f)?"video":"audio")+"/"+f},createErrorMessage:function(f,d,e){var a=f.htmlMediaElement,c=document.createElement("div");c.className="me-cannotplay";try{c.style.width=a.width+
"px";c.style.height=a.height+"px"}catch(k){}c.innerHTML=e!==""?'<a href="'+f.url+'"><img src="'+e+'" width="100%" height="100%" /></a>':'<a href="'+f.url+'"><span>Download File</span></a>';a.parentNode.insertBefore(c,a);a.style.display="none";d.error(a)},createPlugin:function(f,d,e,a,c,k){e=f.htmlMediaElement;var n=1,j=1,q="me_"+f.method+"_"+mejs.meIndex++,o=new mejs.PluginMediaElement(q,f.method,f.url),s=document.createElement("div"),w;o.tagName=e.tagName;for(w=0;w<e.attributes.length;w++){var z=
e.attributes[w];z.specified==true&&o.setAttribute(z.name,z.value)}for(w=e.parentNode;w!==null&&w.tagName.toLowerCase()!="body";){if(w.parentNode.tagName.toLowerCase()=="p"){w.parentNode.parentNode.insertBefore(w,w.parentNode);break}w=w.parentNode}if(f.isVideo){n=d.videoWidth>0?d.videoWidth:e.getAttribute("width")!==null?e.getAttribute("width"):d.defaultVideoWidth;j=d.videoHeight>0?d.videoHeight:e.getAttribute("height")!==null?e.getAttribute("height"):d.defaultVideoHeight;n=mejs.Utility.encodeUrl(n);
j=mejs.Utility.encodeUrl(j)}else if(d.enablePluginDebug){n=320;j=240}o.success=d.success;mejs.MediaPluginBridge.registerPluginElement(q,o,e);s.className="me-plugin";s.id=q+"_container";f.isVideo?e.parentNode.insertBefore(s,e):document.body.insertBefore(s,document.body.childNodes[0]);a=["id="+q,"isvideo="+(f.isVideo?"true":"false"),"autoplay="+(a?"true":"false"),"preload="+c,"width="+n,"startvolume="+d.startVolume,"timerrate="+d.timerRate,"height="+j];if(f.url!==null)f.method=="flash"?a.push("file="+
mejs.Utility.encodeUrl(f.url)):a.push("file="+f.url);d.enablePluginDebug&&a.push("debug=true");d.enablePluginSmoothing&&a.push("smoothing=true");k&&a.push("controls=true");if(d.pluginVars)a=a.concat(d.pluginVars);switch(f.method){case "silverlight":s.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+q+'" name="'+q+'" width="'+n+'" height="'+j+'"><param name="initParams" value="'+a.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+
d.pluginPath+d.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){f=document.createElement("div");s.appendChild(f);f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+q+'" width="'+n+'" height="'+j+'"><param name="movie" value="'+d.pluginPath+d.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+a.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else s.innerHTML=
'<embed id="'+q+'" name="'+q+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+d.pluginPath+d.flashName+'" flashvars="'+a.join("&")+'" width="'+n+'" height="'+j+'"></embed>';break;case "youtube":d=f.url.substr(f.url.lastIndexOf("=")+1);youtubeSettings={container:s,containerId:s.id,pluginMediaElement:o,pluginId:q,videoId:d,
height:j,width:n};mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case "vimeo":console.log("vimeoid");o.vimeoid=f.url.substr(f.url.lastIndexOf("/")+1);s.innerHTML='<object width="'+n+'" height="'+j+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+
o.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+o.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+n+'" height="'+j+'"></embed></object>';break}e.style.display=
"none";return o},updateNative:function(f,d){f=f.htmlMediaElement;var e;for(e in mejs.HtmlMediaElement)f[e]=mejs.HtmlMediaElement[e];d.success(f,f);return f}};
mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var f=document.createElement("script");f.src="http://www.youtube.com/player_api";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(f,d);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(f){if(this.isLoaded)this.createIframe(f);else{this.loadIframeApi();this.iframeQueue.push(f)}},createIframe:function(f){var d=f.pluginMediaElement,e=new YT.Player(f.containerId,
{height:f.height,width:f.width,videoId:f.videoId,playerVars:{controls:0},events:{onReady:function(){f.pluginMediaElement.pluginApi=e;mejs.MediaPluginBridge.initPlugin(f.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(e,d,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,e,d)}}})},createEvent:function(f,d,e){e={type:e,target:d};if(f&&f.getDuration){d.currentTime=e.currentTime=f.getCurrentTime();d.duration=e.duration=f.getDuration();e.paused=d.paused;
e.ended=d.ended;e.muted=f.isMuted();e.volume=f.getVolume()/100;e.bytesTotal=f.getVideoBytesTotal();e.bufferedBytes=f.getVideoBytesLoaded();var a=e.bufferedBytes/e.bytesTotal*e.duration;e.target.buffered=e.buffered={start:function(){return 0},end:function(){return a},length:1}}d.dispatchEvent(e.type,e)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(f){this.flashPlayers[f.pluginId]=
f;var d,e="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+f.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){d=document.createElement("div");f.container.appendChild(d);d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+f.pluginId+'" width="'+f.width+'" height="'+f.height+'"><param name="movie" value="'+e+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else f.container.innerHTML=
'<object type="application/x-shockwave-flash" id="'+f.pluginId+'" data="'+e+'" width="'+f.width+'" height="'+f.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(f){var d=this.flashPlayers[f],e=document.getElementById(f),a=d.pluginMediaElement;a.pluginApi=a.pluginElement=e;mejs.MediaPluginBridge.initPlugin(f);e.cueVideoById(d.videoId);f=d.containerId+"_callback";window[f]=function(c){mejs.YouTubeApi.handleStateChange(c,
e,a)};e.addEventListener("onStateChange",f);setInterval(function(){mejs.YouTubeApi.createEvent(e,a,"timeupdate")},250)},handleStateChange:function(f,d,e){switch(f){case -1:e.paused=true;e.ended=true;mejs.YouTubeApi.createEvent(d,e,"loadedmetadata");break;case 0:e.paused=false;e.ended=true;mejs.YouTubeApi.createEvent(d,e,"ended");break;case 1:e.paused=false;e.ended=false;mejs.YouTubeApi.createEvent(d,e,"play");mejs.YouTubeApi.createEvent(d,e,"playing");break;case 2:e.paused=true;e.ended=false;mejs.YouTubeApi.createEvent(d,
e,"pause");break;case 3:mejs.YouTubeApi.createEvent(d,e,"progress");break;case 5:break}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(f){mejs.YouTubeApi.flashReady(f)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(f){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks",
"volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(d,e){e.paused||e.ended?e.play():e.pause()}},{keys:[38],action:function(d,e){d=Math.min(e.volume+0.1,1);e.setVolume(d)}},{keys:[40],action:function(d,e){d=Math.max(e.volume-0.1,0);e.setVolume(d)}},{keys:[37,227],action:function(d,e){if(!isNaN(e.duration)&&e.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}d=Math.max(e.currentTime-e.duration*0.05,0);e.setCurrentTime(d)}}},
{keys:[39,228],action:function(d,e){if(!isNaN(e.duration)&&e.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}d=Math.min(e.currentTime+e.duration*0.05,e.duration);e.setCurrentTime(d)}}},{keys:[70],action:function(d){if(typeof d.enterFullScreen!="undefined")d.isFullScreen?d.exitFullScreen():d.enterFullScreen()}}]};mejs.mepIndex=0;mejs.players=[];mejs.MediaElementPlayer=function(d,e){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(d,e);var a=this;a.$media=
a.$node=f(d);a.node=a.media=a.$media[0];if(typeof a.node.player!="undefined")return a.node.player;else a.node.player=a;if(typeof e=="undefined")e=a.$node.data("mejsoptions");a.options=f.extend({},mejs.MepDefaults,e);mejs.players.push(a);a.init();return a};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var d=this,e=mejs.MediaFeatures,a=f.extend(true,{},d.options,{success:function(k,n){d.meReady(k,n)},error:function(k){d.handleError(k)}}),c=d.media.tagName.toLowerCase();
d.isDynamic=c!=="audio"&&c!=="video";d.isVideo=d.isDynamic?d.options.isVideo:c!=="audio"&&d.options.isVideo;if(e.isiPad&&d.options.iPadUseNativeControls||e.isiPhone&&d.options.iPhoneUseNativeControls){d.$media.attr("controls","controls");if(e.isiPad&&d.media.getAttribute("autoplay")!==null){d.media.load();d.media.play()}}else if(!(e.isAndroid&&d.AndroidUseNativeControls)){d.$media.removeAttr("controls");d.id="mep_"+mejs.mepIndex++;d.container=f('<div id="'+d.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(d.$media[0].className).insertBefore(d.$media);
d.container.addClass((e.isAndroid?"mejs-android ":"")+(e.isiOS?"mejs-ios ":"")+(e.isiPad?"mejs-ipad ":"")+(e.isiPhone?"mejs-iphone ":"")+(d.isVideo?"mejs-video ":"mejs-audio "));if(e.isiOS){e=d.$media.clone();d.container.find(".mejs-mediaelement").append(e);d.$media.remove();d.$node=d.$media=e;d.node=d.media=e[0]}else d.container.find(".mejs-mediaelement").append(d.$media);d.controls=d.container.find(".mejs-controls");d.layers=d.container.find(".mejs-layers");e=c.substring(0,1).toUpperCase()+c.substring(1);
d.width=d.options[c+"Width"]>0||d.options[c+"Width"].toString().indexOf("%")>-1?d.options[c+"Width"]:d.media.style.width!==""&&d.media.style.width!==null?d.media.style.width:d.media.getAttribute("width")!==null?d.$media.attr("width"):d.options["default"+e+"Width"];d.height=d.options[c+"Height"]>0||d.options[c+"Height"].toString().indexOf("%")>-1?d.options[c+"Height"]:d.media.style.height!==""&&d.media.style.height!==null?d.media.style.height:d.$media[0].getAttribute("height")!==null?d.$media.attr("height"):
d.options["default"+e+"Height"];d.setPlayerSize(d.width,d.height);a.pluginWidth=d.height;a.pluginHeight=d.width}mejs.MediaElement(d.$media[0],a)},showControls:function(d){var e=this;d=typeof d=="undefined"||d;if(!e.controlsAreVisible){if(d){e.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){e.controlsAreVisible=true});e.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){e.controlsAreVisible=true})}else{e.controls.css("visibility",
"visible").css("display","block");e.container.find(".mejs-control").css("visibility","visible").css("display","block");e.controlsAreVisible=true}e.setControlsSize()}},hideControls:function(d){var e=this;d=typeof d=="undefined"||d;if(e.controlsAreVisible)if(d){e.controls.stop(true,true).fadeOut(200,function(){f(this).css("visibility","hidden").css("display","block");e.controlsAreVisible=false});e.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){f(this).css("visibility","hidden").css("display",
"block")})}else{e.controls.css("visibility","hidden").css("display","block");e.container.find(".mejs-control").css("visibility","hidden").css("display","block");e.controlsAreVisible=false}},controlsTimer:null,startControlsTimer:function(d){var e=this;d=typeof d!="undefined"?d:1500;e.killControlsTimer("start");e.controlsTimer=setTimeout(function(){e.hideControls();e.killControlsTimer("hide")},d)},killControlsTimer:function(){var d=this;if(d.controlsTimer!==null){clearTimeout(d.controlsTimer);delete d.controlsTimer;
d.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var d=this;d.killControlsTimer();d.hideControls(false);this.controlsEnabled=false},enableControls:function(){var d=this;d.showControls(false);d.controlsEnabled=true},meReady:function(d,e){var a=this,c=mejs.MediaFeatures,k=e.getAttribute("autoplay");k=!(typeof k=="undefined"||k===null||k==="false");var n;if(!a.created){a.created=true;a.media=d;a.domNode=e;if(!(c.isAndroid&&a.options.AndroidUseNativeControls)&&!(c.isiPad&&a.options.iPadUseNativeControls)&&
!(c.isiPhone&&a.options.iPhoneUseNativeControls)){a.buildposter(a,a.controls,a.layers,a.media);a.buildkeyboard(a,a.controls,a.layers,a.media);a.buildoverlays(a,a.controls,a.layers,a.media);a.findTracks();for(n in a.options.features){e=a.options.features[n];if(a["build"+e])try{a["build"+e](a,a.controls,a.layers,a.media)}catch(j){}}a.container.trigger("controlsready");a.setPlayerSize(a.width,a.height);a.setControlsSize();if(a.isVideo){if(mejs.MediaFeatures.hasTouch)a.$media.bind("touchstart",function(){if(a.controlsAreVisible)a.hideControls(false);
else a.controlsEnabled&&a.showControls(false)});else{(a.media.pluginType=="native"?a.$media:f(a.media.pluginElement)).click(function(){d.paused?d.play():d.pause()});a.container.bind("mouseenter mouseover",function(){if(a.controlsEnabled)if(!a.options.alwaysShowControls){a.killControlsTimer("enter");a.showControls();a.startControlsTimer(2500)}}).bind("mousemove",function(){if(a.controlsEnabled){a.controlsAreVisible||a.showControls();a.options.alwaysShowControls||a.startControlsTimer(2500)}}).bind("mouseleave",
function(){a.controlsEnabled&&!a.media.paused&&!a.options.alwaysShowControls&&a.startControlsTimer(1E3)})}k&&!a.options.alwaysShowControls&&a.hideControls();a.options.enableAutosize&&a.media.addEventListener("loadedmetadata",function(q){if(a.options.videoHeight<=0&&a.domNode.getAttribute("height")===null&&!isNaN(q.target.videoHeight)){a.setPlayerSize(q.target.videoWidth,q.target.videoHeight);a.setControlsSize();a.media.setVideoSize(q.target.videoWidth,q.target.videoHeight)}},false)}d.addEventListener("play",
function(){for(var q=0,o=mejs.players.length;q<o;q++){var s=mejs.players[q];s.id!=a.id&&a.options.pauseOtherPlayers&&!s.paused&&!s.ended&&s.pause();s.hasFocus=false}a.hasFocus=true},false);a.media.addEventListener("ended",function(){try{a.media.setCurrentTime(0)}catch(q){}a.media.pause();a.setProgressRail&&a.setProgressRail();a.setCurrentRail&&a.setCurrentRail();if(a.options.loop)a.media.play();else!a.options.alwaysShowControls&&a.controlsEnabled&&a.showControls()},false);a.media.addEventListener("loadedmetadata",
function(){a.updateDuration&&a.updateDuration();a.updateCurrent&&a.updateCurrent();if(!a.isFullScreen){a.setPlayerSize(a.width,a.height);a.setControlsSize()}},false);setTimeout(function(){a.setPlayerSize(a.width,a.height);a.setControlsSize()},50);f(window).resize(function(){a.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||a.setPlayerSize(a.width,a.height);a.setControlsSize()});a.media.pluginType=="youtube"&&a.container.find(".mejs-overlay-play").hide()}if(k&&
d.pluginType=="native"){d.load();d.play()}if(a.options.success)typeof a.options.success=="string"?window[a.options.success](a.media,a.domNode,a):a.options.success(a.media,a.domNode,a)}},handleError:function(d){var e=this;e.controls.hide();e.options.error&&e.options.error(d)},setPlayerSize:function(d,e){var a=this;if(typeof d!="undefined")a.width=d;if(typeof e!="undefined")a.height=e;if(a.height.toString().indexOf("%")>0){e=a.media.videoWidth&&a.media.videoWidth>0?a.media.videoWidth:a.options.defaultVideoWidth;
var c=a.media.videoHeight&&a.media.videoHeight>0?a.media.videoHeight:a.options.defaultVideoHeight;d=a.container.parent().width();e=parseInt(d*c/e,10);if(a.container.parent()[0].tagName.toLowerCase()==="body"){d=f(window).width();e=f(window).height()}a.container.width(d).height(e);a.$media.width("100%").height("100%");a.container.find("object, embed, iframe").width("100%").height("100%");a.media.setVideoSize&&a.media.setVideoSize(d,e);a.layers.children(".mejs-layer").width("100%").height("100%")}else{a.container.width(a.width).height(a.height);
a.layers.children(".mejs-layer").width(a.width).height(a.height)}},setControlsSize:function(){var d=this,e=0,a=0,c=d.controls.find(".mejs-time-rail"),k=d.controls.find(".mejs-time-total");d.controls.find(".mejs-time-current");d.controls.find(".mejs-time-loaded");var n=c.siblings();if(d.options&&!d.options.autosizeProgress)a=parseInt(c.css("width"));if(a===0||!a){n.each(function(){if(f(this).css("position")!="absolute")e+=f(this).outerWidth(true)});a=d.controls.width()-e-(c.outerWidth(true)-c.outerWidth(false))}c.width(a);
k.width(a-(k.outerWidth(true)-k.width()));d.setProgressRail&&d.setProgressRail();d.setCurrentRail&&d.setCurrentRail()},buildposter:function(d,e,a,c){e=this;var k=f('<div class="mejs-poster mejs-layer"></div>').appendTo(a);a=d.$media.attr("poster");if(d.options.poster!=="")a=d.options.poster;a!==""&&a!=null?e.setPoster(a):k.hide();c.addEventListener("play",function(){k.hide()},false)},setPoster:function(d){var e=this.container.find(".mejs-poster"),a=e.find("img");if(a.length==0)a=f('<img width="100%" height="100%" />').appendTo(e);
a.attr("src",d)},buildoverlays:function(d,e,a,c){if(d.isVideo){var k=f('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(a),n=f('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(a),j=f('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(a).click(function(){c.paused?c.play():c.pause()});c.addEventListener("play",function(){j.hide();
k.hide();n.hide()},false);c.addEventListener("playing",function(){j.hide();k.hide();n.hide()},false);c.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||j.show()},false);c.addEventListener("waiting",function(){k.show()},false);c.addEventListener("loadeddata",function(){k.show()},false);c.addEventListener("canplay",function(){k.hide()},false);c.addEventListener("error",function(){k.hide();n.show();n.find("mejs-overlay-error").html("Error loading this resource")},false)}},buildkeyboard:function(d,
e,a,c){f(document).keydown(function(k){if(d.hasFocus&&d.options.enableKeyboard)for(var n=0,j=d.options.keyActions.length;n<j;n++)for(var q=d.options.keyActions[n],o=0,s=q.keys.length;o<s;o++)if(k.keyCode==q.keys[o]){k.preventDefault();q.action(d,c);return false}return true});f(document).click(function(k){if(f(k.target).closest(".mejs-container").length==0)d.hasFocus=false})},findTracks:function(){var d=this,e=d.$media.find("track");d.tracks=[];e.each(function(a,c){c=f(c);d.tracks.push({srclang:c.attr("srclang").toLowerCase(),
src:c.attr("src"),kind:c.attr("kind"),label:c.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(d){this.container[0].className="mejs-container "+d;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(d){this.media.setMuted(d)},setCurrentTime:function(d){this.media.setCurrentTime(d)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(d){this.media.setVolume(d)},
getVolume:function(){return this.media.volume},setSrc:function(d){this.media.setSrc(d)},remove:function(){var d=this;if(d.media.pluginType=="flash")d.media.remove();else d.media.pluginType=="native"&&d.media.prop("controls",true);d.isDynamic||d.$node.insertBefore(d.container);d.container.remove()}};if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(d){return this.each(function(){new mejs.MediaElementPlayer(this,d)})};f(document).ready(function(){f(".mejs-player").mediaelementplayer()});
window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});f.extend(MediaElementPlayer.prototype,{buildplaypause:function(d,e,a,c){d=this;var k=f('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+d.id+'" title="'+d.options.playpauseText+'"></button></div>').appendTo(e).click(function(n){n.preventDefault();c.paused?c.play():c.pause();return false});c.addEventListener("play",function(){k.removeClass("mejs-play").addClass("mejs-pause")},false);
c.addEventListener("playing",function(){k.removeClass("mejs-play").addClass("mejs-pause")},false);c.addEventListener("pause",function(){k.removeClass("mejs-pause").addClass("mejs-play")},false);c.addEventListener("paused",function(){k.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{stopText:"Stop"});f.extend(MediaElementPlayer.prototype,{buildstop:function(d,e,a,c){d=this;f('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+d.id+'" title="'+d.options.stopText+'"></button></div>').appendTo(e).click(function(){c.paused||c.pause();if(c.currentTime>0){c.setCurrentTime(0);e.find(".mejs-time-current").width("0px");e.find(".mejs-time-handle").css("left","0px");e.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));
e.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));a.find(".mejs-poster").show()}})}})})(mejs.$);
(function(f){f.extend(MediaElementPlayer.prototype,{buildprogress:function(d,e,a,c){f('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(e);a=this;var k=e.find(".mejs-time-total"),n=e.find(".mejs-time-loaded"),j=e.find(".mejs-time-current"),
q=e.find(".mejs-time-handle"),o=e.find(".mejs-time-float"),s=e.find(".mejs-time-float-current"),w=function(E){E=E.pageX;var y=k.offset(),H=k.outerWidth(),J=0;J=0;var M=E-y.left;if(E>y.left&&E<=H+y.left&&c.duration){J=(E-y.left)/H;J=J<=0.02?0:J*c.duration;z&&c.setCurrentTime(J);if(!mejs.MediaFeatures.hasTouch){o.css("left",M);s.html(mejs.Utility.secondsToTimeCode(J));o.show()}}},z=false,C=false;k.bind("mousedown",function(E){if(E.which===1){z=true;w(E);return false}});e.find(".mejs-time-total").bind("mouseenter",
function(){C=true;mejs.MediaFeatures.hasTouch||o.show()}).bind("mouseleave",function(){C=false;o.hide()});f(document).bind("mouseup",function(){z=false;o.hide()}).bind("mousemove",function(E){if(z||C)w(E)});c.addEventListener("progress",function(E){d.setProgressRail(E);d.setCurrentRail(E)},false);c.addEventListener("timeupdate",function(E){d.setProgressRail(E);d.setCurrentRail(E)},false);a.loaded=n;a.total=k;a.current=j;a.handle=q},setProgressRail:function(d){var e=this,a=d!=undefined?d.target:e.media,
c=null;if(a&&a.buffered&&a.buffered.length>0&&a.buffered.end&&a.duration)c=a.buffered.end(0)/a.duration;else if(a&&a.bytesTotal!=undefined&&a.bytesTotal>0&&a.bufferedBytes!=undefined)c=a.bufferedBytes/a.bytesTotal;else if(d&&d.lengthComputable&&d.total!=0)c=d.loaded/d.total;if(c!==null){c=Math.min(1,Math.max(0,c));e.loaded&&e.total&&e.loaded.width(e.total.width()*c)}},setCurrentRail:function(){var d=this;if(d.media.currentTime!=undefined&&d.media.duration)if(d.total&&d.handle){var e=d.total.width()*
d.media.currentTime/d.media.duration,a=e-d.handle.outerWidth(true)/2;d.current.width(e);d.handle.css("left",a)}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});f.extend(MediaElementPlayer.prototype,{buildcurrent:function(d,e,a,c){a=this;f('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(e);a.currenttime=a.controls.find(".mejs-currenttime");c.addEventListener("timeupdate",function(){d.updateCurrent()},false)},buildduration:function(d,
e,a,c){a=this;if(e.children().last().find(".mejs-currenttime").length>0)f(a.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(e.find(".mejs-time"));else{e.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");
f('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(e)}a.durationD=a.controls.find(".mejs-duration");c.addEventListener("timeupdate",function(){d.updateDuration()},false)},
updateCurrent:function(){var d=this;if(d.currenttime)d.currenttime.html(mejs.Utility.secondsToTimeCode(d.media.currentTime,d.options.alwaysShowHours||d.media.duration>3600,d.options.showTimecodeFrameCount,d.options.framesPerSecond||25))},updateDuration:function(){var d=this;if(d.media.duration&&d.durationD)d.durationD.html(mejs.Utility.secondsToTimeCode(d.media.duration,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond||25))}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});f.extend(MediaElementPlayer.prototype,{buildvolume:function(d,e,a,c){if(!(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){a=this;var k=a.isVideo?a.options.videoVolume:a.options.audioVolume,n=k=="horizontal"?f('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+
'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(e):f('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(e),
j=a.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),q=a.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),o=a.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),s=a.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),w=function(y){if(j.is(":visible")){y=Math.max(0,y);y=Math.min(y,1);y==0?n.removeClass("mejs-mute").addClass("mejs-unmute"):n.removeClass("mejs-unmute").addClass("mejs-mute");if(k=="vertical"){var H=q.height(),
J=q.position();y=H-H*y;s.css("top",J.top+y-s.height()/2);o.height(H-y);o.css("top",J.top+y)}else{H=q.width();J=q.position();y=H*y;s.css("left",J.left+y-s.width()/2);o.width(y)}}else{j.show();w(y);j.hide()}},z=function(y){var H=null,J=q.offset();if(k=="vertical"){H=q.height();parseInt(q.css("top").replace(/px/,""),10);H=(H-(y.pageY-J.top))/H;if(J.top==0||J.left==0)return}else{H=q.width();H=(y.pageX-J.left)/H}H=Math.max(0,H);H=Math.min(H,1);w(H);H==0?c.setMuted(true):c.setMuted(false);c.setVolume(H)},
C=false,E=false;n.hover(function(){j.show();E=true},function(){E=false;!C&&k=="vertical"&&j.hide()});j.bind("mouseover",function(){E=true}).bind("mousedown",function(y){z(y);C=true;return false});f(document).bind("mouseup",function(){C=false;!E&&k=="vertical"&&j.hide()}).bind("mousemove",function(y){C&&z(y)});n.find("button").click(function(){c.setMuted(!c.muted)});c.addEventListener("volumechange",function(){if(!C)if(c.muted){w(0);n.removeClass("mejs-mute").addClass("mejs-unmute")}else{w(c.volume);
n.removeClass("mejs-unmute").addClass("mejs-mute")}},false);if(a.container.is(":visible")){w(d.options.startVolume);c.pluginType==="native"&&c.setVolume(d.options.startVolume)}}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"});f.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(d,e,a,c){if(d.isVideo){d.isInIframe=window.location!=window.parent.location;mejs.MediaFeatures.hasTrueNativeFullScreen&&d.container.bind(mejs.MediaFeatures.fullScreenEventName,function(){if(mejs.MediaFeatures.isFullScreen()){d.isNativeFullScreen=
true;d.setControlsSize()}else{d.isNativeFullScreen=false;d.exitFullScreen()}});var k=this,n=f('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+k.id+'" title="'+k.options.fullscreenText+'"></button></div>').appendTo(e);if(k.media.pluginType==="native"||!k.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)n.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||d.isFullScreen?d.exitFullScreen():d.enterFullScreen()});
else{var j=null;if(document.documentElement.style.pointerEvents===""&&!mejs.MediaFeatures.isOpera){var q=false,o=function(){if(q){s.hide();w.hide();z.hide();n.css("pointer-events","");k.controls.css("pointer-events","");q=false}},s=f('<div class="mejs-fullscreen-hover" />').appendTo(k.container).mouseover(o),w=f('<div class="mejs-fullscreen-hover"  />').appendTo(k.container).mouseover(o),z=f('<div class="mejs-fullscreen-hover"  />').appendTo(k.container).mouseover(o),C=function(){var E={position:"absolute",
top:0,left:0};s.css(E);w.css(E);z.css(E);s.width(k.container.width()).height(k.container.height()-k.controls.height());E=n.offset().left-k.container.offset().left;fullScreenBtnWidth=n.outerWidth(true);w.width(E).height(k.controls.height()).css({top:k.container.height()-k.controls.height()});z.width(k.container.width()-E-fullScreenBtnWidth).height(k.controls.height()).css({top:k.container.height()-k.controls.height(),left:E+fullScreenBtnWidth})};f(document).resize(function(){C()});n.mouseover(function(){if(!k.isFullScreen){var E=
n.offset(),y=d.container.offset();c.positionFullscreenButton(E.left-y.left,E.top-y.top,false);n.css("pointer-events","none");k.controls.css("pointer-events","none");s.show();z.show();w.show();C();q=true}});c.addEventListener("fullscreenchange",function(){o()})}else n.mouseover(function(){if(j!==null){clearTimeout(j);delete j}var E=n.offset(),y=d.container.offset();c.positionFullscreenButton(E.left-y.left,E.top-y.top,true)}).mouseout(function(){if(j!==null){clearTimeout(j);delete j}j=setTimeout(function(){c.hideFullscreenButton()},
1500)})}d.fullscreenBtn=n;f(document).bind("keydown",function(E){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||k.isFullScreen)&&E.keyCode==27)d.exitFullScreen()})}},enterFullScreen:function(){var d=this;if(!(d.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||d.options.usePluginFullScreen))){docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=d.container.height();normalWidth=d.container.width();
if(d.media.pluginType==="native")if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(d.container[0]);d.isInIframe&&setTimeout(function a(){if(d.isNativeFullScreen)f(window).width()!==screen.width?d.exitFullScreen():setTimeout(a,500)},500)}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){d.media.webkitEnterFullscreen();return}if(d.isInIframe){var e=d.options.newWindowCallback(this);if(e!=="")if(mejs.MediaFeatures.hasTrueNativeFullScreen)setTimeout(function(){if(!d.isNativeFullScreen){d.pause();
window.open(e,d.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250);else{d.pause();window.open(e,d.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}}d.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){d.container.css({width:"100%",height:"100%"});d.setControlsSize()},500);if(d.pluginType===
"native")d.$media.width("100%").height("100%");else{d.container.find("object, embed, iframe").width("100%").height("100%");d.media.setVideoSize(f(window).width(),f(window).height())}d.layers.children("div").width("100%").height("100%");d.fullscreenBtn&&d.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");d.setControlsSize();d.isFullScreen=true}},exitFullScreen:function(){var d=this;if(d.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)d.media.setFullscreen(false);
else{if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||d.isFullScreen))mejs.MediaFeatures.cancelFullScreen();document.documentElement.style.overflow=docStyleOverflow;d.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(d.pluginType==="native")d.$media.width(normalWidth).height(normalHeight);else{d.container.find("object embed").width(normalWidth).height(normalHeight);d.media.setVideoSize(normalWidth,normalHeight)}d.layers.children("div").width(normalWidth).height(normalHeight);
d.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");d.setControlsSize();d.isFullScreen=false}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"});f.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(d,e,a,c){if(d.isVideo)if(d.tracks.length!=0){var k=this,n;d.chapters=f('<div class="mejs-chapters mejs-layer"></div>').prependTo(a).hide();d.captions=f('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(a).hide();d.captionsText=d.captions.find(".mejs-captions-text");
d.captionsButton=f('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+k.id+'" title="'+k.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+d.id+'_captions" id="'+d.id+'_captions_none" value="none" checked="checked" /><label for="'+d.id+'_captions_none">None</label></li></ul></div></div>').appendTo(e).hover(function(){f(this).find(".mejs-captions-selector").css("visibility","visible")},function(){f(this).find(".mejs-captions-selector").css("visibility",
"hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")d.selectedTrack=null;else for(n=0;n<d.tracks.length;n++)if(d.tracks[n].srclang==lang){d.selectedTrack=d.tracks[n];d.captions.attr("lang",d.selectedTrack.srclang);d.displayCaptions();break}});d.options.alwaysShowControls?d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):d.container.bind("mouseenter",function(){d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",
function(){c.paused||d.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});d.trackToLoad=-1;d.selectedTrack=null;d.isLoadingTrack=false;for(n=0;n<d.tracks.length;n++)d.tracks[n].kind=="subtitles"&&d.addTrackButton(d.tracks[n].srclang,d.tracks[n].label);d.loadNextTrack();c.addEventListener("timeupdate",function(){d.displayCaptions()},false);c.addEventListener("loadedmetadata",function(){d.displayChapters()},false);d.container.hover(function(){if(d.hasChapters){d.chapters.css("visibility",
"visible");d.chapters.fadeIn(200)}},function(){d.hasChapters&&!c.paused&&d.chapters.fadeOut(200,function(){f(this).css("visibility","hidden");f(this).css("display","block")})});d.node.getAttribute("autoplay")!==null&&d.chapters.css("visibility","hidden")}},loadNextTrack:function(){var d=this;d.trackToLoad++;if(d.trackToLoad<d.tracks.length){d.isLoadingTrack=true;d.loadTrack(d.trackToLoad)}else d.isLoadingTrack=false},loadTrack:function(d){var e=this,a=e.tracks[d],c=function(){a.isLoaded=true;e.enableTrackButton(a.srclang,
a.label);e.loadNextTrack()};a.isTranslation?mejs.TrackFormatParser.translateTrackText(e.tracks[0].entries,e.tracks[0].srclang,a.srclang,e.options.googleApiKey,function(k){a.entries=k;c()}):f.ajax({url:a.src,success:function(k){a.entries=mejs.TrackFormatParser.parse(k);c();a.kind=="chapters"&&e.media.duration>0&&e.drawChapters(a)},error:function(){e.loadNextTrack()}})},enableTrackButton:function(d,e){var a=this;if(e==="")e=mejs.language.codes[d]||d;a.captionsButton.find("input[value="+d+"]").prop("disabled",
false).siblings("label").html(e);a.options.startLanguage==d&&f("#"+a.id+"_captions_"+d).click();a.adjustLanguageBox()},addTrackButton:function(d,e){var a=this;if(e==="")e=mejs.language.codes[d]||d;a.captionsButton.find("ul").append(f('<li><input type="radio" name="'+a.id+'_captions" id="'+a.id+"_captions_"+d+'" value="'+d+'" disabled="disabled" /><label for="'+a.id+"_captions_"+d+'">'+e+" (loading)</label></li>"));a.adjustLanguageBox();a.container.find(".mejs-captions-translations option[value="+
d+"]").remove()},adjustLanguageBox:function(){var d=this;d.captionsButton.find(".mejs-captions-selector").height(d.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+d.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var d=this,e,a=d.selectedTrack;if(a!=null&&a.isLoaded)for(e=0;e<a.entries.times.length;e++)if(d.media.currentTime>=a.entries.times[e].start&&d.media.currentTime<=a.entries.times[e].stop){d.captionsText.html(a.entries.text[e]);
d.captions.show();return}d.captions.hide()}},displayChapters:function(){var d=this,e;for(e=0;e<d.tracks.length;e++)if(d.tracks[e].kind=="chapters"&&d.tracks[e].isLoaded){d.drawChapters(d.tracks[e]);d.hasChapters=true;break}},drawChapters:function(d){var e=this,a,c,k=c=0;e.chapters.empty();for(a=0;a<d.entries.times.length;a++){c=d.entries.times[a].stop-d.entries.times[a].start;c=Math.floor(c/e.media.duration*100);if(c+k>100||a==d.entries.times.length-1&&c+k<100)c=100-k;e.chapters.append(f('<div class="mejs-chapter" rel="'+
d.entries.times[a].start+'" style="left: '+k.toString()+"%;width: "+c.toString()+'%;"><div class="mejs-chapter-block'+(a==d.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+d.entries.text[a]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(d.entries.times[a].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(d.entries.times[a].stop)+"</span></div></div>"));k+=c}e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(f(this).attr("rel")));
e.media.paused&&e.media.play()});e.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",
ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,
split2:function(d,e){return d.split(e)},parse:function(d){var e=0;d=this.split2(d,/\r?\n/);for(var a={text:[],times:[]},c,k;e<d.length;e++)if(this.pattern_identifier.exec(d[e])){e++;if((c=this.pattern_timecode.exec(d[e]))&&e<d.length){e++;k=d[e];for(e++;d[e]!==""&&e<d.length;){k=k+"\n"+d[e];e++}a.text.push(k);a.times.push({start:mejs.Utility.timeCodeToSeconds(c[1]),stop:mejs.Utility.timeCodeToSeconds(c[3]),settings:c[5]})}}return a}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=
function(d,e){var a=[],c="",k;for(k=0;k<d.length;k++){c+=d.substring(k,k+1);if(e.test(c)){a.push(c.replace(e,""));c=""}}a.push(c);return a}})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(d){if(typeof d.enterFullScreen=="undefined")return null;return d.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(d){d.isFullScreen?d.exitFullScreen():d.enterFullScreen()}},{render:function(d){return d.media.muted?"Unmute":"Mute"},click:function(d){d.media.muted?d.setMuted(false):d.setMuted(true)}},{isSeparator:true},{render:function(){return"Download Video"},click:function(d){window.location.href=d.media.currentSrc}}]});
f.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(d){d.contextMenu=f('<div class="mejs-contextmenu"></div>').appendTo(f("body")).hide();d.container.bind("contextmenu",function(e){if(d.isContextMenuEnabled){e.preventDefault();d.renderContextMenu(e.clientX-1,e.clientY-1);return false}});d.container.bind("click",function(){d.contextMenu.hide()});d.contextMenu.bind("mouseleave",function(){d.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=
true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var d=this;d.killContextMenuTimer();d.contextMenuTimer=setTimeout(function(){d.hideContextMenu();d.killContextMenuTimer()},750)},killContextMenuTimer:function(){var d=this.contextMenuTimer;if(d!=null){clearTimeout(d);delete d}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(d,e){for(var a=this,c="",k=a.options.contextMenuItems,n=0,j=k.length;n<
j;n++)if(k[n].isSeparator)c+='<div class="mejs-contextmenu-separator"></div>';else{var q=k[n].render(a);if(q!=null)c+='<div class="mejs-contextmenu-item" data-itemindex="'+n+'" id="element-'+Math.random()*1E6+'">'+q+"</div>"}a.contextMenu.empty().append(f(c)).css({top:e,left:d}).show();a.contextMenu.find(".mejs-contextmenu-item").each(function(){var o=f(this),s=parseInt(o.data("itemindex"),10),w=a.options.contextMenuItems[s];typeof w.show!="undefined"&&w.show(o,a);o.click(function(){typeof w.click!=
"undefined"&&w.click(a);a.contextMenu.hide()})});setTimeout(function(){a.killControlsTimer("rev3")},100)}})})(mejs.$);steal.loaded("webapp/lib/mediaelement/mediaelement-and-player.js");
(function(f){var d={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:5E3,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null},e={init:function(a){a&&f.extend(d,a)},showToast:function(a){var c={};f.extend(c,d,a);var k,n;a=!f(".toast-container").length?f("<div></div>").addClass("toast-container").addClass("toast-position-"+c.position).appendTo("body"):f(".toast-container");k=f("<div></div>").addClass("toast-item-wrapper");n=f("<div></div>").hide().addClass("toast-item toast-type-"+
c.type).appendTo(a).html("<p>"+c.text+"</p>").animate(c.inEffect,c.inEffectDuration).wrap(k);f("<div></div>").addClass("toast-item-close").prependTo(n).html(c.closeText).click(function(){f().toastmessage("removeToast",n,c)});f("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+c.type).prependTo(n);navigator.userAgent.match(/MSIE 6/i)&&a.css({top:document.documentElement.scrollTop});c.sticky||setTimeout(function(){f().toastmessage("removeToast",n,c)},c.stayTime);return n},showNoticeToast:function(a){a=
{text:a,type:"notice"};return f().toastmessage("showToast",a)},showSuccessToast:function(a){a={text:a,type:"success"};return f().toastmessage("showToast",a)},showErrorToast:function(a){a={text:a,type:"error"};return f().toastmessage("showToast",a)},showWarningToast:function(a){a={text:a,type:"warning"};return f().toastmessage("showToast",a)},removeToast:function(a,c){a.animate({opacity:"0"},600,function(){a.parent().animate({height:"0px"},300,function(){a.parent().remove()})});c&&c.close!==null&&
c.close()}};f.fn.toastmessage=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return e.init.apply(this,arguments);else f.error("Method "+a+" does not exist on jQuery.toastmessage")}})(jQuery);steal.loaded("webapp/lib/toast/jquery.toastmessage.js");
(function(f){f.prompt=function(d,e){e=f.extend({},f.prompt.defaults,e);f.prompt.currentPrefix=e.prefix;var a=f.browser.msie&&f.browser.version<7,c=f(document.body),k=f(window);e.classes=f.trim(e.classes);if(e.classes!="")e.classes=" "+e.classes;var n='<div class="'+e.prefix+"box"+e.classes+'" id="'+e.prefix+'box">';if(e.useiframe&&(f("object, applet").length>0||a))n+='<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+e.prefix+'fade" id="'+e.prefix+'fade"></iframe>';
else{a&&f("select").css("visibility","hidden");n+='<div class="'+e.prefix+'fade" id="'+e.prefix+'fade"></div>'}n+='<div class="'+e.prefix+'" id="'+e.prefix+'"><div class="'+e.prefix+'container"><div class="';n+=e.prefix+'close ui-btn-left ui-btn ui-btn-up-a ui-btn-icon-notext ui-btn-corner-all ui-shadow"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">Close</span><span class="ui-icon ui-icon-delete ui-icon-shadow"></span></span></div><div id="'+e.prefix+'states" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow ui-body-a"></div>';
n+="</div></div></div>";var j=f(n).appendTo(c),q=j.children("#"+e.prefix),o=j.children("#"+e.prefix+"fade");if(d.constructor==String)d={state0:{html:d,buttons:e.buttons,focus:e.focus,submit:e.submit}};var s="";f.each(d,function(H,J){J=f.extend({},f.prompt.defaults.state,J);d[H]=J;s+='<div id="'+e.prefix+"_state_"+H+'" class="'+e.prefix+'_state" style="display:none;"><div class="'+e.prefix+'message">'+J.html+'</div><div class="'+e.prefix+'buttons">';f.each(J.buttons,function(M,Q){s+=typeof Q=="object"?
'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+H+"_button"+Q.title.replace(/[^a-z0-9]+/gi,"")+'" id="'+e.prefix+"_"+H+"_button"+Q.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+Q.value+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+Q.title+"</span></span></button>":'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+H+"_button"+M+'" id="'+e.prefix+"_"+H+"_button"+M+'" value="'+
Q+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+M+"</span></span></button>"});s+="</div></div>"});q.find("#"+e.prefix+"states").html(s).children("."+e.prefix+"_state:first").css("display","block");q.find("."+e.prefix+"buttons:empty").css("display","none");f.each(d,function(H,J){var M=q.find("#"+e.prefix+"_state_"+H);M.children("."+e.prefix+"buttons").children("button").click(function(){var Q=M.children("."+e.prefix+"message"),R=J.buttons[f(this).text()];if(R==undefined)for(var ea in J.buttons)if(J.buttons[ea].title==
f(this).text())R=J.buttons[ea].value;if(typeof R=="object")R=R.value;var W={};f.each(q.find("#"+e.prefix+"states :input").serializeArray(),function(P,S){if(W[S.name]===undefined)W[S.name]=S.value;else if(typeof W[S.name]==Array||typeof W[S.name]=="object")W[S.name].push(S.value);else W[S.name]=[W[S.name],S.value]});ea=J.submit(R,Q,W);if(ea===undefined||ea)y(true,R,Q,W)});M.find("."+e.prefix+"buttons button:eq("+J.focus+")").addClass(e.prefix+"defaultbutton")});var w=function(){j.css({top:k.scrollTop()})},
z=function(){if(e.persistent){var H=0;j.addClass(e.prefix+"warning");var J=setInterval(function(){j.toggleClass(e.prefix+"warning");if(H++>1){clearInterval(J);j.removeClass(e.prefix+"warning")}},100)}else y()},C=function(H){var J=window.event?event.keyCode:H.keyCode;J==27&&z();if(J==9){var M=f(":input:enabled:visible",j),Q=H.shiftKey&&H.target==M[0];if(!H.shiftKey&&H.target==M[M.length-1]||Q){setTimeout(function(){if(M){var R=M[Q===true?M.length-1:0];R&&R.focus()}},10);return false}}},E=function(){j.css({position:a?
"absolute":"fixed",height:k.height(),width:"100%",top:a?k.scrollTop():0,left:0,right:0,bottom:0});o.css({position:"absolute",height:k.height(),width:"100%",top:0,left:0,right:0,bottom:0});q.css({position:"absolute",top:e.top,left:"50%",marginLeft:q.outerWidth()/2*-1})},y=function(H,J,M,Q){q.remove();a&&c.unbind("scroll",w);k.unbind("resize",E);o.fadeOut(e.overlayspeed,function(){o.unbind("click",z);o.remove();H&&e.callback(J,M,Q);j.unbind("keypress",C);j.remove();a&&!e.useiframe&&f("select").css("visibility",
"visible")})};E();(function(){o.css({zIndex:e.zIndex,display:"none",opacity:e.opacity});q.css({zIndex:e.zIndex+1,display:"none"});j.css({zIndex:e.zIndex})})();a&&k.scroll(w);o.click(z);k.resize(E);j.bind("keydown keypress",C);q.find("."+e.prefix+"close").click(y);o.fadeIn(e.overlayspeed);q[e.show](e.promptspeed,e.loaded);q.find("#"+e.prefix+"states ."+e.prefix+"_state:first ."+e.prefix+"defaultbutton").focus();e.timeout>0&&setTimeout(f.prompt.close,e.timeout);return j};f.prompt.defaults={prefix:"jqi",
classes:"",buttons:{Ok:true},loaded:function(){},submit:function(){return true},callback:function(){},overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",focus:0,useiframe:false,top:"15%",persistent:true,timeout:0,state:{html:"",buttons:{Ok:true},focus:0,submit:function(){return true}}};f.prompt.currentPrefix=f.prompt.defaults.prefix;f.prompt.setDefaults=function(d){f.prompt.defaults=f.extend({},f.prompt.defaults,d)};f.prompt.setStateDefaults=function(d){f.prompt.defaults.state=f.extend({},f.prompt.defaults.state,
d)};f.prompt.getStateContent=function(d){return f("#"+f.prompt.currentPrefix+"_state_"+d)};f.prompt.getCurrentState=function(){return f("."+f.prompt.currentPrefix+"_state:visible")};f.prompt.getCurrentStateName=function(){return f.prompt.getCurrentState().attr("id").replace(f.prompt.currentPrefix+"_state_","")};f.prompt.goToState=function(d,e){f("."+f.prompt.currentPrefix+"_state").slideUp("slow");f("#"+f.prompt.currentPrefix+"_state_"+d).slideDown("slow",function(){f(this).find("."+f.prompt.currentPrefix+
"defaultbutton").focus();typeof e=="function"&&e()})};f.prompt.nextState=function(d){var e=f("."+f.prompt.currentPrefix+"_state:visible").next();f("."+f.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+f.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};f.prompt.prevState=function(d){var e=f("."+f.prompt.currentPrefix+"_state:visible").prev();f("."+f.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+
f.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};f.prompt.close=function(){f("#"+f.prompt.currentPrefix+"box").fadeOut("fast",function(){f(this).remove()})};f.fn.prompt=function(d){if(d==undefined)d={};if(d.withDataAndEvents==undefined)d.withDataAndEvents=false;f.prompt(f(this).clone(d.withDataAndEvents).html(),d)}})(jQuery);steal.loaded("webapp/lib/jquery-impromptu.3.1.js");
(function(f,d){function e(v){if(k==="")return v;v=v.charAt(0).toUpperCase()+v.substr(1);return k+v}var a=Math,c=d.createElement("div").style,k=function(){for(var v="t,webkitT,MozT,msT,OT".split(","),t,G=0,D=v.length;G<D;G++){t=v[G]+"ransform";if(t in c)return v[G].substr(0,v[G].length-1)}return false}(),n=k?"-"+k.toLowerCase()+"-":"",j=e("transform"),q=e("transitionProperty"),o=e("transitionDuration"),s=e("transformOrigin"),w=e("transitionTimingFunction"),z=e("transitionDelay"),C=/android/gi.test(navigator.appVersion),
E=/iphone|ipad/gi.test(navigator.appVersion),y=/hp-tablet/gi.test(navigator.appVersion),H=e("perspective")in c,J="ontouchstart"in f&&!y,M=!!k,Q=e("transition")in c,R="onorientationchange"in f?"orientationchange":"resize",ea=J?"touchstart":"mousedown",W=J?"touchmove":"mousemove",P=J?"touchend":"mouseup",S=J?"touchcancel":"mouseup",da=k=="Moz"?"DOMMouseScroll":"mousewheel",ba=function(){if(k===false)return false;return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",
ms:"MSTransitionEnd"}[k]}(),oa=function(){return f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||function(v){return setTimeout(v,1)}}(),pa=function(){return f.cancelRequestAnimationFrame||f.webkitCancelAnimationFrame||f.webkitCancelRequestAnimationFrame||f.mozCancelRequestAnimationFrame||f.oCancelRequestAnimationFrame||f.msCancelRequestAnimationFrame||clearTimeout}(),K=H?" translateZ(0)":"";y=function(v,t){var G=
this,D;G.wrapper=typeof v=="object"?v:d.getElementById(v);G.wrapper.style.overflow="hidden";G.scroller=G.wrapper.children[0];G.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:C,hideScrollbar:E,fadeScrollbar:E&&H,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,
snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(V){V.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(D in t)G.options[D]=t[D];G.x=G.options.x;G.y=G.options.y;G.options.useTransform=M&&G.options.useTransform;G.options.hScrollbar=G.options.hScroll&&G.options.hScrollbar;G.options.vScrollbar=G.options.vScroll&&G.options.vScrollbar;G.options.zoom=
G.options.useTransform&&G.options.zoom;G.options.useTransition=Q&&G.options.useTransition;if(G.options.zoom&&C)K="";G.scroller.style[q]=G.options.useTransform?n+"transform":"top left";G.scroller.style[o]="0";G.scroller.style[s]="0 0";if(G.options.useTransition)G.scroller.style[w]="cubic-bezier(0.33,0.66,0.66,1)";if(G.options.useTransform)G.scroller.style[j]="translate("+G.x+"px,"+G.y+"px)"+K;else G.scroller.style.cssText+=";position:absolute;top:"+G.y+"px;left:"+G.x+"px";if(G.options.useTransition)G.options.fixedScrollbar=
true;G.refresh();G._bind(R,f);G._bind(ea);J||G.options.wheelAction!="none"&&G._bind(da);if(G.options.checkDOMChanges)G.checkDOMTime=setInterval(function(){G._checkDOMChanges()},500)};y.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(v){var t=this;switch(v.type){case ea:if(!J&&v.button!==0)return;t._start(v);break;case W:t._move(v);break;case P:case S:t._end(v);break;case R:t._resize();break;case da:t._wheel(v);
break;case ba:t._transitionEnd(v);break}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(v){var t=this,G;if(t[v+"Scrollbar"]){if(!t[v+"ScrollbarWrapper"]){G=d.createElement("div");if(t.options.scrollbarClass)G.className=t.options.scrollbarClass+v.toUpperCase();else G.style.cssText="position:absolute;z-index:100;"+(v=="h"?"height:7px;bottom:1px;left:2px;right:"+
(t.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(t.hScrollbar?"7":"2")+"px;top:2px;right:1px");G.style.cssText+=";pointer-events:none;"+n+"transition-property:opacity;"+n+"transition-duration:"+(t.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(t.options.hideScrollbar?"0":"1");t.wrapper.appendChild(G);t[v+"ScrollbarWrapper"]=G;G=d.createElement("div");if(!t.options.scrollbarClass)G.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+
n+"background-clip:padding-box;"+n+"box-sizing:border-box;"+(v=="h"?"height:100%":"width:100%")+";"+n+"border-radius:3px;border-radius:3px";G.style.cssText+=";pointer-events:none;"+n+"transition-property:"+n+"transform;"+n+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+n+"transition-duration:0;"+n+"transform: translate(0,0)"+K;if(t.options.useTransition)G.style.cssText+=";"+n+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";t[v+"ScrollbarWrapper"].appendChild(G);t[v+"ScrollbarIndicator"]=
G}if(v=="h"){t.hScrollbarSize=t.hScrollbarWrapper.clientWidth;t.hScrollbarIndicatorSize=a.max(a.round(t.hScrollbarSize*t.hScrollbarSize/t.scrollerW),8);t.hScrollbarIndicator.style.width=t.hScrollbarIndicatorSize+"px";t.hScrollbarMaxScroll=t.hScrollbarSize-t.hScrollbarIndicatorSize;t.hScrollbarProp=t.hScrollbarMaxScroll/t.maxScrollX}else{t.vScrollbarSize=t.vScrollbarWrapper.clientHeight;t.vScrollbarIndicatorSize=a.max(a.round(t.vScrollbarSize*t.vScrollbarSize/t.scrollerH),8);t.vScrollbarIndicator.style.height=
t.vScrollbarIndicatorSize+"px";t.vScrollbarMaxScroll=t.vScrollbarSize-t.vScrollbarIndicatorSize;t.vScrollbarProp=t.vScrollbarMaxScroll/t.maxScrollY}t._scrollbarPos(v,true)}else if(t[v+"ScrollbarWrapper"]){if(M)t[v+"ScrollbarIndicator"].style[j]="";t[v+"ScrollbarWrapper"].parentNode.removeChild(t[v+"ScrollbarWrapper"]);t[v+"ScrollbarWrapper"]=null;t[v+"ScrollbarIndicator"]=null}},_resize:function(){var v=this;setTimeout(function(){v.refresh()},C?200:0)},_pos:function(v,t){if(!this.zoomed){v=this.hScroll?
v:0;t=this.vScroll?t:0;if(this.options.useTransform)this.scroller.style[j]="translate("+v+"px,"+t+"px) scale("+this.scale+")"+K;else{v=a.round(v);t=a.round(t);this.scroller.style.left=v+"px";this.scroller.style.top=t+"px"}this.x=v;this.y=t;this._scrollbarPos("h");this._scrollbarPos("v")}},_scrollbarPos:function(v,t){var G=this,D=v=="h"?G.x:G.y;if(G[v+"Scrollbar"]){D=G[v+"ScrollbarProp"]*D;if(D<0){if(!G.options.fixedScrollbar){D=G[v+"ScrollbarIndicatorSize"]+a.round(D*3);if(D<8)D=8;G[v+"ScrollbarIndicator"].style[v==
"h"?"width":"height"]=D+"px"}D=0}else if(D>G[v+"ScrollbarMaxScroll"])if(G.options.fixedScrollbar)D=G[v+"ScrollbarMaxScroll"];else{D=G[v+"ScrollbarIndicatorSize"]-a.round((D-G[v+"ScrollbarMaxScroll"])*3);if(D<8)D=8;G[v+"ScrollbarIndicator"].style[v=="h"?"width":"height"]=D+"px";D=G[v+"ScrollbarMaxScroll"]+(G[v+"ScrollbarIndicatorSize"]-D)}G[v+"ScrollbarWrapper"].style[z]="0";G[v+"ScrollbarWrapper"].style.opacity=t&&G.options.hideScrollbar?"0":"1";G[v+"ScrollbarIndicator"].style[j]="translate("+(v==
"h"?D+"px,0)":"0,"+D+"px)")+K}},_start:function(v){var t=this,G=J?v.touches[0]:v,D,V;if(t.enabled){t.options.onBeforeScrollStart&&t.options.onBeforeScrollStart.call(t,v);if(t.options.useTransition||t.options.zoom)t._transitionTime(0);t.moved=false;t.animating=false;t.zoomed=false;t.distX=0;t.distY=0;t.absDistX=0;t.absDistY=0;t.dirX=0;t.dirY=0;if(t.options.zoom&&J&&v.touches.length>1){V=a.abs(v.touches[0].pageX-v.touches[1].pageX);D=a.abs(v.touches[0].pageY-v.touches[1].pageY);t.touchesDistStart=a.sqrt(V*
V+D*D);t.originX=a.abs(v.touches[0].pageX+v.touches[1].pageX-t.wrapperOffsetLeft*2)/2-t.x;t.originY=a.abs(v.touches[0].pageY+v.touches[1].pageY-t.wrapperOffsetTop*2)/2-t.y;t.options.onZoomStart&&t.options.onZoomStart.call(t,v)}if(t.options.momentum){if(t.options.useTransform){D=getComputedStyle(t.scroller,null)[j].replace(/[^0-9\-.,]/g,"").split(",");V=+D[4];D=+D[5]}else{V=+getComputedStyle(t.scroller,null).left.replace(/[^0-9-]/g,"");D=+getComputedStyle(t.scroller,null).top.replace(/[^0-9-]/g,"")}if(V!=
t.x||D!=t.y){t.options.useTransition?t._unbind(ba):pa(t.aniTime);t.steps=[];t._pos(V,D);t.options.onScrollEnd&&t.options.onScrollEnd.call(t)}}t.absStartX=t.x;t.absStartY=t.y;t.startX=t.x;t.startY=t.y;t.pointX=G.pageX;t.pointY=G.pageY;t.startTime=v.timeStamp||Date.now();t.options.onScrollStart&&t.options.onScrollStart.call(t,v);t._bind(W,f);t._bind(P,f);t._bind(S,f)}},_move:function(v){var t=this,G=J?v.touches[0]:v,D=G.pageX-t.pointX,V=G.pageY-t.pointY,aa=t.x+D,p=t.y+V,ra=v.timeStamp||Date.now();t.options.onBeforeScrollMove&&
t.options.onBeforeScrollMove.call(t,v);if(t.options.zoom&&J&&v.touches.length>1){aa=a.abs(v.touches[0].pageX-v.touches[1].pageX);p=a.abs(v.touches[0].pageY-v.touches[1].pageY);t.touchesDist=a.sqrt(aa*aa+p*p);t.zoomed=true;G=1/t.touchesDistStart*t.touchesDist*this.scale;if(G<t.options.zoomMin)G=0.5*t.options.zoomMin*Math.pow(2,G/t.options.zoomMin);else if(G>t.options.zoomMax)G=2*t.options.zoomMax*Math.pow(0.5,t.options.zoomMax/G);t.lastScale=G/this.scale;aa=this.originX-this.originX*t.lastScale+this.x;
p=this.originY-this.originY*t.lastScale+this.y;this.scroller.style[j]="translate("+aa+"px,"+p+"px) scale("+G+")"+K;t.options.onZoom&&t.options.onZoom.call(t,v)}else{t.pointX=G.pageX;t.pointY=G.pageY;if(aa>0||aa<t.maxScrollX)aa=t.options.bounce?t.x+D/2:aa>=0||t.maxScrollX>=0?0:t.maxScrollX;if(p>t.minScrollY||p<t.maxScrollY)p=t.options.bounce?t.y+V/2:p>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY;t.distX+=D;t.distY+=V;t.absDistX=a.abs(t.distX);t.absDistY=a.abs(t.distY);if(!(t.absDistX<6&&
t.absDistY<6)){if(t.options.lockDirection)if(t.absDistX>t.absDistY+5){p=t.y;V=0}else if(t.absDistY>t.absDistX+5){aa=t.x;D=0}t.moved=true;t._pos(aa,p);t.dirX=D>0?-1:D<0?1:0;t.dirY=V>0?-1:V<0?1:0;if(ra-t.startTime>300){t.startTime=ra;t.startX=t.x;t.startY=t.y}t.options.onScrollMove&&t.options.onScrollMove.call(t,v)}}},_end:function(v){if(!(J&&v.touches.length!==0)){var t=this,G=J?v.changedTouches[0]:v,D,V,aa={dist:0,time:0},p={dist:0,time:0},ra=(v.timeStamp||Date.now())-t.startTime,va=t.x,Aa=t.y;t._unbind(W,
f);t._unbind(P,f);t._unbind(S,f);t.options.onBeforeScrollEnd&&t.options.onBeforeScrollEnd.call(t,v);if(t.zoomed){va=t.scale*t.lastScale;va=Math.max(t.options.zoomMin,va);va=Math.min(t.options.zoomMax,va);t.lastScale=va/t.scale;t.scale=va;t.x=t.originX-t.originX*t.lastScale+t.x;t.y=t.originY-t.originY*t.lastScale+t.y;t.scroller.style[o]="200ms";t.scroller.style[j]="translate("+t.x+"px,"+t.y+"px) scale("+t.scale+")"+K;t.zoomed=false;t.refresh();t.options.onZoomEnd&&t.options.onZoomEnd.call(t,v)}else{if(t.moved){if(ra<
300&&t.options.momentum){aa=va?t._momentum(va-t.startX,ra,-t.x,t.scrollerW-t.wrapperW+t.x,t.options.bounce?t.wrapperW:0):aa;p=Aa?t._momentum(Aa-t.startY,ra,-t.y,t.maxScrollY<0?t.scrollerH-t.wrapperH+t.y-t.minScrollY:0,t.options.bounce?t.wrapperH:0):p;va=t.x+aa.dist;Aa=t.y+p.dist;if(t.x>0&&va>0||t.x<t.maxScrollX&&va<t.maxScrollX)aa={dist:0,time:0};if(t.y>t.minScrollY&&Aa>t.minScrollY||t.y<t.maxScrollY&&Aa<t.maxScrollY)p={dist:0,time:0}}if(aa.dist||p.dist){aa=a.max(a.max(aa.time,p.time),10);if(t.options.snap){p=
va-t.absStartX;ra=Aa-t.absStartY;if(a.abs(p)<t.options.snapThreshold&&a.abs(ra)<t.options.snapThreshold)t.scrollTo(t.absStartX,t.absStartY,200);else{p=t._snap(va,Aa);va=p.x;Aa=p.y;aa=a.max(p.time,aa)}}t.scrollTo(a.round(va),a.round(Aa),aa)}else if(t.options.snap){p=va-t.absStartX;ra=Aa-t.absStartY;if(a.abs(p)<t.options.snapThreshold&&a.abs(ra)<t.options.snapThreshold)t.scrollTo(t.absStartX,t.absStartY,200);else{p=t._snap(t.x,t.y);if(p.x!=t.x||p.y!=t.y)t.scrollTo(p.x,p.y,p.time)}}else t._resetPos(200)}else{if(J)if(t.doubleTapTimer&&
t.options.zoom){clearTimeout(t.doubleTapTimer);t.doubleTapTimer=null;t.options.onZoomStart&&t.options.onZoomStart.call(t,v);t.zoom(t.pointX,t.pointY,t.scale==1?t.options.doubleTapZoom:1);t.options.onZoomEnd&&setTimeout(function(){t.options.onZoomEnd.call(t,v)},200)}else if(this.options.handleClick)t.doubleTapTimer=setTimeout(function(){t.doubleTapTimer=null;for(D=G.target;D.nodeType!=1;)D=D.parentNode;if(D.tagName!="SELECT"&&D.tagName!="INPUT"&&D.tagName!="TEXTAREA"){V=d.createEvent("MouseEvents");
V.initMouseEvent("click",true,true,v.view,1,G.screenX,G.screenY,G.clientX,G.clientY,v.ctrlKey,v.altKey,v.shiftKey,v.metaKey,0,null);V._fake=true;D.dispatchEvent(V)}},t.options.zoom?250:0);t._resetPos(400)}t.options.onTouchEnd&&t.options.onTouchEnd.call(t,v)}}},_resetPos:function(v){var t=this,G=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,D=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(G==t.x&&D==t.y){if(t.moved){t.moved=false;t.options.onScrollEnd&&t.options.onScrollEnd.call(t)}if(t.hScrollbar&&
t.options.hideScrollbar){if(k=="webkit")t.hScrollbarWrapper.style[z]="300ms";t.hScrollbarWrapper.style.opacity="0"}if(t.vScrollbar&&t.options.hideScrollbar){if(k=="webkit")t.vScrollbarWrapper.style[z]="300ms";t.vScrollbarWrapper.style.opacity="0"}}else t.scrollTo(G,D,v||0)},_wheel:function(v){var t=this,G,D;if("wheelDeltaX"in v){G=v.wheelDeltaX/12;D=v.wheelDeltaY/12}else if("wheelDelta"in v)G=D=v.wheelDelta/12;else if("detail"in v)G=D=-v.detail*3;else return;if(t.options.wheelAction=="zoom"){D=t.scale*
Math.pow(2,1/3*(D?D/Math.abs(D):0));if(D<t.options.zoomMin)D=t.options.zoomMin;if(D>t.options.zoomMax)D=t.options.zoomMax;if(D!=t.scale){!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,v);t.wheelZoomCount++;t.zoom(v.pageX,v.pageY,D,400);setTimeout(function(){t.wheelZoomCount--;!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,v)},400)}}else{G=t.x+G;D=t.y+D;if(G>0)G=0;else if(G<t.maxScrollX)G=t.maxScrollX;if(D>t.minScrollY)D=t.minScrollY;else if(D<t.maxScrollY)D=
t.maxScrollY;t.maxScrollY<0&&t.scrollTo(G,D,0)}},_transitionEnd:function(v){var t=this;if(v.target==t.scroller){t._unbind(ba);t._startAni()}},_startAni:function(){var v=this,t=v.x,G=v.y,D=Date.now(),V,aa,p;if(!v.animating)if(v.steps.length){V=v.steps.shift();if(V.x==t&&V.y==G)V.time=0;v.animating=true;v.moved=true;if(v.options.useTransition){v._transitionTime(V.time);v._pos(V.x,V.y);v.animating=false;V.time?v._bind(ba):v._resetPos(0)}else{p=function(){var ra=Date.now();if(ra>=D+V.time){v._pos(V.x,
V.y);v.animating=false;v.options.onAnimationEnd&&v.options.onAnimationEnd.call(v);v._startAni()}else{ra=(ra-D)/V.time-1;aa=a.sqrt(1-ra*ra);ra=(V.x-t)*aa+t;v._pos(ra,(V.y-G)*aa+G);if(v.animating)v.aniTime=oa(p)}};p()}}else v._resetPos(400)},_transitionTime:function(v){v+="ms";this.scroller.style[o]=v;if(this.hScrollbar)this.hScrollbarIndicator.style[o]=v;if(this.vScrollbar)this.vScrollbarIndicator.style[o]=v},_momentum:function(v,t,G,D,V){t=a.abs(v)/t;var aa=t*t/0.0012,p=0;p=0;if(v>0&&aa>G){p=V/(6/
(aa/t*6.0E-4));G+=p;t=t*G/aa;aa=G}else if(v<0&&aa>D){p=V/(6/(aa/t*6.0E-4));D+=p;t=t*D/aa;aa=D}aa*=v<0?-1:1;p=t/6.0E-4;return{dist:aa,time:a.round(p)}},_offset:function(v){for(var t=-v.offsetLeft,G=-v.offsetTop;v=v.offsetParent;){t-=v.offsetLeft;G-=v.offsetTop}if(v!=this.wrapper){t*=this.scale;G*=this.scale}return{left:t,top:G}},_snap:function(v,t){var G=this,D,V,aa;aa=G.pagesX.length-1;D=0;for(V=G.pagesX.length;D<V;D++)if(v>=G.pagesX[D]){aa=D;break}aa==G.currPageX&&aa>0&&G.dirX<0&&aa--;v=G.pagesX[aa];
V=(V=a.abs(v-G.pagesX[G.currPageX]))?a.abs(G.x-v)/V*500:0;G.currPageX=aa;aa=G.pagesY.length-1;for(D=0;D<aa;D++)if(t>=G.pagesY[D]){aa=D;break}aa==G.currPageY&&aa>0&&G.dirY<0&&aa--;t=G.pagesY[aa];D=(D=a.abs(t-G.pagesY[G.currPageY]))?a.abs(G.y-t)/D*500:0;G.currPageY=aa;G=a.round(a.max(V,D))||200;return{x:v,y:t,time:G}},_bind:function(v,t,G){(t||this.scroller).addEventListener(v,this,!!G)},_unbind:function(v,t,G){(t||this.scroller).removeEventListener(v,this,!!G)},destroy:function(){var v=this;v.scroller.style[j]=
"";v.hScrollbar=false;v.vScrollbar=false;v._scrollbar("h");v._scrollbar("v");v._unbind(R,f);v._unbind(ea);v._unbind(W,f);v._unbind(P,f);v._unbind(S,f);v.options.hasTouch||v._unbind(da);v.options.useTransition&&v._unbind(ba);v.options.checkDOMChanges&&clearInterval(v.checkDOMTime);v.options.onDestroy&&v.options.onDestroy.call(v)},refresh:function(){var v=this,t,G,D,V=0;G=0;if(v.scale<v.options.zoomMin)v.scale=v.options.zoomMin;v.wrapperW=v.wrapper.clientWidth||1;v.wrapperH=v.wrapper.clientHeight||
1;v.minScrollY=-v.options.topOffset||0;v.scrollerW=a.round(v.scroller.offsetWidth*v.scale);v.scrollerH=a.round((v.scroller.offsetHeight+v.minScrollY)*v.scale);v.maxScrollX=v.wrapperW-v.scrollerW;v.maxScrollY=v.wrapperH-v.scrollerH+v.minScrollY;v.dirX=0;v.dirY=0;v.options.onRefresh&&v.options.onRefresh.call(v);v.hScroll=v.options.hScroll&&v.maxScrollX<0;v.vScroll=v.options.vScroll&&(!v.options.bounceLock&&!v.hScroll||v.scrollerH>v.wrapperH);v.hScrollbar=v.hScroll&&v.options.hScrollbar;v.vScrollbar=
v.vScroll&&v.options.vScrollbar&&v.scrollerH>v.wrapperH;t=v._offset(v.wrapper);v.wrapperOffsetLeft=-t.left;v.wrapperOffsetTop=-t.top;if(typeof v.options.snap=="string"){v.pagesX=[];v.pagesY=[];D=v.scroller.querySelectorAll(v.options.snap);t=0;for(G=D.length;t<G;t++){V=v._offset(D[t]);V.left+=v.wrapperOffsetLeft;V.top+=v.wrapperOffsetTop;v.pagesX[t]=V.left<v.maxScrollX?v.maxScrollX:V.left*v.scale;v.pagesY[t]=V.top<v.maxScrollY?v.maxScrollY:V.top*v.scale}}else if(v.options.snap){for(v.pagesX=[];V>=
v.maxScrollX;){v.pagesX[G]=V;V-=v.wrapperW;G++}if(v.maxScrollX%v.wrapperW)v.pagesX[v.pagesX.length]=v.maxScrollX-v.pagesX[v.pagesX.length-1]+v.pagesX[v.pagesX.length-1];G=V=0;for(v.pagesY=[];V>=v.maxScrollY;){v.pagesY[G]=V;V-=v.wrapperH;G++}if(v.maxScrollY%v.wrapperH)v.pagesY[v.pagesY.length]=v.maxScrollY-v.pagesY[v.pagesY.length-1]+v.pagesY[v.pagesY.length-1]}v._scrollbar("h");v._scrollbar("v");if(!v.zoomed){v.scroller.style[o]="0";v._resetPos(400)}},scrollTo:function(v,t,G,D){var V=this,aa=v;V.stop();
aa.length||(aa=[{x:v,y:t,time:G,relative:D}]);v=0;for(t=aa.length;v<t;v++){if(aa[v].relative){aa[v].x=V.x-aa[v].x;aa[v].y=V.y-aa[v].y}V.steps.push({x:aa[v].x,y:aa[v].y,time:aa[v].time||0})}V._startAni()},scrollToElement:function(v,t){var G=this;if(v=v.nodeType?v:G.scroller.querySelector(v)){v=G._offset(v);v.left+=G.wrapperOffsetLeft;v.top+=G.wrapperOffsetTop;v.left=v.left>0?0:v.left<G.maxScrollX?G.maxScrollX:v.left;v.top=v.top>G.minScrollY?G.minScrollY:v.top<G.maxScrollY?G.maxScrollY:v.top;t=t===
undefined?a.max(a.abs(v.left)*2,a.abs(v.top)*2):t;G.scrollTo(v.left,v.top,t)}},scrollToPage:function(v,t,G){var D=this;G=G===undefined?400:G;D.options.onScrollStart&&D.options.onScrollStart.call(D);if(D.options.snap){v=v=="next"?D.currPageX+1:v=="prev"?D.currPageX-1:v;t=t=="next"?D.currPageY+1:t=="prev"?D.currPageY-1:t;v=v<0?0:v>D.pagesX.length-1?D.pagesX.length-1:v;t=t<0?0:t>D.pagesY.length-1?D.pagesY.length-1:t;D.currPageX=v;D.currPageY=t;v=D.pagesX[v];t=D.pagesY[t]}else{v=-D.wrapperW*v;t=-D.wrapperH*
t;if(v<D.maxScrollX)v=D.maxScrollX;if(t<D.maxScrollY)t=D.maxScrollY}D.scrollTo(v,t,G)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(W,f);this._unbind(P,f);this._unbind(S,f)},enable:function(){this.enabled=true},stop:function(){this.options.useTransition?this._unbind(ba):pa(this.aniTime);this.steps=[];this.animating=this.moved=false},zoom:function(v,t,G,D){var V=this,aa=G/V.scale;if(V.options.useTransform){V.zoomed=true;D=D===undefined?200:D;v=v-V.wrapperOffsetLeft-
V.x;t=t-V.wrapperOffsetTop-V.y;V.x=v-v*aa+V.x;V.y=t-t*aa+V.y;V.scale=G;V.refresh();V.x=V.x>0?0:V.x<V.maxScrollX?V.maxScrollX:V.x;V.y=V.y>V.minScrollY?V.minScrollY:V.y<V.maxScrollY?V.maxScrollY:V.y;V.scroller.style[o]=D+"ms";V.scroller.style[j]="translate("+V.x+"px,"+V.y+"px) scale("+G+")"+K;V.zoomed=false}},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};c=null;if(typeof exports!=="undefined")exports.iScroll=y;else f.iScroll=y})(window,document);steal.loaded("webapp/lib/iscroll.js");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_desktop_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div id="desktop" data-role="page">      <div class="main-actions">        <div class="desktop-title">     <h1>FastND</h1>    </div>        ');if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(a):!user||user.is_public))c.push('     <div id="signin-actions" data-role="controlgroup" data-type="horizontal">      <a id="login-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="b">Login</a>      <a id="signup-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="a">Register</a>     </div>    ');
c.push("        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public))c.push('     <div id="header-buttons">      <!-- <a ontouchstart="" class="add-company-button" data-tooltip="Add Company">Add Company</a> --\>      <a ontouchstart="" id="profile-button" data-tooltip="User Profile">Profile</a>      <a ontouchstart="" id="manage-button" data-tooltip="Manage Columns" class="disabled">Manage Columns</a>      <a ontouchstart="" class="help-button" data-tooltip="Get Help">Help</a>      <a ontouchstart="" class="logout-button" data-tooltip="Log out of FastND">Logout</a>     </div>    ');
else{c.push('     <div id="public-account-selectors" data-role="controlgroup" data-type="horizontal">      <button data-theme="a" data-icon="arrow-r" id="public-account-selector-btn">Use a Public Account</button>      <!-- <button data-theme="a" data-icon="search" id="find-company-button">Lookup a Company</button>       <ul data-role="listview" data-filter="true" class="mobile-addcompany hide-mobile-companies companies-list" data-filter-theme="a" data-theme="a" data-filter-placeholder="Search companies..."></ul> --\>           <div class="public-account-select-box">       <form id="public-account-box-form">        <div data-role="fieldcontain">         <select name="user[geographic]" id="geographic" data-theme="a">          <option disabled>');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));c.push("</option>          ");if(typeof(isSelected=false)!=="undefined"&&(isSelected=false)!=null)c.push(e.encode(typeof(isSelected=false)==="function"?(isSelected=false).call(a):(isSelected=false)));c.push("          ");if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(n,j){with(this){c.push("           ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('           <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');if(typeof selectedFocus.geographic!==
"undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):selectedFocus.geographic,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId)){c.push(' selected="selected" ');if(typeof(isSelected=true)!=="undefined"&&(isSelected=true)!=null)c.push(e.encode(typeof(isSelected=
true)==="function"?(isSelected=true).call(a):(isSelected=true)));c.push(" ")}c.push(" ")}});c.push(" ");if(typeof(isSelected==false&&j.title=="United States")!=="undefined"&&(isSelected==false&&j.title=="United States")!=null&&(typeof(isSelected==false&&j.title=="United States")==="function"?(isSelected==false&&j.title=="United States").call(a):isSelected==false&&j.title=="United States"))c.push(' selected="selected" ');c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title===
"function"?j.title.call(a):j.title));c.push("</option>          ")}});c.push('         </select>        </div>          <div data-role="fieldcontain">         <select name="user[industry]" id="industry" data-theme="a">          <option disabled>');if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));c.push("</option>          ");if(typeof focus.industrial.profiles!==
"undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(n,j){with(this){c.push("           ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('           <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id===
"function"?j._id.call(a):j._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):selectedFocus.industrial,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});
c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>          ")}});c.push('         </select>        </div>                <div data-role="fieldcontain">         <select name="user[profession]" id="profession" data-theme="a">          <option disabled>');if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):
focus.professional.title));c.push("</option>          ");if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(n,j){with(this){c.push("           ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('           <option value="');
if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):selectedFocus.professional,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):
o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>          ")}});c.push('         </select>        </div>                        <button data-theme="b" type="submit">Try a Public Account</button>       </form>      </div>          </div>         ')}c.push('       </div>      <div class="tab-list">      <div class="tablet-tab-selector" id="tablet-tabs">     <div class="tablet-selector-wrapper">      ');
if(typeof user!=="undefined"&&user!=null&&(typeof user==="function"?user.call(a):user))c.push('      <ul data-role="listview" data-filter="true" class="mobile-addcompany hide-mobile-companies companies-list" data-filter-theme="a" data-filter-placeholder="Search companies..."></ul>      ');c.push('      <div class="tablet-tab-list"></div>     </div>    </div>   </div>      <div id="desktop-content" data-role="content"></div>      <div data-role="footer">    <div class="scrolling-ticker"></div>     </div>      ');
if(typeof blankState!=="undefined"&&blankState!=null&&(typeof blankState==="function"?blankState.call(a):blankState))c.push('    <div id="blank-state" class="ui-body-c ui-corner-all">     <div class="ui-bar-a">      <h1>Welcome to <strong>FastND</strong></h1>     </div>     <div class="ui-content">      <p>Please try out some of our public profiles, by selecting different focus areas from these selectors. </p>      <p>If you like our service, please register for an account, using the button on the top left, after closing this message. </p>      <form>       <label>        <input type="checkbox" name="show-blank-state" id="show-blank-state">Don\'t show this message again</label>        <a data-role="button" data-icon="delete" data-inline="true" data-theme="a" id="blank-state-close-btn" data-corners="true" data-shadow="true" data-iconshadow="true" data-wrapperels="span" class="ui-btn ui-btn-up-a ui-btn-inline ui-btn-corner-all">         <span class="ui-btn-inner ui-btn-corner-all">          <span class="ui-btn-text">Close popup</span>         </span>        </a>      </form>     </div>    </div>   ');
c.push("  </div>    ");if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(a):!user||user.is_public)){c.push('  <div id="public-account-selector" data-role="dialog" data-theme="a" data-content-theme="c" class="small-dialog">   <div data-role="header">    <h1>Public Accounts</h1>   </div>      <div data-role="content">    <p>Try out some of our public accounts by selecting your areas of focus</p>    <form>     <div data-role="fieldcontain">      <label for="profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));c.push('</label>      <select name="user[profession]" id="profession">       ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(n,j){with(this){c.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):
selectedFocus.professional,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>       ")}});c.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));c.push('</label>      <select name="user[industry]" id="industry">       ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(n,j){with(this){c.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):
selectedFocus.industrial,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>       ")}});c.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));c.push('</label>      <select name="user[geographic]" id="geographic">       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(n,j){with(this){c.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):
selectedFocus.geographic,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>       ")}});c.push('      </select>     </div>    </form>    <button data-theme="b" data-icon="arrow-r" data-iconpos="right" class="public-account-selector-btn">Try account</button>   </div>   </div>  ')}c.push("")}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/desktop.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_tab-view_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div id="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(a):tab.id));c.push('" class="tab">   <div class="tab-scroller"></div>  </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/tab-view.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_login_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div id="login-page" data-role="dialog" class="small-dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>     ');typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen)?c.push("      Sign-In     "):c.push("      Welcome to       <strong>FastND</strong>     ");
c.push('    </h1>   </div>   <div data-role="content">        ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('     <a data-role="button" data-theme="a" class="public-account-btn" data-icon="arrow-r" data-iconpos="right">Use a Public Account</a>     <hr />     <p class="separator-text">OR</p>    ');c.push('        <form id="new_user_session" data-ajax="false">     <div data-role="fieldcontain">      <label for="login">Username</label>      <input type="text" name="user_session[login]" id="login" value="" />     </div>     <div data-role="fieldcontain">      <label for="password">Password</label>      <input type="password" name="user_session[password]" id="password" value="" />     </div>             ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('      <div data-role="controlgroup" data-type="horizontal">       <a data-role="button" data-theme="b" id="signup-button">Register</a>     ');c.push('          <button type="submit" data-role="button" data-theme="a" id="signin-button">Login</button>          ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):
smallScreen))c.push("      </div>     ");c.push('          <a class="forgot-password">Forgot your password?</a>          <hr />     <p class="separator-text">OR</p>          <div class="social-signin">      <p>Sign-in with your account at: </p>             <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/google?callback=");
if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=
null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>              ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('       </div>       <div data-role="controlgroup" data-type="horizontal">      ');c.push('                <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?
finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>     </div>         </form>         </div>  </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/login.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_addcompanymobile_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push("");if(typeof companies!=="undefined"&&companies!=null)e.each(typeof companies==="function"?companies.call(a):companies,function(n,j){with(this){c.push('   <li data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">    <span class="ui-icon ui-icon-plus"></span>    ');if(typeof j.title!==
"undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("    ");if(typeof j.profiles!=="undefined"&&j.profiles!=null)e.each(typeof j.profiles==="function"?j.profiles.call(a):j.profiles,function(q,o){with(this){c.push('     <span class="ui-li-count">');if(typeof o.title!=="undefined"&&o.title!=null)c.push(e.encode(typeof o.title==="function"?o.title.call(a):o.title));c.push("</span>         ")}});c.push("   </li>  ")}});c.push("")}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/addcompanymobile.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_profile_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div id="profile-page" data-role="dialog" class="small-dialog ');if(typeof updateProfile!=="undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(a):updateProfile))c.push(" update-profile");c.push('">   <div data-role="header">    <h1>Professional Account Information</h1>   </div>   <div data-role="content" data-theme="c">         ');if(typeof updateProfile!==
"undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(a):updateProfile))c.push('    <div class="social-signin">     <p>Connect your FastND account with your social networking accounts</p>          <div data-role="controlgroup" data-type="horizontal">          <a class="google-profile-connect" data-type="google" data-role="button" data-icon="google" data-inline="true">Google</a>      <a class="twitter-profile-connect" data-type="twitter" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>      <a class="linkedin-profile-connect" data-type="linkedin" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>     </div>    </div>         <em>Since this is your first time using FastND, please take a moment to update your profile. </em>    ');
c.push('       <form>     <div data-role="fieldcontain">      <label for="full_name">Full Name</label>      <input type="text" name="full_name" id="full_name" value="');if(typeof user.full_name!=="undefined"&&user.full_name!=null)c.push(e.encode(typeof user.full_name==="function"?user.full_name.call(a):user.full_name));c.push('" required>     </div>          ');if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(a):!updateProfile)){c.push('     <div data-role="fieldcontain">      <label for="email_work">Work Email:</label>      <input type="email" name="email_work" id="email_work" value="');
if(typeof user.email_work!=="undefined"&&user.email_work!=null)c.push(e.encode(typeof user.email_work==="function"?user.email_work.call(a):user.email_work));c.push('" required>     </div>     ')}c.push("          ");if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(a):!updateProfile))c.push('      <div data-role="fieldcontain">       <label for="password">New Password:</label>       <input type="password" name="password" id="password" value=""  />      </div>            <div data-role="fieldcontain">       <label for="password_confirmation">Confirm Password:</label>       <input type="password" name="password_confirmation" id="password_confirmation" value="" />      </div>     ');
c.push('          <div data-role="fieldcontain">       <label for="user_geographic">');if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));c.push('</label>      <select id="user_geographic" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=
null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(n,j){with(this){c.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');
if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):selectedFocus.geographic,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&
j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>       ")}});c.push('      </select>         </div>          <div data-role="fieldcontain">      <label for="user_profession">');if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));c.push('</label>      <select id="user_profession" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(n,j){with(this){c.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&
j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):selectedFocus.professional,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');
c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>       ")}});c.push('      </select>     </div>          <div data-role="fieldcontain">      <label for="user_industry">');if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));c.push('</label>      <select id="user_industry" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(n,j){with(this){c.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(a):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=
null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):selectedFocus.industrial,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');
c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>       ")}});c.push('      </select>     </div>                 <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Save Changes</button>          </div>    </form>      </div>     </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/profile.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_panel_controlgroup_tmpl",function(d){return function(e,a){e=[];var c=a.data;with(c){e.push('<div data-role="controlgroup" data-type="horizontal">   <a data-role="button" data-icon="refresh" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-refresh">Refresh</a>   ');if(typeof editable!=="undefined"&&editable!=null&&(typeof editable==="function"?editable.call(a):editable))e.push('    <a data-role="button" data-icon="grid" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-manage">Edit</a>    <a data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-remove">Remove</a>   ');
e.push("  </div>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/panel.controlgroup.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div id="manage-page" data-role="dialog" class="ui-page">   <div data-role="header">    <h1>Finfore Management</h1>     </div>   <div data-role="content" data-theme="b">    <div id="management-tabs">     <ul>      ');if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(a):modules,function(n,j){with(this){c.push("            ");
if(typeof("management"in j)!=="undefined"&&"management"in j!=null&&(typeof("management"in j)==="function"?("management"in j).call(a):"management"in j)){c.push('        <li><a href="#management-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" rel="external" class="ui-btn ui-btn-up-a">');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push("</a></li>            ")}c.push("      ")}});c.push("     </ul>     ");
if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(a):modules,function(n){with(this){c.push('      <div id="management-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-category="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="management-tab-panel"></div>     ')}});c.push("    </div>   </div>   </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});
steal.loaded("webapp/views/manage.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_feed-infos_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push("");if(typeof feeds!=="undefined"&&feeds!=null)e.each(typeof feeds==="function"?feeds.call(a):feeds,function(n,j){with(this){c.push('   <input type="radio" name="');if(typeof type!=="undefined"&&type!=null)c.push(e.encode(typeof type==="function"?type.call(a):type));c.push('-preset-sources" id="source-');if(typeof j._id!=="undefined"&&j._id!=
null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" data-address="');if(typeof j.address!=="undefined"&&j.address!=null)c.push(e.encode(typeof j.address==="function"?j.address.call(a):j.address));c.push('" class="preset-source" value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" data-role="none">   <label for="source-');if(typeof name!=="undefined"&&name!=null)c.push(e.encode(typeof name==="function"?
name.call(a):name));c.push("-");if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</label>  ")}});c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.feed-infos.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_panels_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<input type="radio" data-native="true" class="mtab" id="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-panel-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" name="');if(typeof category!==
"undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push('-panels" data-index="');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" data-role="none">  <label for="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-panel-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?
index.call(a):index));c.push('" class="mtab-selector">   ');if(typeof panel.name!=="undefined"&&panel.name!=null)c.push(e.encode(typeof panel.name==="function"?panel.name.call(a):panel.name));c.push('  </label>    <div id="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-tab-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" class="mtab-content ui-body-c">   <div class="mtab-title ui-bar-a">    ');
if(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=="undefined"&&(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=null&&(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")==="function"?(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin").call(a):category!=="portfolio"&&category!=="keyword"&&category!=="linkedin"))c.push('     <div data-role="controlgroup" data-type="horizontal" class="source-list-controls ui-btn-right">      <a href="#" data-role="button" data-icon="plus" data-iconpos="notext" data-theme="a" data-inline="true" class="add-custom-source">Add Custom Source</a>      <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="remove-source">Remove Source</a>     </div>    ');
c.push("    <span>     ");if(typeof panel.name!=="undefined"&&panel.name!=null)c.push(e.encode(typeof panel.name==="function"?panel.name.call(a):panel.name));c.push("    </span>        ");if(typeof(category==="twitter"&&false)!=="undefined"&&(category==="twitter"&&false)!=null&&(typeof(category==="twitter"&&false)==="function"?(category==="twitter"&&false).call(a):category==="twitter"&&false)){c.push('     <a href="http://twitter.com/');if(typeof panel.account!=="undefined"&&panel.account!=null)c.push(e.encode(typeof panel.account===
"function"?panel.account.call(a):panel.account));c.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof panel.account!=="undefined"&&panel.account!=null)c.push(e.encode(typeof panel.account==="function"?panel.account.call(a):panel.account));c.push("</a>    ")}c.push("       </div>         ");if(typeof(category==="portfolio")!=="undefined"&&category==="portfolio"!=null&&(typeof(category==="portfolio")==="function"?(category==="portfolio").call(a):category===
"portfolio"))c.push('    <em class="extra-details">The list of Portfolios available in your Google Account will be visible here, <strong>after you reload the application. </strong></em>   ');else if(typeof(category=="keyword")!=="undefined"&&category=="keyword"!=null&&(typeof(category=="keyword")==="function"?(category=="keyword").call(a):category=="keyword")){c.push('    <div class="keyword-panel-settings">        <div data-role="fieldcontain">      <label for="keyword-text-');if(typeof index!==
"undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('">Keyword</label>             <input type="text" class="keyword-text" id="keyword-text-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" value="');if(typeof panel.keyword_column.keyword!=="undefined"&&panel.keyword_column.keyword!=null)c.push(e.encode(typeof panel.keyword_column.keyword==="function"?panel.keyword_column.keyword.call(a):
panel.keyword_column.keyword));c.push('"/>     </div>          <!--      <div data-role="fieldcontain">       <label for="keyword-followers-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('">Number of followers</label>       <select class="keyword-followers" id="keyword-followers-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('">        <option value="0" ');if(typeof(panel.keyword_column.follower==
0)!=="undefined"&&panel.keyword_column.follower==0!=null&&(typeof(panel.keyword_column.follower==0)==="function"?(panel.keyword_column.follower==0).call(a):panel.keyword_column.follower==0))c.push(' selected="selected" ');c.push('>Any number of followers</option>        <option value="100" ');if(typeof(panel.keyword_column.follower==100)!=="undefined"&&panel.keyword_column.follower==100!=null&&(typeof(panel.keyword_column.follower==100)==="function"?(panel.keyword_column.follower==100).call(a):panel.keyword_column.follower==
100))c.push(' selected="selected" ');c.push('>At least 100 followers</option>        <option value="1000" ');if(typeof(panel.keyword_column.follower==1E3)!=="undefined"&&panel.keyword_column.follower==1E3!=null&&(typeof(panel.keyword_column.follower==1E3)==="function"?(panel.keyword_column.follower==1E3).call(a):panel.keyword_column.follower==1E3))c.push(' selected="selected" ');c.push('>At least 1000 followers</option>       </select>      </div>            <div data-role="fieldcontain">            <fieldset data-role="controlgroup">        <legend>&nbsp;</legend>        <input type="checkbox" id="keyword-aggregate-');
if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" class="keyword-aggregate" ');if(typeof panel.keyword_column.is_aggregate!=="undefined"&&panel.keyword_column.is_aggregate!=null&&(typeof panel.keyword_column.is_aggregate==="function"?panel.keyword_column.is_aggregate.call(a):panel.keyword_column.is_aggregate))c.push(' checked="checked" ');c.push('/>        <label for="keyword-aggregate-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index===
"function"?index.call(a):index));c.push('">Is aggregate</label>       </fieldset>            </div>     --\>          <div data-role="fieldcontain" class="keyword-save-container">      <button class="keyword-save">Save Column</button>     </div>       </div>    ')}else{c.push('    <div class="list-view">    ');if(typeof panel.user_feeds!=="undefined"&&panel.user_feeds!=null)e.each(typeof panel.user_feeds==="function"?panel.user_feeds.call(a):panel.user_feeds,function(n,j){with(this){c.push('     <input type="radio" data-native="true" name="');
if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-sources-");if(typeof j.feed_account_id!=="undefined"&&j.feed_account_id!=null)c.push(e.encode(typeof j.feed_account_id==="function"?j.feed_account_id.call(a):j.feed_account_id));c.push('" id="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)===
"function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-role="none" />     <label for="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</label>    ")}});c.push("    </div>   ")}c.push("  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.panels.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_source_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<input type="radio" data-native="true" name="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-sources-");if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
c.push('" data-index="');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof source._id!=="undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));c.push('" data-id="');if(typeof source._id!==
"undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));c.push('" data-role="none">  <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof source._id!=="undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));c.push('">  ');if(typeof source.feed_info!==
"undefined"&&source.feed_info!=null&&(typeof source.feed_info==="function"?source.feed_info.call(a):source.feed_info)){c.push(" ");if(typeof source.feed_info.title!=="undefined"&&source.feed_info.title!=null)c.push(e.encode(typeof source.feed_info.title==="function"?source.feed_info.title.call(a):source.feed_info.title))}else{c.push(" ");if(typeof source.name!=="undefined"&&source.name!=null)c.push(e.encode(typeof source.name==="function"?source.name.call(a):source.name))}c.push(" ");c.push("  </label>")}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.source.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_signup_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div id="signup-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Sign up for FastND</h1>   </div>   <div data-role="content" data-theme="c">      <div id="signup-page1">     <div class="social-signin">      <p>Already have an account on these services? Sign in with: </p>            ');if(typeof!smallScreen!=="undefined"&&
!smallScreen!=null&&(typeof!smallScreen==="function"?(!smallScreen).call(a):!smallScreen)){c.push('       <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));
c.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>        <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>      ')}c.push("            ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen===
"function"?smallScreen.call(a):smallScreen)){c.push('       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="google">Google</a>        </div>        <div class="ui-block-b">         <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook">Facebook</a>        </div>       </fieldset>       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter">Twitter</a>        </div>        <div class="ui-block-b">         <a href="');if(typeof finforeBaseUrl!==
"undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin">Linkedin</a>        </div>       </fieldset>      ')}c.push('     </div>          <form class="new_user" id="new_user">       <div data-role="fieldcontain">       <label for="full_name">Full Name</label>            <input type="text" name="user[full_name]" id="full_name" value="" required />      </div>            <div data-role="fieldcontain">         <label for="user_email_work">Email</label>       <input id="user_email_work" name="user[email_work]" size="30" type="email" required />      </div>            <div data-role="fieldcontain">       <label for="user_password">Password</label>       <input id="user_password" name="user[password]" size="30" type="password" required />      </div>        <div data-role="fieldcontain">       <label for="user_password_confirmation">Password confirmation</label>       <input id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password" required />      </div>            <div data-role="fieldcontain">        <label for="user_geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));c.push('</label>       <select id="user_geographic" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(n,j){with(this){c.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>        ")}});c.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));c.push('</label>       <select id="user_profession" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles===
"function"?focus.professional.profiles.call(a):focus.professional.profiles,function(n,j){with(this){c.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>        ")}});c.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));c.push('</label>       <select id="user_industry" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles===
"function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(n,j){with(this){c.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(a):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(a):j.title));c.push("</option>        ")}});c.push('       </select>      </div>            <input id="user_submit" name="commit" type="submit" value="Signup for a FastND Account" data-theme="b" />      </form>     </div>        <div id="signup-page2">     <div class="left-column">      <h2>Please connect your FastND account with the following providers</h2>     </div>          <div class="right-column">      <a class="twitter-connect-button" data-type="twitter">Connect with Twitter</a>                <!--      <a class="facebook-connect-button">Connect with Facebook</a>      --\>            <a class="linkedin-connect-button" data-type="linkedin">Connect with Linkedin</a>          <a class="google-connect-button" data-type="google">Connect with Google</a>         </div>          <a id="finish-btn" data-role="button" data-icon="check" data-theme="b">Finish setting up your FastND account</a>    </div>       </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/signup.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_help_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<div data-role="dialog" class="small-dialog help-page">   <div data-role="header">    <h1>Help</h1>   </div>      <div data-role="content" data-theme="c">       <form>       <div data-role="fieldcontain">      <label for="subject">Subject:</label>      <input type="text" name="form[subject]" id="subject" value="" required>     </div>       <div data-role="fieldcontain">      <label for="message">Message:</label>      <textarea id="message" name="form[message]" required></textarea>     </div>          <div data-role="fieldcontain">      <label for="name">Name:</label>      <input type="text" name="form[name]" id="name" value="" required>     </div>          <div data-role="fieldcontain">      <label for="phone">Phone:</label>      <input type="tel" name="form[phone]" id="phone" value="">     </div>          <div data-role="fieldcontain">      <label for="email">Email:</label>      <input type="email" name="form[email]" id="email" value="" required>     </div>          <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Send Message</button>     </div>    </form>      </div>   </div>');return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/help.tmpl");if(smallScreen)$("html").addClass("small-screen");else var smallScreen=false;var touchSupport=!!("ontouchstart"in window);touchSupport&&$("html").addClass("touch");
var finfore=function(){var f={login:finforeBaseUrl+"/user_sessions.json",publicLogin:finforeBaseUrl+"/user_sessions/public_login.json",publicProfiles:finforeBaseUrl+"/category_focus.json",portfolioOverviews:finforeBaseUrl+"/portfolios/overviews.json",portfolioList:finforeBaseUrl+"/portfolios/list.json",feedAccounts:finforeBaseUrl+"/feed_accounts.json",companyTabs:finforeBaseUrl+"/user_company_tabs.json"},d=Storage.getItem("user");if(d){d=eval("("+d+")");if(d.error||!d._id)d=false}var e=Storage.getItem("updateProfile");
if(e)e=e=="true";var a=Storage.getItem("blankState")?false:true,c={user:d,companies:[],panels:{main:{},portfolio:{},companies:{}},portfolios:[],feedInfos:{},ticker:{news:[],prices:[]},selectedFocus:{geographic:[],professional:[],industrial:[]},blankState:a,updateProfile:e},k=function(){$.ajaxSetup({dataType:"json",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token}})},n=function(){var y=Storage.getItem("selectedFocus");(y=y&&finfore.data.user.is_public?
JSON.parse(y):finfore.data.user.profiles)||(y=[]);$.each(y,function(){switch(this.profile_category.title){case "Geography":finfore.data.selectedFocus.geographic.push(this);break;case "Profession":finfore.data.selectedFocus.professional.push(this);break;case "Industry":finfore.data.selectedFocus.industrial.push(this);break}})},j=function(y){Loader.show();var H=Storage.getItem("focus"),J=new Date,M=false;if(H){H=JSON.parse(H);H.storageDate=new Date(H.storageDate);if(parseInt((J-H.storageDate)/1E3)<
3600)M=true}if(M){finfore.data.focus=H;y()}else WebService.focus({complete:function(Q){finfore.data.focus={};$.each(Q,function(R,ea){if(ea.title=="Profession")finfore.data.focus.professional=ea;else if(ea.title=="Geography")finfore.data.focus.geographic=ea;else if(ea.title=="Industry")finfore.data.focus.industrial=ea});finfore.storeData({focus:finfore.data.focus});y()}})},q={date:new Date,shortDate:new Date,priceBridge:2,updateNews:function(y){finfore.data.ticker.news.push(y);finfore.desktop.ticker.updateNews(y)},
updatePrices:function(y){finfore.data.ticker.prices.push(y);finfore.desktop.ticker.updatePrices(y)},cleanTicker:function(){q.date=new Date;q.shortDate=new Date;q.date.setMinutes(q.date.getMinutes()-15);q.shortDate.setMinutes(q.shortDate.getMinutes()-15);var y=c.ticker.news.slice(0);$.each(c.ticker.news,function(H,J){if(J.from_user)new Date(J.created_at)<=q.shortDate&&y.splice(H,1);else new Date(J.publishedDate)<=q.date&&y.splice(H,1)});c.ticker.news=y.slice(0);empty(finfore.desktop.ticker.$node[0]);
$.each(c.ticker.news,function(H){finfore.desktop.ticker.updateNews(H)})}};q.date.setMinutes(q.date.getMinutes()-15);q.shortDate.setMinutes(q.shortDate.getMinutes()-15);window.setInterval(q.cleanTicker,9E5);var o=function(y,H){if(y.position>H.position)return 1;if(y.position<H.position)return-1;return 0},s={create:function(y){finfore.data.portfolios.push({feed_account:y});var H=finfore.data.portfolios.length-1;return $.ajax({url:f.portfolioList,data:{feed_account_id:y._id},success:function(J){s.createPanels(J,
H)}})},createPanels:function(y,H){y.rss.chanel.error&&$().toastmessage("showErrorToast","Can't sign-in into your Google Portfolios account. <br>Please make sure the details are correct. ");if(!y.rss.chanel.item){finfore.data.portfolios[0].list=[];return false}if(!$.isArray(y.rss.chanel.item))y.rss.chanel.item=[y.rss.chanel.item];finfore.data.portfolios[H].list=y.rss.chanel.item;$.each(finfore.data.portfolios[H].list,function(){var J=this,M=/[0-9]*$/.exec(this.id);if(M!=null)this.id_bare=M[0];setTimeout(function(){$.ajax({url:f.portfolioOverviews,
type:"GET",data:{feed_account_id:finfore.data.portfolios[H].feed_account._id,portfolio_id:J.id_bare},success:function(Q){J.overview=Q;finfore.panels.create({type:"portfolio",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[H],portfolio:J}});finfore.panels.create({type:"agenda",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[H],portfolio:J}});finfore.panels.create({type:"feed",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[H],
portfolio:J}})}})},50)})},remove:function(y){var H=y.feed_account._id;$.each(finfore.data.panels.portfolio,function(){$.each(this,function(){this.panel.feed_account._id===H&&finfore.desktop.panels.remove({options:{panel:this}})})})}},w={create:function(y){if(y.options.company){finfore.data.panels.companies[y.options.company.feed_info.id]||(finfore.data.panels.companies[y.options.company.feed_info.id]={});finfore.data.panels.companies[y.options.company.feed_info.id][y.type]||(finfore.data.panels.companies[y.options.company.feed_info.id][y.type]=
[]);finfore.data.panels.companies[y.options.company.feed_info.id][y.type].push(y.options)}else if(y.options.portfolio){finfore.data.panels.portfolio[y.type]||(finfore.data.panels.portfolio[y.type]=[]);finfore.data.panels.portfolio[y.type].push(y.options)}else{finfore.data.panels.main[y.type]||(finfore.data.panels.main[y.type]=[]);finfore.data.panels.main[y.type].push(y.options)}setTimeout(function(){finfore.desktop.panels.create(y)},50)},remove:function(y){finfore.data.panels.main[y.type].splice(y.options.index,
1);finfore.desktop.panels.remove(y)}},z={add:function(y,H){finfore.data.companies=finfore.data.companies.concat(y);$.each(y,function(){var J=this,M=this._id;finfore.desktop.tabs.add({id:M,title:this.feed_info.title,closable:!finfore.data.user.is_public});var Q=$("#"+M),R;setTimeout(function(){finfore.panels.create({type:"prices",tab:Q,options:{company:J}})},10);setTimeout(function(){finfore.panels.create({type:"feed",tab:Q,options:{company:J}})},10);setTimeout(function(){finfore.panels.create({type:"feed",
tab:Q,options:{company:J,blogsearch:true}})},10);setTimeout(function(){finfore.panels.create({type:"twitter",tab:Q,options:{company:J}})},10);setTimeout(function(){finfore.panels.create({type:"agenda",tab:Q,options:{company:J}})},10);setTimeout(function(){finfore.panels.create({type:"agenda",tab:Q,options:{company:J,competitor:true}})},10);setTimeout(function(){finfore.panels.create({type:"twitter",tab:Q,options:{company:J,competitor:true}})},10);setTimeout(function(){finfore.panels.create({type:"blinkx",
tab:Q,options:{company:J}})},10);if(H){R=$(".collapsible-company:last",finfore.desktop.nodes.$tabletTabs);setTimeout(function(){R.trigger("expand")},100)}})},remove:function(){var y=$(this).parents("div:first"),H=y.attr("data-company-id"),J="<h2>Are you sure you sure you want to remove <em>"+$(this).parents("h3:first").text()+"</em>?</h2>";$.prompt(J,{callback:function(M){if(M){$.ajax({url:finforeBaseUrl+"/user_company_tabs/"+H+".json",type:"DELETE",data:{feed_account_id:H},success:function(){$.each(finfore.data.companies,
function(Q,R){if(R._id==H){finfore.data.companies.splice(Q,1);return false}})}});finfore.desktop.tabs.remove(y)}},buttons:{Cancel:false,"Remove Column":true}});return false}},C=function(){finfore.manage={};finfore.profile={}},E=function(){n();finfore.desktop.init();finfore.data.user.is_public&&C()};return{init:function(){$.ajaxSetup({dataType:"json"});d&&k();j(function(){if(d)WebService.refreshUser({complete:E});else{var y;$.each(finfore.data.focus.geographic.profiles,function(){if(this.title=="United States")y=
this._id});finfore.publicLogin({ids:finfore.data.focus.industrial.profiles[0]._id+","+y+","+finfore.data.focus.professional.profiles[0]._id},E)}});if(finfore.data.user&&!finfore.data.user.is_public)finfore.data.blankState=false;if(finforeNative){$(document).on("click",'a[target="_blank"]',function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:true});return false});document.addEventListener("resume",function(){$(".panel.column-loaded").each(function(){$(this).trigger("refresh")})},
false)}},panels:w,portfolios:s,modules:{},companies:z,ticker:q,nodes:{},url:f,data:c,storeData:function(y){if(y.user){finfore.data.user=y.user;Storage.setItem("user",JSON.stringify(y.user));k()}if(y.focus){y.focus.storageDate=new Date;Storage.setItem("focus",JSON.stringify(y.focus))}y.selectedFocus&&Storage.setItem("selectedFocus",JSON.stringify(y.selectedFocus))},populate:function(){var y=[];(function(H){$.each(H,function(J,M){if(M.position==null)M.position=999});H.sort(o);$.each(H,function(){var J=
this,M=J.category;if(M=="portfolio")y.push(s.create(J));else{if(M=="rss")M="feed";else if(M=="chart")M="prices";else if(M=="gmail"||M=="facebook")return;M=="keyword"&&!J.keyword_column||w.create({type:M,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:J}})}});$.when(y).then(function(){smallScreen||finfore.desktop.enableManagement();Loader.hide()})})(finfore.data.user.feed_accounts);$.each(finfore.data.user.user_company_tabs,function(H,J){if(J.position==null)J.position=999});finfore.data.user.user_company_tabs.sort(o);
z.add(finfore.data.user.user_company_tabs)},smallScreen:smallScreen,$body:$("body"),publicLogin:function(y,H){$.mobile.showPageLoadingMsg&&$.mobile.showPageLoadingMsg();$.ajax({url:f.publicLogin,type:"POST",data:{pids:y.ids},success:function(J){if(J.user){Storage.removeItem("selectedFocus");var M=$.extend({},J.user);finfore.storeData({user:M});finfore.storeData({selectedFocus:J.selecteds})}else{$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.");
Loader.hide();return false}H&&H(M)},error:function(){$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.")}})}}}(),lastActivePage;finfore.$body.delegate("[data-role=dialog]","pageshow",function(f,d){if(d.prevPage.attr("data-role")=="page")lastActivePage=d.prevPage});
$.mobile.dialog.prototype._create=function(){var f=this.element,d=$("<a data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");f.addClass("ui-overlay-"+this.options.overlayTheme);f.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(d).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");d.bind("vclick",
function(){$.mobile.changePage(lastActivePage,{changeHash:false,reverse:true,transition:"slidedown"});return false});f.bind("vclick submit",function(e){e=$(e.target).closest(e.type==="vclick"?"a":"form");var a;if(e.length&&!e.jqmData("transition")){a=$.mobile.urlHistory.getActive()||{};e.attr("data-"+$.mobile.ns+"transition",a.transition||$.mobile.defaultDialogTransition).attr("data-"+$.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){$(this).find("."+$.mobile.activeBtnClass).removeClass($.mobile.activeBtnClass)})};
var currentTitle=document.title;finfore.$body.delegate("div[data-role=page], div[data-role=dialog]","pagebeforeshow",function(){document.title=currentTitle});steal.loaded("webapp/core/core.js");
finfore.desktop=function(){var f={$page:[],tabs:{tabIndex:0}},d=false;$(document).width();var e={scroll:{}},a=function(){var s=$("#blank-state-overlay"),w=$("#blank-state");$(".ui-header",f.$page).css("z-index","auto");$("[data-role=button]",w).button();$("form input[type=checkbox]",w).change(function(){$(this).is(":checked")?Storage.setItem("blankState",false):Storage.setItem("blankState",true)});$("#blank-state-close-btn",w).click(function(){w.remove();s.remove();$(".ui-header",f.$page).css("z-index",
"2")})};e.add=function(s){var w,z=s.id!=="main"&&s.id!=="portfolio",C=$($.View("//webapp/views/tab-view.tmpl",{tab:s}));f.$desktopContent.append(C);if(z){w=$('<div data-role="collapsible" data-collapsed="true" class="collapsible-company" data-theme="b" data-company-id="'+s.id+'"><h3>'+s.title+"</h3><ul></ul></div>");f.$tabletTabs.append(w);w.collapsible();if(!finfore.data.user.is_public){z=$('<span class="ui-icon ui-icon-shadow ui-icon-delete tab-close-button"></span>');w.append(z)}touchSupport&&
w.bind("collapse expand",function(){f.tabletTabsScroller.refresh()});w.bind("expand",function(){e.select(w)});$(".tab-close-button",w).bind("click",finfore.companies.remove);$("ul",w).listview()}else{w=$('<ul data-role="listview" data-inset="true" class="panel-list"><li data-role="list-divider">'+s.title+"</li></ul>");f.$tabletTabs.append(w);w.listview()}if(touchSupport){var E=new iScroll(s.id,{vScroll:false,snap:".panel",useTransition:true,lockDirection:true});C.bind("refreshScroll",function(){E.refresh();
return E});f.tabletTabsScroller.refresh()}$.data(C[0],"selector",w);$.data(w[0],"tabView",C);return w};e.select=function(s,w){var z=$.data(s[0],"tabView");$(".active-tab",f.$page).removeClass("active-tab");z.addClass("active-tab");if(touchSupport){var C;z.trigger("refreshScroll");z.bind("refreshScroll",function(E){C=E.result;w&&C.scrollToElement(w[0],100)});z.find(".panel").trigger("refreshScroll");f.tabletTabsScroller.scrollToElement(s[0],100)}else{w&&z.animate({scrollLeft:w.position().left},500);
f.$tabletTabsContainer.animate({scrollTop:s.position().top},200)}e.loadColumns(z)};e.loadColumns=function(s){var w,z;$(".panel",s).each(function(){w=$(this);z=w.hasClass("column-loaded");if(!z){w.trigger("refresh",[true]);w.addClass("column-loaded")}})};e.remove=function(s){var w=s.attr("data-company-id");w=$("#"+w);var z=$("ul:first",f.$tabletTabs);e.select(z);s.remove();w.remove()};e.init=function(){$("a:first",f.$tabletTabs).trigger("click")};var c={};c.create=function(s){var w=$('<div class="'+
s.type+' panel" id="'+(s.options.feed_account?s.options.feed_account._id:"")+'"></div>');s.options.$node=w;$.data(w[0],"data",s.options);$.data(w[0],"type",s.type);s.options.$tab=$(".tab-scroller",s.tab);w.appendTo(s.options.$tab);var z=$(".panel",s.options.$tab),C=w.first().width();z=z.length*parseInt(C);s.options.$tab.width(z);var E;if(s.options.feed_account)E=s.options.feed_account.name;z=$.data(s.tab[0],"selector");if(s.options.company){E=s.options.company.feed_info.title;if(s.type==="feed"){E=
"Company News";if(s.options.bingsearch)E="Additional News";if(s.options.blogsearch)E="News From Blogs"}if(s.type==="podcast")E="Podcasts";if(s.type==="prices")E="Prices";if(s.type==="agenda"&&!s.options.competitor)E="Calendar";if(s.type==="agenda"&&s.options.competitor)E="Competitors Calendar";if(s.type==="twitter"&&!s.options.competitor)E="Breaking News";if(s.type==="twitter"&&s.options.competitor)E="Competitors News";if(s.type==="blinkx")E="Broadcast News";z=$("ul",z)}if(s.options.portfolio){E=
s.options.portfolio.title;if(s.type==="agenda")E+=" Agenda";if(s.type==="portfolio")E+=" Stocks";if(s.type==="feed")E+=" News"}E=$("<li><a>"+E+"</a></li>");z.append(E);z.listview("refresh");var y;y=s.options.company?z.parents(".ui-collapsible:first"):z;E.click(function(){e.select(y,w)});touchSupport&&setTimeout(function(){s.tab.trigger("refreshScroll");f.tabletTabsScroller.refresh()},100);w.bind("init",function(){var H=w.find("[data-role=content]");if(!d){var J=f.$desktopContent.height()-43,M=document.styleSheets[document.styleSheets.length-
1];M.insertRule(".panel-content-wrap { height: "+J+"px !important; }",M.cssRules.length);d=true}H.wrap('<div class="panel-content-wrap"></div>');J=w.find(".panel-content-wrap");if(touchSupport){var Q=new iScroll(J[0],{hScroll:false,hideScrollbar:true,lockDirection:true}),R;H[0].addEventListener("DOMSubtreeModified",function(){R&&clearTimeout(R);R=setTimeout(function(){Q.refresh()},1500)},false)}w.bind("refreshScroll",function(){touchSupport&&Q.refresh()});if(!touchSupport){finfore.data.user.is_public||
c.sliders(w);c.controlgroup(s)}});finfore.modules[s.type].init(w,s.options);s.options.$tab.parent(".tab").hasClass("active-tab")&&e.loadColumns(s.options.$tab)};c.remove=function(s){s.options.panel.$node.remove()};c.controlgroup=function(s){var w=$("[data-role=header]:first",s.options.$node),z=s.tab.attr("id")=="main";if(finfore.data.user.is_public)z=false;z=$.View("//webapp/views/panel.controlgroup.tmpl",{editable:z});w.append(z);w.trigger("create");s.options.$node.bind("manage",function(){finfore.manage.init({target:{type:$.data(s.options.$node[0],
"type"),data:$.data(s.options.$node[0],"data")}})})};c.sliders=function(s){var w=$('<div class="panel-slider-controls"></div>'),z=$('<button data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="d">Slide Panel Left</button>'),C=$('<button data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="d">Slide Panel Right</button>');w.append(z,C);z.button();C.button();z.click(k);C.click(k);w.appendTo(s)};var k=function(){var s=$(this).parents(".panel").first(),w=s.next(".panel"),
z=s.prev(".panel"),C=s.width();if($(this).attr("data-icon")==="arrow-r"){if(w.length){w.animate({left:"-="+C},300,function(){w.css("left","auto")});s.css("z-index","99").animate({left:"+="+C},300,function(){s.css({left:"auto","z-index":"0"});s.insertAfter(w);c.sort({},{item:s})})}}else if(z.length){z.animate({left:"+="+C},300,function(){z.css("left","auto")});s.css("z-index","99").animate({left:"-="+C},300,function(){s.css({left:"auto","z-index":"0"});s.insertBefore(z);c.sort({},{item:s})})}return false};
c.sort=function(s,w){var z=[],C;w.item.parent().find(".panel").each(function(E,y){columnId=$.data(y,"data").feed_account?$.data(y,"data").feed_account._id:$.data(y,"data").panel.feed_account._id;C=$(y).index();z.push({_id:columnId,position:C})});WebService.updateColumns({columns:z})};var n=function(){f.$publicSelectors=$("#public-account-selectors");f.$publicAccountSelectorPageBtn=$("#public-account-selector-btn",f.$publicSelectors);f.$publicAccountSelectorForm=$("#public-account-box-form",f.$publicSelectors);
f.$publicPage=$("#public-account-selector");f.$publicPage.page();f.$professionSelector=$("#profession",f.$publicPage);f.$geoSelector=$("#geographic",f.$publicPage);f.$industrySelector=$("#industry",f.$publicPage);$(".public-account-selector-btn",f.$publicPage).click(function(){var s=f.$industrySelector.val()+","+f.$geoSelector.val()+","+f.$professionSelector.val();finfore.publicLogin({ids:s},function(){window.location.reload()});return false});f.$publicAccountSelectorPageBtn.click(function(){$.mobile.changePage(f.$publicPage,
{transition:"slidedown"});return false});f.$professionSelectorInline=$("#profession",f.$publicSelectors);f.$geoSelectorInline=$("#geographic",f.$publicSelectors);f.$industrySelectorInline=$("#industry",f.$publicSelectors);f.$publicAccountSelectorForm.submit(function(){var s=f.$industrySelectorInline.val()+","+f.$geoSelectorInline.val()+","+f.$professionSelectorInline.val();finfore.publicLogin({ids:s},function(){window.location.reload()});return false})};a=function(){var s=$("#blank-state-overlay"),
w=$("#blank-state");$(".ui-header",f.$page).css("z-index","auto");$("[data-role=button]",w).button();$("form input[type=checkbox]",w).change(function(){$(this).is(":checked")?Storage.setItem("blankState",false):Storage.setItem("blankState",true)});$("#blank-state-close-btn",w).click(function(){w.remove();s.remove();$(".ui-header",f.$page).css("z-index","2")})};var j=function(){var s=$("#main");finfore.$body.delegate(".panel-refresh","click",function(){$(this).parents(".panel:first").trigger("refresh")});
s.delegate(".panel-manage","click",function(){$(this).parents(".panel:first").trigger("manage")});s.delegate(".panel-remove","click",function(){var w=$(this).parents(".panel:first"),z=$.data(w[0],"type"),C=$("#manage-page");if(!C.length){finfore.manage.init({silentInit:true});C=$("#manage-page")}C=$("#management-tab-"+z,C);C=$(".mtabs-container",C);C=$(".mtab",C);var E=$.data(w[0],"data"),y,H;C.each(function(){H=$(this);y=$.data(H[0],"data");if(E===y){H.attr("checked","checked").trigger("change");
return false}});finfore.manage.panels.remove({$node:H,category:z})})},q={$node:"",$ghost:$('<marquee scrollamount="2"></marquee>'),updateNews:function(s){if(s.screen_name){var w="http://twitter.com/"+s.from_user;if(s.text){var z=s.text.match(/(HTTP:\/\/|HTTPS:\/\/)([a-zA-Z0-9.\/&?_=!*,\(\)+-]+)/i);if(z)w=z[0]}s='<a href="'+w+'" target="_blank" class="twitter-update" title="'+s.text+'">'+s.text+"</a>"}else if(s.elt||s.lt){w=s.e+":"+s.t;z="";var C=s.cp;if(C<0)z="-";else if(C>0)z="+";z=w+": "+s.l+" "+
z+" "+Math.abs(C)+"%";s='<a href="http://www.google.com/finance?q='+w+'" target="_blank" class="prices-update" title="'+s.name+'">'+z+"</a>"}else s='<a href="'+s.link+'" target="_blank" class="feed-update" title="'+s.title+'">'+(s.title||"")+"</a>";empty(q.$node[0]);q.$ghost.removeData();q.$ghost.append(s);q.$ghost.clone().appendTo(q.$node)}};q.updatePrices=q.updateNews;var o=function(){$(window).bind("orientationchange resize",function(){var s=f.$desktopContent.height()-43,w=document.styleSheets[document.styleSheets.length-
1];w.insertRule(".panel-content-wrap { height: "+s+"px !important; }",w.cssRules.length);s=$(".active-tab",f.$page);w=$(".panel",s);s.trigger("refreshScroll");w.trigger("refreshScroll");f.tabletTabsScroller.refresh()})};return{init:function(){var s=$.View("//webapp/views/desktop.tmpl",{user:finfore.data.user,focus:finfore.data.focus,blankState:finfore.data.blankState,selectedFocus:finfore.data.selectedFocus});$(s).appendTo(finfore.$body);f.$page=$("#desktop");f.$mobileAddCompany=$(".mobile-addcompany");
$.mobile.changePage(f.$page,{changeHash:false});if(finfore.data.user){f.$tabBar=$("#tab-bar");f.$tabList=$("ul",f.$tabBar);f.$desktopContent=$("#desktop-content");f.$tabletTabsContainer=$(".tablet-tab-selector",f.$page);if(touchSupport){f.tabletTabsScroller=new iScroll("tablet-tabs",{hScroll:false,hScrollbar:false,vScrollbar:false,useTransition:true});o()}f.$tabletTabs=$(".tablet-tab-list",f.$tabletTabsContainer);e.init();var w=e.add({id:"main",title:"Main",closable:false});f.tabs.$main=$("#main");
e.add({id:"portfolio",title:"Portfolio",closable:false});f.tabs.$portfolio=$("#portfolio");f.tabs.$main.add(f.tabs.$portfolio);q.$node=$(".scrolling-ticker",f.$page);q.$node.delegate("marquee","mouseover",function(){$("marquee",q.$node)[0].stop()});q.$node.delegate("marquee","mouseout",function(){$("marquee",q.$node)[0].start()});if(!finfore.data.user.is_public){finfore.$body.addClass("registered-user");if(!finfore.data.user.is_public){f.$panelsSortable=$("#main .tab-scroller");f.$panelsSortable.sortable({helper:"clone",
handle:'[data-role="header"]',delay:400,stop:c.sort})}$(".logout-button",f.$page).bind("click",function(){Storage.removeItem("user");Storage.removeItem("updateProfile");window.location.reload();return false});$("#manage-button",f.$page).click(function(){finfore.manage.init();return false});$("#profile-button",f.$page).bind("click",function(){finfore.profile.init();return false});$(".help-button",f.$page).bind("click",function(){finfore.help.init();return false});$(".add-company-button",f.$page).click(finfore.addcompany.init)}finfore.populate();
setTimeout(function(){e.select(w)},10)}if(!finfore.data.user||finfore.data.user.is_public){$("#login-button").click(function(){finfore.login.init();return false});$("#signup-button").click(function(){finfore.signup.init();return false});$("#find-company-button").click(function(){finfore.addcompany.init();return false});n()}finfore.data.blankState&&a();j();finfore.data.updateProfile&&finfore.profile.init();if(touchSupport){var z=false;f.$desktopContent.delegate('a[target="_blank"]',"click",function(){if(z)return false;
else{z=true;setTimeout(function(){z=false},500);return true}})}var C=$("input",f.$mobileAddCompany.siblings("form"));touchSupport&&f.$mobileAddCompany.siblings("form").bind("vclick",function(){C.focus()});WebService.getCompanies({success:function(E){E.sort(finfore.addcompany.abSorting);finfore.addcompany.allCompanies=E;E=$.View("//webapp/views/addcompanymobile.tmpl",{companies:E});f.$mobileAddCompany.html(E);$("li",f.$mobileAddCompany).on("click",finfore.addcompany.saveCompany);f.$mobileAddCompany.listview("refresh");
C.unbind("keyup change");var y=f.$mobileAddCompany,H=y.data("listview"),J;E=parseInt($("body").height())-190;y.css({"max-height":E+"px","overflow-y":"auto"});C.bind("keyup change",function(){var M=this.value.toLowerCase(),Q=null,R=C.jqmData("lastval")+"",ea=false,W="",P;J&&clearTimeout(J);J=setTimeout(function(){C.jqmData("lastval",M);Q=M.length<R.length||M.indexOf(R)!==0?y.children():y.children(":not(.ui-screen-hidden)");if(M.length>2){y.removeClass("hide-mobile-companies");for(var S=Q.length-1;S>=
0;S--){P=$(Q[S]);W=P.jqmData("filtertext")||P.text();if(H.options.filterCallback(W,M))P.toggleClass("ui-filter-hidequeue",true);else ea=true}Q.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);Q.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else{y.find(".ui-body-c").removeClass("ui-body-c").addClass("ui-body-a");y.addClass("hide-mobile-companies");Q.toggleClass("ui-screen-hidden",false)}touchSupport&&f.tabletTabsScroller.refresh()},
1E3)});C.trigger("keyup")}});$(document).on("pagebeforeshow","[data-role=dialog]",function(){finfore.$body.addClass("small-dialog-overlay")});$(document).on("pagehide","[data-role=dialog]",function(){finfore.$body.removeClass("small-dialog-overlay")})},nodes:f,tabs:e,panels:c,ticker:q,enableManagement:function(){$("#manage-button",f.$page).removeClass("disabled")}}}();steal.loaded("webapp/core/desktop.js");
finfore.manage=function(){var f,d,e,a={saveColumn:"Successfully saved new column. ",errorSaveColumn:"Couldn't save new column. ",updateColumn:"Successfully updated the column. ",errorUpdateColumn:"Couldn't update column. Please try again later.",deleteColumn:"Successfully removed column. ",errorDeleteColumn:"Couldn't remove column. ",saveSource:"Successfully saved new source. ",errorSaveSource:"Couldn't save new source. ",deleteSource:"Successfully removed source. ",errorDeleteSource:"Couldn't removed source. ",
errorGetFriends:"Your authorization token has expired. Please revalidate your account. ",saveUser:"Successfully added new user. ",errorSaveUser:"Couldn't add new user. ",deleteUser:"Successfully unfollowed user. ",errorDeleteUser:"Couldn't unfollow user. "},c=function(o){var s=$(o.$container).find("> input[data-index]");$.each(s,function(){var w=$(this),z=parseInt(w.attr("data-index"));o.category=="portfolio"?$.data(w[0],"data",finfore.data.portfolios[z]):$.data(w[0],"data",finfore.data.panels.main[o.category][z]);
w.removeAttr("data-index");if(o.category=="twitter")j.getFriends({$node:w,category:"twitter"});else{w=w.next().next();k({$container:w,category:o.category,index:z})}})},k=function(o){var s=$("input[data-index]",o.$container);$.each(s,function(){var w=$(this),z=parseInt(w.attr("data-index"));o.category=="portfolio"?$.data(w[0],"data",finfore.data.portfolios[o.index].list[z]):$.data(w[0],"data",finfore.data.panels.main[o.category][o.index].feed_account.user_feeds[z]);w.removeAttr("data-index")})},n=
{create:function(o){var s;if(o.category=="twitter"||o.category=="linkedin"||o.category=="portfolio"){s=o.category=="portfolio"?finfore.data.portfolios.length:finfore.data.panels.main[o.category].length;window.open(finforeBaseUrl+"/feed_accounts/"+(o.category=="portfolio"?"google":o.category+"")+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+"&callback="+(finforeAppUrl+"authorize.html"),"_blank","resizable=yes,scrollbars=yes,status=yes");
window.addEventListener("message",authorized=function(z){n.authorizeListner(z,o,s)},false)}else{s=finfore.data.panels.main[o.category].length;function w(z,C,E){if(z&&E.columnTitle){$.mobile.showPageLoadingMsg();var y={name:E.columnTitle};y.category=o.category;if(o.category=="feed")y.category="rss";if(o.category=="prices")y.category="chart";if(o.category=="keyword")y.keyword_column_attributes={is_aggregate:false,follower:0,keyword:E.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts.json",type:"POST",
data:{feed_account:y,dependency:"false"},success:function(H){H={feed_account:H};if(o.category=="keyword")H.feed_account.keyword_column=y.keyword_column_attributes;n.createSuccess(o,s,H)},error:function(){$().toastmessage("showErrorToast",a.errorSaveColumn)},complete:function(){$.mobile.hidePageLoadingMsg()}})}}$.prompt('<h2>Create Column</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Column name.."></label>',
{callback:w,buttons:{Cancel:false,"Create Column":true}})}},createSuccess:function(o,s,w){$().toastmessage("showSuccessToast",a.saveColumn);w=w.feed_account;w.user_feeds=[];s=$.View("//webapp/views/manage.panels.tmpl",{panel:w,index:s,category:o.category});o.$node.append(s);o.$node.trigger("create");var z=$("input:last",o.$node);z.attr("checked","checked").trigger("change");s=z.next().next();s.find("[data-role=controlgroup] a").button();s.find("[data-role=controlgroup]").controlgroup();var C=o.$node.parents(".management-tab-panel").find(".preset-tabs");
$(".mtab-content:last",o.$node).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:z,$presets:C,category:o.category})}});o.category==="portfolio"?finfore.portfolios.create(w):finfore.panels.create({type:o.category,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:w}});c({$container:o.$node,category:o.category})},authorizeListner:function(o,s,w){if(finforeAppUrl.indexOf(o.origin)!=-1){o=o.data;$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+
"/feed_accounts/"+o+".json",type:"GET",success:function(z){z={feed_account:z};n.createSuccess(s,w,z)},complete:function(){$.mobile.hidePageLoadingMsg()}});window.removeEventListener("message",authorized)}},revalidate:function(o){var s,w;if(o.category=="twitter"||o.category=="linkedin"){s=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));w=finfore.data.panels.main[o.category][s];w=w.feed_account._id;window.open(finforeBaseUrl+"/feed_accounts/"+o.category+"/auth?auth_token="+finfore.data.user.single_access_token+
"&auth_secret="+finfore.data.user.persistence_token+"&feed_account_id="+w+"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(z){n.authorizeListner(z,o,s)},false)}},edit:function(o){function s(C,E,y){if(C&&y.columnTitle){C={_id:z.feed_account._id,name:y.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+C._id+".json",type:"PUT",data:{feed_account:C},success:function(H){$().toastmessage("showSuccessToast",
a.updateColumn);z.feed_account=H.feed_account},error:function(){$().toastmessage("showErrorToast",a.errorUpdateColumn)}});y=o.category==="portfolio"?y.columnUsername:y.columnTitle;$(".ui-header .ui-title",o.$node).text(y);$(".mtab-title > span",o.$node.next().next()).text(y);o.$node.next().text(y)}}var w,z;if(o.category==="portfolio"){w=finfore.data.portfolios.indexOf($.data(o.$node[0],"data"));z=finfore.data.portfolios[w]}else{w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));
z=finfore.data.panels.main[o.category][w]}$.prompt('<h2>Edit Column Title</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="'+z.feed_account.name+'" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:s,buttons:{Cancel:false,"Update Column":true}})},remove:function(o){function s(C){if(C){$.ajax({url:finforeBaseUrl+"/feed_accounts/"+z.feed_account._id+".json",type:"DELETE",success:function(){$().toastmessage("showSuccessToast",
a.deleteColumn)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteColumn)}});o.$node.prevAll("input:first").attr("checked","checked").trigger("change");o.$node.next().remove().end().next().remove().end().remove();o.category==="portfolio"?finfore.portfolios.remove(z):finfore.panels.remove({type:o.category,tab:finfore.desktop.nodes.tabs.$main,options:{panel:z,index:w}})}}var w,z;if(o.category==="portfolio"){w=finfore.data.portfolios.indexOf($.data(o.$node[0],"data"));z=finfore.data.portfolios[w]}else{w=
finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));z=finfore.data.panels.main[o.category][w]}$.prompt("<h2>Are you sure you sure you want to remove <em>"+z.feed_account.name+"</em>?</h2>",{callback:s,buttons:{Cancel:false,Remove:true}})}},j={getFriends:function(o){var s=$.data(o.$node[0],"data"),w=o.$node.next().next(),z=finfore.data.panels.main.twitter.indexOf(s);w.addClass("loading-content");$.ajax({url:finforeBaseUrl+"/tweetfores/friends.json",type:"GET",data:{feed_account_id:s.feed_account._id},
success:function(C){w.find(".list-view").empty();if(C.error){C='<div class="auth-error">'+a.errorGetFriends+'<a data-role="button" data-icon="refresh" data-inline="true" data-theme="b" class="revalidate-account">Revalidate Account</a></div>';w.find(".list-view").append(C);w.find(".list-view a").button().bind("click",function(){n.revalidate(o)});return false}s.friends=[];s.friends=$.map(C,function(E){return{_id:E.id,name:E.screen_name,feed_info:{title:E.screen_name},feed_account_id:s.feed_account._id}});
$.each(s.friends,function(E){var y=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:s.feed_account._id,source:finfore.data.panels.main.twitter[z].friends[E],index:E,category:"twitter"});w.find(".list-view").append(y);y=w.find(".list-view input:last");$.data(y[0],"data",finfore.data.panels.main.twitter[z].friends[E])})},complete:function(){w.removeClass("loading-content")}})},addCustom:function(o){function s(C,E,y){if(C&&y.sourceUsername){$.mobile.showPageLoadingMsg();y.sourceUsername=$.trim(y.sourceUsername);
$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:z,friend_id:y.sourceUsername},success:function(H){finfore.data.panels.main.twitter[w].friends.push({_id:H.id,name:H.screen_name,feed_account_id:z});var J=o.$node.nextAll("div:first");H=finfore.data.panels.main.twitter[w].friends.length-1;var M=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:z,source:finfore.data.panels.main.twitter[w].friends[H],index:H,category:"twitter"});J.find(".list-view").append(M);
finfore.data.panels.main.twitter[w].$node.trigger("reinit");J=J.find(".list-view input:last");$.data(J[0],"data",finfore.data.panels.main.twitter[w].friends[H]);$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",a.saveUser)},error:function(){$().toastmessage("showErrorToast",a.errorSaveUser)}})}}var w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),z=finfore.data.panels.main[o.category][w].feed_account._id;$.prompt('<h2>Follow Twitter User</h2><label>Username <br> <input type="text" id="sourceUsername" name="sourceUsername" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',
{callback:s,buttons:{Cancel:false,"Follow User":true}})},remove:function(o){function s(H){if(H){C.attr("data-id");$.ajax({url:finforeBaseUrl+"/tweetfores/friend_remove.json",type:"POST",data:{feed_account_id:z,friend_id:y},success:function(){$().toastmessage("showSuccessToast",a.deleteUser)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteUser)}});C.prevAll("input:first").attr("checked","checked").trigger("change");C.next().remove().end().remove();finfore.data.panels.main[o.category][w].friends.splice(E,
1);finfore.data.panels.main[o.category][w].$node.trigger("reinit")}}var w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),z=finfore.data.panels.main[o.category][w].feed_account._id,C=$("input:checked",o.$node.next().next()),E=finfore.data.panels.main[o.category][w].friends.indexOf($.data(C[0],"data")),y=finfore.data.panels.main[o.category][w].friends[E]._id;$.prompt("<h2>Are you sure you sure you want to stop following <em>"+finfore.data.panels.main[o.category][w].friends[E].name+
"</em>?</h2>",{callback:s,buttons:{Cancel:false,Unfollow:true}})},addPreset:function(o){var s=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),w=finfore.data.panels.main[o.category][s].feed_account._id,z=$(".preset-source:checked",o.$presets);z=$.trim(z.attr("data-address"));$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:w,friend_id:z},success:function(C){finfore.data.panels.main.twitter[s].friends.push({id:C._id,
name:C.screen_name,feed_account_id:w});var E=o.$node.nextAll("div:first");C=finfore.data.panels.main.twitter[s].friends.length-1;var y=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:w,source:finfore.data.panels.main.twitter[s].friends[C],index:C,category:"twitter"});E.find(".list-view").append(y);finfore.data.panels.main.twitter[s].$node.trigger("reinit");E=E.find(".list-view input:last");$.data(E[0],"data",finfore.data.panels.main.twitter[s].friends[C]);$().toastmessage("showSuccessToast",
a.saveUser)},error:function(){$().toastmessage("showErrorToast",a.errorSaveUser)},complete:function(){$.mobile.hidePageLoadingMsg()}})}},q=function(){$.each(finfore.modules,function(o){var s=$("#management-tab-"+o);finfore.modules[o].management&&finfore.modules[o].management(s)});d=$("#management-tabs");e=$("#management-tabs > ul");$("a",e).click(function(){var o=$(this),s=$(o.attr("href"),d),w=1,z=null;if(touchSupport){if(o.attr("href")=="#management-tab-twitter"){prefix="twitter";z="twitterTab";
feedSrc="all,twitter"}else if(o.attr("href")=="#management-tab-podcast"){prefix="podcast";z="podcastTab";feedSrc="all,podcast"}else if(o.attr("href")=="#management-tab-feed"){prefix="feed";z="feedTab";feedSrc="all,rss"}else if(o.attr("href")=="#management-tab-prices"){prefix="prices";z="pricesTab";feedSrc="all,chart"}if(z!=null){$("#"+prefix+"FeedList",s).removeClass("non-touch");$("#"+z).addClass("touch-support");setTimeout(function(){function C(){var H=$("#"+prefix+"FeedList",s);w++;sliceFeeds=
finfore.data.feedInfos[feedSrc].slice((w-1)*50,w*50);var J=$.View("//webapp/views/manage.feed-infos.tmpl",{feeds:sliceFeeds,name:feedSrc,type:prefix});H.append(J);$("label",H).draggable({revert:"invalid",helper:"clone",cursor:"move"});y.refresh()}var E;E=document.getElementById(prefix+"pullUp").offsetHeight;$pullUpEl=$("#"+prefix+"pullUp",s);if(!$("#"+z).hasClass("has-iscroll"))var y=new iScroll(z,{hScroll:false,useTransition:true,lockDirection:true,onRefresh:function(){if($pullUpEl.hasClass("loading")){$pullUpEl.removeClass("loading");
$pullUpEl.find(".pullUpLabel").html("Pull up to load more...")}},onScrollMove:function(){if(this.y<this.maxScrollY-5&&!$pullUpEl.hasClass("flip")){$pullUpEl.addClass("flip");$pullUpEl.find(".pullUpLabel").html("Release to load more...");this.maxScrollY=this.maxScrollY}else if(this.y>this.maxScrollY+5&&$pullUpEl.hasClass("flip")){$pullUpEl.removeClass("flip");$pullUpEl.find(".pullUpLabel").html("Pull up to load more...");this.maxScrollY=E}},onScrollEnd:function(){if($pullUpEl.hasClass("flip")){$pullUpEl.removeClass("flip").addClass("loading");
$pullUpEl.find(".pullUpLabel").html("Loading...");C()}}});$("#"+z).addClass("has-iscroll")},10)}}$(".management-tab-active",e).removeClass("management-tab-active");o.addClass("management-tab-active");$(".management-tab-panel-active",d).hide().removeClass("management-tab-panel-active");s.show().addClass("management-tab-panel-active");return false});$("a:first",e).trigger("click")};return{init:function(o){Loader.show();o||(o={});if(!f){var s=$.View("//webapp/views/manage.tmpl",{modules:finfore.modules});
$(s).appendTo(finfore.$body);f=$("#manage-page");q(o);f.delegate(".mtab, .preset-tab-radio","change",function(){var z=$(this).parent();$(".visible-tab",z).removeClass("visible-tab");$(this).next().next().addClass("visible-tab");if(touchSupport){var C=$(this).attr("id").split("-"),E=1,y={};if(C[0]=="twitter"){y.prefix="pretwitter";y.tabId="pretwitterTab";y.feedSrc="twitter"}else if(C[0]=="podcast"){y.prefix="prepodcast";y.tabId="prepodcastTab";y.feedSrc="podcast"}else if(C[0]=="feed"){y.prefix="prefeed";
y.tabId="prefeedTab";y.feedSrc="rss"}else if(C[0]=="prices"){y.prefix="preprices";y.tabId="prepricesTab";y.feedSrc="chart"}if(y.tabId!=null){$("#"+y.prefix+"FeedList",z).removeClass("non-touch");setTimeout(function(){function H(){var Q=$("#"+y.prefix+"FeedList",z);E++;sliceFeeds=finfore.data.feedInfos[y.feedSrc].slice((E-1)*50,E*50);var R=$.View("//webapp/views/manage.feed-infos.tmpl",{feeds:sliceFeeds,name:y.feedSrc,type:y.prefix});Q.append(R);$("label",Q).draggable({revert:"invalid",helper:"clone",
cursor:"move"});M.refresh()}var J;J=document.getElementById(y.prefix+"pullUp").offsetHeight;$pullUpEl=$("#"+y.prefix+"pullUp",z);if(!$("#"+y.tabId).hasClass("has-iscroll"))var M=new iScroll(y.tabId,{hScroll:false,useTransition:true,lockDirection:true,onRefresh:function(){if($pullUpEl.hasClass("loading")){$pullUpEl.removeClass("loading");$pullUpEl.find(".pullUpLabel").html("Pull up to load more...")}},onScrollMove:function(){if(this.y<this.maxScrollY-5&&!$pullUpEl.hasClass("flip")){$pullUpEl.addClass("flip");
$pullUpEl.find(".pullUpLabel").html("Release to load more...");this.maxScrollY=this.maxScrollY}else if(this.y>this.maxScrollY+5&&$pullUpEl.hasClass("flip")){$pullUpEl.removeClass("flip");$pullUpEl.find(".pullUpLabel").html("Pull up to load more...");this.maxScrollY=J}},onScrollEnd:function(){if($pullUpEl.hasClass("flip")){$pullUpEl.removeClass("flip").addClass("loading");$pullUpEl.find(".pullUpLabel").html("Loading...");H()}}});$("#"+y.tabId).addClass("has-iscroll")},10)}}});$(".preset-tabs",f).delegate("label",
"click",function(){$(this).prev("input").prop("checked",true).trigger("change")});$(".preset-tabs",f).delegate("label","mousedown",function(){$(this).trigger("click")})}if(o.target&&o.target.type){$('a[href="#management-tab-'+o.target.type+'"]',e).trigger("click");s=$("#management-tab-"+o.target.type,f);s=$(".mtabs-container",s);if(o.target.data){var w;$(".mtab",s).each(function(){var z=$(this);w=$.data(z[0],"data");if(o.target.data===w){z.prop("checked",true).trigger("change");return false}})}}o.silentInit||
$.mobile.changePage(f,{transition:"slidedown"});Loader.hide()},panels:n,bindPanelData:c,sources:{addCustom:function(o){function s(C,E,y){if(C&&y.sourceTitle&&y.sourceURL){$.mobile.showPageLoadingMsg();C=o.category;if(o.category=="feed")C="rss";if(o.category=="prices")C="chart";$.ajax({url:finforeBaseUrl+"/feed_accounts/"+z+".json",type:"PUT",data:{feed_account:{_id:z,user_feeds_attributes:[{feed_info_attributes:{category:C,title:y.sourceTitle,address:y.sourceURL}}]}},success:function(H){finfore.data.panels.main[o.category][w].feed_account=
H;var J=H.user_feeds.length-1;H=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:H._id,source:finfore.data.panels.main[o.category][w].feed_account.user_feeds[J],index:J,category:o.category});o.$node.nextAll("div:first").find(".list-view").append(H);finfore.data.panels.main[o.category][w].$node.trigger("reinit");k({$container:o.$node.parent(),category:o.category,index:w});$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",a.saveSource)},error:function(){$().toastmessage("showErrorToast",
a.errorSaveSource)}})}}var w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),z=finfore.data.panels.main[o.category][w].feed_account._id;$.prompt(o.category==="twitter"?'<h2>Add Custom User</h2><input type="text" id="sourceTitle" name="sourceTitle" value="twitter" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" style="display: none"><label>Twitter Username <br> <input type="text" id="sourceURL" name="sourceURL" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>':
'<h2>Add Custom Source</h2><label>Source Title <br> <input type="text" id="sourceTitle" name="sourceTitle" value="" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label><label>Source URL <br> <input type="url" id="sourceURL" name="sourceURL" value="" placeholder="URL of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:s,buttons:{Cancel:false,"Save Source":true}})},remove:function(o){function s(y){if(y){y=
z.attr("data-id");$.ajax({url:finforeBaseUrl+"/user_feeds/"+y+".json",type:"DELETE",data:{feed_account_id:finfore.data.panels.main[o.category][w].feed_account._id},success:function(){$().toastmessage("showSuccessToast",a.deleteSource)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteSource)}});z.prevAll("input:first").attr("checked","checked").trigger("change");z.next().remove().end().remove();finfore.data.panels.main[o.category][w].feed_account.user_feeds.splice(C,1);finfore.data.panels.main[o.category][w].$node.trigger("reinit")}}
var w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),z=$("input:checked",o.$node.next().next()),C=finfore.data.panels.main[o.category][w].feed_account.user_feeds.indexOf($.data(z[0],"data")),E=finfore.data.panels.main[o.category][w].feed_account.user_feeds[C].feed_info.title;if(!E)E=finfore.data.panels.main[o.category][w].feed_account.user_feeds[C].name;$.prompt("<h2>Are you sure you sure you want to remove the <em>"+E+"</em> source?</h2>",{callback:s,buttons:{Cancel:false,
"Remove Source":true}})},addPreset:function(o){var s=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),w=finfore.data.panels.main[o.category][s].feed_account._id,z=$(".preset-source:checked",o.$presets);z.next("label").text();var C="";if(z.attr("data-address"))C=z.attr("data-address");$.mobile.showPageLoadingMsg();C=o.category;if(o.category=="feed")C="rss";if(o.category=="prices")C="chart";C=z.val();$.ajax({url:finforeBaseUrl+"/feed_accounts/"+w+".json",type:"PUT",data:{feed_account:{_id:w,
user_feeds_attributes:[{feed_info_id:C}]}},success:function(E){finfore.data.panels.main[o.category][s].feed_account=E;var y=E.user_feeds.length-1;E=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:E._id,source:finfore.data.panels.main[o.category][s].feed_account.user_feeds[y],index:y,category:o.category});o.$node.nextAll("div:first").find(".list-view").append(E);finfore.data.panels.main[o.category][s].$node.trigger("reinit");k({$container:o.$node.parent(),category:o.category,index:s});
z.next().remove().end().remove();$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",a.saveSource)},error:function(){$().toastmessage("showErrorToast",a.errorSaveSource)}})}},twitter:j,messages:a,updateFeedInfos:function(o){$(o.$node).addClass("loading-content");$.ajax({url:finforeBaseUrl+"/feed_infos.json",type:"GET",dataType:"text",data:{category:o.category,per_page:50,page:o.count},success:function(s){s=eval(s);finfore.data.feedInfos[o.category]=s;if(touchSupport)s=s.slice(0,50);
s=$.View("//webapp/views/manage.feed-infos.tmpl",{feeds:s,name:o.category,type:o.type});$(".list-view",o.$node).append(s);$(o.$node).removeClass("loading-content");$(".list-view label",o.$node).draggable({revert:"invalid",helper:"clone",cursor:"move"})}})}}}();steal.loaded("webapp/core/manage.js");
finfore.login=function(){var f,d={},e=function(){var c=$(this),k=$("#login",c).val();c=$("#password",c).val();WebService.auth({username:k,password:c,complete:function(n){finfore.storeData({user:n});window.location.reload()}});return false},a=function(){$.prompt('<p><label>Type your email address in the field bellow and we will send you a message with your password: <br><input type="text" id="email" name="email" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Email.."></label></p>',
{callback:function(c,k,n){c&&n.email&&$.ajax({url:finforeBaseUrl+"/users/forgot_password.json",type:"GET",data:{email:n.email},success:function(j){j.status=="SUCCESS"?$().toastmessage("showSuccessToast","A message containing your password has been sent to your email address. "):$().toastmessage("showErrorToast","We couldn't find your email address in our database. Please try again. ")},error:function(){$().toastmessage("showErrorToast","We couldn't send you your password. Please try again later. ")}})},
buttons:{Cancel:false,"Send Request":true}})};return{init:function(c){c||(c={});f=$("#login-page");if(!f.length){var k=$.View("//webapp/views/login.tmpl",{user:finfore.data.user,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl});$.mobile.hidePageLoadingMsg&&$.mobile.hidePageLoadingMsg();finfore.$body.append(k);f=$("#login-page");$("#signup-button",f).click(finfore.signup.init);f.find("form").bind("submit",
e);$(".forgot-password",f).click(a);if(smallScreen){d.$publicPage=$("#public-account-selector");d.$publicPage.page();d.$professionSelector=$("#profession",d.$publicPage);d.$geoSelector=$("#geographic",d.$publicPage);d.$industrySelector=$("#industry",d.$publicPage);$(".public-account-selector-btn").click(function(){var n=d.$industrySelector.val()+","+d.$geoSelector.val()+","+d.$professionSelector.val();finfore.publicLogin({ids:n},function(j){finfore.storeData({user:j});window.location.reload()})});
$(".public-account-btn",f).click(function(){$.mobile.changePage(d.$publicPage,{transition:"slide"});return false})}if(finforeNative){$(".social-signin a",f).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(n){if(n.indexOf(finforeAppUrl+"socialcallback.html")==0){n=n.replace(finforeAppUrl,finforeNativeUrl);window.location.href=n;window.plugins.childBrowser.close()}}}}c.silentInit||
(finfore.smallScreen?$.mobile.changePage(f,{changeHash:false}):$.mobile.changePage(f,{transition:"slidedown"}))},nodes:d}}();steal.loaded("webapp/core/login.js");
finfore.signup=function(){var f,d,e,a,c,k,n,j=function(s){finfore.data.user=s;Storage.setItem("user",JSON.stringify(finfore.data.user));e.hide();a.show();$.mobile.hidePageLoadingMsg()},q=function(){$.mobile.showPageLoadingMsg();var s=$(this).serialize();$.ajax({url:finforeBaseUrl+"/users.json",type:"POST",data:s,error:function(w){$.mobile.hidePageLoadingMsg();try{var z=JSON.parse(w.responseText)}catch(C){$().toastmessage("showToast",{text:"There was a problem registering your user. Please try again later.",
type:"error",sticky:true});return false}for(prop in z){w=prop;if(w=="email_work")w="Your email";if(w=="password")w="Your password";if(w!=="password_confirmation"&&w!=="login"){w="<strong>"+w+"</strong> "+z[prop][0];$().toastmessage("showToast",{text:w,sticky:true,type:"error"})}}},success:j});return false},o=function(){var s=$(this),w=$(this).attr("data-type");window.open(finforeBaseUrl+"/feed_accounts/"+w+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+
"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(){s.hide();window.removeEventListener("message",authorized)},false)};return{init:function(){if($("#signup-page").length)$.mobile.changePage($("#signup-page"),{transition:"slidedown"});else{var s=$.View("//webapp/views/signup.tmpl",{focus:finfore.data.focus,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl,smallScreen:finfore.smallScreen});$(s).appendTo(finfore.$body);
f=$("#signup-page");d=$("[data-role=content]",f);e=$("#signup-page1",d);a=$("#signup-page2",d);c=$(".twitter-connect-button",f);$linkedinAuthBtn=$(".linkedin-connect-button",f);k=$(".google-connect-button",f);n=$("#finish-btn");c.click(o);$linkedinAuthBtn.click(o);k.click(o);n.click(function(){window.location.reload()});$.mobile.changePage(f,{transition:"slidedown"});d.find("form").submit(q);if(finforeNative){$(".social-signin a",f).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),
{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(w){if(w.indexOf(finforeAppUrl+"socialcallback.html")==0){window.location.href=w;window.plugins.childBrowser.close()}}}}},authorizeService:o}}();steal.loaded("webapp/core/signup.js");
finfore.profile=function(){var f,d=function(){var e=$("#user_geographic",f),a=$("#user_profession",f),c=$("#user_industry",f);if(!(e.val()&&a.val()&&c.val())){$().toastmessage("showToast",{text:"Please select at least one interest in each focus area selector. ",sticky:true,position:"top-right",type:"error"});return false}Loader.show();e=$(this).serializeObject();e.id=finfore.data.user._id;WebService.updateUser({data:e,complete:function(){$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});
if(finfore.data.updateProfile){Storage.removeItem("updateProfile");window.location.reload()}$().toastmessage("showSuccessToast","Successfully updated your profile. ")}});return false};return{init:function(){if(!f){var e=$.View("//webapp/views/profile.tmpl",{user:finfore.data.user,updateProfile:finfore.data.updateProfile,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,panels:finfore.data.panels,portfolios:finfore.data.portfolios});$(e).appendTo(finfore.$body);
f=$("#profile-page");$("#close-account-btn");$("form",f).submit(d);e=$(".twitter-profile-connect",f);var a=$(".linkedin-profile-connect",f),c=$(".google-profile-connect",f);e.click(finfore.signup.authorizeService);a.click(finfore.signup.authorizeService);c.click(finfore.signup.authorizeService)}$.mobile.changePage(f)}}}();steal.loaded("webapp/core/profile.js");
finfore.addcompany=function(){var f;return{allCompanies:f,abSorting:function(d,e){d=d.title.toLowerCase();e=e.title.toLowerCase();if(d<e)return-1;if(d>e)return 1;return 0},saveCompany:function(){var d=parseInt($(this).attr("data-index")),e=finfore.addcompany.allCompanies[d]._id,a=false,c;$.each(finfore.data.companies,function(k,n){if(n.feed_info_id==e){c=k=$("#"+n._id);finfore.smallScreen||(c=$.data(k[0],"selector"));c.trigger("expand");a=true;return false}});if(!a){if(finfore.data.user.is_public)finfore.companies.add([{feed_info:finfore.addcompany.allCompanies[d],
_id:finfore.addcompany.allCompanies[d]._id,feed_info_id:finfore.addcompany.allCompanies[d]._id}],true);else{Loader.show();$.ajax({url:finforeBaseUrl+"/user_company_tabs.json",type:"POST",data:{user_company_tab:{feed_info_id:e,follower:"0",is_aggregate:true}},success:function(k){finfore.companies.add([k],true);Loader.hide()}})}if(finfore.smallScreen){finfore.$body.addClass("show-menu");finfore.desktop.nodes.$menuPage.find('[data-role="collapsible"]:last').length&&finfore.$body.animate({scrollTop:finfore.desktop.nodes.$menuPage.find("[data-role=collapsible]:last").offset().top},
2E3)}}}}}();steal.loaded("webapp/core/addcompany.js");
finfore.help=function(){var f,d={},e=function(){var a=d.$form.serialize(),c=finforeBaseUrl+"/users/contact_admin";a+="&auth_token="+finfore.data.user.single_access_token;if(!(d.$subjectField.val()&&d.$messageField.val()&&d.$nameField.val()&&d.$emailField.val())){$().toastmessage("showToast",{text:"Please fill in all the available fields. ",sticky:true,position:"top-right",type:"error"});return false}$.mobile.showPageLoadingMsg();$.ajax({url:c,type:"POST",data:a,complete:function(){$().toastmessage("showSuccessToast",
"Successfully sent message. ");$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});$.mobile.hidePageLoadingMsg()}});return false};return{init:function(){if(!f){var a=$.View("//webapp/views/help.tmpl",{});$(a).appendTo(finfore.$body);f=$(".help-page");d.$form=$("form",f);d.$subjectField=$("#subject",d.$form);d.$messageField=$("#message",d.$form);d.$nameField=$("#name",d.$form);d.$emailField=$("#email",d.$form);d.$form.submit(e)}$.mobile.changePage(f,{transition:"slidedown"})}}}();
steal.loaded("webapp/core/help.js");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div data-role="header">    ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('    <a data-role="button" data-inline="true" data-icon="menu" data-theme="a" data-iconpos="notext" class="mobile-menu-button">Menu</a>   ');c.push("   <h1>");if(typeof title!=="undefined"&&
title!=null)c.push(e.encode(typeof title==="function"?title.call(a):title));c.push("</h1>   ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right panel-mobile-sliders">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-previous">Previous Column</a>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-next">Next Column</a>    </div>   ');
c.push('  </div>  <div data-role="content">   ');if(typeof content!=="undefined"&&content!=null)c.push(typeof content==="function"?content.call(a):content);c.push("  </div>  ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('   <div class="mobile-content-overlay"></div>  ');c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_feed_tmpl",function(d){return function(e,a){e=[];var c=a.data;with(c){e.push('<ul data-role="listview" data-theme="c" ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))e.push('data-split-icon="arrow-r" data-split-theme="c" class="split-selector"');e.push('>   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>')}return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_feed_management_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>RSS News Management</strong>   <!-- <span>Create Rss Column, grab the hot news and filter them easily. </span> --\>  </div>    <div class="manage-content">   <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):
panels,function(n,j){with(this){c.push('        <input type="radio" data-role="none" class="mtab" id="feed-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="feed-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">     <label for="feed-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('     </label>          <div id="feed-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!==
"undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(a):(feed_account_id=
j.feed_account._id)));c.push("</span>       ");if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(a):j.feed_account.user_feeds,function(q,o){with(this){c.push('        <input type="radio" data-native="true" name="feed-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-id="');if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-index="');if(typeof q!=="undefined"&&q!=null)c.push(e.encode(typeof q===
"function"?q.call(a):q));c.push('" ');if(typeof(q==0)!=="undefined"&&q==0!=null&&(typeof(q==0)==="function"?(q==0).call(a):q==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('">');
if(typeof(o.feed_info&&o.feed_info.title)!=="undefined"&&(o.feed_info&&o.feed_info.title)!=null&&(typeof(o.feed_info&&o.feed_info.title)==="function"?(o.feed_info&&o.feed_info.title).call(a):o.feed_info&&o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(a):o.feed_info.title))}else{c.push(" ");if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?
o.name.call(a):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="feed-preset-all" name="feed-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none"/>    <label for="feed-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Feeds    </label>    <div id="feedTab"  class="preset-tab-content visible-tab preset-sources-all" style="height: 390px;">     <div>      <div class="list-view non-touch" data-count="50" id="feedFeedList"></div>      <div id="feedpullUp" class="pullToRefresh pullUp">       <span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to refresh...</span>      </div>     </div>         </div>        <input type="radio" data-native="true" id="feed-preset-suggested" name="feed-preset-tabs" class="preset-tab-radio" data-role="none"/>    <label for="feed-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Feeds    </label>    <div id="prefeedTab" class="preset-tab-content preset-sources-suggested" style="height: 390px;">     <div>      <div class="list-view non-touch" data-count="50" style="max-height: auto !important; " id="prefeedFeedList"></div>      <div id="prefeedpullUp" class="pullToRefresh pullUp">       <span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to refresh...</span>      </div>     </div>         </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_podcast_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_podcast_management_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Podcast Management</strong>   <!-- <span>Manage your video, radio, and any multimedia regarding your business points. </span> --\>  </div>    <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?
panels.call(a):panels,function(n,j){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="podcast-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="podcast-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="podcast-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('     </label>          <div id="podcast-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(a):(feed_account_id=
j.feed_account._id)));c.push("</span>       ");if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(a):j.feed_account.user_feeds,function(q,o){with(this){c.push('        <input type="radio" data-native="true" name="podcast-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-id="');if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-index="');if(typeof q!=="undefined"&&q!=null)c.push(e.encode(typeof q===
"function"?q.call(a):q));c.push('" ');if(typeof(q==0)!=="undefined"&&q==0!=null&&(typeof(q==0)==="function"?(q==0).call(a):q==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('">');
if(typeof(o.feed_info&&o.feed_info.title)!=="undefined"&&(o.feed_info&&o.feed_info.title)!=null&&(typeof(o.feed_info&&o.feed_info.title)==="function"?(o.feed_info&&o.feed_info.title).call(a):o.feed_info&&o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(a):o.feed_info.title))}else{c.push(" ");if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?
o.name.call(a):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="podcast-preset-all" name="podcast-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="podcast-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Podcasts    </label>    <div id="podcastTab" class="preset-tab-content visible-tab preset-sources-all" style="height: 390px;">     <div>      <div class="list-view non-touch" data-count="50" id="podcastFeedList"></div>      <div id="podcastpullUp" class="pullToRefresh pullUp">       <span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to refresh...</span>      </div>     </div>    </div>        <input type="radio" data-native="true" id="podcast-preset-suggested" name="podcast-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="podcast-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Podcasts    </label>    <div id="prepodcastTab" class="preset-tab-content preset-sources-suggested" style="height: 390px;">     <div>      <div class="list-view non-touch" data-count="50" id="prepodcastFeedList"></div>       <div id="prepodcastpullUp" class="pullToRefresh pullUp">       <span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to refresh...</span>      </div>     </div>         </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.management.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_tmpl",function(d){return function(e,a){e=[];var c=a.data;with(c){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(a):!connected))e.push('   <a class="twitter-connect-button">Connect with Twitter</a>  ');e.push('    <ul class="tweets"></ul>    ');if(typeof connected!=="undefined"&&connected!=null&&(typeof connected==="function"?connected.call(a):connected))e.push('   <ul data-role="listview" class="load-more-container">    <li data-icon="false" data-theme="d">     <a class="load-more-tweets">Load more...</a>    </li>   </ul>  ');
e.push("")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_tweet_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push("");if(typeof tweets!=="undefined"&&tweets!=null)e.each(typeof tweets==="function"?tweets.call(a):tweets,function(n,j){with(this){c.push('   <li class="ui-li ui-btn-up-c">    <a class="tweet-avatar" href="http://twitter.com/');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null&&(typeof j.screen_name==="function"?j.screen_name.call(a):
j.screen_name)){c.push("");if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)c.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(a):j.screen_name))}else{c.push("");if(typeof j.from_user!=="undefined"&&j.from_user!=null)c.push(e.encode(typeof j.from_user==="function"?j.from_user.call(a):j.from_user))}c.push("");c.push('" target="_blank">     <img src="');if(typeof j.profile_image_url!=="undefined"&&j.profile_image_url!=null)c.push(e.encode(typeof j.profile_image_url==="function"?
j.profile_image_url.call(a):j.profile_image_url));c.push('" height="48" width="48" alt="');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)c.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(a):j.screen_name));c.push('" title="');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)c.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(a):j.screen_name));c.push('" border="0">    </a>    <span class="tweet-text">     ');if(typeof j.html!=="undefined"&&
j.html!=null)c.push(typeof j.html==="function"?j.html.call(a):j.html);c.push('    </span>    <span class="tweet-time">     <a href="http://twitter.com/');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)c.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(a):j.screen_name));c.push("/status/");if(typeof j.id_str!=="undefined"&&j.id_str!=null)c.push(e.encode(typeof j.id_str==="function"?j.id_str.call(a):j.id_str));c.push('" title="View tweet on Twitter" target="_blank">      ');
if(typeof j.created_at!=="undefined"&&j.created_at!=null)c.push(e.encode(typeof j.created_at==="function"?j.created_at.call(a):j.created_at));c.push("     </a>    </span>   </li>  ")}});c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tweet.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_management_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Twitters And Suggestions Management</strong>   <!-- <span>Manage your twitter accounts and suggestions list easily. </span> --\>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?
panels.call(a):panels,function(n,j){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="twitter-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="twitter-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="twitter-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('     </label>          <div id="twitter-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Follow Custom User</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Unfollow User</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push("</span>              ");if("boolean"!=="undefined"&&1&&("boolean"==="function"?false.call(a):false)){c.push('       <a href="http://twitter.com/');if(typeof j.feed_account.account!=="undefined"&&j.feed_account.account!=null)c.push(e.encode(typeof j.feed_account.account==="function"?j.feed_account.account.call(a):j.feed_account.account));
c.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof j.feed_account.account!=="undefined"&&j.feed_account.account!=null)c.push(e.encode(typeof j.feed_account.account==="function"?j.feed_account.account.call(a):j.feed_account.account));c.push("</a>       ")}c.push('             </div>      <div class="list-view"></div>     </div>    ')}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset User</a>    </div>      <input type="radio" data-native="true" id="twitter-preset-all" name="twitter-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="twitter-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Users    </label>    <div id="twitterTab" class="preset-tab-content visible-tab preset-sources-all" style="height: 390px;">     <div>      <div class="list-view non-touch" data-count="50" id="twitterFeedList"></div>      <div id="twitterpullUp" class=" pullUp pullToRefresh">       <span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to load more...</span>      </div>     </div>    </div>        <input type="radio" data-native="true" id="twitter-preset-suggested" name="twitter-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="twitter-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Users    </label>    <div id="pretwitterTab" class="preset-tab-content preset-sources-suggested" style="height: 390px;">     <div>      <div class="list-view non-touch" data-count="50" id="pretwitterFeedList"></div>      <div id="pretwitterpullUp" class=" pullUp pullToRefresh">       <span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to load more...</span>      </div>     </div>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_prices_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_prices_management_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Prices Management</strong>   <!-- <span>Create Prices Column, grab the hot news and filter them easily. </span> --\>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):
panels,function(n,j){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="prices-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="prices-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="prices-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('     </label>          <div id="prices-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('</span>      </div>      <div class="list-view">       ');if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(a):j.feed_account.user_feeds,function(q,o){with(this){c.push('        <input type="radio" data-native="true" name="prices-sources-');
if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?o.feed_account_id.call(a):o.feed_account_id));c.push('" id="source-');if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?o.feed_account_id.call(a):o.feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-id="');if(typeof o._id!==
"undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-index="');if(typeof q!=="undefined"&&q!=null)c.push(e.encode(typeof q==="function"?q.call(a):q));c.push('" ');if(typeof(q==0)!=="undefined"&&q==0!=null&&(typeof(q==0)==="function"?(q==0).call(a):q==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?
o.feed_account_id.call(a):o.feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('">');if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null&&(typeof o.feed_info.title==="function"?o.feed_info.title.call(a):o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(a):o.feed_info.title))}else{c.push(" ");
if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?o.name.call(a):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="prices-preset-all" name="prices-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="prices-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Prices    </label>    <div id="pricesTab" class="preset-tab-content visible-tab preset-sources-all" style="height: 390px;">     <div>      <div class="list-view non-touch" data-count="50" id="pricesFeedList"></div>      <div id="pricespullUp" class=" pullUp pullToRefresh">       <span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to load more...</span>      </div>     </div>    </div>        <input type="radio" data-native="true" id="prices-preset-suggested" name="prices-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="prices-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Prices    </label>    <div id="prepricesTab" class="preset-tab-content preset-sources-suggested" style="height: 390px;">     <div>      <div class="list-view non-touch" data-count="50" id="prepricesFeedList"></div>       <div id="prepricespullUp" class=" pullUp pullToRefresh">       <span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to load more...</span>      </div>     </div>         </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_portfolio_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_portfolio_management_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Portfolio Management</strong>   <!-- <span>Collections of positions that the user holds in various securities, plus metadata, using Google Finance </span> --\>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof portfolios!=="undefined"&&portfolios!=
null)e.each(typeof portfolios==="function"?portfolios.call(a):portfolios,function(n,j){with(this){c.push('     <input type="radio" data-native="true" class="mtab" id="portfolio-account-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="portfolio-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n===
"function"?n.call(a):n));c.push('" data-role="none">     <label for="portfolio-account-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('     </label>          <div id="portfolio-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n===
"function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">            <span>');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('</span>      </div>            <em class="extra-details">Portfolios available in your Google Account</em>            <span style="display: none">');
if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(a):(feed_account_id=j.feed_account._id)));c.push('</span>      <div class="list-view">       ');if(typeof j.list!=="undefined"&&j.list!=null)e.each(typeof j.list==="function"?j.list.call(a):j.list,function(q,o){with(this){c.push('        <input type="radio" data-native="true" name="portfolio-sources-');
if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push('" id="source-');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(a):o.id_bare));c.push('" data-id="');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(a):o.id_bare));c.push('" data-index="');if(typeof q!=="undefined"&&
q!=null)c.push(e.encode(typeof q==="function"?q.call(a):q));c.push('" ');if(typeof(q==0)!=="undefined"&&q==0!=null&&(typeof(q==0)==="function"?(q==0).call(a):q==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(a):o.id_bare));c.push('">');if(typeof o.title!=="undefined"&&o.title!=null)c.push(e.encode(typeof o.title==="function"?o.title.call(a):o.title));
c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>      <div class="module-details">       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-portfolio">Add Portfolio</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-portfolio">Edit Portfolio</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-portfolio">Delete Portfolio</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_agenda_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<div class="events-months-container"></div>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.agenda.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_linkedin_tmpl",function(d){return function(e,a){e=[];var c=a.data;with(c){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(a):!connected))e.push('  <a class="linkedin-connect-button">Connect with Twitter</a>  ');e.push("  <ul></ul>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_linkedin_management_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>LinkedIn Management</strong>   <!-- <span>Get the latest business news from LinkedIn and manage it. </span> --\>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):
panels,function(n,j){with(this){c.push('       <input type="radio" data-native="true" class="mtab" id="linkedin-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="linkedin-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="linkedin-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push("     </label>       ")}});c.push('       </div>      <div class="linkedin-management-details ui-body-c">        <p>You can add a new <strong>LinkedIn</strong> column using the <strong>Add Column</strong> button in the left side of the footer. </p>     </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_blinkx_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.blinkx.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_keyword_management_tmpl",function(d){return function(e,a){var c=[],k=a.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Keywords Management</strong>   <!-- <span>Manage your keywords. </span> --\>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,function(n,j){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="keyword-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="keyword-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="keyword-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('     </label>          <div id="keyword-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(a):j.feed_account.name));c.push('</span>           </div>      <div class="keyword-panel-settings">              <div data-role="fieldcontain">        <label for="keyword-text-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">Keyword</label>               <input type="text" class="keyword-text" id="keyword-text-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" value="');if(typeof j.feed_account.keyword_column.keyword!=="undefined"&&j.feed_account.keyword_column.keyword!=null)c.push(e.encode(typeof j.feed_account.keyword_column.keyword==="function"?j.feed_account.keyword_column.keyword.call(a):j.feed_account.keyword_column.keyword));c.push('"/>       </div>              <div data-role="fieldcontain" class="keyword-save-container">        <button class="keyword-save">Save Column</button>       </div>              <div class="keyword-help">        <strong>Add Keyword Searches using Twitter.</strong>                      <div class="keyword-example">         <strong>Example:</strong>         <p>          <strong>HSBC shares</strong> will find tweets that contain <strong>both</strong> <em>HSBC</em> and <em>shares</em> <br>          <strong>"US economy"</strong> will find tweets containing the <strong>exact phrase</strong> <em>US economy</em> <br>          <strong>$AAPL OR $GOOG</strong> will find tweets containing <strong>either</strong> <em>$AAPL</em> or <em>$GOOG</em>         </p>        </div>       </div>             </div>     </div>    ')}});
c.push('       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_keyword_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<ul class="tweets"></ul>  <ul data-role="listview" class="load-more-container">   <li data-icon="false" data-theme="d">    <a class="load-more-tweets">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.tmpl");
finfore.modules.feed=function(){var f=function(e){var a=e.sources.slice(0);if(e.bingsearch&&e.limit>15){a[0]+="&news.offset=";a[0]+=e.limit*1-14}feedReader.get({callbackId:e.callbackId,sources:a,limit:e.limit,bingsearch:e.bingsearch,blogsearch:e.blogsearch,company:e.company,complete:function(c){if(!e.bingsearch&&e.loadMore===true&&e.limit>15)c=c.slice(e.limit-15,e.limit);var k="",n=c.length-1;$.each(c,function(j){if(e.loadMore===true||this.pubDate>e.date){k+=j===n?'<li class="last-in-group" data-i\t="false">':
'<li data-icon="false">';if(finfore.smallScreen){k+="<a><abbr>"+this.source+"</abbr>";k+="<h3>"+this.title+"</h3>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+='</a><a href="'+this.link+'" target="_blank" class="mobile-column-select"></a>'}else{k+='<a href="'+this.link+'" target="_blank"><abbr>'+this.source+"</abbr>";k+="<h3>"+this.title+"</h3>";k+="<p>"+this.description+"</p>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+="</a>"}k+="</li>";if(!e.company||!finfore.smallScreen)this.pubDate>
finfore.ticker.date&&finfore.ticker.updateNews(this)}});c=$(".load-more-entries",e.$container).parents("li").first();$(k).insertBefore(c);c=$("[data-role=content] ul",e.$container);c.jqmData("listview")?c.listview("refresh"):c.listview();e.$container.removeClass("panel-loading")}})},d=function(e,a){var c=0,k=[];if(a.company){var n;if(a.blogsearch)n="http://www.google.com/search?hl=en&q="+$.URLEncode(a.company.feed_info.company_competitor.blog_keyword)+"&ie=utf-8&tbm=blg&num=100&output=rss";else if(a.bingsearch){a.company.feed_info.company_competitor.bing_keyword=
a.company.feed_info.company_competitor.bing_keyword.replace(","," OR ");n="http://api.bing.com/rss.aspx?Source=News&Market=en-US&Version=2.0&Query="+$.URLEncode(a.company.feed_info.company_competitor.bing_keyword)+"&news.count=15"}else n="http://www.google.com/finance/company_news?q="+a.company.feed_info.company_competitor.finance_keyword+"&authuser=0&output=rss&num=100";k=[n]}if(a.portfolio&&a.portfolio.overview.rss.chanel.item)if($.isArray(a.portfolio.overview.rss.chanel.item))$.each(a.portfolio.overview.rss.chanel.item,
function(){k.push("http://www.google.com/finance/company_news?q="+this.google_ticker+"&authuser=0&output=rss")});else k=["http://www.google.com/finance/company_news?q="+a.portfolio.overview.rss.chanel.item.google_ticker+"&authuser=0&output=rss"];if(a.feed_account&&!a.portfolio)k=$.map(a.feed_account.user_feeds,function(q){return q.feed_info.address});var j=function(q,o){e.addClass("panel-loading");if(o===true)c+=15;var s;if(a.feed_account)s=a.feed_account._id;else if(a.company){s=a.company._id;if(a.blogsearch)s+=
"blogsearch";if(a.bingsearch)s+="bingsearch"}f({sources:k,$container:e,date:new Date,loadMore:o,limit:c,blogsearch:a.blogsearch,bingsearch:a.bingsearch,company:a.company,callbackId:s})};(function(){$(document).height();if(a.feed_account)var q=a.feed_account.name;if(a.portfolio)q=a.portfolio.title;if(a.company){q="Company News";if(a.blogsearch)q="News from Blogs";if(a.bingsearch)q="Additional News"}var o=$.View("//webapp/views/module.feed.tmpl",{smallScreen:finfore.smallScreen});q=$.View("//webapp/views/module.tmpl",
{title:q,smallScreen:finfore.smallScreen,content:o});$(q).appendTo(e);e.bind("refresh",j);e.bind("reinit",function(){clearInterval(s);e.unbind();e.empty();e.jqmRemoveData();d(e,a)});$(".load-more-entries",e).click(function(w){e.trigger("refresh",true);w.preventDefault();return false});if(!finfore.smallScreen)var s=setInterval(j,3E5);e.page();e.trigger("init")})()};return{init:d,management:function(e){finfore.data.panels.main.feed||(finfore.data.panels.main.feed=[]);var a=$.View("//webapp/views/module.feed.management.tmpl",
{panels:finfore.data.panels.main.feed});$(a).appendTo(e);var c=$(".mtabs-container",e);finfore.manage.bindPanelData({$container:c,category:"feed"});$(".edit-column-title",e).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",c),category:"feed"})});$(".add-column",e).click(function(){finfore.manage.panels.create({$node:c,category:"feed"})});$(".remove-column",e).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",c),category:"feed"})});c.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",c),category:"feed"})});c.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",c),category:"feed"})});$(".add-preset-source",e).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",c),$presets:$(".preset-tabs",e),category:"feed"})});$(".mtab-content",c).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
c),$presets:$(".preset-tabs",e),category:"feed"})}});var k=allCount=0,n=$(".preset-sources-suggested",e),j=$(".preset-sources-all",e);(function(){k++;finfore.manage.updateFeedInfos({$node:n,type:"feed",category:"rss",count:k});return false})();(function(){allCount++;finfore.manage.updateFeedInfos({$node:j,type:"feed",category:"all,rss",count:allCount});return false})()}}}();steal.loaded("webapp/modules/feed.js");
finfore.modules.podcast=function(){var f=["mp4","3g2","3gp","asf","asx","avi","flv","mov","mpg","rm","vob","webm","wmv","ogv","ogg"],d=function(a){feedReader.get({callbackId:a.callbackId,sources:a.sources,limit:a.limit,podcast:true,complete:function(c){if(a.loadMore===true&&a.limit>5)c=c.slice(a.limit-15,a.limit);var k="",n=c.length-1,j;$.each(c,function(s){j="";if(this.link)j=this.link;else if(this.enclosure)j=this.enclosure.url;if((a.loadMore===true||this.pubDate>a.date)&&j){k+=s===n?'<li class="last-in-group" data-icon="false">':
'<li data-icon="false">';s=j.split(".").pop();k+="<abbr>"+this.source+"</abbr>";k+='<h3><a href="'+this.link+'" target="_blank">'+this.title+"</a></h3>";k+=$.inArray(s,f)===0?'<video src="'+j+'" width="270" height="150" controls="controls" type="video/'+s+'" preload="none"></video>':'<audio src="'+j+'" controls="controls" type="audio/'+s+'" preload="none"></audio>';k+="<p>"+this.description+"</p>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+="</li>"}});c=$(".load-more-entries",a.$container).parents("li").first();
var q=$(k),o=$("[data-role=content] ul",a.$container);q.insertBefore(c);o.jqmData("listview")?o.listview("refresh"):o.listview();finfore.smallScreen||finforeNative||touchSupport||$("video, audio",q).mediaelementplayer({audioWidth:275,pluginPath:"webapp/lib/mediaelement/"});a.$container.removeClass("panel-loading")}})},e=function(a,c){var k=0,n=[];n=$.map(c.feed_account.user_feeds,function(q){return q.feed_info.address});var j=function(q,o){a.addClass("panel-loading");if(o===true)k+=15;d({sources:n,
$container:a,date:new Date,loadMore:o,limit:k,callbackId:c.feed_account._id})};(function(){$(document).height();var q=$.View("//webapp/views/module.podcast.tmpl",{});q=$.View("//webapp/views/module.tmpl",{title:c.feed_account.name,smallScreen:finfore.smallScreen,content:q});$(q).appendTo(a);$(".load-more-entries",a).click(function(s){a.trigger("refresh",[true]);s.preventDefault();return false});a.bind("refresh",j);a.bind("reinit",function(){clearInterval(o);a.unbind();a.empty();a.jqmRemoveData();
e(a,c)});if(!finfore.smallScreen)var o=setInterval(j,3E5);a.page();a.trigger("init")})()};return{init:e,management:function(a){finfore.data.panels.main.podcast||(finfore.data.panels.main.podcast=[]);var c=$.View("//webapp/views/module.podcast.management.tmpl",{panels:finfore.data.panels.main.podcast});$(c).appendTo(a);var k=$(".mtabs-container",a);finfore.manage.bindPanelData({$container:k,category:"podcast"});finfore.manage.bindPanelData({$container:k,category:"podcast"});$(".edit-column-title",
a).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",k),category:"podcast"})});$(".add-column",a).click(function(){finfore.manage.panels.create({$node:k,category:"podcast"})});$(".remove-column",a).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",k),category:"podcast"})});k.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",k),category:"podcast"})});k.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",
k),category:"podcast"})});$(".add-preset-source",a).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",k),$presets:$(".preset-tabs",a),category:"podcast"})});$(".mtab-content",k).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",k),$presets:$(".preset-tabs",a),category:"podcast"})}});var n=allCount=0,j=$(".preset-sources-suggested",a),q=$(".preset-sources-all",a);(function(){n++;finfore.manage.updateFeedInfos({$node:j,
type:"podcast",category:"podcast",count:n});return false})();(function(){allCount++;finfore.manage.updateFeedInfos({$node:q,type:"podcast",category:"all,podcast",count:allCount});return false})()}}}();steal.loaded("webapp/modules/podcast.js");
finfore.modules.twitter=function(){var f=function(d,e){var a,c=20,k,n,j,q,o=function(z){empty(n[0]);d.removeClass("panel-loading");if(z.results)z=z.results;$.each(z,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});a=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:z});n.append(a);z&&$.each(z,function(){var C=new Date(this.created_at);e.company&&finfore.smallScreen||C>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},s=function(z,C){d.addClass("panel-loading");if(C===true)c+=5;n.removeData();if(e.company){n.unbind("load");z=e.competitor?e.company.feed_info.company_competitor.keyword.replace(/,/g," OR "):e.company.feed_info.company_competitor.company_ticker+" OR "+e.company.feed_info.company_competitor.broadcast_keyword;$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:z,rpp:c},success:o})}else $.ajax({url:finforeBaseUrl+"/tweetfores/home_timeline.json",
type:"POST",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token,feed_account_id:e.feed_account._id,count:c},success:o})},w=function(){var z,C,E=false;if(e.company){C="Breaking News";if(e.competitor)C="Competitors News"}if(!e.company){C=e.feed_account.name;E=!e.feed_account.feed_token||!e.feed_account.feed_token.token}var y=$.View("//webapp/views/module.twitter.tmpl",{connected:!E});C=$.View("//webapp/views/module.tmpl",{title:C,smallScreen:finfore.smallScreen,
content:y});$(C).appendTo(d);k=$("[data-role=content]",d);n=$(".tweets",k);j=$(".load-more-tweets",k);q=$(".twitter-connect-button",d);d.addClass("panel-loading");if(E){s();var H=finforeBaseUrl+"/feed_accounts/twitter/auth?feed_account_id="+e.feed_account._id;q.click(function(){q.hide();d.addClass("panel-loading");var J=window.open(H,"twitterAuthWindow","resizable=yes,scrollbars=yes,status=yes"),M=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,
feed_token:{feed_account_id:e.feed_account.id,user_id:e.feed_account.user_id}},success:function(Q){if(Q.feed_token&&Q.feed_token.token){e.feed_account.feed_token=Q.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();w()}else if(J.closed){q.show();d.removeClass("panel-loading")}else setTimeout(M,1E4)}})};M();return false})}else finfore.smallScreen||(z=setInterval(s,3E5));j.click(function(){d.trigger("refresh",true)});d.page();d.bind("refresh",s);d.bind("reinit",function(){clearInterval(z);
d.unbind();d.empty();d.jqmRemoveData();f(d,e)});d.trigger("init")};w()};return{init:f,management:function(d){finfore.data.panels.main.twitter||(finfore.data.panels.main.twitter=[]);var e=$.View("//webapp/views/module.twitter.management.tmpl",{panels:finfore.data.panels.main.twitter});$(e).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"twitter"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"twitter"})});
$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"twitter"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"twitter"})});a.delegate(".add-custom-source","click",function(){finfore.manage.twitter.addCustom({$node:$(".mtab:checked",a),category:"twitter"})});a.delegate(".remove-source","click",function(){finfore.manage.twitter.remove({$node:$(".mtab:checked",a),category:"twitter"})});$(".add-preset-source",
d).click(function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"twitter"})});$(".mtab-content",a).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"twitter"})}});var c=allCount=0,k=$(".preset-sources-suggested",d),n=$(".preset-sources-all",d);(function(){c++;finfore.manage.updateFeedInfos({$node:k,type:"twitter",category:"twitter",count:c});
return false})();(function(){allCount++;finfore.manage.updateFeedInfos({$node:n,type:"twitter",category:"all,twitter",count:allCount});return false})()}}}();steal.loaded("webapp/modules/twitter.js");
finfore.modules.prices=function(){var f=function(d,e){var a,c=a;e.company||$.map(e.feed_account.user_feeds,function(o){return o.feed_info_id});var k=10;c=k;var n=function(o){var s="",w;if(e.company){o=e.company.feed_info.company_competitor.company_ticker+",";w=e.company.feed_info.company_competitor.company_ticker;o+=e.company.feed_info.company_competitor.competitor_ticker;s=o}else if(e.feed_account.user_feeds[0]){o=e.feed_account.user_feeds[0].feed_info.price_tickers;$.each(o,function(z,C){s+=C.ticker+
","})}if(s){s=s.replace(/\s/g,"");$.ajax({url:"http://api.fastnd.com/finance/info?infotype=infoquoteall&q="+s,dataType:"jsonp",success:function(z){var C="",E=[];$.each(z,function(y,H){y=H.e+":"+H.t;var J=H.name,M='<a href="http://www.google.com/finance?q='+y+'" target="_blank">';H.c=parseFloat(H.c);H.cp=parseFloat(H.cp);e.company&&finfore.smallScreen||Math.abs(H.cp)>finfore.ticker.priceBridge&&finfore.ticker.updatePrices(H);var Q=H.l||0,R=H.c||0;H=H.cp||0;if(J){J=M+J+"</a>";if(!finfore.smallScreen){Q=
M+Q+"</a>";R=M+R+"</a>";H=M+H+"</a>"}C+='<tr class="ui-btn-up-c">';C+="<td>"+J+"</td>";C+="<td>"+Q+"</td>";C+=R<0?'<td class="negative nowrap">'+R+"</a></td>":'<td class="nowrap">'+R+"</a></td>";C+=H<0?'<td class="negative nowrap">'+H+"</a></td>":'<td class="nowrap">'+H+"</a></td>";C+="</tr>"}E.push({stock:y,price:Q*1})});$(C).appendTo($("tbody",d));if(e.company){E.shift();(FlashDetect.installed?$('<embed height="340" menu="false" flashvars="displayVolume=true&amp;displayDividends=true&amp;displaySplits=true&amp;displayExtendedHours=true&amp;defaultZoomDays=true&amp;hasVolume=true&amp;hasExtendedHours=true&amp;defaultZoomDays=5&amp;q='+
w+"&amp;lcId=1302290366141&amp;compareTo="+E[0].stock+"%3B"+E[1].stock+'%3B&amp;single_viewpoints=name%3AMainViewPoint%2Cheight%3A202%2CtopMargin%3A0%3A%3Aname%3ABottomViewPoint%2Cheight%3A45%2CtopMargin%3A0%2Cdisplay%3Avisible&amp;single_layers=vp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A0%2Ctype%3Asimple%2ChasText%3Atrue%3A%3Avp%3AMainViewPoint%2Cname%3APriceLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AAHLineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALastDayLineLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Adividend%2Cpositioning%3Abottom%2CavoidObj%3Asplit%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Asplit%2Cpositioning%3Abottom%2CavoidObj%3Adividend%3A%3Avp%3ABottomViewPoint%2Cname%3AVolumeScaleLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3ABottomViewPoint%2Cname%3AECNVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3AVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A1%2Ctype%3Asimple&amp;compare_viewpoints=name%3AMainViewPoint%2Cheight%3A247%2CtopMargin%3A15&amp;compare_layers=vp%3AMainViewPoint%2Cname%3APercentLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%2CtickPosition%3A0%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3APercentLineChartLayer%2Carity%3AMultiple%2Ctype%3Asimple&amp;u=http://www.google.com/finance/getprices&amp;fieldSeparator=%2C&amp;objectSeparator=%3A%3A&amp;sparklineType=dynamic&amp;hasDefaultZoomSetting=true&amp;verticalScaling=maximized&amp;hasVerticalScaleSetting=true&amp;snapping=false&amp;minZoomDays=1&amp;infoTextAlign=left&amp;infoTextTopPadding=17&amp;disableExternalInterface=true" width="100%" base="http://www.google.com/finance/" wmode="opaque" type="application/x-shockwave-flash" src="http://www.google.com/finance/chart9.swf"></embed>'):
$('<img src="http://www.google.com/finance/chart?q='+w+'&cht=o&p=5d" class="image-stocks-chart">')).prependTo(d.find("[data-role=content]"))}},complete:function(){d.removeClass("panel-loading")}})}else{d.removeClass("panel-loading");return false}},j=function(){d.addClass("panel-loading");n()},q=function(){c=k=10;$(".ui-content table tbody",d).empty();$(".ui-content > embed, .ui-content > img",d).remove();j()};(function(){$(document).height();var o=e.company?"Prices":e.feed_account.name;if(!d||!d.length)sandbox.debug("No container set for Module! Module *Feed* will not initalize!",
"warn");else{var s=$.View("//webapp/views/module.prices.tmpl",{});o=$.View("//webapp/views/module.tmpl",{title:o,smallScreen:finfore.smallScreen,content:s});$(o).appendTo(d);if(!finfore.smallScreen)var w=setInterval(q,3E5);d.page();d.bind("refresh",q);d.bind("reinit",function(){clearInterval(w);d.unbind();d.empty();d.jqmRemoveData();f(d,e)});d.trigger("init")}})()};return{init:f,management:function(d){finfore.data.panels.main.prices||(finfore.data.panels.main.prices=[]);var e=$.View("//webapp/views/module.prices.management.tmpl",
{panels:finfore.data.panels.main.prices});$(e).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"prices"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"prices"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"prices"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"prices"})});a.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",a),category:"prices"})});a.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",a),category:"prices"})});$(".add-preset-source",d).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"prices"})});$(".mtab-content",a).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
a),$presets:$(".preset-tabs",d),category:"prices"})}});var c=allCount=0,k=$(".preset-sources-suggested",d),n=$(".preset-sources-all",d);(function(){c++;finfore.manage.updateFeedInfos({$node:k,type:"prices",category:"chart",count:c});return false})();(function(){allCount++;finfore.manage.updateFeedInfos({$node:n,type:"prices",category:"all,chart",count:allCount});return false})()}}}();steal.loaded("webapp/modules/prices.js");
finfore.modules.portfolio=function(){return{init:function(f,d){var e,a=e,c=10;a=c;var k=function(){f.addClass("panel-loading");var j="";if(d.portfolio.overview.rss.chanel.item){j="";if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(q,o){if(this.google_ticker)j+=o.google_ticker+","});else j=d.portfolio.overview.rss.chanel.item.google_ticker;j=j.replace(/\s/g,"");$.ajax({url:"http://api.fastnd.com/finance/info?infotype=infoquoteall&q="+j,dataType:"jsonp",
success:function(q){var o="";$.each(q,function(s,w){s=w.name;var z='<a href="http://www.google.com/finance?q='+(w.e+":"+w.t)+'" target="_blank">',C=w.l,E=parseFloat(w.c);w=parseFloat(w.cp);if(s){s=z+s+"</a>";if(!finfore.smallScreen){C=z+C+"</a>";E=z+E+"</a>";w=z+w+"</a>"}o+='<tr class="ui-btn-up-c">';o+="<td>"+s+"</td>";o+="<td>"+C+"</td>";o+=E<0?'<td class="negative nowrap">'+E+"</a></td>":'<td class="nowrap">'+E+"</a></td>";o+=w<0?'<td class="negative nowrap">'+w+"</a></td>":'<td class="nowrap">'+
w+"</a></td>";o+="</tr>"}});$(o).appendTo($("tbody",f));f.removeClass("panel-loading")},complete:function(){f.removeClass("panel-loading")}})}else f.remove()},n=function(){a=c=10;empty($("[data-role=content] tbody",f)[0]);k()};(function(){var j=$.View("//webapp/views/module.portfolio.tmpl",{});j=$.View("//webapp/views/module.tmpl",{title:d.portfolio.title,smallScreen:finfore.smallScreen,content:j});$(j).appendTo(f);finfore.smallScreen||setInterval(n,3E5);f.page();f.bind("refresh",n);f.trigger("init")})()},
management:function(f){var d=$.View("//webapp/views/module.portfolio.management.tmpl",{portfolios:finfore.data.portfolios});$(d).appendTo(f);var e=$(".mtabs-container",f);finfore.manage.bindPanelData({$container:e,category:"portfolio"});$(".edit-portfolio",f).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",e),category:"portfolio"})});$(".add-portfolio",f).click(function(){finfore.manage.panels.create({$node:e,category:"portfolio"})});$(".remove-portfolio",f).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
e),category:"portfolio"})})}}}();steal.loaded("webapp/modules/portfolio.js");
finfore.modules.agenda=function(){return{init:function(f,d){var e=function(c){c.$container.addClass("panel-loading");var k="",n;if(d.company){n=d.company._id;if(d.competitor){k=d.company.feed_info.company_competitor.competitor_ticker;n+="competitor"}else k=d.company.feed_info.company_competitor.company_ticker}else{if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(){if(this.google_ticker)k+=this.google_ticker+","});else if(d.portfolio.overview.rss.chanel.item)k=
d.portfolio.overview.rss.chanel.item.google_ticker;n=d.portfolio.id_bare}if(!k)return false;k=k.replace(/\s/g,"");var j='select * from json where url="http://www.google.com/finance/events?output=json&q='+k+'"';n="agendaModuleCallback"+n;window[n]=function(q){agendaCalendarCallback(q,c)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:n,cache:true,data:{q:j,format:"json",_maxage:300,diagnostics:false}})},a=function(){empty($("[data-role=content] .events-months-container",
f)[0]);e({$container:f})};(function(){$(document).height();if(d.company){var c="Calendar";if(d.competitor)c="Competitors Calendar"}else c=d.portfolio?d.portfolio.title:d.feed_account.name;var k=$.View("//webapp/views/module.agenda.tmpl",{});c=$.View("//webapp/views/module.tmpl",{title:c,smallScreen:finfore.smallScreen,content:k});$(c).appendTo(f);finfore.smallScreen||setInterval(a,3E5);f.page();f.bind("refresh",a);f.trigger("init")})()}}}();
var agendaCalendarCallback=function(f,d){var e="",a="",c=[],k=new Date,n;if(f.query.results)c=f.query.results.json.events;if($.isArray(c)&&c.length){c=c.reverse();$.each(c,function(){n=new Date(this.LocalizedInfo.start_date);n.setHours(0);if(n>=k){var j=this.LocalizedInfo.start_date,q=this.desc,o=/^[A-Za-z]{3}/.exec(j),s=/[0-9]{4}$/.exec(j);if(o!=null)f=o[0];if(s!=null)result_year=s[0];if(e!=f)if(e==""){e=f;a+='<div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+
e+" "+result_year+"</td></tr></thead><tbody>"}else{e=f;a+='</tbody></table></div><div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+e+" "+result_year+"</td></tr></thead><tbody>"}a+='<tr class="ui-btn-up-c">';a+="<td>"+j+", ";a+=this.LocalizedInfo.start_time?this.LocalizedInfo.start_time:"All Day";a+="</td><td>"+q+"</td>";a+="</tr>"}})}a||(a='<table class="events-table"><thead><tr><td class="ui-bar-d">No upcoming events </td></tr></thead></table>');
$(a).appendTo($(".events-months-container",d.$container));d.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/agenda.js");
finfore.modules.linkedin=function(){var f=function(d,e){var a,c,k=function(){d.addClass("panel-loading");empty(a[0]);$.ajax({url:finforeBaseUrl+"/linkedins/network_status.json",dataType:"json",data:{tid:e.feed_account.feed_token._id,count:25},success:function(j){var q="",o,s,w,z,C,E,y,H,J,M=new Date;if(j&&j.length)$.each(j,function(Q,R){if(R.updateContent.person.id!="private"){y=R.timestamp;M.setTime(y*1);q+='<li class="ui-li ui-btn-up-c">';o=R.updateContent.person.firstName+" "+R.updateContent.person.lastName;
s=R.updateContent.person.apiStandardProfileRequest.url;if(E=R.updateContent.person.pictureUrl)q+='<a href="'+s+'" target="_blank"><img src="'+E+'" width="80" height="80" /></a>';if(R.updateContent.person.connections){w=R.updateContent.person.connections.person.firstName+" "+R.updateContent.person.connections.person.lastName;C=R.updateContent.person.connections.person.apiStandardProfileRequest.url;q+='<p><a href="'+s+'" target="_blank" class="user">'+o+'</a> connected with <a href="'+C+'" class="connection" target="_blank">'+
w+"</a></p>"}else if(R.updateContent.person.currentShare){if(R.updateContent.person.currentShare.comment){z=$.linkUrl(R.updateContent.person.currentShare.comment);q+='<p><a href="'+s+'" target="_blank" class="user">'+o+"</a> "+z+"</p>"}if(R.updateContent.person.currentShare.content){H=R.updateContent.person.currentShare.content.title;J=R.updateContent.person.currentShare.content.submittedUrl;q+='<p><a href="'+J+'" target="_blank" class="user">'+H+"</a></p>"}}q+="<time>"+M.toUTCString()+"</time>";
q+="</li>"}});else q='<li class="ui-li ui-btn-up-d">No LinkedIn events</li>';$(q).appendTo(a);d.removeClass("panel-loading")}})},n=function(){var j,q=!e.feed_account.feed_token||!e.feed_account.feed_token.token,o=$.View("//webapp/views/module.linkedin.tmpl",{connected:!q});o=$.View("//webapp/views/module.tmpl",{title:e.feed_account.name,smallScreen:finfore.smallScreen,content:o});$(o).appendTo(d);d.page();d.bind("refresh",k);d.bind("reinit",function(){clearInterval(j);d.unbind();d.empty();d.jqmRemoveData();
f(d,e)});a=$("[data-role=content] ul",d);c=$(".linkedin-connect-button",d);if(q){var s=finforeBaseUrl+"/feed_accounts/linkedin/auth?feed_account_id="+e.feed_account._id+"&callback="+finforeAppUrl+"authorize.html";c.click(function(){c.hide();d.addClass("panel-loading");var w=window.open(s,"linkedinAuthWindow","resizable=yes,scrollbars=yes,status=yes"),z=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,feed_token:{feed_account_id:e.feed_account.id,
user_id:e.feed_account.user_id}},success:function(C){if(C.feed_token&&C.feed_token.token){e.feed_account.feed_token=C.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();n()}else if(w.closed){c.show();d.removeClass("panel-loading")}else setTimeout(z,1E4)}})};z();return false})}else finfore.smallScreen||(j=setInterval(k,3E5));d.trigger("init")};n()};return{init:f,management:function(d){finfore.data.panels.main.linkedin||(finfore.data.panels.main.linkedin=[]);var e=$.View("//webapp/views/module.linkedin.management.tmpl",
{panels:finfore.data.panels.main.linkedin});$(e).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"linkedin"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"linkedin"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"linkedin"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"linkedin"})})}}}();
steal.loaded("webapp/modules/linkedin.js");
finfore.modules.blinkx=function(){var f=function(e){e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/ /g,"+");e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/"/g,"");e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/&/g,"");e.company.feed_info.company_competitor.broadcast_keyword=escape(e.company.feed_info.company_competitor.broadcast_keyword);
var a="select * from xml where url='"+("http://usp1.blinkx.com/partnerapi/user/?uid=2ehiek5947&text=%22"+e.company.feed_info.company_competitor.broadcast_keyword+"%22&start="+e.start+"&MaxResults="+e.end+"&sortby=date&AdultFilter=true&ReturnLink=true")+"'",c="blinkxModuleCallback"+e.company._id;window[c]=function(k){blinkxCallback(k,e)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:c,cache:true,data:{q:a,format:"json",_maxage:300,diagnostics:false}})},d=function(e,
a){var c=0,k=0,n=function(j,q){e.addClass("panel-loading");if(q===true){c=k+1;k+=20;f({start:c,end:k,date:new Date,loadMore:q,company:a.company,$container:e})}else f({start:1,end:k,date:new Date,loadMore:q,company:a.company,$container:e})};(function(){$(document).height();var j=$.View("//webapp/views/module.blinkx.tmpl",{});j=$.View("//webapp/views/module.tmpl",{title:"Broadcast News",smallScreen:finfore.smallScreen,content:j});$(j).appendTo(e);$(".load-more-entries",e).click(function(o){e.trigger("refresh",
[true]);o.preventDefault();return false});e.bind("refresh",n);e.bind("reinit",function(){clearInterval(q);e.unbind();e.empty();e.jqmRemoveData();d(e,a)});if(!finfore.smallScreen)var q=setInterval(n,3E5);e.page();e.trigger("init")})()};return{init:d}}();
var blinkxCallback=function(f,d){var e=[],a,c,k,n,j,q,o,s,w,z;if(f.query.results&&f.query.results.response.responsedata)e=f.query.results.response.responsedata.hit;if(e){k=e.length-1;$.each(e,function(C){a=this;n=a.date;j=a.title;q=a.channel;o=a.summary;s=a.staticpreview;w=a.url;z=new Date(n*1E3);if(finfore.smallScreen||touchSupport)w=w.replace("http://www.blinkx.com/burl?v=","http://m.blinkx.com/info/");if(d.loadMore===true||z>d.date){c+=C===k?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';
c+='<a href="'+w+'" target="_blank"><abbr>'+q+"</abbr>";c+="<h3>"+j+"</h3>";c+='<img src="'+s+'" />';c+="<p>"+o.substring(0,100)+"..</p>";c+="<abbr>"+z.toUTCString()+"</abbr>";c+="</a></li>"}});f=$(".load-more-entries",d.$container).parents("li").first();$(c).insertBefore(f);$("[data-role=content] ul",d.$container).listview("refresh")}d.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/blinkx.js");
finfore.modules.keyword=function(){var f=function(d,e){var a=15,c,k,n,j=function(o){empty(k[0]);d.removeClass("panel-loading");if(o.results)o=o.results;$.each(o,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});tweetTemplate=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:o});k.append(tweetTemplate);o&&$.each(o,function(){var s=new Date(this.created_at);e.company&&finfore.smallScreen||s>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},q=function(o,s){d.addClass("panel-loading");if(s===true)a+=5;k.removeData();o=decodeURIComponent(e.feed_account.keyword_column.keyword);if(!o){d.removeClass("panel-loading");return false}$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:o,rpp:a},success:j})};(function(){var o,s=e.feed_account.name,w=$.View("//webapp/views/module.keyword.tmpl",{});s=$.View("//webapp/views/module.tmpl",{title:s,smallScreen:finfore.smallScreen,content:w});
$(s).appendTo(d);d.bind("refresh",q);d.bind("reinit",function(){clearInterval(o);d.unbind();d.empty();d.jqmRemoveData();f(d,e)});c=$("[data-role=content]",d);k=$(".tweets",c);n=$(".load-more-tweets",c);d.addClass("panel-loading");n.click(function(){d.trigger("refresh",true)});d.page();finfore.smallScreen||(o=setInterval(q,3E5));d.trigger("init")})()};return{init:f,management:function(d){finfore.data.panels.main.keyword||(finfore.data.panels.main.keyword=[]);var e=finfore.data.panels.main.keyword;
if(finfore.data.panels.main.keyword.length>0)finfore.data.panels.main.keyword[0].feed_account.keyword_column.keyword=decodeURIComponent(e[0].feed_account.keyword_column.keyword);e=$.View("//webapp/views/module.keyword.management.tmpl",{panels:finfore.data.panels.main.keyword});$(e).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"keyword"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"keyword"})});
$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"keyword"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"keyword"})});a.delegate(".keyword-save","click",function(){var c=$(this).parents(".keyword-panel-settings:first"),k=c.parents(".mtab-content:first").prevAll(".mtab:first"),n=$.data(k[0],"data").feed_account,j=encodeURIComponent($(".keyword-text",c).val()),q=false;if($(".keyword-aggregate",c).is(":checked"))q=
true;c={_id:n._id,keyword_column_attributes:{is_aggregate:q,keyword:j,_id:n.keyword_column._id}};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+c._id+".json",type:"PUT",data:{feed_account:c},success:function(o){$().toastmessage("showSuccessToast",finfore.manage.messages.updateColumn);$.data(k[0],"data",{feed_account:o})},error:function(){$().toastmessage("showErrorToast",finfore.manage.messages.errorUpdateColumn)}})})}}}();steal.loaded("webapp/modules/keyword.js");
