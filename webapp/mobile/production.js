steal.loading('webapp/core/finfore.mobile.js','jquery/view/tmpl/tmpl.js','jquery/view/view.js','jquery/jquery.js','webapp/core/utils.js','webapp/core/api.js','webapp/lib/jquery.mobile.js','webapp/lib/flash_detect_min.js','webapp/lib/mediaelement/mediaelement-and-player.js','webapp/lib/toast/jquery.toastmessage.js','webapp/lib/jquery-impromptu.3.1.js','webapp/views/desktop.mobile.tmpl','webapp/views/login.tmpl','webapp/views/signup.tmpl','webapp/views/addcompany.tmpl','webapp/core/core.js','webapp/core/desktop.mobile.js','webapp/core/login.js','webapp/core/signup.js','webapp/core/addcompany.js','webapp/views/module.tmpl','webapp/views/module.feed.tmpl','webapp/views/module.podcast.tmpl','webapp/views/module.twitter.tmpl','webapp/views/module.twitter.tweet.tmpl','webapp/views/module.prices.tmpl','webapp/views/module.portfolio.tmpl','webapp/views/module.agenda.tmpl','webapp/views/module.linkedin.tmpl','webapp/views/module.blinkx.tmpl','webapp/views/module.keyword.tmpl','webapp/modules/feed.js','webapp/modules/podcast.js','webapp/modules/twitter.js','webapp/modules/prices.js','webapp/modules/portfolio.js','webapp/modules/agenda.js','webapp/modules/linkedin.js','webapp/modules/blinkx.js','webapp/modules/keyword.js');
steal({src: 'webapp/mobile/production.css', has: ['webapp/lib/jquery.mobile.css','webapp/lib/mediaelement/mediaelementplayer.css','webapp/lib/toast/jquery.toastmessage.css','webapp/css/shared.css','webapp/css/small-screen.css']});
steal("jquery/view/tmpl").then("//webapp/core/utils.js","//webapp/core/api.js").then(function(){jQuery.support.cors=true;$(document).bind("mobileinit",function(){$.extend($.mobile,{ajaxEnabled:false,autoInitialize:false,hashListeningEnabled:false,defaultPageTransition:"none",defaultDialogTransition:"slidedown",pushStateEnabled:false,linkBindingEnabled:false});$.extend($.mobile.changePage.defaults,{changeHash:false});$.event.special.swipe.horizontalDistanceThreshold=80;$.mobile.allowCrossDomainPages=
true})}).then("//webapp/lib/jquery.mobile.js","../lib/jquery.mobile.css").then(function(){Loader.show()}).then("//webapp/lib/flash_detect_min.js","//webapp/lib/mediaelement/mediaelement-and-player.js","//webapp/lib/toast/jquery.toastmessage.js","//webapp/lib/jquery.mobile.js","//webapp/lib/jquery-impromptu.3.1.js").then("//webapp/views/desktop.mobile.tmpl","//webapp/views/login.tmpl","//webapp/views/signup.tmpl","//webapp/views/addcompany.tmpl").then("../lib/jquery.mobile.css","../lib/mediaelement/mediaelementplayer.css",
"../lib/toast/jquery.toastmessage.css").then("../css/shared.css").then("../css/small-screen.css").then("./core.js").then("./desktop.mobile.js","./login.js","./signup.js","./addcompany.js").then("//webapp/views/module.tmpl","//webapp/views/module.feed.tmpl","//webapp/views/module.podcast.tmpl","//webapp/views/module.twitter.tmpl","//webapp/views/module.twitter.tweet.tmpl","//webapp/views/module.prices.tmpl","//webapp/views/module.portfolio.tmpl","//webapp/views/module.agenda.tmpl","//webapp/views/module.linkedin.tmpl",
"//webapp/views/module.blinkx.tmpl","//webapp/views/module.keyword.tmpl").then("../modules/feed.js","../modules/podcast.js","../modules/twitter.js","../modules/prices.js","../modules/portfolio.js","../modules/agenda.js","../modules/linkedin.js","../modules/blinkx.js","../modules/keyword.js").then(function(){finfore.init()});steal.loaded("webapp/core/finfore.mobile.js");
steal("jquery/view").then(function(){function h(H,Q,Z,Y){Y={data:Y||(Q?Q.data:{}),_wrap:Q?Q._wrap:null,tmpl:null,parent:Q||null,nodes:[],calls:o,nest:r,wrap:v,html:w,update:A};H&&jQuery.extend(Y,H,{nodes:[],parent:Q});if(Z){Y.tmpl=Z;Y._ctnt=Y._ctnt||Y.tmpl(jQuery,Y);Y.key=++M;(T.length?I:y)[M]=Y}return Y}function d(H,Q,Z){var Y;Z=Z?jQuery.map(Z,function(ma){return typeof ma==="string"?H.key?ma.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+K+'="'+H.key+'" $2'):ma:d(ma,H,ma._ctnt)}):H;if(Q)return Z;
Z=Z.join("");Z.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(ma,na,C,N){Y=jQuery(C).get();l(Y);if(na)Y=g(na).concat(Y);if(N)Y=Y.concat(g(N))});return Y?Y:g(Z)}function g(H){var Q=document.createElement("div");Q.innerHTML=H;return jQuery.makeArray(Q.childNodes)}function a(H){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(H).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(Q,Z,Y,ma,na,C,N){Q=jQuery.tmpl.tag[Y];if(!Q)throw"Template command not found: "+Y;Y=Q._default||[];if(C&&!/\w$/.test(na)){na+=C;C=""}if(na){na=j(na);N=N?","+j(N)+")":C?")":"";N=C?na.indexOf(".")>-1?na+C:"("+na+").call($item"+N:na;C=C?N:"(typeof("+na+")==='function'?("+na+").call($item):("+na+"))"}else C=N=Y.$1||"null";ma=j(ma);return"');"+Q[Z?"close":"open"].split("$notnull_1").join(na?"typeof("+na+")!=='undefined' && ("+na+")!=null":"true").split("$1a").join(C).split("$1").join(N).split("$2").join(ma?
ma.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(V,ka,R,pa){return(pa=pa?","+pa+")":R?")":"")?"("+ka+").call($item"+pa:V}):Y.$2||"")+"_.push('"})+"');}return _;")}function e(H,Q){H._wrap=d(H,true,jQuery.isArray(Q)?Q:[B.test(Q)?Q:jQuery(Q).html()]).join("")}function j(H){return H?H.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function q(H){var Q=document.createElement("div");Q.appendChild(H.cloneNode(true));return Q.innerHTML}function l(H){function Q(ka){function R(Ba){Ba+=Z;k=na[Ba]=na[Ba]||h(k,
y[k.parent.key+Z]||k.parent,null,true)}var pa,qa=ka,k,ua;if(ua=ka.getAttribute(K)){for(;qa.parentNode&&(qa=qa.parentNode).nodeType===1&&!(pa=qa.getAttribute(K)););if(pa!==ua){qa=qa.parentNode?qa.nodeType===11?0:qa.getAttribute(K)||0:0;if(!(k=y[ua])){k=I[ua];k=h(k,y[qa]||I[qa],null,true);k.key=++M;y[M]=k}ca&&R(ua)}ka.removeAttribute(K)}else if(ca&&(k=jQuery.data(ka,"tmplItem"))){R(k.key);y[k.key]=k;qa=(qa=jQuery.data(ka.parentNode,"tmplItem"))?qa.key:0}if(k){for(pa=k;pa&&pa.key!=qa;){pa.nodes.push(ka);
pa=pa.parent}delete k._ctnt;delete k._wrap;jQuery.data(ka,"tmplItem",k)}}var Z="_"+ca,Y,ma,na={},C,N,V;C=0;for(N=H.length;C<N;C++)if((Y=H[C]).nodeType===1){ma=Y.getElementsByTagName("*");for(V=ma.length-1;V>=0;V--)Q(ma[V]);Q(Y)}}function o(H,Q,Z,Y){if(!H)return T.pop();T.push({_:H,tmpl:Q,item:this,data:Z,options:Y})}function r(H,Q,Z){return jQuery.tmpl(jQuery.template(H),Q,Z,this)}function v(H,Q){var Z=H.options||{};Z.wrapped=Q;return jQuery.tmpl(jQuery.template(H.tmpl),H.data,Z,H.item)}function w(H,
Q){var Z=this._wrap;return jQuery.map(jQuery(jQuery.isArray(Z)?Z.join(""):Z).filter(H||"*"),function(Y){return Q?Y.innerText||Y.textContent:Y.outerHTML||q(Y)})}function A(){var H=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(H[0]);jQuery(H).remove()}var J=jQuery.fn.domManip,K="_tmplitem",B=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,y={},I={},G,L={key:0,data:{}},M=0,ca=0,T=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(H,
Q){jQuery.fn[H]=function(Z){var Y=[];Z=jQuery(Z);var ma,na,C;ma=this.length===1&&this[0].parentNode;G=y||{};if(ma&&ma.nodeType===11&&ma.childNodes.length===1&&Z.length===1){Z[Q](this[0]);Y=this}else{na=0;for(C=Z.length;na<C;na++){ca=na;ma=(na>0?this.clone(true):this).get();jQuery.fn[Q].apply(jQuery(Z[na]),ma);Y=Y.concat(ma)}ca=0;Y=this.pushStack(Y,H,Z.selector)}Z=G;G=null;jQuery.tmpl.complete(Z);return Y}});jQuery.fn.extend({tmpl:function(H,Q,Z){return jQuery.tmpl(this[0],H,Q,Z)},tmplItem:function(){return jQuery.tmplItem(this[0])},
template:function(H){return jQuery.template(H,this[0])},domManip:function(H,Q,Z){if(H[0]&&H[0].nodeType){for(var Y=jQuery.makeArray(arguments),ma=H.length,na=0,C;na<ma&&!(C=jQuery.data(H[na++],"tmplItem")););if(ma>1)Y[0]=[jQuery.makeArray(H)];if(C&&ca)Y[2]=function(N){jQuery.tmpl.afterManip(this,N,Z)};J.apply(this,Y)}else J.apply(this,arguments);ca=0;G||jQuery.tmpl.complete(y);return this}});jQuery.extend({tmpl:function(H,Q,Z,Y){var ma=!Y;if(ma){Y=L;H=jQuery.template[H]||jQuery.template(null,H);I=
{}}else if(!H){H=Y.tmpl;y[Y.key]=Y;Y.nodes=[];Y.wrapped&&e(Y,Y.wrapped);return jQuery(d(Y,null,Y.tmpl(jQuery,Y)))}if(!H)return[];if(typeof Q==="function")Q=Q.call(Y||{});Z&&Z.wrapped&&e(Z,Z.wrapped);Q=jQuery.isArray(Q)?jQuery.map(Q,function(na){return na?h(Z,Y,H,na):null}):[h(Z,Y,H,Q)];return ma?jQuery(d(Y,null,Q)):Q},tmplItem:function(H){var Q;if(H instanceof jQuery)H=H[0];for(;H&&H.nodeType===1&&!(Q=jQuery.data(H,"tmplItem"))&&(H=H.parentNode););return Q||L},template:function(H,Q){if(Q){if(typeof Q===
"string")Q=a(Q);else if(Q instanceof jQuery)Q=Q[0]||{};if(Q.nodeType)Q=jQuery.data(Q,"tmpl")||jQuery.data(Q,"tmpl",a(Q.innerHTML));return typeof H==="string"?(jQuery.template[H]=Q):Q}return H?typeof H!=="string"?jQuery.template(null,H):jQuery.template[H]||jQuery.template(null,B.test(H)?H:jQuery(H)):null},encode:function(H){return(""+H).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},
wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){y=
{}},afterManip:function(H,Q,Z){var Y=Q.nodeType===11?jQuery.makeArray(Q.childNodes):Q.nodeType===1?[Q]:[];Z.call(H,Q);l(Y);ca++}});$.View.register({suffix:"tmpl",renderer:function(H,Q){var Z=$.template(null,Q);return function(Y){return Z.call($,$,{data:Y}).join("")}},script:function(H,Q){return"function(data){return ("+$.template(null,Q)+").call(jQuery, jQuery, {data: data}).join(''); }"}});jQuery.View.ext=".tmpl"});steal.loaded("jquery/view/tmpl/tmpl.js");
steal("jquery").then(function(h){var d=function(G){return G.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},g=h.makeArray,a=1,e=h.View=function(G,L,M,ca){if(typeof M==="function"){ca=M;M=undefined}var T=o(L);if(T.length){var H=h.Deferred();T.push(q(G,true));h.when.apply(h,T).then(function(Z){var Y=g(arguments),ma=Y.pop()[0];if(l(L))L=r(Z);else for(var na in L)if(l(L[na]))L[na]=r(Y.shift());Y=ma(L,M);H.resolve(Y);ca&&ca(Y)});return H.promise()}else{var Q;T=typeof ca==="function";H=q(G,T);if(T){Q=H;H.done(function(Z){ca(Z(L,
M))})}else H.done(function(Z){Q=Z(L,M)});return Q}},j=function(G,L){if(!G.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+L;},q=function(G,L){return h.ajax({url:G,dataType:"view",async:L})},l=function(G){return G&&h.isFunction(G.always)},o=function(G){var L=[];if(l(G))return[G];else for(var M in G)l(G[M])&&L.push(G[M]);return L},r=function(G){return h.isArray(G)&&G.length===3&&G[1]==="success"?G[0]:G};h.ajaxTransport("view",function(G,L){var M=L.url;G=M.match(/\.[\w\d]+$/);
var ca,T,H,Q,Z=function(ma){ma=ca.renderer(H,ma);if(e.cache)e.cached[H]=ma;return{view:ma}};if(T=document.getElementById(M))G="."+T.type.match(/\/(x\-)?(.+)/)[2];if(!G){G=e.ext;M+=e.ext}H=d(M);if(M.match(/^\/\//)){var Y=M.substr(2);M=typeof steal==="undefined"?(M="/"+Y):steal.root.mapJoin(Y)+""}ca=e.types[G];return{send:function(ma,na){if(e.cached[H])return na(200,"success",{view:e.cached[H]});else if(T)na(200,"success",Z(T.innerHTML));else Q=h.ajax({async:L.async,url:M,dataType:"text",error:function(){j("",
M);na(404)},success:function(C){j(C,M);na(200,"success",Z(C))}})},abort:function(){Q&&Q.abort()}}});h.extend(e,{hookups:{},hookup:function(G){var L=++a;e.hookups[L]=G;return L},cached:{},cache:true,register:function(G){this.types["."+G.suffix]=G;window.steal&&steal.type(G.suffix+" view js",function(L,M){var ca=e.types["."+L.type],T=d(L.rootSrc+"");L.text=ca.script(T,L.text);M()})},types:{},ext:".ejs",registerScript:function(G,L,M){return"$.View.preload('"+L+"',"+e.types["."+G].script(L,M)+");"},preload:function(G,
L){e.cached[G]=function(M,ca){return L.call(M,M,ca)}}});window.steal&&steal.type("view js",function(G,L){var M=e.types["."+G.type],ca=d(G.rootSrc+"");G.text="steal('"+(M.plugin||"jquery/view/"+G.type)+"').then(function($){$.View.preload('"+ca+"',"+G.text+");\n})";L()});var v,w,A,J,K,B,y,I={val:true,text:true};v=function(G){var L=h.fn[G];h.fn[G]=function(){var M=g(arguments),ca,T,H=this;if(l(M[0])){M[0].done(function(Q){w.call(H,[Q],L)});return this}else if(A(M)){if(ca=B(M)){T=M[ca];M[ca]=function(Q){w.call(H,
[Q],L);T.call(H,Q)};e.apply(e,M);return this}M=e.apply(e,M);if(l(M)){M.done(function(Q){w.call(H,[Q],L)});return this}else M=[M]}return I[G]?L.apply(this,M):w.call(this,M,L)}};w=function(G,L){var M;for(var ca in e.hookups)break;if(ca&&G[0]&&J(G[0])){M=e.hookups;e.hookups={};G[0]=h(G[0])}L=L.apply(this,G);M&&y(G[0],M);return L};A=function(G){var L=typeof G[1];return typeof G[0]=="string"&&(L=="object"||L=="function")&&!K(G[1])};K=function(G){return G.nodeType||G.jquery};J=function(G){if(K(G))return true;
else if(typeof G==="string"){G=h.trim(G);return G.substr(0,1)==="<"&&G.substr(G.length-1,1)===">"&&G.length>=3}else return false};B=function(G){return typeof G[3]==="function"?3:typeof G[2]==="function"&&2};y=function(G,L){var M,ca=0,T,H;G=G.filter(function(){return this.nodeType!=3});G=G.add("[data-view-id]",G);for(M=G.length;ca<M;ca++)if(G[ca].getAttribute&&(T=G[ca].getAttribute("data-view-id"))&&(H=L[T])){H(G[ca],T);delete L[T];G[ca].removeAttribute("data-view-id")}h.extend(e.hookups,L)};h.fn.hookup=
function(){var G=e.hookups;e.hookups={};y(this,G);return this};h.each(["prepend","append","after","before","text","html","replaceWith","val"],function(G,L){v(L)})});steal.loaded("jquery/view/view.js");
(function(h,d){function g(c){var f=ua[c]={},n,p;c=c.split(/\s+/);n=0;for(p=c.length;n<p;n++)f[c[n]]=true;return f}function a(c,f,n){if(n===d&&c.nodeType===1){n="data-"+f.replace(ya,"-$1").toLowerCase();n=c.getAttribute(n);if(typeof n==="string"){try{n=n==="true"?true:n==="false"?false:n==="null"?null:k.isNumeric(n)?parseFloat(n):Ea.test(n)?k.parseJSON(n):n}catch(p){}k.data(c,f,n)}else n=d}return n}function e(c){for(var f in c)if(!(f==="data"&&k.isEmptyObject(c[f])))if(f!=="toJSON")return false;return true}
function j(c,f,n){var p=f+"defer",s=f+"queue",t=f+"mark",z=k._data(c,p);if(z&&(n==="queue"||!k._data(c,s))&&(n==="mark"||!k._data(c,t)))setTimeout(function(){if(!k._data(c,s)&&!k._data(c,t)){k.removeData(c,p,true);z.fire()}},0)}function q(){return false}function l(){return true}function o(c){return!c||!c.parentNode||c.parentNode.nodeType===11}function r(c,f,n){f=f||0;if(k.isFunction(f))return k.grep(c,function(s,t){return!!f.call(s,t,s)===n});else if(f.nodeType)return k.grep(c,function(s){return s===
f===n});else if(typeof f==="string"){var p=k.grep(c,function(s){return s.nodeType===1});if(Cb.test(f))return k.filter(f,p,!n);else f=k.filter(f,p)}return k.grep(c,function(s){return k.inArray(s,f)>=0===n})}function v(c){var f=gb.split("|");c=c.createDocumentFragment();if(c.createElement)for(;f.length;)c.createElement(f.pop());return c}function w(c){return k.nodeName(c,"table")?c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody")):c}function A(c,f){if(!(f.nodeType!==
1||!k.hasData(c))){var n,p,s;p=k._data(c);c=k._data(f,p);var t=p.events;if(t){delete c.handle;c.events={};for(n in t){p=0;for(s=t[n].length;p<s;p++)k.event.add(f,n+(t[n][p].namespace?".":"")+t[n][p].namespace,t[n][p],t[n][p].data)}}if(c.data)c.data=k.extend({},c.data)}}function J(c,f){var n;if(f.nodeType===1){f.clearAttributes&&f.clearAttributes();f.mergeAttributes&&f.mergeAttributes(c);n=f.nodeName.toLowerCase();if(n==="object")f.outerHTML=c.outerHTML;else if(n==="input"&&(c.type==="checkbox"||c.type===
"radio")){if(c.checked)f.defaultChecked=f.checked=c.checked;if(f.value!==c.value)f.value=c.value}else if(n==="option")f.selected=c.defaultSelected;else if(n==="input"||n==="textarea")f.defaultValue=c.defaultValue;f.removeAttribute(k.expando)}}function K(c){return typeof c.getElementsByTagName!=="undefined"?c.getElementsByTagName("*"):typeof c.querySelectorAll!=="undefined"?c.querySelectorAll("*"):[]}function B(c){if(c.type==="checkbox"||c.type==="radio")c.defaultChecked=c.checked}function y(c){var f=
(c.nodeName||"").toLowerCase();if(f==="input")B(c);else f!=="script"&&typeof c.getElementsByTagName!=="undefined"&&k.grep(c.getElementsByTagName("input"),B)}function I(c){var f=R.createElement("div");hb.appendChild(f);f.innerHTML=c.outerHTML;return f.firstChild}function G(c,f){f.src?k.ajax({url:f.src,async:false,dataType:"script"}):k.globalEval((f.text||f.textContent||f.innerHTML||"").replace(Db,"/*$0*/"));f.parentNode&&f.parentNode.removeChild(f)}function L(c,f,n){var p=f==="width"?c.offsetWidth:
c.offsetHeight,s=f==="width"?Eb:Fb,t=0,z=s.length;if(p>0){if(n!=="border")for(;t<z;t++){n||(p-=parseFloat(k.css(c,"padding"+s[t]))||0);if(n==="margin")p+=parseFloat(k.css(c,n+s[t]))||0;else p-=parseFloat(k.css(c,"border"+s[t]+"Width"))||0}return p+"px"}p=Ua(c,f,f);if(p<0||p==null)p=c.style[f]||0;p=parseFloat(p)||0;if(n)for(;t<z;t++){p+=parseFloat(k.css(c,"padding"+s[t]))||0;if(n!=="padding")p+=parseFloat(k.css(c,"border"+s[t]+"Width"))||0;if(n==="margin")p+=parseFloat(k.css(c,n+s[t]))||0}return p+
"px"}function M(c){return function(f,n){if(typeof f!=="string"){n=f;f="*"}if(k.isFunction(n)){f=f.toLowerCase().split(ib);for(var p=0,s=f.length,t,z;p<s;p++){t=f[p];if(z=/^\+/.test(t))t=t.substr(1)||"*";t=c[t]=c[t]||[];t[z?"unshift":"push"](n)}}}}function ca(c,f,n,p,s,t){s=s||f.dataTypes[0];t=t||{};t[s]=true;s=c[s];for(var z=0,D=s?s.length:0,E=c===ab,O;z<D&&(E||!O);z++){O=s[z](f,n,p);if(typeof O==="string")if(!E||t[O])O=d;else{f.dataTypes.unshift(O);O=ca(c,f,n,p,O,t)}}if((E||!O)&&!t["*"])O=ca(c,f,
n,p,"*",t);return O}function T(c,f){var n,p,s=k.ajaxSettings.flatOptions||{};for(n in f)if(f[n]!==d)(s[n]?c:p||(p={}))[n]=f[n];p&&k.extend(true,c,p)}function H(c,f,n,p){if(k.isArray(f))k.each(f,function(t,z){n||Gb.test(c)?p(c,z):H(c+"["+(typeof z==="object"||k.isArray(z)?t:"")+"]",z,n,p)});else if(!n&&f!=null&&typeof f==="object")for(var s in f)H(c+"["+s+"]",f[s],n,p);else p(c,f)}function Q(c,f,n){var p=c.contents,s=c.dataTypes,t=c.responseFields,z,D,E,O;for(D in t)if(D in n)f[t[D]]=n[D];for(;s[0]===
"*";){s.shift();if(z===d)z=c.mimeType||f.getResponseHeader("content-type")}if(z)for(D in p)if(p[D]&&p[D].test(z)){s.unshift(D);break}if(s[0]in n)E=s[0];else{for(D in n){if(!s[0]||c.converters[D+" "+s[0]]){E=D;break}O||(O=D)}E=E||O}if(E){E!==s[0]&&s.unshift(E);return n[E]}}function Z(c,f){if(c.dataFilter)f=c.dataFilter(f,c.dataType);var n=c.dataTypes,p={},s,t,z=n.length,D,E=n[0],O,da,U,ga,ba;for(s=1;s<z;s++){if(s===1)for(t in c.converters)if(typeof t==="string")p[t.toLowerCase()]=c.converters[t];O=
E;E=n[s];if(E==="*")E=O;else if(O!=="*"&&O!==E){da=O+" "+E;U=p[da]||p["* "+E];if(!U){ba=d;for(ga in p){D=ga.split(" ");if(D[0]===O||D[0]==="*")if(ba=p[D[1]+" "+E]){ga=p[ga];if(ga===true)U=ba;else if(ba===true)U=ga;break}}}U||ba||k.error("No conversion from "+da.replace(" "," to "));if(U!==true)f=U?U(f):ba(ga(f))}}return f}function Y(){try{return new h.XMLHttpRequest}catch(c){}}function ma(){try{return new h.ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}function na(){setTimeout(C,0);return Ya=k.now()}
function C(){Ya=d}function N(c,f){var n={};k.each(jb.concat.apply([],jb.slice(0,f)),function(){n[this]=c});return n}function V(c){if(!bb[c]){var f=R.body,n=k("<"+c+">").appendTo(f),p=n.css("display");n.remove();if(p==="none"||p===""){if(!Na){Na=R.createElement("iframe");Na.frameBorder=Na.width=Na.height=0}f.appendChild(Na);if(!Va||!Na.createElement){Va=(Na.contentWindow||Na.contentDocument).document;Va.write((R.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Va.close()}n=Va.createElement(c);
Va.body.appendChild(n);p=k.css(n,"display");f.removeChild(Na)}bb[c]=p}return bb[c]}function ka(c){return k.isWindow(c)?c:c.nodeType===9?c.defaultView||c.parentWindow:false}var R=h.document,pa=h.navigator,qa=h.location,k=function(){function c(){if(!f.isReady){try{R.documentElement.doScroll("left")}catch(F){setTimeout(c,1);return}f.ready()}}var f=function(F,X){return new f.fn.init(F,X,s)},n=h.jQuery,p=h.$,s,t=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,z=/\S/,D=/^\s+/,E=/\s+$/,O=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
da=/^[\],:{}\s]*$/,U=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,ga=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ba=/(?:^|:|,)(?:\s*\[)+/g,ra=/(webkit)[ \/]([\w.]+)/,za=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ca=/(msie) ([\w.]+)/,Aa=/(mozilla)(?:.*? rv:([\w.]+))?/,Pa=/-([a-z]|[0-9])/ig,sa=/^-ms-/,Oa=function(F,X){return(X+"").toUpperCase()},Ma=pa.userAgent,u,x,P=Object.prototype.toString,S=Object.prototype.hasOwnProperty,W=Array.prototype.push,aa=Array.prototype.slice,ha=String.prototype.trim,
ja=Array.prototype.indexOf,va={};f.fn=f.prototype={constructor:f,init:function(F,X,ia){var ea;if(!F)return this;if(F.nodeType){this.context=this[0]=F;this.length=1;return this}if(F==="body"&&!X&&R.body){this.context=R;this[0]=R.body;this.selector=F;this.length=1;return this}if(typeof F==="string")if((ea=F.charAt(0)==="<"&&F.charAt(F.length-1)===">"&&F.length>=3?[null,F,null]:t.exec(F))&&(ea[1]||!X))if(ea[1]){ia=(X=X instanceof f?X[0]:X)?X.ownerDocument||X:R;if(F=O.exec(F))if(f.isPlainObject(X)){F=
[R.createElement(F[1])];f.fn.attr.call(F,X,true)}else F=[ia.createElement(F[1])];else{F=f.buildFragment([ea[1]],[ia]);F=(F.cacheable?f.clone(F.fragment):F.fragment).childNodes}return f.merge(this,F)}else{if((X=R.getElementById(ea[2]))&&X.parentNode){if(X.id!==ea[2])return ia.find(F);this.length=1;this[0]=X}this.context=R;this.selector=F;return this}else return!X||X.jquery?(X||ia).find(F):this.constructor(X).find(F);else if(f.isFunction(F))return ia.ready(F);if(F.selector!==d){this.selector=F.selector;
this.context=F.context}return f.makeArray(F,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return aa.call(this,0)},get:function(F){return F==null?this.toArray():F<0?this[this.length+F]:this[F]},pushStack:function(F,X,ia){var ea=this.constructor();f.isArray(F)?W.apply(ea,F):f.merge(ea,F);ea.prevObject=this;ea.context=this.context;if(X==="find")ea.selector=this.selector+(this.selector?" ":"")+ia;else if(X)ea.selector=this.selector+"."+X+"("+ia+")";
return ea},each:function(F,X){return f.each(this,F,X)},ready:function(F){f.bindReady();u.add(F);return this},eq:function(F){F=+F;return F===-1?this.slice(F):this.slice(F,F+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(aa.apply(this,arguments),"slice",aa.call(arguments).join(","))},map:function(F){return this.pushStack(f.map(this,function(X,ia){return F.call(X,ia,X)}))},end:function(){return this.prevObject||this.constructor(null)},
push:W,sort:[].sort,splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var F,X,ia,ea,wa,ta=arguments[0]||{},Da=1,Fa=arguments.length,cb=false;if(typeof ta==="boolean"){cb=ta;ta=arguments[1]||{};Da=2}if(typeof ta!=="object"&&!f.isFunction(ta))ta={};if(Fa===Da){ta=this;--Da}for(;Da<Fa;Da++)if((F=arguments[Da])!=null)for(X in F){ia=ta[X];ea=F[X];if(ta!==ea)if(cb&&ea&&(f.isPlainObject(ea)||(wa=f.isArray(ea)))){if(wa){wa=false;ia=ia&&f.isArray(ia)?ia:[]}else ia=ia&&f.isPlainObject(ia)?
ia:{};ta[X]=f.extend(cb,ia,ea)}else if(ea!==d)ta[X]=ea}return ta};f.extend({noConflict:function(F){if(h.$===f)h.$=p;if(F&&h.jQuery===f)h.jQuery=n;return f},isReady:false,readyWait:1,holdReady:function(F){if(F)f.readyWait++;else f.ready(true)},ready:function(F){if(F===true&&!--f.readyWait||F!==true&&!f.isReady){if(!R.body)return setTimeout(f.ready,1);f.isReady=true;if(!(F!==true&&--f.readyWait>0)){u.fireWith(R,[f]);f.fn.trigger&&f(R).trigger("ready").off("ready")}}},bindReady:function(){if(!u){u=f.Callbacks("once memory");
if(R.readyState==="complete")return setTimeout(f.ready,1);if(R.addEventListener){R.addEventListener("DOMContentLoaded",x,false);h.addEventListener("load",f.ready,false)}else if(R.attachEvent){R.attachEvent("onreadystatechange",x);h.attachEvent("onload",f.ready);var F=false;try{F=h.frameElement==null}catch(X){}R.documentElement.doScroll&&F&&c()}}},isFunction:function(F){return f.type(F)==="function"},isArray:Array.isArray||function(F){return f.type(F)==="array"},isWindow:function(F){return F&&typeof F===
"object"&&"setInterval"in F},isNumeric:function(F){return!isNaN(parseFloat(F))&&isFinite(F)},type:function(F){return F==null?String(F):va[P.call(F)]||"object"},isPlainObject:function(F){if(!F||f.type(F)!=="object"||F.nodeType||f.isWindow(F))return false;try{if(F.constructor&&!S.call(F,"constructor")&&!S.call(F.constructor.prototype,"isPrototypeOf"))return false}catch(X){return false}var ia;for(ia in F);return ia===d||S.call(F,ia)},isEmptyObject:function(F){for(var X in F)return false;return true},
error:function(F){throw new Error(F);},parseJSON:function(F){if(typeof F!=="string"||!F)return null;F=f.trim(F);if(h.JSON&&h.JSON.parse)return h.JSON.parse(F);if(da.test(F.replace(U,"@").replace(ga,"]").replace(ba,"")))return(new Function("return "+F))();f.error("Invalid JSON: "+F)},parseXML:function(F){var X,ia;try{if(h.DOMParser){ia=new DOMParser;X=ia.parseFromString(F,"text/xml")}else{X=new ActiveXObject("Microsoft.XMLDOM");X.async="false";X.loadXML(F)}}catch(ea){X=d}if(!X||!X.documentElement||
X.getElementsByTagName("parsererror").length)f.error("Invalid XML: "+F);return X},noop:function(){},globalEval:function(F){if(F&&z.test(F))(h.execScript||function(X){h.eval.call(h,X)})(F)},camelCase:function(F){return F.replace(sa,"ms-").replace(Pa,Oa)},nodeName:function(F,X){return F.nodeName&&F.nodeName.toUpperCase()===X.toUpperCase()},each:function(F,X,ia){var ea,wa=0,ta=F.length,Da=ta===d||f.isFunction(F);if(ia)if(Da)for(ea in F){if(X.apply(F[ea],ia)===false)break}else for(;wa<ta;){if(X.apply(F[wa++],
ia)===false)break}else if(Da)for(ea in F){if(X.call(F[ea],ea,F[ea])===false)break}else for(;wa<ta;)if(X.call(F[wa],wa,F[wa++])===false)break;return F},trim:ha?function(F){return F==null?"":ha.call(F)}:function(F){return F==null?"":F.toString().replace(D,"").replace(E,"")},makeArray:function(F,X){X=X||[];if(F!=null){var ia=f.type(F);F.length==null||ia==="string"||ia==="function"||ia==="regexp"||f.isWindow(F)?W.call(X,F):f.merge(X,F)}return X},inArray:function(F,X,ia){var ea;if(X){if(ja)return ja.call(X,
F,ia);ea=X.length;for(ia=ia?ia<0?Math.max(0,ea+ia):ia:0;ia<ea;ia++)if(ia in X&&X[ia]===F)return ia}return-1},merge:function(F,X){var ia=F.length,ea=0;if(typeof X.length==="number")for(var wa=X.length;ea<wa;ea++)F[ia++]=X[ea];else for(;X[ea]!==d;)F[ia++]=X[ea++];F.length=ia;return F},grep:function(F,X,ia){var ea=[],wa;ia=!!ia;for(var ta=0,Da=F.length;ta<Da;ta++){wa=!!X(F[ta],ta);ia!==wa&&ea.push(F[ta])}return ea},map:function(F,X,ia){var ea,wa,ta=[],Da=0,Fa=F.length;if(F instanceof f||Fa!==d&&typeof Fa===
"number"&&(Fa>0&&F[0]&&F[Fa-1]||Fa===0||f.isArray(F)))for(;Da<Fa;Da++){ea=X(F[Da],Da,ia);if(ea!=null)ta[ta.length]=ea}else for(wa in F){ea=X(F[wa],wa,ia);if(ea!=null)ta[ta.length]=ea}return ta.concat.apply([],ta)},guid:1,proxy:function(F,X){if(typeof X==="string"){var ia=F[X];X=F;F=ia}if(!f.isFunction(F))return d;var ea=aa.call(arguments,2);ia=function(){return F.apply(X,ea.concat(aa.call(arguments)))};ia.guid=F.guid=F.guid||ia.guid||f.guid++;return ia},access:function(F,X,ia,ea,wa,ta){var Da=F.length;
if(typeof X==="object"){for(var Fa in X)f.access(F,Fa,X[Fa],ea,wa,ia);return F}if(ia!==d){ea=!ta&&ea&&f.isFunction(ia);for(Fa=0;Fa<Da;Fa++)wa(F[Fa],X,ea?ia.call(F[Fa],Fa,wa(F[Fa],X)):ia,ta);return F}return Da?wa(F[0],X):d},now:function(){return(new Date).getTime()},uaMatch:function(F){F=F.toLowerCase();F=ra.exec(F)||za.exec(F)||Ca.exec(F)||F.indexOf("compatible")<0&&Aa.exec(F)||[];return{browser:F[1]||"",version:F[2]||"0"}},sub:function(){function F(ia,ea){return new F.fn.init(ia,ea)}f.extend(true,
F,this);F.superclass=this;F.fn=F.prototype=this();F.fn.constructor=F;F.sub=this.sub;F.fn.init=function(ia,ea){if(ea&&ea instanceof f&&!(ea instanceof F))ea=F(ea);return f.fn.init.call(this,ia,ea,X)};F.fn.init.prototype=F.fn;var X=F(R);return F},browser:{}});f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(F,X){va["[object "+X+"]"]=X.toLowerCase()});Ma=f.uaMatch(Ma);if(Ma.browser){f.browser[Ma.browser]=true;f.browser.version=Ma.version}if(f.browser.webkit)f.browser.safari=
true;if(z.test("\u00a0")){D=/^[\s\xA0]+/;E=/[\s\xA0]+$/}s=f(R);if(R.addEventListener)x=function(){R.removeEventListener("DOMContentLoaded",x,false);f.ready()};else if(R.attachEvent)x=function(){if(R.readyState==="complete"){R.detachEvent("onreadystatechange",x);f.ready()}};return f}(),ua={};k.Callbacks=function(c){c=c?ua[c]||g(c):{};var f=[],n=[],p,s,t,z,D,E=function(U){var ga,ba,ra,za;ga=0;for(ba=U.length;ga<ba;ga++){ra=U[ga];za=k.type(ra);if(za==="array")E(ra);else if(za==="function")if(!c.unique||
!da.has(ra))f.push(ra)}},O=function(U,ga){ga=ga||[];p=!c.memory||[U,ga];s=true;D=t||0;t=0;for(z=f.length;f&&D<z;D++)if(f[D].apply(U,ga)===false&&c.stopOnFalse){p=true;break}s=false;if(f)if(c.once)if(p===true)da.disable();else f=[];else if(n&&n.length){p=n.shift();da.fireWith(p[0],p[1])}},da={add:function(){if(f){var U=f.length;E(arguments);if(s)z=f.length;else if(p&&p!==true){t=U;O(p[0],p[1])}}return this},remove:function(){if(f)for(var U=arguments,ga=0,ba=U.length;ga<ba;ga++)for(var ra=0;ra<f.length;ra++)if(U[ga]===
f[ra]){if(s)if(ra<=z){z--;ra<=D&&D--}f.splice(ra--,1);if(c.unique)break}return this},has:function(U){if(f)for(var ga=0,ba=f.length;ga<ba;ga++)if(U===f[ga])return true;return false},empty:function(){f=[];return this},disable:function(){f=n=p=d;return this},disabled:function(){return!f},lock:function(){n=d;if(!p||p===true)da.disable();return this},locked:function(){return!n},fireWith:function(U,ga){if(n)if(s)c.once||n.push([U,ga]);else c.once&&p||O(U,ga);return this},fire:function(){da.fireWith(this,
arguments);return this},fired:function(){return!!p}};return da};var Ba=[].slice;k.extend({Deferred:function(c){var f=k.Callbacks("once memory"),n=k.Callbacks("once memory"),p=k.Callbacks("memory"),s="pending",t={resolve:f,reject:n,notify:p},z={done:f.add,fail:n.add,progress:p.add,state:function(){return s},isResolved:f.fired,isRejected:n.fired,then:function(O,da,U){D.done(O).fail(da).progress(U);return this},always:function(){D.done.apply(D,arguments).fail.apply(D,arguments);return this},pipe:function(O,
da,U){return k.Deferred(function(ga){k.each({done:[O,"resolve"],fail:[da,"reject"],progress:[U,"notify"]},function(ba,ra){var za=ra[0],Ca=ra[1],Aa;k.isFunction(za)?D[ba](function(){(Aa=za.apply(this,arguments))&&k.isFunction(Aa.promise)?Aa.promise().then(ga.resolve,ga.reject,ga.notify):ga[Ca+"With"](this===D?ga:this,[Aa])}):D[ba](ga[Ca])})}).promise()},promise:function(O){if(O==null)O=z;else for(var da in z)O[da]=z[da];return O}},D=z.promise({}),E;for(E in t){D[E]=t[E].fire;D[E+"With"]=t[E].fireWith}D.done(function(){s=
"resolved"},n.disable,p.lock).fail(function(){s="rejected"},f.disable,p.lock);c&&c.call(D,D);return D},when:function(c){function f(da){return function(U){p[da]=arguments.length>1?Ba.call(arguments,0):U;--D||E.resolveWith(E,p)}}function n(da){return function(U){z[da]=arguments.length>1?Ba.call(arguments,0):U;E.notifyWith(O,z)}}var p=Ba.call(arguments,0),s=0,t=p.length,z=new Array(t),D=t,E=t<=1&&c&&k.isFunction(c.promise)?c:k.Deferred(),O=E.promise();if(t>1){for(;s<t;s++)if(p[s]&&p[s].promise&&k.isFunction(p[s].promise))p[s].promise().then(f(s),
E.reject,n(s));else--D;D||E.resolveWith(E,p)}else if(E!==c)E.resolveWith(E,t?[c]:[]);return O}});k.support=function(){var c,f,n,p,s,t,z,D,E=R.createElement("div");E.setAttribute("className","t");E.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";f=E.getElementsByTagName("*");n=E.getElementsByTagName("a")[0];if(!f||!f.length||!n)return{};p=R.createElement("select");s=p.appendChild(R.createElement("option"));f=E.getElementsByTagName("input")[0];
c={leadingWhitespace:E.firstChild.nodeType===3,tbody:!E.getElementsByTagName("tbody").length,htmlSerialize:!!E.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:n.getAttribute("href")==="/a",opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:f.value==="on",optSelected:s.selected,getSetAttribute:E.className!=="t",enctype:!!R.createElement("form").enctype,html5Clone:R.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,
changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};f.checked=true;c.noCloneChecked=f.cloneNode(true).checked;p.disabled=true;c.optDisabled=!s.disabled;try{delete E.test}catch(O){c.deleteExpando=false}if(!E.addEventListener&&E.attachEvent&&E.fireEvent){E.attachEvent("onclick",function(){c.noCloneEvent=false});E.cloneNode(true).fireEvent("onclick")}f=R.createElement("input");f.value="t";f.setAttribute("type",
"radio");c.radioValue=f.value==="t";f.setAttribute("checked","checked");E.appendChild(f);n=R.createDocumentFragment();n.appendChild(E.lastChild);c.checkClone=n.cloneNode(true).cloneNode(true).lastChild.checked;c.appendChecked=f.checked;n.removeChild(f);n.appendChild(E);E.innerHTML="";if(h.getComputedStyle){f=R.createElement("div");f.style.width="0";f.style.marginRight="0";E.style.width="2px";E.appendChild(f);c.reliableMarginRight=(parseInt((h.getComputedStyle(f,null)||{marginRight:0}).marginRight,
10)||0)===0}if(E.attachEvent)for(z in{submit:1,change:1,focusin:1}){f="on"+z;D=f in E;if(!D){E.setAttribute(f,"return;");D=typeof E[f]==="function"}c[z+"Bubbles"]=D}n.removeChild(E);n=p=s=f=E=f=null;k(function(){var da,U,ga,ba,ra=R.getElementsByTagName("body")[0];if(ra){da=R.createElement("div");da.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";ra.insertBefore(da,ra.firstChild);E=R.createElement("div");da.appendChild(E);E.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";
t=E.getElementsByTagName("td");D=t[0].offsetHeight===0;t[0].style.display="";t[1].style.display="none";c.reliableHiddenOffsets=D&&t[0].offsetHeight===0;E.innerHTML="";E.style.width=E.style.paddingLeft="1px";k.boxModel=c.boxModel=E.offsetWidth===2;if(typeof E.style.zoom!=="undefined"){E.style.display="inline";E.style.zoom=1;c.inlineBlockNeedsLayout=E.offsetWidth===2;E.style.display="";E.innerHTML="<div style='width:4px;'></div>";c.shrinkWrapBlocks=E.offsetWidth!==2}E.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";
E.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";U=E.firstChild;ga=U.firstChild;ba={doesNotAddBorder:ga.offsetTop!==5,doesAddBorderForTableAndCells:U.nextSibling.firstChild.firstChild.offsetTop===5};ga.style.position="fixed";ga.style.top="20px";
ba.fixedPosition=ga.offsetTop===20||ga.offsetTop===15;ga.style.position=ga.style.top="";U.style.overflow="hidden";U.style.position="relative";ba.subtractsBorderForOverflowNotVisible=ga.offsetTop===-5;ba.doesNotIncludeMarginInBodyOffset=ra.offsetTop!==1;ra.removeChild(da);E=null;k.extend(c,ba)}});return c}();var Ea=/^(?:\{.*\}|\[.*\])$/,ya=/([A-Z])/g;k.extend({cache:{},uuid:0,expando:"jQuery"+(k.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
applet:true},hasData:function(c){c=c.nodeType?k.cache[c[k.expando]]:c[k.expando];return!!c&&!e(c)},data:function(c,f,n,p){if(k.acceptData(c)){var s;s=k.expando;var t=typeof f==="string",z=c.nodeType,D=z?k.cache:c,E=z?c[s]:c[s]&&s,O=f==="events";if(!((!E||!D[E]||!O&&!p&&!D[E].data)&&t&&n===d)){if(!E)if(z)c[s]=E=++k.uuid;else E=s;if(!D[E]){D[E]={};if(!z)D[E].toJSON=k.noop}if(typeof f==="object"||typeof f==="function")if(p)D[E]=k.extend(D[E],f);else D[E].data=k.extend(D[E].data,f);s=c=D[E];if(!p){if(!c.data)c.data=
{};c=c.data}if(n!==d)c[k.camelCase(f)]=n;if(O&&!c[f])return s.events;if(t){n=c[f];if(n==null)n=c[k.camelCase(f)]}else n=c;return n}}},removeData:function(c,f,n){if(k.acceptData(c)){var p,s,t,z=k.expando,D=c.nodeType,E=D?k.cache:c,O=D?c[z]:z;if(E[O]){if(f)if(p=n?E[O]:E[O].data){if(!k.isArray(f))if(f in p)f=[f];else{f=k.camelCase(f);f=f in p?[f]:f.split(" ")}s=0;for(t=f.length;s<t;s++)delete p[f[s]];if(!(n?e:k.isEmptyObject)(p))return}if(!n){delete E[O].data;if(!e(E[O]))return}if(k.support.deleteExpando||
!E.setInterval)delete E[O];else E[O]=null;if(D)if(k.support.deleteExpando)delete c[z];else if(c.removeAttribute)c.removeAttribute(z);else c[z]=null}}},_data:function(c,f,n){return k.data(c,f,n,true)},acceptData:function(c){if(c.nodeName){var f=k.noData[c.nodeName.toLowerCase()];if(f)return!(f===true||c.getAttribute("classid")!==f)}return true}});k.fn.extend({data:function(c,f){var n,p,s,t=null;if(typeof c==="undefined"){if(this.length){t=k.data(this[0]);if(this[0].nodeType===1&&!k._data(this[0],"parsedAttrs")){p=
this[0].attributes;for(var z=0,D=p.length;z<D;z++){s=p[z].name;if(s.indexOf("data-")===0){s=k.camelCase(s.substring(5));a(this[0],s,t[s])}}k._data(this[0],"parsedAttrs",true)}}return t}else if(typeof c==="object")return this.each(function(){k.data(this,c)});n=c.split(".");n[1]=n[1]?"."+n[1]:"";if(f===d){t=this.triggerHandler("getData"+n[1]+"!",[n[0]]);if(t===d&&this.length){t=k.data(this[0],c);t=a(this[0],c,t)}return t===d&&n[1]?this.data(n[0]):t}else return this.each(function(){var E=k(this),O=[n[0],
f];E.triggerHandler("setData"+n[1]+"!",O);k.data(this,c,f);E.triggerHandler("changeData"+n[1]+"!",O)})},removeData:function(c){return this.each(function(){k.removeData(this,c)})}});k.extend({_mark:function(c,f){if(c){f=(f||"fx")+"mark";k._data(c,f,(k._data(c,f)||0)+1)}},_unmark:function(c,f,n){if(c!==true){n=f;f=c;c=false}if(f){n=n||"fx";var p=n+"mark";if(c=c?0:(k._data(f,p)||1)-1)k._data(f,p,c);else{k.removeData(f,p,true);j(f,n,"mark")}}},queue:function(c,f,n){var p;if(c){f=(f||"fx")+"queue";p=k._data(c,
f);if(n)if(!p||k.isArray(n))p=k._data(c,f,k.makeArray(n));else p.push(n);return p||[]}},dequeue:function(c,f){f=f||"fx";var n=k.queue(c,f),p=n.shift(),s={};if(p==="inprogress")p=n.shift();if(p){f==="fx"&&n.unshift("inprogress");k._data(c,f+".run",s);p.call(c,function(){k.dequeue(c,f)},s)}if(!n.length){k.removeData(c,f+"queue "+f+".run",true);j(c,f,"queue")}}});k.fn.extend({queue:function(c,f){if(typeof c!=="string"){f=c;c="fx"}if(f===d)return k.queue(this[0],c);return this.each(function(){var n=k.queue(this,
c,f);c==="fx"&&n[0]!=="inprogress"&&k.dequeue(this,c)})},dequeue:function(c){return this.each(function(){k.dequeue(this,c)})},delay:function(c,f){c=k.fx?k.fx.speeds[c]||c:c;f=f||"fx";return this.queue(f,function(n,p){var s=setTimeout(n,c);p.stop=function(){clearTimeout(s)}})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,f){function n(){--t||p.resolveWith(s,[s])}if(typeof c!=="string"){f=c;c=d}c=c||"fx";var p=k.Deferred(),s=this;f=s.length;var t=1,z=c+"defer",D=c+"queue";
c=c+"mark";for(var E;f--;)if(E=k.data(s[f],z,d,true)||(k.data(s[f],D,d,true)||k.data(s[f],c,d,true))&&k.data(s[f],z,k.Callbacks("once memory"),true)){t++;E.add(n)}n();return p.promise()}});var Ha=/[\n\t\r]/g,Ka=/\s+/,fa=/\r/g,la=/^(?:button|input)$/i,oa=/^(?:button|input|object|select|textarea)$/i,xa=/^a(?:rea)?$/i,Ga=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ia=k.support.getSetAttribute,Ja,Qa,Xa;k.fn.extend({attr:function(c,
f){return k.access(this,c,f,true,k.attr)},removeAttr:function(c){return this.each(function(){k.removeAttr(this,c)})},prop:function(c,f){return k.access(this,c,f,true,k.prop)},removeProp:function(c){c=k.propFix[c]||c;return this.each(function(){try{this[c]=d;delete this[c]}catch(f){}})},addClass:function(c){var f,n,p,s,t,z,D;if(k.isFunction(c))return this.each(function(E){k(this).addClass(c.call(this,E,this.className))});if(c&&typeof c==="string"){f=c.split(Ka);n=0;for(p=this.length;n<p;n++){s=this[n];
if(s.nodeType===1)if(!s.className&&f.length===1)s.className=c;else{t=" "+s.className+" ";z=0;for(D=f.length;z<D;z++)~t.indexOf(" "+f[z]+" ")||(t+=f[z]+" ");s.className=k.trim(t)}}}return this},removeClass:function(c){var f,n,p,s,t,z,D;if(k.isFunction(c))return this.each(function(E){k(this).removeClass(c.call(this,E,this.className))});if(c&&typeof c==="string"||c===d){f=(c||"").split(Ka);n=0;for(p=this.length;n<p;n++){s=this[n];if(s.nodeType===1&&s.className)if(c){t=(" "+s.className+" ").replace(Ha,
" ");z=0;for(D=f.length;z<D;z++)t=t.replace(" "+f[z]+" "," ");s.className=k.trim(t)}else s.className=""}}return this},toggleClass:function(c,f){var n=typeof c,p=typeof f==="boolean";if(k.isFunction(c))return this.each(function(s){k(this).toggleClass(c.call(this,s,this.className,f),f)});return this.each(function(){if(n==="string")for(var s,t=0,z=k(this),D=f,E=c.split(Ka);s=E[t++];){D=p?D:!z.hasClass(s);z[D?"addClass":"removeClass"](s)}else if(n==="undefined"||n==="boolean"){this.className&&k._data(this,
"__className__",this.className);this.className=this.className||c===false?"":k._data(this,"__className__")||""}})},hasClass:function(c){c=" "+c+" ";for(var f=0,n=this.length;f<n;f++)if(this[f].nodeType===1&&(" "+this[f].className+" ").replace(Ha," ").indexOf(c)>-1)return true;return false},val:function(c){var f,n,p,s=this[0];if(arguments.length){p=k.isFunction(c);return this.each(function(t){var z=k(this);if(this.nodeType===1){t=p?c.call(this,t,z.val()):c;if(t==null)t="";else if(typeof t==="number")t+=
"";else if(k.isArray(t))t=k.map(t,function(D){return D==null?"":D+""});f=k.valHooks[this.nodeName.toLowerCase()]||k.valHooks[this.type];if(!f||!("set"in f)||f.set(this,t,"value")===d)this.value=t}})}else if(s){if((f=k.valHooks[s.nodeName.toLowerCase()]||k.valHooks[s.type])&&"get"in f&&(n=f.get(s,"value"))!==d)return n;n=s.value;return typeof n==="string"?n.replace(fa,""):n==null?"":n}}});k.extend({valHooks:{option:{get:function(c){var f=c.attributes.value;return!f||f.specified?c.value:c.text}},select:{get:function(c){var f,
n,p=c.selectedIndex,s=[],t=c.options,z=c.type==="select-one";if(p<0)return null;c=z?p:0;for(n=z?p+1:t.length;c<n;c++){f=t[c];if(f.selected&&(k.support.optDisabled?!f.disabled:f.getAttribute("disabled")===null)&&(!f.parentNode.disabled||!k.nodeName(f.parentNode,"optgroup"))){f=k(f).val();if(z)return f;s.push(f)}}if(z&&!s.length&&t.length)return k(t[p]).val();return s},set:function(c,f){var n=k.makeArray(f);k(c).find("option").each(function(){this.selected=k.inArray(k(this).val(),n)>=0});if(!n.length)c.selectedIndex=
-1;return n}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(c,f,n,p){var s,t,z=c.nodeType;if(!(!c||z===3||z===8||z===2)){if(p&&f in k.attrFn)return k(c)[f](n);if(typeof c.getAttribute==="undefined")return k.prop(c,f,n);if(p=z!==1||!k.isXMLDoc(c)){f=f.toLowerCase();t=k.attrHooks[f]||(Ga.test(f)?Qa:Ja)}if(n!==d)if(n===null)k.removeAttr(c,f);else if(t&&"set"in t&&p&&(s=t.set(c,n,f))!==d)return s;else{c.setAttribute(f,""+n);return n}else if(t&&
"get"in t&&p&&(s=t.get(c,f))!==null)return s;else{s=c.getAttribute(f);return s===null?d:s}}},removeAttr:function(c,f){var n,p,s,t=0;if(f&&c.nodeType===1){n=f.toLowerCase().split(Ka);for(s=n.length;t<s;t++)if(p=n[t]){f=k.propFix[p]||p;k.attr(c,p,"");c.removeAttribute(Ia?p:f);if(Ga.test(p)&&f in c)c[f]=false}}},attrHooks:{type:{set:function(c,f){if(la.test(c.nodeName)&&c.parentNode)k.error("type property can't be changed");else if(!k.support.radioValue&&f==="radio"&&k.nodeName(c,"input")){var n=c.value;
c.setAttribute("type",f);if(n)c.value=n;return f}}},value:{get:function(c,f){if(Ja&&k.nodeName(c,"button"))return Ja.get(c,f);return f in c?c.value:null},set:function(c,f,n){if(Ja&&k.nodeName(c,"button"))return Ja.set(c,f,n);c.value=f}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
prop:function(c,f,n){var p,s,t=c.nodeType;if(!(!c||t===3||t===8||t===2)){if(t!==1||!k.isXMLDoc(c)){f=k.propFix[f]||f;s=k.propHooks[f]}return n!==d?s&&"set"in s&&(p=s.set(c,n,f))!==d?p:(c[f]=n):s&&"get"in s&&(p=s.get(c,f))!==null?p:c[f]}},propHooks:{tabIndex:{get:function(c){var f=c.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):oa.test(c.nodeName)||xa.test(c.nodeName)&&c.href?0:d}}}});k.attrHooks.tabindex=k.propHooks.tabIndex;Qa={get:function(c,f){var n,p=k.prop(c,f);return p===
true||typeof p!=="boolean"&&(n=c.getAttributeNode(f))&&n.nodeValue!==false?f.toLowerCase():d},set:function(c,f,n){if(f===false)k.removeAttr(c,n);else{f=k.propFix[n]||n;if(f in c)c[f]=true;c.setAttribute(n,n.toLowerCase())}return n}};if(!Ia){Xa={name:true,id:true};Ja=k.valHooks.button={get:function(c,f){return(c=c.getAttributeNode(f))&&(Xa[f]?c.nodeValue!=="":c.specified)?c.nodeValue:d},set:function(c,f,n){var p=c.getAttributeNode(n);if(!p){p=R.createAttribute(n);c.setAttributeNode(p)}return p.nodeValue=
f+""}};k.attrHooks.tabindex.set=Ja.set;k.each(["width","height"],function(c,f){k.attrHooks[f]=k.extend(k.attrHooks[f],{set:function(n,p){if(p===""){n.setAttribute(f,"auto");return p}}})});k.attrHooks.contenteditable={get:Ja.get,set:function(c,f,n){if(f==="")f="false";Ja.set(c,f,n)}}}k.support.hrefNormalized||k.each(["href","src","width","height"],function(c,f){k.attrHooks[f]=k.extend(k.attrHooks[f],{get:function(n){n=n.getAttribute(f,2);return n===null?d:n}})});if(!k.support.style)k.attrHooks.style=
{get:function(c){return c.style.cssText.toLowerCase()||d},set:function(c,f){return c.style.cssText=""+f}};if(!k.support.optSelected)k.propHooks.selected=k.extend(k.propHooks.selected,{get:function(){return null}});if(!k.support.enctype)k.propFix.enctype="encoding";k.support.checkOn||k.each(["radio","checkbox"],function(){k.valHooks[this]={get:function(c){return c.getAttribute("value")===null?"on":c.value}}});k.each(["radio","checkbox"],function(){k.valHooks[this]=k.extend(k.valHooks[this],{set:function(c,
f){if(k.isArray(f))return c.checked=k.inArray(k(c).val(),f)>=0}})});var Ra=/^(?:textarea|input|select)$/i,kb=/^([^\.]*)?(?:\.(.+))?$/,Hb=/\bhover(\.\S+)?\b/,Ib=/^key/,Jb=/^(?:mouse|contextmenu)|click/,lb=/^(?:focusinfocus|focusoutblur)$/,Kb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,Lb=function(c){if(c=Kb.exec(c)){c[1]=(c[1]||"").toLowerCase();c[3]=c[3]&&new RegExp("(?:^|\\s)"+c[3]+"(?:\\s|$)")}return c},Mb=function(c,f){var n=c.attributes||{};return(!f[1]||c.nodeName.toLowerCase()===f[1])&&(!f[2]||
(n.id||{}).value===f[2])&&(!f[3]||f[3].test((n["class"]||{}).value))},mb=function(c){return k.event.special.hover?c:c.replace(Hb,"mouseenter$1 mouseleave$1")};k.event={add:function(c,f,n,p,s){var t,z,D,E,O,da,U,ga,ba;if(!(c.nodeType===3||c.nodeType===8||!f||!n||!(t=k._data(c)))){if(n.handler){U=n;n=U.handler}if(!n.guid)n.guid=k.guid++;D=t.events;if(!D)t.events=D={};z=t.handle;if(!z){t.handle=z=function(ra){return typeof k!=="undefined"&&(!ra||k.event.triggered!==ra.type)?k.event.dispatch.apply(z.elem,
arguments):d};z.elem=c}f=k.trim(mb(f)).split(" ");for(t=0;t<f.length;t++){E=kb.exec(f[t])||[];O=E[1];da=(E[2]||"").split(".").sort();ba=k.event.special[O]||{};O=(s?ba.delegateType:ba.bindType)||O;ba=k.event.special[O]||{};E=k.extend({type:O,origType:E[1],data:p,handler:n,guid:n.guid,selector:s,quick:Lb(s),namespace:da.join(".")},U);ga=D[O];if(!ga){ga=D[O]=[];ga.delegateCount=0;if(!ba.setup||ba.setup.call(c,p,da,z)===false)if(c.addEventListener)c.addEventListener(O,z,false);else c.attachEvent&&c.attachEvent("on"+
O,z)}if(ba.add){ba.add.call(c,E);if(!E.handler.guid)E.handler.guid=n.guid}s?ga.splice(ga.delegateCount++,0,E):ga.push(E);k.event.global[O]=true}c=null}},global:{},remove:function(c,f,n,p,s){var t=k.hasData(c)&&k._data(c),z,D,E,O,da,U,ga,ba,ra,za;if(t&&(ga=t.events)){f=k.trim(mb(f||"")).split(" ");for(z=0;z<f.length;z++){D=kb.exec(f[z])||[];E=O=D[1];D=D[2];if(E){ba=k.event.special[E]||{};E=(p?ba.delegateType:ba.bindType)||E;ra=ga[E]||[];da=ra.length;D=D?new RegExp("(^|\\.)"+D.split(".").sort().join("\\.(?:.*\\.)?")+
"(\\.|$)"):null;for(U=0;U<ra.length;U++){za=ra[U];if((s||O===za.origType)&&(!n||n.guid===za.guid)&&(!D||D.test(za.namespace))&&(!p||p===za.selector||p==="**"&&za.selector)){ra.splice(U--,1);za.selector&&ra.delegateCount--;ba.remove&&ba.remove.call(c,za)}}if(ra.length===0&&da!==ra.length){if(!ba.teardown||ba.teardown.call(c,D)===false)k.removeEvent(c,E,t.handle);delete ga[E]}}else for(E in ga)k.event.remove(c,E+f[z],n,p,true)}if(k.isEmptyObject(ga)){if(f=t.handle)f.elem=null;k.removeData(c,["events",
"handle"],true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(c,f,n,p){if(!(n&&(n.nodeType===3||n.nodeType===8))){var s=c.type||c,t=[],z,D,E,O,da;if(!lb.test(s+k.event.triggered)){if(s.indexOf("!")>=0){s=s.slice(0,-1);z=true}if(s.indexOf(".")>=0){t=s.split(".");s=t.shift();t.sort()}if(!((!n||k.event.customEvent[s])&&!k.event.global[s])){c=typeof c==="object"?c[k.expando]?c:new k.Event(s,c):new k.Event(s);c.type=s;c.isTrigger=true;c.exclusive=z;c.namespace=t.join(".");
c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;z=s.indexOf(":")<0?"on"+s:"";if(n){c.result=d;if(!c.target)c.target=n;f=f!=null?k.makeArray(f):[];f.unshift(c);E=k.event.special[s]||{};if(!(E.trigger&&E.trigger.apply(n,f)===false)){da=[[n,E.bindType||s]];if(!p&&!E.noBubble&&!k.isWindow(n)){O=E.delegateType||s;t=lb.test(O+s)?n:n.parentNode;for(D=null;t;t=t.parentNode){da.push([t,O]);D=t}if(D&&D===n.ownerDocument)da.push([D.defaultView||D.parentWindow||h,O])}for(D=
0;D<da.length&&!c.isPropagationStopped();D++){t=da[D][0];c.type=da[D][1];(O=(k._data(t,"events")||{})[c.type]&&k._data(t,"handle"))&&O.apply(t,f);(O=z&&t[z])&&k.acceptData(t)&&O.apply(t,f)===false&&c.preventDefault()}c.type=s;if(!p&&!c.isDefaultPrevented())if((!E._default||E._default.apply(n.ownerDocument,f)===false)&&!(s==="click"&&k.nodeName(n,"a"))&&k.acceptData(n))if(z&&n[s]&&(s!=="focus"&&s!=="blur"||c.target.offsetWidth!==0)&&!k.isWindow(n)){if(D=n[z])n[z]=null;k.event.triggered=s;n[s]();k.event.triggered=
d;if(D)n[z]=D}return c.result}}else{n=k.cache;for(D in n)n[D].events&&n[D].events[s]&&k.event.trigger(c,f,n[D].handle.elem,true)}}}}},dispatch:function(c){c=k.event.fix(c||h.event);var f=(k._data(this,"events")||{})[c.type]||[],n=f.delegateCount,p=[].slice.call(arguments,0),s=!c.exclusive&&!c.namespace,t=[],z,D,E,O,da,U,ga;p[0]=c;c.delegateTarget=this;if(n&&!c.target.disabled&&!(c.button&&c.type==="click")){E=k(this);E.context=this.ownerDocument||this;for(D=c.target;D!=this;D=D.parentNode||this){da=
{};U=[];E[0]=D;for(z=0;z<n;z++){O=f[z];ga=O.selector;if(da[ga]===d)da[ga]=O.quick?Mb(D,O.quick):E.is(ga);da[ga]&&U.push(O)}U.length&&t.push({elem:D,matches:U})}}f.length>n&&t.push({elem:this,matches:f.slice(n)});for(z=0;z<t.length&&!c.isPropagationStopped();z++){n=t[z];c.currentTarget=n.elem;for(f=0;f<n.matches.length&&!c.isImmediatePropagationStopped();f++){O=n.matches[f];if(s||!c.namespace&&!O.namespace||c.namespace_re&&c.namespace_re.test(O.namespace)){c.data=O.data;c.handleObj=O;O=((k.event.special[O.origType]||
{}).handle||O.handler).apply(n.elem,p);if(O!==d){c.result=O;if(O===false){c.preventDefault();c.stopPropagation()}}}}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(c,f){if(c.which==null)c.which=f.charCode!=null?f.charCode:f.keyCode;return c}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(c,f){var n,p,s=f.button,t=f.fromElement;if(c.pageX==null&&f.clientX!=null){n=c.target.ownerDocument||R;p=n.documentElement;n=n.body;c.pageX=f.clientX+(p&&p.scrollLeft||n&&n.scrollLeft||0)-(p&&p.clientLeft||n&&n.clientLeft||0);c.pageY=f.clientY+(p&&p.scrollTop||n&&n.scrollTop||0)-(p&&p.clientTop||n&&n.clientTop||0)}if(!c.relatedTarget&&t)c.relatedTarget=t===c.target?f.toElement:t;if(!c.which&&s!==d)c.which=s&1?1:s&2?3:s&4?2:0;return c}},fix:function(c){if(c[k.expando])return c;var f,
n,p=c,s=k.event.fixHooks[c.type]||{},t=s.props?this.props.concat(s.props):this.props;c=k.Event(p);for(f=t.length;f;){n=t[--f];c[n]=p[n]}if(!c.target)c.target=p.srcElement||R;if(c.target.nodeType===3)c.target=c.target.parentNode;if(c.metaKey===d)c.metaKey=c.ctrlKey;return s.filter?s.filter(c,p):c},special:{ready:{setup:k.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(c,f,n){if(k.isWindow(this))this.onbeforeunload=n},teardown:function(c,
f){if(this.onbeforeunload===f)this.onbeforeunload=null}}},simulate:function(c,f,n,p){c=k.extend(new k.Event,n,{type:c,isSimulated:true,originalEvent:{}});p?k.event.trigger(c,null,f):k.event.dispatch.call(f,c);c.isDefaultPrevented()&&n.preventDefault()}};k.event.handle=k.event.dispatch;k.removeEvent=R.removeEventListener?function(c,f,n){c.removeEventListener&&c.removeEventListener(f,n,false)}:function(c,f,n){c.detachEvent&&c.detachEvent("on"+f,n)};k.Event=function(c,f){if(!(this instanceof k.Event))return new k.Event(c,
f);if(c&&c.type){this.originalEvent=c;this.type=c.type;this.isDefaultPrevented=c.defaultPrevented||c.returnValue===false||c.getPreventDefault&&c.getPreventDefault()?l:q}else this.type=c;f&&k.extend(this,f);this.timeStamp=c&&c.timeStamp||k.now();this[k.expando]=true};k.Event.prototype={preventDefault:function(){this.isDefaultPrevented=l;var c=this.originalEvent;if(c)if(c.preventDefault)c.preventDefault();else c.returnValue=false},stopPropagation:function(){this.isPropagationStopped=l;var c=this.originalEvent;
if(c){c.stopPropagation&&c.stopPropagation();c.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l;this.stopPropagation()},isDefaultPrevented:q,isPropagationStopped:q,isImmediatePropagationStopped:q};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,f){k.event.special[c]={delegateType:f,bindType:f,handle:function(n){var p=this,s=n.relatedTarget,t=n.handleObj,z;if(!s||s!==p&&!k.contains(p,s)){n.type=t.origType;z=t.handler.apply(this,arguments);
n.type=f}return z}}});if(!k.support.submitBubbles)k.event.special.submit={setup:function(){if(k.nodeName(this,"form"))return false;k.event.add(this,"click._submit keypress._submit",function(c){c=c.target;if((c=k.nodeName(c,"input")||k.nodeName(c,"button")?c.form:d)&&!c._submit_attached){k.event.add(c,"submit._submit",function(f){this.parentNode&&!f.isTrigger&&k.event.simulate("submit",this.parentNode,f,true)});c._submit_attached=true}})},teardown:function(){if(k.nodeName(this,"form"))return false;
k.event.remove(this,"._submit")}};if(!k.support.changeBubbles)k.event.special.change={setup:function(){if(Ra.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){k.event.add(this,"propertychange._change",function(c){if(c.originalEvent.propertyName==="checked")this._just_changed=true});k.event.add(this,"click._change",function(c){if(this._just_changed&&!c.isTrigger){this._just_changed=false;k.event.simulate("change",this,c,true)}})}return false}k.event.add(this,"beforeactivate._change",
function(c){c=c.target;if(Ra.test(c.nodeName)&&!c._change_attached){k.event.add(c,"change._change",function(f){this.parentNode&&!f.isSimulated&&!f.isTrigger&&k.event.simulate("change",this.parentNode,f,true)});c._change_attached=true}})},handle:function(c){var f=c.target;if(this!==f||c.isSimulated||c.isTrigger||f.type!=="radio"&&f.type!=="checkbox")return c.handleObj.handler.apply(this,arguments)},teardown:function(){k.event.remove(this,"._change");return Ra.test(this.nodeName)}};k.support.focusinBubbles||
k.each({focus:"focusin",blur:"focusout"},function(c,f){var n=0,p=function(s){k.event.simulate(f,s.target,k.event.fix(s),true)};k.event.special[f]={setup:function(){n++===0&&R.addEventListener(c,p,true)},teardown:function(){--n===0&&R.removeEventListener(c,p,true)}}});k.fn.extend({on:function(c,f,n,p,s){var t,z;if(typeof c==="object"){if(typeof f!=="string"){n=f;f=d}for(z in c)this.on(z,f,n,c[z],s);return this}if(n==null&&p==null){p=f;n=f=d}else if(p==null)if(typeof f==="string"){p=n;n=d}else{p=n;
n=f;f=d}if(p===false)p=q;else if(!p)return this;if(s===1){t=p;p=function(D){k().off(D);return t.apply(this,arguments)};p.guid=t.guid||(t.guid=k.guid++)}return this.each(function(){k.event.add(this,c,p,n,f)})},one:function(c,f,n,p){return this.on.call(this,c,f,n,p,1)},off:function(c,f,n){if(c&&c.preventDefault&&c.handleObj){var p=c.handleObj;k(c.delegateTarget).off(p.namespace?p.type+"."+p.namespace:p.type,p.selector,p.handler);return this}if(typeof c==="object"){for(p in c)this.off(p,f,c[p]);return this}if(f===
false||typeof f==="function"){n=f;f=d}if(n===false)n=q;return this.each(function(){k.event.remove(this,c,n,f)})},bind:function(c,f,n){return this.on(c,null,f,n)},unbind:function(c,f){return this.off(c,null,f)},live:function(c,f,n){k(this.context).on(c,this.selector,f,n);return this},die:function(c,f){k(this.context).off(c,this.selector||"**",f);return this},delegate:function(c,f,n,p){return this.on(f,c,n,p)},undelegate:function(c,f,n){return arguments.length==1?this.off(c,"**"):this.off(f,c,n)},trigger:function(c,
f){return this.each(function(){k.event.trigger(c,f,this)})},triggerHandler:function(c,f){if(this[0])return k.event.trigger(c,f,this[0],true)},toggle:function(c){var f=arguments,n=c.guid||k.guid++,p=0,s=function(t){var z=(k._data(this,"lastToggle"+c.guid)||0)%p;k._data(this,"lastToggle"+c.guid,z+1);t.preventDefault();return f[z].apply(this,arguments)||false};for(s.guid=n;p<f.length;)f[p++].guid=n;return this.click(s)},hover:function(c,f){return this.mouseenter(c).mouseleave(f||c)}});k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(c,f){k.fn[f]=function(n,p){if(p==null){p=n;n=null}return arguments.length>0?this.on(f,null,n,p):this.trigger(f)};if(k.attrFn)k.attrFn[f]=true;if(Ib.test(f))k.event.fixHooks[f]=k.event.keyHooks;if(Jb.test(f))k.event.fixHooks[f]=k.event.mouseHooks});(function(){function c(u,x,P,S,W,aa){W=0;for(var ha=S.length;W<ha;W++){var ja=S[W];if(ja){var va=false;for(ja=ja[u];ja;){if(ja[p]===P){va=S[ja.sizset];break}if(ja.nodeType===1&&!aa){ja[p]=P;ja.sizset=W}if(ja.nodeName.toLowerCase()===x){va=ja;break}ja=
ja[u]}S[W]=va}}}function f(u,x,P,S,W,aa){W=0;for(var ha=S.length;W<ha;W++){var ja=S[W];if(ja){var va=false;for(ja=ja[u];ja;){if(ja[p]===P){va=S[ja.sizset];break}if(ja.nodeType===1){if(!aa){ja[p]=P;ja.sizset=W}if(typeof x!=="string"){if(ja===x){va=true;break}}else if(U.filter(x,[ja]).length>0){va=ja;break}}ja=ja[u]}S[W]=va}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,p="sizcache"+(Math.random()+"").replace(".",
""),s=0,t=Object.prototype.toString,z=false,D=true,E=/\\/g,O=/\r\n/g,da=/\W/;[0,0].sort(function(){D=false;return 0});var U=function(u,x,P,S){P=P||[];var W=x=x||R;if(x.nodeType!==1&&x.nodeType!==9)return[];if(!u||typeof u!=="string")return P;var aa,ha,ja,va,F,X=true,ia=U.isXML(x),ea=[],wa=u;do{n.exec("");if(aa=n.exec(wa)){wa=aa[3];ea.push(aa[1]);if(aa[2]){va=aa[3];break}}}while(aa);if(ea.length>1&&ra.exec(u))if(ea.length===2&&ba.relative[ea[0]])ha=Ma(ea[0]+ea[1],x,S);else for(ha=ba.relative[ea[0]]?
[x]:U(ea.shift(),x);ea.length;){u=ea.shift();if(ba.relative[u])u+=ea.shift();ha=Ma(u,ha,S)}else{if(!S&&ea.length>1&&x.nodeType===9&&!ia&&ba.match.ID.test(ea[0])&&!ba.match.ID.test(ea[ea.length-1])){aa=U.find(ea.shift(),x,ia);x=aa.expr?U.filter(aa.expr,aa.set)[0]:aa.set[0]}if(x){aa=S?{expr:ea.pop(),set:Aa(S)}:U.find(ea.pop(),ea.length===1&&(ea[0]==="~"||ea[0]==="+")&&x.parentNode?x.parentNode:x,ia);ha=aa.expr?U.filter(aa.expr,aa.set):aa.set;if(ea.length>0)ja=Aa(ha);else X=false;for(;ea.length;){aa=
F=ea.pop();if(ba.relative[F])aa=ea.pop();else F="";if(aa==null)aa=x;ba.relative[F](ja,aa,ia)}}else ja=[]}ja||(ja=ha);ja||U.error(F||u);if(t.call(ja)==="[object Array]")if(X)if(x&&x.nodeType===1)for(u=0;ja[u]!=null;u++){if(ja[u]&&(ja[u]===true||ja[u].nodeType===1&&U.contains(x,ja[u])))P.push(ha[u])}else for(u=0;ja[u]!=null;u++)ja[u]&&ja[u].nodeType===1&&P.push(ha[u]);else P.push.apply(P,ja);else Aa(ja,P);if(va){U(va,W,P,S);U.uniqueSort(P)}return P};U.uniqueSort=function(u){if(sa){z=D;u.sort(sa);if(z)for(var x=
1;x<u.length;x++)u[x]===u[x-1]&&u.splice(x--,1)}return u};U.matches=function(u,x){return U(u,null,null,x)};U.matchesSelector=function(u,x){return U(x,null,null,[u]).length>0};U.find=function(u,x,P){var S,W,aa,ha,ja,va;if(!u)return[];W=0;for(aa=ba.order.length;W<aa;W++){ja=ba.order[W];if(ha=ba.leftMatch[ja].exec(u)){va=ha[1];ha.splice(1,1);if(va.substr(va.length-1)!=="\\"){ha[1]=(ha[1]||"").replace(E,"");S=ba.find[ja](ha,x,P);if(S!=null){u=u.replace(ba.match[ja],"");break}}}}S||(S=typeof x.getElementsByTagName!==
"undefined"?x.getElementsByTagName("*"):[]);return{set:S,expr:u}};U.filter=function(u,x,P,S){for(var W,aa,ha,ja,va,F,X,ia,ea=u,wa=[],ta=x,Da=x&&x[0]&&U.isXML(x[0]);u&&x.length;){for(ha in ba.filter)if((W=ba.leftMatch[ha].exec(u))!=null&&W[2]){F=ba.filter[ha];va=W[1];aa=false;W.splice(1,1);if(va.substr(va.length-1)!=="\\"){if(ta===wa)wa=[];if(ba.preFilter[ha])if(W=ba.preFilter[ha](W,ta,P,wa,S,Da)){if(W===true)continue}else aa=ja=true;if(W)for(X=0;(va=ta[X])!=null;X++)if(va){ja=F(va,W,X,ta);ia=S^ja;
if(P&&ja!=null)if(ia)aa=true;else ta[X]=false;else if(ia){wa.push(va);aa=true}}if(ja!==d){P||(ta=wa);u=u.replace(ba.match[ha],"");if(!aa)return[];break}}}if(u===ea)if(aa==null)U.error(u);else break;ea=u}return ta};U.error=function(u){throw new Error("Syntax error, unrecognized expression: "+u);};var ga=U.getText=function(u){var x,P;x=u.nodeType;var S="";if(x)if(x===1||x===9)if(typeof u.textContent==="string")return u.textContent;else if(typeof u.innerText==="string")return u.innerText.replace(O,"");
else for(u=u.firstChild;u;u=u.nextSibling)S+=ga(u);else{if(x===3||x===4)return u.nodeValue}else for(x=0;P=u[x];x++)if(P.nodeType!==8)S+=ga(P);return S},ba=U.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(u){return u.getAttribute("href")},type:function(u){return u.getAttribute("type")}},relative:{"+":function(u,x){var P=typeof x==="string",S=P&&!da.test(x);P=P&&!S;if(S)x=x.toLowerCase();S=0;for(var W=u.length,aa;S<W;S++)if(aa=u[S]){for(;(aa=aa.previousSibling)&&aa.nodeType!==
1;);u[S]=P||aa&&aa.nodeName.toLowerCase()===x?aa||false:aa===x}P&&U.filter(x,u,true)},">":function(u,x){var P,S=typeof x==="string",W=0,aa=u.length;if(S&&!da.test(x))for(x=x.toLowerCase();W<aa;W++){if(P=u[W]){P=P.parentNode;u[W]=P.nodeName.toLowerCase()===x?P:false}}else{for(;W<aa;W++)if(P=u[W])u[W]=S?P.parentNode:P.parentNode===x;S&&U.filter(x,u,true)}},"":function(u,x,P){var S,W=s++,aa=f;if(typeof x==="string"&&!da.test(x)){S=x=x.toLowerCase();aa=c}aa("parentNode",x,W,u,S,P)},"~":function(u,x,P){var S,
W=s++,aa=f;if(typeof x==="string"&&!da.test(x)){S=x=x.toLowerCase();aa=c}aa("previousSibling",x,W,u,S,P)}},find:{ID:function(u,x,P){if(typeof x.getElementById!=="undefined"&&!P)return(u=x.getElementById(u[1]))&&u.parentNode?[u]:[]},NAME:function(u,x){if(typeof x.getElementsByName!=="undefined"){var P=[];x=x.getElementsByName(u[1]);for(var S=0,W=x.length;S<W;S++)x[S].getAttribute("name")===u[1]&&P.push(x[S]);return P.length===0?null:P}},TAG:function(u,x){if(typeof x.getElementsByTagName!=="undefined")return x.getElementsByTagName(u[1])}},
preFilter:{CLASS:function(u,x,P,S,W,aa){u=" "+u[1].replace(E,"")+" ";if(aa)return u;aa=0;for(var ha;(ha=x[aa])!=null;aa++)if(ha)if(W^(ha.className&&(" "+ha.className+" ").replace(/[\t\n\r]/g," ").indexOf(u)>=0))P||S.push(ha);else if(P)x[aa]=false;return false},ID:function(u){return u[1].replace(E,"")},TAG:function(u){return u[1].replace(E,"").toLowerCase()},CHILD:function(u){if(u[1]==="nth"){u[2]||U.error(u[0]);u[2]=u[2].replace(/^\+|\s*/g,"");var x=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(u[2]==="even"&&
"2n"||u[2]==="odd"&&"2n+1"||!/\D/.test(u[2])&&"0n+"+u[2]||u[2]);u[2]=x[1]+(x[2]||1)-0;u[3]=x[3]-0}else u[2]&&U.error(u[0]);u[0]=s++;return u},ATTR:function(u,x,P,S,W,aa){x=u[1]=u[1].replace(E,"");if(!aa&&ba.attrMap[x])u[1]=ba.attrMap[x];u[4]=(u[4]||u[5]||"").replace(E,"");if(u[2]==="~=")u[4]=" "+u[4]+" ";return u},PSEUDO:function(u,x,P,S,W){if(u[1]==="not")if((n.exec(u[3])||"").length>1||/^\w/.test(u[3]))u[3]=U(u[3],null,null,x);else{u=U.filter(u[3],x,P,true^W);P||S.push.apply(S,u);return false}else if(ba.match.POS.test(u[0])||
ba.match.CHILD.test(u[0]))return true;return u},POS:function(u){u.unshift(true);return u}},filters:{enabled:function(u){return u.disabled===false&&u.type!=="hidden"},disabled:function(u){return u.disabled===true},checked:function(u){return u.checked===true},selected:function(u){return u.selected===true},parent:function(u){return!!u.firstChild},empty:function(u){return!u.firstChild},has:function(u,x,P){return!!U(P[3],u).length},header:function(u){return/h\d/i.test(u.nodeName)},text:function(u){var x=
u.getAttribute("type"),P=u.type;return u.nodeName.toLowerCase()==="input"&&"text"===P&&(x===P||x===null)},radio:function(u){return u.nodeName.toLowerCase()==="input"&&"radio"===u.type},checkbox:function(u){return u.nodeName.toLowerCase()==="input"&&"checkbox"===u.type},file:function(u){return u.nodeName.toLowerCase()==="input"&&"file"===u.type},password:function(u){return u.nodeName.toLowerCase()==="input"&&"password"===u.type},submit:function(u){var x=u.nodeName.toLowerCase();return(x==="input"||
x==="button")&&"submit"===u.type},image:function(u){return u.nodeName.toLowerCase()==="input"&&"image"===u.type},reset:function(u){var x=u.nodeName.toLowerCase();return(x==="input"||x==="button")&&"reset"===u.type},button:function(u){var x=u.nodeName.toLowerCase();return x==="input"&&"button"===u.type||x==="button"},input:function(u){return/input|select|textarea|button/i.test(u.nodeName)},focus:function(u){return u===u.ownerDocument.activeElement}},setFilters:{first:function(u,x){return x===0},last:function(u,
x,P,S){return x===S.length-1},even:function(u,x){return x%2===0},odd:function(u,x){return x%2===1},lt:function(u,x,P){return x<P[3]-0},gt:function(u,x,P){return x>P[3]-0},nth:function(u,x,P){return P[3]-0===x},eq:function(u,x,P){return P[3]-0===x}},filter:{PSEUDO:function(u,x,P,S){var W=x[1],aa=ba.filters[W];if(aa)return aa(u,P,x,S);else if(W==="contains")return(u.textContent||u.innerText||ga([u])||"").indexOf(x[3])>=0;else if(W==="not"){x=x[3];P=0;for(S=x.length;P<S;P++)if(x[P]===u)return false;
return true}else U.error(W)},CHILD:function(u,x){var P,S,W,aa;P=x[1];var ha=u;switch(P){case "only":case "first":for(;ha=ha.previousSibling;)if(ha.nodeType===1)return false;if(P==="first")return true;ha=u;case "last":for(;ha=ha.nextSibling;)if(ha.nodeType===1)return false;return true;case "nth":P=x[2];S=x[3];if(P===1&&S===0)return true;x=x[0];if((W=u.parentNode)&&(W[p]!==x||!u.nodeIndex)){aa=0;for(ha=W.firstChild;ha;ha=ha.nextSibling)if(ha.nodeType===1)ha.nodeIndex=++aa;W[p]=x}u=u.nodeIndex-S;return P===
0?u===0:u%P===0&&u/P>=0}},ID:function(u,x){return u.nodeType===1&&u.getAttribute("id")===x},TAG:function(u,x){return x==="*"&&u.nodeType===1||!!u.nodeName&&u.nodeName.toLowerCase()===x},CLASS:function(u,x){return(" "+(u.className||u.getAttribute("class"))+" ").indexOf(x)>-1},ATTR:function(u,x){var P=x[1];u=U.attr?U.attr(u,P):ba.attrHandle[P]?ba.attrHandle[P](u):u[P]!=null?u[P]:u.getAttribute(P);P=u+"";var S=x[2];x=x[4];return u==null?S==="!=":!S&&U.attr?u!=null:S==="="?P===x:S==="*="?P.indexOf(x)>=
0:S==="~="?(" "+P+" ").indexOf(x)>=0:!x?P&&u!==false:S==="!="?P!==x:S==="^="?P.indexOf(x)===0:S==="$="?P.substr(P.length-x.length)===x:S==="|="?P===x||P.substr(0,x.length+1)===x+"-":false},POS:function(u,x,P,S){var W=ba.setFilters[x[2]];if(W)return W(u,P,x,S)}}},ra=ba.match.POS,za=function(u,x){return"\\"+(x-0+1)};for(var Ca in ba.match){ba.match[Ca]=new RegExp(ba.match[Ca].source+/(?![^\[]*\])(?![^\(]*\))/.source);ba.leftMatch[Ca]=new RegExp(/(^(?:.|\r|\n)*?)/.source+ba.match[Ca].source.replace(/\\(\d+)/g,
za))}var Aa=function(u,x){u=Array.prototype.slice.call(u,0);if(x){x.push.apply(x,u);return x}return u};try{Array.prototype.slice.call(R.documentElement.childNodes,0)}catch(Pa){Aa=function(u,x){var P=0;x=x||[];if(t.call(u)==="[object Array]")Array.prototype.push.apply(x,u);else if(typeof u.length==="number")for(var S=u.length;P<S;P++)x.push(u[P]);else for(;u[P];P++)x.push(u[P]);return x}}var sa,Oa;if(R.documentElement.compareDocumentPosition)sa=function(u,x){if(u===x){z=true;return 0}if(!u.compareDocumentPosition||
!x.compareDocumentPosition)return u.compareDocumentPosition?-1:1;return u.compareDocumentPosition(x)&4?-1:1};else{sa=function(u,x){if(u===x){z=true;return 0}else if(u.sourceIndex&&x.sourceIndex)return u.sourceIndex-x.sourceIndex;var P,S,W=[],aa=[];P=u.parentNode;S=x.parentNode;var ha=P;if(P===S)return Oa(u,x);else if(P){if(!S)return 1}else return-1;for(;ha;){W.unshift(ha);ha=ha.parentNode}for(ha=S;ha;){aa.unshift(ha);ha=ha.parentNode}P=W.length;S=aa.length;for(ha=0;ha<P&&ha<S;ha++)if(W[ha]!==aa[ha])return Oa(W[ha],
aa[ha]);return ha===P?Oa(u,aa[ha],-1):Oa(W[ha],x,1)};Oa=function(u,x,P){if(u===x)return P;for(u=u.nextSibling;u;){if(u===x)return-1;u=u.nextSibling}return 1}}(function(){var u=R.createElement("div"),x="script"+(new Date).getTime(),P=R.documentElement;u.innerHTML="<a name='"+x+"'/>";P.insertBefore(u,P.firstChild);if(R.getElementById(x)){ba.find.ID=function(S,W,aa){if(typeof W.getElementById!=="undefined"&&!aa)return(W=W.getElementById(S[1]))?W.id===S[1]||typeof W.getAttributeNode!=="undefined"&&W.getAttributeNode("id").nodeValue===
S[1]?[W]:d:[]};ba.filter.ID=function(S,W){var aa=typeof S.getAttributeNode!=="undefined"&&S.getAttributeNode("id");return S.nodeType===1&&aa&&aa.nodeValue===W}}P.removeChild(u);P=u=null})();(function(){var u=R.createElement("div");u.appendChild(R.createComment(""));if(u.getElementsByTagName("*").length>0)ba.find.TAG=function(x,P){P=P.getElementsByTagName(x[1]);if(x[1]==="*"){x=[];for(var S=0;P[S];S++)P[S].nodeType===1&&x.push(P[S]);P=x}return P};u.innerHTML="<a href='#'></a>";if(u.firstChild&&typeof u.firstChild.getAttribute!==
"undefined"&&u.firstChild.getAttribute("href")!=="#")ba.attrHandle.href=function(x){return x.getAttribute("href",2)};u=null})();R.querySelectorAll&&function(){var u=U,x=R.createElement("div");x.innerHTML="<p class='TEST'></p>";if(!(x.querySelectorAll&&x.querySelectorAll(".TEST").length===0)){U=function(S,W,aa,ha){W=W||R;if(!ha&&!U.isXML(W)){var ja=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(S);if(ja&&(W.nodeType===1||W.nodeType===9))if(ja[1])return Aa(W.getElementsByTagName(S),aa);else if(ja[2]&&ba.find.CLASS&&
W.getElementsByClassName)return Aa(W.getElementsByClassName(ja[2]),aa);if(W.nodeType===9){if(S==="body"&&W.body)return Aa([W.body],aa);else if(ja&&ja[3]){var va=W.getElementById(ja[3]);if(va&&va.parentNode){if(va.id===ja[3])return Aa([va],aa)}else return Aa([],aa)}try{return Aa(W.querySelectorAll(S),aa)}catch(F){}}else if(W.nodeType===1&&W.nodeName.toLowerCase()!=="object"){ja=W;var X=(va=W.getAttribute("id"))||"__sizzle__",ia=W.parentNode,ea=/^\s*[+~]/.test(S);if(va)X=X.replace(/'/g,"\\$&");else W.setAttribute("id",
X);if(ea&&ia)W=W.parentNode;try{if(!ea||ia)return Aa(W.querySelectorAll("[id='"+X+"'] "+S),aa)}catch(wa){}finally{va||ja.removeAttribute("id")}}}return u(S,W,aa,ha)};for(var P in u)U[P]=u[P];x=null}}();(function(){var u=R.documentElement,x=u.matchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.msMatchesSelector;if(x){var P=!x.call(R.createElement("div"),"div"),S=false;try{x.call(R.documentElement,"[test!='']:sizzle")}catch(W){S=true}U.matchesSelector=function(aa,ha){ha=ha.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!U.isXML(aa))try{if(S||!ba.match.PSEUDO.test(ha)&&!/!=/.test(ha)){var ja=x.call(aa,ha);if(ja||!P||aa.document&&aa.document.nodeType!==11)return ja}}catch(va){}return U(ha,null,null,[aa]).length>0}}})();(function(){var u=R.createElement("div");u.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!u.getElementsByClassName||u.getElementsByClassName("e").length===0)){u.lastChild.className="e";if(u.getElementsByClassName("e").length!==1){ba.order.splice(1,0,"CLASS");ba.find.CLASS=
function(x,P,S){if(typeof P.getElementsByClassName!=="undefined"&&!S)return P.getElementsByClassName(x[1])};u=null}}})();U.contains=R.documentElement.contains?function(u,x){return u!==x&&(u.contains?u.contains(x):true)}:R.documentElement.compareDocumentPosition?function(u,x){return!!(u.compareDocumentPosition(x)&16)}:function(){return false};U.isXML=function(u){return(u=(u?u.ownerDocument||u:0).documentElement)?u.nodeName!=="HTML":false};var Ma=function(u,x,P){var S,W=[],aa="";for(x=x.nodeType?[x]:
x;S=ba.match.PSEUDO.exec(u);){aa+=S[0];u=u.replace(ba.match.PSEUDO,"")}u=ba.relative[u]?u+"*":u;S=0;for(var ha=x.length;S<ha;S++)U(u,x[S],W,P);return U.filter(aa,W)};U.attr=k.attr;U.selectors.attrMap={};k.find=U;k.expr=U.selectors;k.expr[":"]=k.expr.filters;k.unique=U.uniqueSort;k.text=U.getText;k.isXMLDoc=U.isXML;k.contains=U.contains})();var Nb=/Until$/,Ob=/^(?:parents|prevUntil|prevAll)/,Pb=/,/,Cb=/^.[^:#\[\.,]*$/,Qb=Array.prototype.slice,nb=k.expr.match.POS,Rb={children:true,contents:true,next:true,
prev:true};k.fn.extend({find:function(c){var f=this,n,p;if(typeof c!=="string")return k(c).filter(function(){n=0;for(p=f.length;n<p;n++)if(k.contains(f[n],this))return true});var s=this.pushStack("","find",c),t,z,D;n=0;for(p=this.length;n<p;n++){t=s.length;k.find(c,this[n],s);if(n>0)for(z=t;z<s.length;z++)for(D=0;D<t;D++)if(s[D]===s[z]){s.splice(z--,1);break}}return s},has:function(c){var f=k(c);return this.filter(function(){for(var n=0,p=f.length;n<p;n++)if(k.contains(this,f[n]))return true})},not:function(c){return this.pushStack(r(this,
c,false),"not",c)},filter:function(c){return this.pushStack(r(this,c,true),"filter",c)},is:function(c){return!!c&&(typeof c==="string"?nb.test(c)?k(c,this.context).index(this[0])>=0:k.filter(c,this).length>0:this.filter(c).length>0)},closest:function(c,f){var n=[],p,s,t=this[0];if(k.isArray(c)){for(s=1;t&&t.ownerDocument&&t!==f;){for(p=0;p<c.length;p++)k(t).is(c[p])&&n.push({selector:c[p],elem:t,level:s});t=t.parentNode;s++}return n}var z=nb.test(c)||typeof c!=="string"?k(c,f||this.context):0;p=0;
for(s=this.length;p<s;p++)for(t=this[p];t;)if(z?z.index(t)>-1:k.find.matchesSelector(t,c)){n.push(t);break}else{t=t.parentNode;if(!t||!t.ownerDocument||t===f||t.nodeType===11)break}n=n.length>1?k.unique(n):n;return this.pushStack(n,"closest",c)},index:function(c){if(!c)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof c==="string")return k.inArray(this[0],k(c));return k.inArray(c.jquery?c[0]:c,this)},add:function(c,f){c=typeof c==="string"?k(c,f):k.makeArray(c&&c.nodeType?[c]:
c);f=k.merge(this.get(),c);return this.pushStack(o(c[0])||o(f[0])?f:k.unique(f))},andSelf:function(){return this.add(this.prevObject)}});k.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null},parents:function(c){return k.dir(c,"parentNode")},parentsUntil:function(c,f,n){return k.dir(c,"parentNode",n)},next:function(c){return k.nth(c,2,"nextSibling")},prev:function(c){return k.nth(c,2,"previousSibling")},nextAll:function(c){return k.dir(c,"nextSibling")},prevAll:function(c){return k.dir(c,
"previousSibling")},nextUntil:function(c,f,n){return k.dir(c,"nextSibling",n)},prevUntil:function(c,f,n){return k.dir(c,"previousSibling",n)},siblings:function(c){return k.sibling(c.parentNode.firstChild,c)},children:function(c){return k.sibling(c.firstChild)},contents:function(c){return k.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:k.makeArray(c.childNodes)}},function(c,f){k.fn[c]=function(n,p){var s=k.map(this,f,n);Nb.test(c)||(p=n);if(p&&typeof p==="string")s=k.filter(p,s);
s=this.length>1&&!Rb[c]?k.unique(s):s;if((this.length>1||Pb.test(p))&&Ob.test(c))s=s.reverse();return this.pushStack(s,c,Qb.call(arguments).join(","))}});k.extend({filter:function(c,f,n){if(n)c=":not("+c+")";return f.length===1?k.find.matchesSelector(f[0],c)?[f[0]]:[]:k.find.matches(c,f)},dir:function(c,f,n){var p=[];for(c=c[f];c&&c.nodeType!==9&&(n===d||c.nodeType!==1||!k(c).is(n));){c.nodeType===1&&p.push(c);c=c[f]}return p},nth:function(c,f,n){f=f||1;for(var p=0;c;c=c[n])if(c.nodeType===1&&++p===
f)break;return c},sibling:function(c,f){for(var n=[];c;c=c.nextSibling)c.nodeType===1&&c!==f&&n.push(c);return n}});var gb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Sb=/ jQuery\d+="(?:\d+|null)"/g,db=/^\s+/,ob=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,pb=/<([\w:]+)/,Tb=/<tbody/i,Ub=/<|&#?\w+;/,Vb=/<(?:script|style)/i,Wb=/<(?:script|object|embed|option|style)/i,
qb=new RegExp("<(?:"+gb+")","i"),rb=/checked\s*(?:[^=]|=\s*.checked.)/i,Xb=/\/(java|ecma)script/i,Db=/^\s*<!(?:\[CDATA\[|\-\-)/,La={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},hb=v(R);La.optgroup=La.option;La.tbody=La.tfoot=
La.colgroup=La.caption=La.thead;La.th=La.td;if(!k.support.htmlSerialize)La._default=[1,"div<div>","</div>"];k.fn.extend({text:function(c){if(k.isFunction(c))return this.each(function(f){var n=k(this);n.text(c.call(this,f,n.text()))});if(typeof c!=="object"&&c!==d)return this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(c));return k.text(this)},wrapAll:function(c){if(k.isFunction(c))return this.each(function(n){k(this).wrapAll(c.call(this,n))});if(this[0]){var f=k(c,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&f.insertBefore(this[0]);f.map(function(){for(var n=this;n.firstChild&&n.firstChild.nodeType===1;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(c){if(k.isFunction(c))return this.each(function(f){k(this).wrapInner(c.call(this,f))});return this.each(function(){var f=k(this),n=f.contents();n.length?n.wrapAll(c):f.append(c)})},wrap:function(c){var f=k.isFunction(c);return this.each(function(n){k(this).wrapAll(f?c.call(this,n):c)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,
"body")||k(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(f){this.parentNode.insertBefore(f,this)});else if(arguments.length){var c=k.clean(arguments);c.push.apply(c,this.toArray());
return this.pushStack(c,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(f){this.parentNode.insertBefore(f,this.nextSibling)});else if(arguments.length){var c=this.pushStack(this,"after",arguments);c.push.apply(c,k.clean(arguments));return c}},remove:function(c,f){for(var n=0,p;(p=this[n])!=null;n++)if(!c||k.filter(c,[p]).length){if(!f&&p.nodeType===1){k.cleanData(p.getElementsByTagName("*"));k.cleanData([p])}p.parentNode&&p.parentNode.removeChild(p)}return this},
empty:function(){for(var c=0,f;(f=this[c])!=null;c++)for(f.nodeType===1&&k.cleanData(f.getElementsByTagName("*"));f.firstChild;)f.removeChild(f.firstChild);return this},clone:function(c,f){c=c==null?false:c;f=f==null?c:f;return this.map(function(){return k.clone(this,c,f)})},html:function(c){if(c===d)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Sb,""):null;else if(typeof c==="string"&&!Vb.test(c)&&(k.support.leadingWhitespace||!db.test(c))&&!La[(pb.exec(c)||["",""])[1].toLowerCase()]){c=
c.replace(ob,"<$1></$2>");try{for(var f=0,n=this.length;f<n;f++)if(this[f].nodeType===1){k.cleanData(this[f].getElementsByTagName("*"));this[f].innerHTML=c}}catch(p){this.empty().append(c)}}else k.isFunction(c)?this.each(function(s){var t=k(this);t.html(c.call(this,s,t.html()))}):this.empty().append(c);return this},replaceWith:function(c){if(this[0]&&this[0].parentNode){if(k.isFunction(c))return this.each(function(f){var n=k(this),p=n.html();n.replaceWith(c.call(this,f,p))});if(typeof c!=="string")c=
k(c).detach();return this.each(function(){var f=this.nextSibling,n=this.parentNode;k(this).remove();f?k(f).before(c):k(n).append(c)})}else return this.length?this.pushStack(k(k.isFunction(c)?c():c),"replaceWith",c):this},detach:function(c){return this.remove(c,true)},domManip:function(c,f,n){var p,s,t,z=c[0],D=[];if(!k.support.checkClone&&arguments.length===3&&typeof z==="string"&&rb.test(z))return this.each(function(){k(this).domManip(c,f,n,true)});if(k.isFunction(z))return this.each(function(U){var ga=
k(this);c[0]=z.call(this,U,f?ga.html():d);ga.domManip(c,f,n)});if(this[0]){p=z&&z.parentNode;p=k.support.parentNode&&p&&p.nodeType===11&&p.childNodes.length===this.length?{fragment:p}:k.buildFragment(c,this,D);t=p.fragment;if(s=t.childNodes.length===1?(t=t.firstChild):t.firstChild){f=f&&k.nodeName(s,"tr");for(var E=0,O=this.length,da=O-1;E<O;E++)n.call(f?w(this[E],s):this[E],p.cacheable||O>1&&E<da?k.clone(t,true,true):t)}D.length&&k.each(D,G)}return this}});k.buildFragment=function(c,f,n){var p,s,
t,z,D=c[0];if(f&&f[0])z=f[0].ownerDocument||f[0];z.createDocumentFragment||(z=R);if(c.length===1&&typeof D==="string"&&D.length<512&&z===R&&D.charAt(0)==="<"&&!Wb.test(D)&&(k.support.checkClone||!rb.test(D))&&(k.support.html5Clone||!qb.test(D))){s=true;if((t=k.fragments[D])&&t!==1)p=t}if(!p){p=z.createDocumentFragment();k.clean(c,z,p,n)}if(s)k.fragments[D]=t?p:1;return{fragment:p,cacheable:s}};k.fragments={};k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(c,f){k.fn[c]=function(n){var p=[];n=k(n);var s=this.length===1&&this[0].parentNode;if(s&&s.nodeType===11&&s.childNodes.length===1&&n.length===1){n[f](this[0]);return this}else{s=0;for(var t=n.length;s<t;s++){var z=(s>0?this.clone(true):this).get();k(n[s])[f](z);p=p.concat(z)}return this.pushStack(p,c,n.selector)}}});k.extend({clone:function(c,f,n){var p,s,t,z=k.support.html5Clone||!qb.test("<"+c.nodeName)?c.cloneNode(true):I(c);if((!k.support.noCloneEvent||!k.support.noCloneChecked)&&(c.nodeType===
1||c.nodeType===11)&&!k.isXMLDoc(c)){J(c,z);p=K(c);s=K(z);for(t=0;p[t];++t)s[t]&&J(p[t],s[t])}if(f){A(c,z);if(n){p=K(c);s=K(z);for(t=0;p[t];++t)A(p[t],s[t])}}return z},clean:function(c,f,n,p){f=f||R;if(typeof f.createElement==="undefined")f=f.ownerDocument||f[0]&&f[0].ownerDocument||R;for(var s=[],t,z=0,D;(D=c[z])!=null;z++){if(typeof D==="number")D+="";if(D){if(typeof D==="string")if(Ub.test(D)){D=D.replace(ob,"<$1></$2>");t=(pb.exec(D)||["",""])[1].toLowerCase();var E=La[t]||La._default,O=E[0],
da=f.createElement("div");f===R?hb.appendChild(da):v(f).appendChild(da);for(da.innerHTML=E[1]+D+E[2];O--;)da=da.lastChild;if(!k.support.tbody){O=Tb.test(D);E=t==="table"&&!O?da.firstChild&&da.firstChild.childNodes:E[1]==="<table>"&&!O?da.childNodes:[];for(t=E.length-1;t>=0;--t)k.nodeName(E[t],"tbody")&&!E[t].childNodes.length&&E[t].parentNode.removeChild(E[t])}!k.support.leadingWhitespace&&db.test(D)&&da.insertBefore(f.createTextNode(db.exec(D)[0]),da.firstChild);D=da.childNodes}else D=f.createTextNode(D);
var U;if(!k.support.appendChecked)if(D[0]&&typeof(U=D.length)==="number")for(t=0;t<U;t++)y(D[t]);else y(D);if(D.nodeType)s.push(D);else s=k.merge(s,D)}}if(n){c=function(ga){return!ga.type||Xb.test(ga.type)};for(z=0;s[z];z++)if(p&&k.nodeName(s[z],"script")&&(!s[z].type||s[z].type.toLowerCase()==="text/javascript"))p.push(s[z].parentNode?s[z].parentNode.removeChild(s[z]):s[z]);else{if(s[z].nodeType===1){f=k.grep(s[z].getElementsByTagName("script"),c);s.splice.apply(s,[z+1,0].concat(f))}n.appendChild(s[z])}}return s},
cleanData:function(c){for(var f,n,p=k.cache,s=k.event.special,t=k.support.deleteExpando,z=0,D;(D=c[z])!=null;z++)if(!(D.nodeName&&k.noData[D.nodeName.toLowerCase()]))if(n=D[k.expando]){if((f=p[n])&&f.events){for(var E in f.events)s[E]?k.event.remove(D,E):k.removeEvent(D,E,f.handle);if(f.handle)f.handle.elem=null}if(t)delete D[k.expando];else D.removeAttribute&&D.removeAttribute(k.expando);delete p[n]}}});var eb=/alpha\([^)]*\)/i,Yb=/opacity=([^)]*)/,Zb=/([A-Z]|^ms)/g,sb=/^-?\d+(?:px)?$/i,$b=/^-?\d/,
ac=/^([\-+])=([\-+.\de]+)/,bc={position:"absolute",visibility:"hidden",display:"block"},Eb=["Left","Right"],Fb=["Top","Bottom"],Ua,tb,ub;k.fn.css=function(c,f){if(arguments.length===2&&f===d)return this;return k.access(this,c,f,true,function(n,p,s){return s!==d?k.style(n,p,s):k.css(n,p)})};k.extend({cssHooks:{opacity:{get:function(c,f){if(f){c=Ua(c,"opacity","opacity");return c===""?"1":c}else return c.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,
widows:true,zIndex:true,zoom:true},cssProps:{"float":k.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,f,n,p){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var s,t=k.camelCase(f),z=c.style,D=k.cssHooks[t];f=k.cssProps[t]||t;if(n!==d){p=typeof n;if(p==="string"&&(s=ac.exec(n))){n=+(s[1]+1)*+s[2]+parseFloat(k.css(c,f));p="number"}if(!(n==null||p==="number"&&isNaN(n))){if(p==="number"&&!k.cssNumber[t])n+="px";if(!D||!("set"in D)||(n=D.set(c,n))!==d)try{z[f]=n}catch(E){}}}else{if(D&&
"get"in D&&(s=D.get(c,false,p))!==d)return s;return z[f]}}},css:function(c,f,n){var p,s;f=k.camelCase(f);s=k.cssHooks[f];f=k.cssProps[f]||f;if(f==="cssFloat")f="float";if(s&&"get"in s&&(p=s.get(c,true,n))!==d)return p;else if(Ua)return Ua(c,f)},swap:function(c,f,n){var p={};for(var s in f){p[s]=c.style[s];c.style[s]=f[s]}n.call(c);for(s in f)c.style[s]=p[s]}});k.curCSS=k.css;k.each(["height","width"],function(c,f){k.cssHooks[f]={get:function(n,p,s){var t;if(p){if(n.offsetWidth!==0)return L(n,f,s);
else k.swap(n,bc,function(){t=L(n,f,s)});return t}},set:function(n,p){if(sb.test(p)){p=parseFloat(p);if(p>=0)return p+"px"}else return p}}});if(!k.support.opacity)k.cssHooks.opacity={get:function(c,f){return Yb.test((f&&c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?parseFloat(RegExp.$1)/100+"":f?"1":""},set:function(c,f){var n=c.style;c=c.currentStyle;var p=k.isNumeric(f)?"alpha(opacity="+f*100+")":"",s=c&&c.filter||n.filter||"";n.zoom=1;if(f>=1&&k.trim(s.replace(eb,""))===""){n.removeAttribute("filter");
if(c&&!c.filter)return}n.filter=eb.test(s)?s.replace(eb,p):s+" "+p}};k(function(){if(!k.support.reliableMarginRight)k.cssHooks.marginRight={get:function(c,f){var n;k.swap(c,{display:"inline-block"},function(){n=f?Ua(c,"margin-right","marginRight"):c.style.marginRight});return n}}});if(R.defaultView&&R.defaultView.getComputedStyle)tb=function(c,f){var n,p,s;f=f.replace(Zb,"-$1").toLowerCase();if((p=c.ownerDocument.defaultView)&&(s=p.getComputedStyle(c,null))){n=s.getPropertyValue(f);if(n===""&&!k.contains(c.ownerDocument.documentElement,
c))n=k.style(c,f)}return n};if(R.documentElement.currentStyle)ub=function(c,f){var n,p,s=c.currentStyle&&c.currentStyle[f],t=c.style;if(s===null&&t&&(n=t[f]))s=n;if(!sb.test(s)&&$b.test(s)){n=t.left;if(p=c.runtimeStyle&&c.runtimeStyle.left)c.runtimeStyle.left=c.currentStyle.left;t.left=f==="fontSize"?"1em":s||0;s=t.pixelLeft+"px";t.left=n;if(p)c.runtimeStyle.left=p}return s===""?"auto":s};Ua=tb||ub;if(k.expr&&k.expr.filters){k.expr.filters.hidden=function(c){var f=c.offsetHeight;return c.offsetWidth===
0&&f===0||!k.support.reliableHiddenOffsets&&(c.style&&c.style.display||k.css(c,"display"))==="none"};k.expr.filters.visible=function(c){return!k.expr.filters.hidden(c)}}var cc=/%20/g,Gb=/\[\]$/,vb=/\r?\n/g,dc=/#.*$/,ec=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,fc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,gc=/^(?:GET|HEAD)$/,hc=/^\/\//,wb=/\?/,ic=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,jc=/^(?:select|textarea)/i,ib=/\s+/,
kc=/([?&])_=[^&]*/,xb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,yb=k.fn.load,ab={},zb={},Sa,Ta,Ab=["*/"]+["*"];try{Sa=qa.href}catch(qc){Sa=R.createElement("a");Sa.href="";Sa=Sa.href}Ta=xb.exec(Sa.toLowerCase())||[];k.fn.extend({load:function(c,f,n){if(typeof c!=="string"&&yb)return yb.apply(this,arguments);else if(!this.length)return this;var p=c.indexOf(" ");if(p>=0){var s=c.slice(p,c.length);c=c.slice(0,p)}p="GET";if(f)if(k.isFunction(f)){n=f;f=d}else if(typeof f==="object"){f=k.param(f,
k.ajaxSettings.traditional);p="POST"}var t=this;k.ajax({url:c,type:p,dataType:"html",data:f,complete:function(z,D,E){E=z.responseText;if(z.isResolved()){z.done(function(O){E=O});t.html(s?k("<div>").append(E.replace(ic,"")).find(s):E)}n&&t.each(n,[E,D,z])}});return this},serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?k.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||
jc.test(this.nodeName)||fc.test(this.type))}).map(function(c,f){c=k(this).val();return c==null?null:k.isArray(c)?k.map(c,function(n){return{name:f.name,value:n.replace(vb,"\r\n")}}):{name:f.name,value:c.replace(vb,"\r\n")}}).get()}});k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,f){k.fn[f]=function(n){return this.on(f,n)}});k.each(["get","post"],function(c,f){k[f]=function(n,p,s,t){if(k.isFunction(p)){t=t||s;s=p;p=d}return k.ajax({type:f,url:n,data:p,
success:s,dataType:t})}});k.extend({getScript:function(c,f){return k.get(c,d,f,"script")},getJSON:function(c,f,n){return k.get(c,f,n,"json")},ajaxSetup:function(c,f){if(f)T(c,k.ajaxSettings);else{f=c;c=k.ajaxSettings}T(c,f);return c},ajaxSettings:{url:Sa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ta[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",
json:"application/json, text/javascript","*":Ab},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":h.String,"text html":true,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:M(ab),ajaxTransport:M(zb),ajax:function(c,f){function n(u,x,P,S){if(Ca!==2){Ca=2;za&&clearTimeout(za);ra=d;ga=S||"";sa.readyState=u>0?4:0;var W,aa,ha;S=x;P=P?Q(p,sa,P):d;var ja;if(u>=200&&u<300||u===304){if(p.ifModified){if(ja=
sa.getResponseHeader("Last-Modified"))k.lastModified[O]=ja;if(ja=sa.getResponseHeader("Etag"))k.etag[O]=ja}if(u===304){S="notmodified";W=true}else try{aa=Z(p,P);S="success";W=true}catch(va){S="parsererror";ha=va}}else{ha=S;if(!S||u){S="error";if(u<0)u=0}}sa.status=u;sa.statusText=""+(x||S);W?z.resolveWith(s,[aa,S,sa]):z.rejectWith(s,[sa,S,ha]);sa.statusCode(E);E=d;if(Aa)t.trigger("ajax"+(W?"Success":"Error"),[sa,p,W?aa:ha]);D.fireWith(s,[sa,S]);if(Aa){t.trigger("ajaxComplete",[sa,p]);--k.active||
k.event.trigger("ajaxStop")}}}if(typeof c==="object"){f=c;c=d}f=f||{};var p=k.ajaxSetup({},f),s=p.context||p,t=s!==p&&(s.nodeType||s instanceof k)?k(s):k.event,z=k.Deferred(),D=k.Callbacks("once memory"),E=p.statusCode||{},O,da={},U={},ga,ba,ra,za,Ca=0,Aa,Pa,sa={readyState:0,setRequestHeader:function(u,x){if(!Ca){var P=u.toLowerCase();u=U[P]=U[P]||u;da[u]=x}return this},getAllResponseHeaders:function(){return Ca===2?ga:null},getResponseHeader:function(u){var x;if(Ca===2){if(!ba)for(ba={};x=ec.exec(ga);)ba[x[1].toLowerCase()]=
x[2];x=ba[u.toLowerCase()]}return x===d?null:x},overrideMimeType:function(u){if(!Ca)p.mimeType=u;return this},abort:function(u){u=u||"abort";ra&&ra.abort(u);n(0,u);return this}};z.promise(sa);sa.success=sa.done;sa.error=sa.fail;sa.complete=D.add;sa.statusCode=function(u){if(u){var x;if(Ca<2)for(x in u)E[x]=[E[x],u[x]];else{x=u[sa.status];sa.then(x,x)}}return this};p.url=((c||p.url)+"").replace(dc,"").replace(hc,Ta[1]+"//");p.dataTypes=k.trim(p.dataType||"*").toLowerCase().split(ib);if(p.crossDomain==
null){c=xb.exec(p.url.toLowerCase());p.crossDomain=!!(c&&(c[1]!=Ta[1]||c[2]!=Ta[2]||(c[3]||(c[1]==="http:"?80:443))!=(Ta[3]||(Ta[1]==="http:"?80:443))))}if(p.data&&p.processData&&typeof p.data!=="string")p.data=k.param(p.data,p.traditional);ca(ab,p,f,sa);if(Ca===2)return false;Aa=p.global;p.type=p.type.toUpperCase();p.hasContent=!gc.test(p.type);Aa&&k.active++===0&&k.event.trigger("ajaxStart");if(!p.hasContent){if(p.data){p.url+=(wb.test(p.url)?"&":"?")+p.data;delete p.data}O=p.url;if(p.cache===false){c=
k.now();var Oa=p.url.replace(kc,"$1_="+c);p.url=Oa+(Oa===p.url?(wb.test(p.url)?"&":"?")+"_="+c:"")}}if(p.data&&p.hasContent&&p.contentType!==false||f.contentType)sa.setRequestHeader("Content-Type",p.contentType);if(p.ifModified){O=O||p.url;k.lastModified[O]&&sa.setRequestHeader("If-Modified-Since",k.lastModified[O]);k.etag[O]&&sa.setRequestHeader("If-None-Match",k.etag[O])}sa.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(p.dataTypes[0]!=="*"?", "+Ab+
"; q=0.01":""):p.accepts["*"]);for(Pa in p.headers)sa.setRequestHeader(Pa,p.headers[Pa]);if(p.beforeSend&&(p.beforeSend.call(s,sa,p)===false||Ca===2)){sa.abort();return false}for(Pa in{success:1,error:1,complete:1})sa[Pa](p[Pa]);if(ra=ca(zb,p,f,sa)){sa.readyState=1;Aa&&t.trigger("ajaxSend",[sa,p]);if(p.async&&p.timeout>0)za=setTimeout(function(){sa.abort("timeout")},p.timeout);try{Ca=1;ra.send(da,n)}catch(Ma){if(Ca<2)n(-1,Ma);else throw Ma;}}else n(-1,"No Transport");return sa},param:function(c,f){var n=
[],p=function(t,z){z=k.isFunction(z)?z():z;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(z)};if(f===d)f=k.ajaxSettings.traditional;if(k.isArray(c)||c.jquery&&!k.isPlainObject(c))k.each(c,function(){p(this.name,this.value)});else for(var s in c)H(s,c[s],f,p);return n.join("&").replace(cc,"+")}});k.extend({active:0,lastModified:{},etag:{}});var lc=k.now(),Za=/(\=)\?(&|$)|\?\?/i;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return k.expando+"_"+lc++}});k.ajaxPrefilter("json jsonp",
function(c,f,n){f=c.contentType==="application/x-www-form-urlencoded"&&typeof c.data==="string";if(c.dataTypes[0]==="jsonp"||c.jsonp!==false&&(Za.test(c.url)||f&&Za.test(c.data))){var p,s=c.jsonpCallback=k.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,t=h[s],z=c.url,D=c.data,E="$1"+s+"$2";if(c.jsonp!==false){z=z.replace(Za,E);if(c.url===z){if(f)D=D.replace(Za,E);if(c.data===D)z+=(/\?/.test(z)?"&":"?")+c.jsonp+"="+s}}c.url=z;c.data=D;h[s]=function(O){p=[O]};n.always(function(){h[s]=
t;p&&k.isFunction(t)&&h[s](p[0])});c.converters["script json"]=function(){p||k.error(s+" was not called");return p[0]};c.dataTypes[0]="json";return"script"}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(c){k.globalEval(c);return c}}});k.ajaxPrefilter("script",function(c){if(c.cache===d)c.cache=false;if(c.crossDomain){c.type="GET";c.global=false}});
k.ajaxTransport("script",function(c){if(c.crossDomain){var f,n=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(p,s){f=R.createElement("script");f.async="async";if(c.scriptCharset)f.charset=c.scriptCharset;f.src=c.url;f.onload=f.onreadystatechange=function(t,z){if(z||!f.readyState||/loaded|complete/.test(f.readyState)){f.onload=f.onreadystatechange=null;n&&f.parentNode&&n.removeChild(f);f=d;z||s(200,"success")}};n.insertBefore(f,n.firstChild)},abort:function(){f&&
f.onload(0,1)}}}});var fb=h.ActiveXObject?function(){for(var c in Wa)Wa[c](0,1)}:false,mc=0,Wa;k.ajaxSettings.xhr=h.ActiveXObject?function(){return!this.isLocal&&Y()||ma()}:Y;(function(c){k.extend(k.support,{ajax:!!c,cors:!!c&&"withCredentials"in c})})(k.ajaxSettings.xhr());k.support.ajax&&k.ajaxTransport(function(c){if(!c.crossDomain||k.support.cors){var f;return{send:function(n,p){var s=c.xhr(),t,z;c.username?s.open(c.type,c.url,c.async,c.username,c.password):s.open(c.type,c.url,c.async);if(c.xhrFields)for(z in c.xhrFields)s[z]=
c.xhrFields[z];c.mimeType&&s.overrideMimeType&&s.overrideMimeType(c.mimeType);if(!c.crossDomain&&!n["X-Requested-With"])n["X-Requested-With"]="XMLHttpRequest";try{for(z in n)s.setRequestHeader(z,n[z])}catch(D){}s.send(c.hasContent&&c.data||null);f=function(E,O){var da,U,ga,ba,ra;try{if(f&&(O||s.readyState===4)){f=d;if(t){s.onreadystatechange=k.noop;fb&&delete Wa[t]}if(O)s.readyState!==4&&s.abort();else{da=s.status;ga=s.getAllResponseHeaders();ba={};if((ra=s.responseXML)&&ra.documentElement)ba.xml=
ra;ba.text=s.responseText;try{U=s.statusText}catch(za){U=""}if(!da&&c.isLocal&&!c.crossDomain)da=ba.text?200:404;else if(da===1223)da=204}}}catch(Ca){O||p(-1,Ca)}ba&&p(da,U,ba,ga)};if(!c.async||s.readyState===4)f();else{t=++mc;if(fb){if(!Wa){Wa={};k(h).unload(fb)}Wa[t]=f}s.onreadystatechange=f}},abort:function(){f&&f(0,1)}}}});var bb={},Na,Va,nc=/^(?:toggle|show|hide)$/,oc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,$a,jb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft",
"marginRight","paddingLeft","paddingRight"],["opacity"]],Ya;k.fn.extend({show:function(c,f,n){if(c||c===0)return this.animate(N("show",3),c,f,n);else{n=0;for(var p=this.length;n<p;n++){c=this[n];if(c.style){f=c.style.display;if(!k._data(c,"olddisplay")&&f==="none")f=c.style.display="";f===""&&k.css(c,"display")==="none"&&k._data(c,"olddisplay",V(c.nodeName))}}for(n=0;n<p;n++){c=this[n];if(c.style){f=c.style.display;if(f===""||f==="none")c.style.display=k._data(c,"olddisplay")||""}}return this}},hide:function(c,
f,n){if(c||c===0)return this.animate(N("hide",3),c,f,n);else{n=0;for(var p=this.length;n<p;n++){c=this[n];if(c.style){f=k.css(c,"display");f!=="none"&&!k._data(c,"olddisplay")&&k._data(c,"olddisplay",f)}}for(n=0;n<p;n++)if(this[n].style)this[n].style.display="none";return this}},_toggle:k.fn.toggle,toggle:function(c,f,n){var p=typeof c==="boolean";if(k.isFunction(c)&&k.isFunction(f))this._toggle.apply(this,arguments);else c==null||p?this.each(function(){var s=p?c:k(this).is(":hidden");k(this)[s?"show":
"hide"]()}):this.animate(N("toggle",3),c,f,n);return this},fadeTo:function(c,f,n,p){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:f},c,n,p)},animate:function(c,f,n,p){function s(){t.queue===false&&k._mark(this);var z=k.extend({},t),D=this.nodeType===1,E=D&&k(this).is(":hidden"),O,da,U,ga,ba;z.animatedProperties={};for(U in c){O=k.camelCase(U);if(U!==O){c[O]=c[U];delete c[U]}da=c[O];if(k.isArray(da)){z.animatedProperties[O]=da[1];da=c[O]=da[0]}else z.animatedProperties[O]=
z.specialEasing&&z.specialEasing[O]||z.easing||"swing";if(da==="hide"&&E||da==="show"&&!E)return z.complete.call(this);if(D&&(O==="height"||O==="width")){z.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(k.css(this,"display")==="inline"&&k.css(this,"float")==="none")if(!k.support.inlineBlockNeedsLayout||V(this.nodeName)==="inline")this.style.display="inline-block";else this.style.zoom=1}}if(z.overflow!=null)this.style.overflow="hidden";for(U in c){D=new k.fx(this,z,U);
da=c[U];if(nc.test(da))if(O=k._data(this,"toggle"+U)||(da==="toggle"?E?"show":"hide":0)){k._data(this,"toggle"+U,O==="show"?"hide":"show");D[O]()}else D[da]();else{O=oc.exec(da);ga=D.cur();if(O){da=parseFloat(O[2]);ba=O[3]||(k.cssNumber[U]?"":"px");if(ba!=="px"){k.style(this,U,(da||1)+ba);ga=(da||1)/D.cur()*ga;k.style(this,U,ga+ba)}if(O[1])da=(O[1]==="-="?-1:1)*da+ga;D.custom(ga,da,ba)}else D.custom(ga,da,"")}}return true}var t=k.speed(f,n,p);if(k.isEmptyObject(c))return this.each(t.complete,[false]);
c=k.extend({},c);return t.queue===false?this.each(s):this.queue(t.queue,s)},stop:function(c,f,n){if(typeof c!=="string"){n=f;f=c;c=d}if(f&&c!==false)this.queue(c||"fx",[]);return this.each(function(){function p(E,O,da){O=O[da];k.removeData(E,da,true);O.stop(n)}var s,t=false,z=k.timers,D=k._data(this);n||k._unmark(true,this);if(c==null)for(s in D)D[s]&&D[s].stop&&s.indexOf(".run")===s.length-4&&p(this,D,s);else if(D[s=c+".run"]&&D[s].stop)p(this,D,s);for(s=z.length;s--;)if(z[s].elem===this&&(c==null||
z[s].queue===c)){n?z[s](true):z[s].saveState();t=true;z.splice(s,1)}n&&t||k.dequeue(this,c)})}});k.each({slideDown:N("show",1),slideUp:N("hide",1),slideToggle:N("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,f){k.fn[c]=function(n,p,s){return this.animate(f,n,p,s)}});k.extend({speed:function(c,f,n){var p=c&&typeof c==="object"?k.extend({},c):{complete:n||!n&&f||k.isFunction(c)&&c,duration:c,easing:n&&f||f&&!k.isFunction(f)&&f};p.duration=k.fx.off?
0:typeof p.duration==="number"?p.duration:p.duration in k.fx.speeds?k.fx.speeds[p.duration]:k.fx.speeds._default;if(p.queue==null||p.queue===true)p.queue="fx";p.old=p.complete;p.complete=function(s){k.isFunction(p.old)&&p.old.call(this);if(p.queue)k.dequeue(this,p.queue);else s!==false&&k._unmark(this)};return p},easing:{linear:function(c,f,n,p){return n+p*c},swing:function(c,f,n,p){return(-Math.cos(c*Math.PI)/2+0.5)*p+n}},timers:[],fx:function(c,f,n){this.options=f;this.elem=c;this.prop=n;f.orig=
f.orig||{}}});k.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(k.fx.step[this.prop]||k.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var c,f=k.css(this.elem,this.prop);return isNaN(c=parseFloat(f))?!f||f==="auto"?0:f:c},custom:function(c,f,n){function p(z){return s.step(z)}var s=this,t=k.fx;this.startTime=Ya||na();this.end=f;this.now=this.start=
c;this.pos=this.state=0;this.unit=n||this.unit||(k.cssNumber[this.prop]?"":"px");p.queue=this.options.queue;p.elem=this.elem;p.saveState=function(){s.options.hide&&k._data(s.elem,"fxshow"+s.prop)===d&&k._data(s.elem,"fxshow"+s.prop,s.start)};if(p()&&k.timers.push(p)&&!$a)$a=setInterval(t.tick,t.interval)},show:function(){var c=k._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=c||k.style(this.elem,this.prop);this.options.show=true;c!==d?this.custom(this.cur(),c):this.custom(this.prop===
"width"||this.prop==="height"?1:0,this.cur());k(this.elem).show()},hide:function(){this.options.orig[this.prop]=k._data(this.elem,"fxshow"+this.prop)||k.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(c){var f,n=Ya||na(),p=true,s=this.elem,t=this.options;if(c||n>=t.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();t.animatedProperties[this.prop]=true;for(f in t.animatedProperties)if(t.animatedProperties[f]!==true)p=false;if(p){t.overflow!=
null&&!k.support.shrinkWrapBlocks&&k.each(["","X","Y"],function(z,D){s.style["overflow"+D]=t.overflow[z]});t.hide&&k(s).hide();if(t.hide||t.show)for(f in t.animatedProperties){k.style(s,f,t.orig[f]);k.removeData(s,"fxshow"+f,true);k.removeData(s,"toggle"+f,true)}if(c=t.complete){t.complete=false;c.call(s)}}return false}else{if(t.duration==Infinity)this.now=n;else{c=n-this.startTime;this.state=c/t.duration;this.pos=k.easing[t.animatedProperties[this.prop]](this.state,c,0,1,t.duration);this.now=this.start+
(this.end-this.start)*this.pos}this.update()}return true}};k.extend(k.fx,{tick:function(){for(var c,f=k.timers,n=0;n<f.length;n++){c=f[n];!c()&&f[n]===c&&f.splice(n--,1)}f.length||k.fx.stop()},interval:13,stop:function(){clearInterval($a);$a=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(c){k.style(c.elem,"opacity",c.now)},_default:function(c){if(c.elem.style&&c.elem.style[c.prop]!=null)c.elem.style[c.prop]=c.now+c.unit;else c.elem[c.prop]=c.now}}});k.each(["width","height"],
function(c,f){k.fx.step[f]=function(n){k.style(n.elem,f,Math.max(0,n.now)+n.unit)}});if(k.expr&&k.expr.filters)k.expr.filters.animated=function(c){return k.grep(k.timers,function(f){return c===f.elem}).length};var pc=/^t(?:able|d|h)$/i,Bb=/^(?:body|html)$/i;k.fn.offset="getBoundingClientRect"in R.documentElement?function(c){var f=this[0],n;if(c)return this.each(function(z){k.offset.setOffset(this,c,z)});if(!f||!f.ownerDocument)return null;if(f===f.ownerDocument.body)return k.offset.bodyOffset(f);
try{n=f.getBoundingClientRect()}catch(p){}var s=f.ownerDocument,t=s.documentElement;if(!n||!k.contains(t,f))return n?{top:n.top,left:n.left}:{top:0,left:0};f=s.body;s=ka(s);return{top:n.top+(s.pageYOffset||k.support.boxModel&&t.scrollTop||f.scrollTop)-(t.clientTop||f.clientTop||0),left:n.left+(s.pageXOffset||k.support.boxModel&&t.scrollLeft||f.scrollLeft)-(t.clientLeft||f.clientLeft||0)}}:function(c){var f=this[0];if(c)return this.each(function(da){k.offset.setOffset(this,c,da)});if(!f||!f.ownerDocument)return null;
if(f===f.ownerDocument.body)return k.offset.bodyOffset(f);var n,p=f.offsetParent,s=f,t=f.ownerDocument,z=t.documentElement,D=t.body;n=(t=t.defaultView)?t.getComputedStyle(f,null):f.currentStyle;for(var E=f.offsetTop,O=f.offsetLeft;(f=f.parentNode)&&f!==D&&f!==z;){if(k.support.fixedPosition&&n.position==="fixed")break;n=t?t.getComputedStyle(f,null):f.currentStyle;E-=f.scrollTop;O-=f.scrollLeft;if(f===p){E+=f.offsetTop;O+=f.offsetLeft;if(k.support.doesNotAddBorder&&!(k.support.doesAddBorderForTableAndCells&&
pc.test(f.nodeName))){E+=parseFloat(n.borderTopWidth)||0;O+=parseFloat(n.borderLeftWidth)||0}s=p;p=f.offsetParent}if(k.support.subtractsBorderForOverflowNotVisible&&n.overflow!=="visible"){E+=parseFloat(n.borderTopWidth)||0;O+=parseFloat(n.borderLeftWidth)||0}n=n}if(n.position==="relative"||n.position==="static"){E+=D.offsetTop;O+=D.offsetLeft}if(k.support.fixedPosition&&n.position==="fixed"){E+=Math.max(z.scrollTop,D.scrollTop);O+=Math.max(z.scrollLeft,D.scrollLeft)}return{top:E,left:O}};k.offset=
{bodyOffset:function(c){var f=c.offsetTop,n=c.offsetLeft;if(k.support.doesNotIncludeMarginInBodyOffset){f+=parseFloat(k.css(c,"marginTop"))||0;n+=parseFloat(k.css(c,"marginLeft"))||0}return{top:f,left:n}},setOffset:function(c,f,n){var p=k.css(c,"position");if(p==="static")c.style.position="relative";var s=k(c),t=s.offset(),z=k.css(c,"top"),D=k.css(c,"left"),E={},O={};if((p==="absolute"||p==="fixed")&&k.inArray("auto",[z,D])>-1){O=s.position();p=O.top;D=O.left}else{p=parseFloat(z)||0;D=parseFloat(D)||
0}if(k.isFunction(f))f=f.call(c,n,t);if(f.top!=null)E.top=f.top-t.top+p;if(f.left!=null)E.left=f.left-t.left+D;"using"in f?f.using.call(c,E):s.css(E)}};k.fn.extend({position:function(){if(!this[0])return null;var c=this[0],f=this.offsetParent(),n=this.offset(),p=Bb.test(f[0].nodeName)?{top:0,left:0}:f.offset();n.top-=parseFloat(k.css(c,"marginTop"))||0;n.left-=parseFloat(k.css(c,"marginLeft"))||0;p.top+=parseFloat(k.css(f[0],"borderTopWidth"))||0;p.left+=parseFloat(k.css(f[0],"borderLeftWidth"))||
0;return{top:n.top-p.top,left:n.left-p.left}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||R.body;c&&!Bb.test(c.nodeName)&&k.css(c,"position")==="static";)c=c.offsetParent;return c})}});k.each(["Left","Top"],function(c,f){var n="scroll"+f;k.fn[n]=function(p){var s,t;if(p===d){s=this[0];if(!s)return null;return(t=ka(s))?"pageXOffset"in t?t[c?"pageYOffset":"pageXOffset"]:k.support.boxModel&&t.document.documentElement[n]||t.document.body[n]:s[n]}return this.each(function(){if(t=
ka(this))t.scrollTo(!c?p:k(t).scrollLeft(),c?p:k(t).scrollTop());else this[n]=p})}});k.each(["Height","Width"],function(c,f){var n=f.toLowerCase();k.fn["inner"+f]=function(){var p=this[0];return p?p.style?parseFloat(k.css(p,n,"padding")):this[n]():null};k.fn["outer"+f]=function(p){var s=this[0];return s?s.style?parseFloat(k.css(s,n,p?"margin":"border")):this[n]():null};k.fn[n]=function(p){var s=this[0];if(!s)return p==null?null:this;if(k.isFunction(p))return this.each(function(D){var E=k(this);E[n](p.call(this,
D,E[n]()))});if(k.isWindow(s)){var t=s.document.documentElement["client"+f],z=s.document.body;return s.document.compatMode==="CSS1Compat"&&t||z&&z["client"+f]||t}else if(s.nodeType===9)return Math.max(s.documentElement["client"+f],s.body["scroll"+f],s.documentElement["scroll"+f],s.body["offset"+f],s.documentElement["offset"+f]);else if(p===d){s=k.css(s,n);t=parseFloat(s);return k.isNumeric(t)?t:s}else return this.css(n,typeof p==="string"?p:p+"px")}});h.jQuery=h.$=k;typeof define==="function"&&define.amd&&
define.amd.jQuery&&define("jquery",[],function(){return k})})(window);steal.loaded("jquery/jquery.js");window.Storage=window.localStorage;var storage=function(){try{localStorage.setItem("testLocalStorage","testLocalStorage");return true}catch(h){return false}}();
storage||function(){var h=function(d){function g(o,r,v){var w;if(v){w=new Date;w.setTime(w.getTime()+v*24*60*60*1E3);v="; expires="+w.toGMTString()}else v="";document.cookie=o+"="+r+v+"; path=/"}function a(o){o=o+"=";var r=document.cookie.split(";"),v,w;for(v=0;v<r.length;v++){for(w=r[v];w.charAt(0)==" ";)w=w.substring(1,w.length);if(w.indexOf(o)==0)return w.substring(o.length,w.length)}return null}function e(o){o=JSON.stringify(o);if(d=="session")window.name=o;else g("localStorage",o,365)}function j(){if(d==
"session")window.name="";else g("localStorage","",365)}function q(){var o=d=="session"?window.name:a("localStorage");return o?JSON.parse(o):{}}var l=q();return{length:0,clear:function(){l={};this.length=0;j()},getItem:function(o){return l[o]===undefined?null:l[o]},key:function(o){var r=0;for(var v in l)if(r==o)return v;else r++;return null},removeItem:function(o){delete l[o];this.length--;e(l)},setItem:function(o,r){l[o]=r+"";this.length++;e(l)}}};window.Storage=new h("local");window.sessionStorage=
new h("session")}();
(function(){if(!("JSON"in window&&JSON.stringify&&JSON.parse)){if(!this.JSON)this.JSON={};(function(){function h(r){return r<10?"0"+r:r}function d(r){e.lastIndex=0;return e.test(r)?'"'+r.replace(e,function(v){var w=l[v];return typeof w==="string"?w:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+r+'"'}function g(r,v){var w,A,J=j,K,B=v[r];if(B&&typeof B==="object"&&typeof B.toJSON==="function")B=B.toJSON(r);if(typeof o==="function")B=o.call(v,r,B);switch(typeof B){case "string":return d(B);case "number":return isFinite(B)?
String(B):"null";case "boolean":case "null":return String(B);case "object":if(!B)return"null";j+=q;K=[];if(Object.prototype.toString.apply(B)==="[object Array]"){A=B.length;for(r=0;r<A;r+=1)K[r]=g(r,B)||"null";v=K.length===0?"[]":j?"[\n"+j+K.join(",\n"+j)+"\n"+J+"]":"["+K.join(",")+"]";j=J;return v}if(o&&typeof o==="object"){A=o.length;for(r=0;r<A;r+=1){w=o[r];if(typeof w==="string")if(v=g(w,B))K.push(d(w)+(j?": ":":")+v)}}else for(w in B)if(Object.hasOwnProperty.call(B,w))if(v=g(w,B))K.push(d(w)+
(j?": ":":")+v);v=K.length===0?"{}":j?"{\n"+j+K.join(",\n"+j)+"\n"+J+"}":"{"+K.join(",")+"}";j=J;return v}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,q,l={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;if(typeof JSON.stringify!=="function")JSON.stringify=function(r,v,w){var A;q=j="";if(typeof w==="number")for(A=0;A<w;A+=1)q+=" ";else if(typeof w==="string")q=w;if((o=v)&&typeof v!=="function"&&(typeof v!=="object"||typeof v.length!=="number"))throw new Error("JSON.stringify");return g("",
{"":r})};if(typeof JSON.parse!=="function")JSON.parse=function(r,v){function w(A,J){var K,B,y=A[J];if(y&&typeof y==="object")for(K in y)if(Object.hasOwnProperty.call(y,K)){B=w(y,K);if(B!==undefined)y[K]=B;else delete y[K]}return v.call(A,J,y)}r=String(r);a.lastIndex=0;if(a.test(r))r=r.replace(a,function(A){return"\\u"+("0000"+A.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(r.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){r=eval("("+r+")");return typeof v==="function"?w({"":r},""):r}throw new SyntaxError("JSON.parse");}})()}})();function empty(h){if(!h)return false;var d;for(d=h.childNodes.length-1;d>=0;d--)h.removeChild(h.childNodes[d])}$.extend({linkUrl:function(h){if(h)return h.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1" target="_blank">$1</a>')}});
$.extend({URLEncode:function(h){if(!h)return false;var d="",g=0;h=h.toString();for(var a=/(^[a-zA-Z0-9_.]*)/;g<h.length;){var e=a.exec(h.substr(g));if(e!=null&&e.length>1&&e[1]!=""){d+=e[1];g+=e[1].length}else{if(h[g]==" ")d+="+";else{e=h.charCodeAt(g).toString(16);d+="%"+(e.length<2?"0":"")+e.toUpperCase()}g++}}return d},URLDecode:function(h){h=h;for(var d,g=/(%[^%]{2})/;(m=g.exec(h))!=null&&m.length>1&&m[1]!="";){b=parseInt(m[1].substr(1),16);d=String.fromCharCode(b);h=h.replace(m[1],d)}return h}});
$.extend({encode64:function(h){var d="",g,a,e,j,q,l,o=0;for(h=function(r){r=r.replace(/\r\n/g,"\n");for(var v="",w=0;w<r.length;w++){var A=r.charCodeAt(w);if(A<128)v+=String.fromCharCode(A);else{if(A>127&&A<2048)v+=String.fromCharCode(A>>6|192);else{v+=String.fromCharCode(A>>12|224);v+=String.fromCharCode(A>>6&63|128)}v+=String.fromCharCode(A&63|128)}}return v}(h);o<h.length;){g=h.charCodeAt(o++);a=h.charCodeAt(o++);e=h.charCodeAt(o++);j=g>>2;g=(g&3)<<4|a>>4;q=(a&15)<<2|e>>6;l=e&63;if(isNaN(a))q=
l=64;else if(isNaN(e))l=64;d=d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(q)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)}return d}});
$.fn.serializeObject=function(){var h={},d=this.serializeArray();$.each(d,function(){if(h[this.name]!==undefined){h[this.name].push||(h[this.name]=[h[this.name]]);h[this.name].push(this.value||"")}else h[this.name]=this.value||""});return h};steal.loaded("webapp/core/utils.js");
var WebService={connectError:"<strong>Could not connect to FastND web service. </strong><br>Please try again in a few minutes. <br> Sorry for the delay in accessing our service. If the problem persists, please contact us.",auth:function(h){$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/user_sessions.json",type:"POST",data:{user_session:{login:h.username,password:h.password}},success:function(d){h.complete&&h.complete(d)},error:function(){$().toastmessage("showErrorToast","<strong>Invalid Username or Password</strong><br /> Please try again. ")},
complete:function(){$.mobile.hidePageLoadingMsg()}})},focus:function(h){var d=function(g,a){g=g.title.toLowerCase();a=a.title.toLowerCase();if(g<a)return-1;if(g>a)return 1;return 0};$.ajax({url:finforeBaseUrl+"/category_focus.json",type:"GET",success:function(g){g[0].profiles.sort(d);g[1].profiles.sort(d);g[2].profiles.sort(d);h.complete&&h.complete(g)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"});Loader.hide()}})},updateUser:function(h){Loader.show();
$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:h.data},success:function(d){finfore.data.user=d;finfore.storeData({user:d});h.complete&&h.complete(d)},error:function(){$().toastmessage("showToast",{text:"There was a problem updating your profile. Please try again later. ",type:"error",sticky:true})},complete:function(){Loader.hide()}})},refreshUser:function(h){Loader.show();$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"GET",success:function(d){finfore.data.user=
d;finfore.storeData({user:d});h.complete&&h.complete(d)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"})},complete:function(){Loader.hide()}})},updateCompanies:function(h){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:{user_company_tabs_attributes:h.userCompanyTabs}},success:function(){h.complete&&h.complete()}})},updateColumns:function(h){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+
".json",type:"PUT",data:{user:{feed_accounts_attributes:h.columns}},success:function(){h.complete&&h.complete()}})},getColumn:function(){}},Loader={$body:$("body"),show:function(){this.$body.addClass("ui-loading")},hide:function(){this.$body.removeClass("ui-loading")}},feedReader={},callbackCounter=-1;
feedReader.get=function(h){var d="select channel.title, channel.item.title, channel.item.link, channel.item.enclosure, channel.item.description, channel.item.date, channel.item.pubDate from xml where url in(";$.each(h.sources,function(j,q){if(j!==0)d+=",";d+='"'+q+'"'});d+=') | unique(field="channel.item.link") | sort(field="channel.item.date", descending="true") | sort(field="channel.item.pubDate", descending="true")  | truncate(count='+h.limit+")";var g="feedReaderCallback";if(h.callbackId)g+=h.callbackId;
else{callbackCounter++;g+=callbackCounter}window[g]=function(j){feedReaderCallback(j,h);delete window[g]};var a="http://query.yahooapis.com/v1/public/yql?q="+$.URLEncode(d)+"&format=json&diagnostics=false&_maxage=300&callback="+g;if(finfore.smallScreen||finfore.tablet)a=finforeAppUrl+"mobileProxy.php?url="+$.URLEncode(a)+"&mode=native";var e=document.createElement("script");e.type="text/javascript";e.src=a;document.body.appendChild(e)};
function feedReaderCallback(h,d){var g=[],a="";if(h.query&&h.query.results&&h.query.results.rss){if(!$.isArray(h.query.results.rss))h.query.results.rss=[h.query.results.rss];g=$.map(h.query.results.rss,function(e){if(!e.channel.item)return null;if(e.channel.item.description)a=e.channel.item.description.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";else if(e.channel.item.summary)a=e.channel.item.summary.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";try{return{title:e.channel.item.title.replace(/(<([^>]+)>)/ig,
""),link:e.channel.item.link,description:a,pubDate:e.channel.item.pubDate?new Date(e.channel.item.pubDate):new Date(e.channel.item.date),source:e.channel.title,enclosure:e.channel.item.enclosure}}catch(j){return null}})}d.complete(g)}steal.loaded("webapp/core/api.js");
(function(h,d,g){typeof define==="function"&&define.amd?define(["jquery"],function(a){g(a,h,d);return a.mobile}):g(h.jQuery,h,d)})(this,document,function(h,d,g){(function(a,e,j,q){function l(fa){for(;fa&&typeof fa.originalEvent!=="undefined";)fa=fa.originalEvent;return fa}function o(fa,la){var oa=fa.type,xa,Ga,Ia;fa=a.Event(fa);fa.type=la;xa=fa.originalEvent;Ga=a.event.props;if(oa.search(/^(mouse|click)/)>-1)Ga=C;if(xa)for(Ia=Ga.length;Ia;){la=Ga[--Ia];fa[la]=xa[la]}if(oa.search(/mouse(down|up)|click/)>
-1&&!fa.which)fa.which=1;if(oa.search(/^touch/)!==-1){la=l(xa);oa=la.touches;la=la.changedTouches;if(oa=oa&&oa.length?oa[0]:la&&la.length?la[0]:q){xa=0;for(len=na.length;xa<len;xa++){la=na[xa];fa[la]=oa[la]}}}return fa}function r(fa){for(var la={},oa,xa;fa;){oa=a.data(fa,Y);for(xa in oa)if(oa[xa])la[xa]=la.hasVirtualBinding=true;fa=fa.parentNode}return la}function v(fa,la){for(var oa;fa;){if((oa=a.data(fa,Y))&&(!la||oa[la]))return fa;fa=fa.parentNode}return null}function w(){ua=false}function A(){ua=
true}function J(){Ha=0;qa.length=0;k=false;A()}function K(){w()}function B(){y();V=setTimeout(function(){V=0;J()},a.vmouse.resetTimerDuration)}function y(){if(V){clearTimeout(V);V=0}}function I(fa,la,oa){var xa;if(oa&&oa[fa]||!oa&&v(la.target,fa)){xa=o(la,fa);a(la.target).trigger(xa)}return xa}function G(fa){var la=a.data(fa.target,ma);if(!k&&(!Ha||Ha!==la))if(la=I("v"+fa.type,fa)){la.isDefaultPrevented()&&fa.preventDefault();la.isPropagationStopped()&&fa.stopPropagation();la.isImmediatePropagationStopped()&&
fa.stopImmediatePropagation()}}function L(fa){var la=l(fa).touches,oa;if(la&&la.length===1){oa=fa.target;la=r(oa);if(la.hasVirtualBinding){Ha=ya++;a.data(oa,ma,Ha);y();K();pa=false;oa=l(fa).touches[0];ka=oa.pageX;R=oa.pageY;I("vmouseover",fa,la);I("vmousedown",fa,la)}}}function M(fa){if(!ua){pa||I("vmousecancel",fa,r(fa.target));pa=true;B()}}function ca(fa){if(!ua){var la=l(fa).touches[0],oa=pa,xa=a.vmouse.moveDistanceThreshold;pa=pa||Math.abs(la.pageX-ka)>xa||Math.abs(la.pageY-R)>xa;flags=r(fa.target);
pa&&!oa&&I("vmousecancel",fa,flags);I("vmousemove",fa,flags);B()}}function T(fa){if(!ua){A();var la=r(fa.target),oa;I("vmouseup",fa,la);if(!pa)if((oa=I("vclick",fa,la))&&oa.isDefaultPrevented()){oa=l(fa).changedTouches[0];qa.push({touchID:Ha,x:oa.clientX,y:oa.clientY});k=true}I("vmouseout",fa,la);pa=false;B()}}function H(fa){fa=a.data(fa,Y);var la;if(fa)for(la in fa)if(fa[la])return true;return false}function Q(){}function Z(fa){var la=fa.substr(1);return{setup:function(){H(this)||a.data(this,Y,{});
a.data(this,Y)[fa]=true;N[fa]=(N[fa]||0)+1;N[fa]===1&&Ea.bind(la,G);a(this).bind(la,Q);if(Ba){N.touchstart=(N.touchstart||0)+1;N.touchstart===1&&Ea.bind("touchstart",L).bind("touchend",T).bind("touchmove",ca).bind("scroll",M)}},teardown:function(){--N[fa];N[fa]||Ea.unbind(la,G);if(Ba){--N.touchstart;N.touchstart||Ea.unbind("touchstart",L).unbind("touchmove",ca).unbind("touchend",T).unbind("scroll",M)}var oa=a(this),xa=a.data(this,Y);if(xa)xa[fa]=false;oa.unbind(la,Q);H(this)||oa.removeData(Y)}}}var Y=
"virtualMouseBindings",ma="virtualTouchID";e="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var na="clientX clientY pageX pageY screenX screenY".split(" "),C=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:[]),N={},V=0,ka=0,R=0,pa=false,qa=[],k=false,ua=false,Ba="addEventListener"in j,Ea=a(j),ya=1,Ha=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Ka=0;Ka<e.length;Ka++)a.event.special[e[Ka]]=Z(e[Ka]);
Ba&&j.addEventListener("click",function(fa){var la=qa.length,oa=fa.target,xa,Ga,Ia,Ja,Qa;if(la){xa=fa.clientX;Ga=fa.clientY;threshold=a.vmouse.clickDistanceThreshold;for(Ia=oa;Ia;){for(Ja=0;Ja<la;Ja++){Qa=qa[Ja];if(Ia===oa&&Math.abs(Qa.x-xa)<threshold&&Math.abs(Qa.y-Ga)<threshold||a.data(Ia,ma)===Qa.touchID){fa.preventDefault();fa.stopPropagation();return}}Ia=Ia.parentNode}}},true)})(jQuery,d,g);(function(a,e,j){function q(J){J=J||location.href;return"#"+J.replace(/^[^#]*#?(.*)$/,"$1")}var l="hashchange",
o=g,r,v=a.event.special,w=o.documentMode,A="on"+l in e&&(w===j||w>7);a.fn[l]=function(J){return J?this.bind(l,J):this.trigger(l)};a.fn[l].delay=50;v[l]=a.extend(v[l],{setup:function(){if(A)return false;a(r.start)},teardown:function(){if(A)return false;a(r.stop)}});r=function(){function J(){var M=q(),ca=L(y);if(M!==y){G(y=M,ca);a(e).trigger(l)}else if(ca!==y)location.href=location.href.replace(/#.*/,"")+ca;B=setTimeout(J,a.fn[l].delay)}var K={},B,y=q(),I=function(M){return M},G=I,L=I;K.start=function(){B||
J()};K.stop=function(){B&&clearTimeout(B);B=j};a.browser.msie&&!A&&function(){var M,ca;K.start=function(){if(!M){ca=(ca=a.fn[l].src)&&ca+q();M=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){ca||G(q());J()}).attr("src",ca||"javascript:0").insertAfter("body")[0].contentWindow;o.onpropertychange=function(){try{if(event.propertyName==="title")M.document.title=o.title}catch(T){}}}};K.stop=I;L=function(){return q(M.location.href)};G=function(T,H){var Q=M.document,Z=a.fn[l].domain;
if(T!==H){Q.title=o.title;Q.open();Z&&Q.write('<script>document.domain="'+Z+'"<\/script>');Q.close();M.location.hash=T}}}();return K}()})(jQuery,this);(function(a,e){if(a.cleanData){var j=a.cleanData;a.cleanData=function(l){for(var o=0,r;(r=l[o])!=null;o++)a(r).triggerHandler("remove");j(l)}}else{var q=a.fn.remove;a.fn.remove=function(l,o){return this.each(function(){if(!o)if(!l||a.filter(l,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return q.call(a(this),
l,o)})}}a.widget=function(l,o,r){var v=l.split(".")[0],w;l=l.split(".")[1];w=v+"-"+l;if(!r){r=o;o=a.Widget}a.expr[":"][w]=function(A){return!!a.data(A,l)};a[v]=a[v]||{};a[v][l]=function(A,J){arguments.length&&this._createWidget(A,J)};o=new o;o.options=a.extend(true,{},o.options);a[v][l].prototype=a.extend(true,o,{namespace:v,widgetName:l,widgetEventPrefix:a[v][l].prototype.widgetEventPrefix||l,widgetBaseClass:w},r);a.widget.bridge(l,a[v][l])};a.widget.bridge=function(l,o){a.fn[l]=function(r){var v=
typeof r==="string",w=Array.prototype.slice.call(arguments,1),A=this;r=!v&&w.length?a.extend.apply(null,[true,r].concat(w)):r;if(v&&r.charAt(0)==="_")return A;v?this.each(function(){var J=a.data(this,l);if(!J)throw"cannot call methods on "+l+" prior to initialization; attempted to call method '"+r+"'";if(!a.isFunction(J[r]))throw"no such method '"+r+"' for "+l+" widget instance";var K=J[r].apply(J,w);if(K!==J&&K!==e){A=K;return false}}):this.each(function(){var J=a.data(this,l);J?J.option(r||{})._init():
a.data(this,l,new o(r,this))});return A}};a.Widget=function(l,o){arguments.length&&this._createWidget(l,o)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(l,o){a.data(o,this.widgetName,this);this.element=a(o);this.options=a.extend(true,{},this.options,this._getCreateOptions(),l);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var l=
{};if(a.metadata)l=a.metadata.get(element)[this.widgetName];return l},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(l,o){var r=l;if(arguments.length===0)return a.extend({},this.options);if(typeof l==="string"){if(o===e)return this.options[l];
r={};r[l]=o}this._setOptions(r);return this},_setOptions:function(l){var o=this;a.each(l,function(r,v){o._setOption(r,v)});return this},_setOption:function(l,o){this.options[l]=o;if(l==="disabled")this.widget()[o?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",o);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(l,o,r){var v=this.options[l];o=a.Event(o);
o.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase();r=r||{};if(o.originalEvent){l=a.event.props.length;for(var w;l;){w=a.event.props[--l];o[w]=o.originalEvent[w]}}this.element.trigger(o,r);return!(a.isFunction(v)&&v.call(this.element[0],o,r)===false||o.isDefaultPrevented())}}})(jQuery);(function(a,e){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var j=this.element,
q={};a.each(this.options,function(l){var o=j.jqmData(l.replace(/[A-Z]/g,function(r){return"-"+r.toLowerCase()}));if(o!==e)q[l]=o});return q},enhanceWithin:function(j,q){this.enhance(a(this.options.initSelector,a(j)),q)},enhance:function(j,q){j=a(j);j=a.mobile.enhanceable(j);if(q&&j.length){q=(q=a.mobile.closestPageData(j))&&q.keepNativeSelector()||"";j=j.not(q)}j[this.widgetName]()},raise:function(j){throw"Widget ["+this.widgetName+"]: "+j;}})})(jQuery);(function(a,e){var j={};a.mobile=a.extend({},
{version:"1.1.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:false,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",autoInitializePage:true,
pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(o){if(a.type(o)!==
"number")o=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;setTimeout(function(){e.scrollTo(0,o);a(g).trigger("silentscroll",{x:0,y:o})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:j,nsNormalize:function(o){if(o)return j[o]||(j[o]=a.camelCase(a.mobile.ns+o))},getInheritedTheme:function(o,r){o=o[0];for(var v="",w=/ui-(bar|body|overlay)-([a-z])\b/,A,J;o;){A=o.className||"";if((J=w.exec(A))&&(v=J[2]))break;o=o.parentNode}return v||r||
"a"},closestPageData:function(o){return o.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(o){return this.haveParents(o,"enhance")},hijackable:function(o){return this.haveParents(o,"ajax")},haveParents:function(o,r){if(!a.mobile.ignoreContentEnabled)return o;for(var v=o.length,w=a(),A,J,K,B=0;B<v;B++){J=o.eq(B);K=false;for(A=o[B];A;){if((A.getAttribute?A.getAttribute("data-"+a.mobile.ns+r):"")==="false"){K=true;break}A=A.parentNode}K||(w=w.add(J))}return w}},
a.mobile);a.fn.jqmData=function(o,r){var v;if(typeof o!="undefined"){if(o)o=a.mobile.nsNormalize(o);v=this.data.apply(this,arguments.length<2?[o]:[o,r])}return v};a.jqmData=function(o,r,v){var w;if(typeof r!="undefined")w=a.data(o,r?a.mobile.nsNormalize(r):r,v);return w};a.fn.jqmRemoveData=function(o){return this.removeData(a.mobile.nsNormalize(o))};a.jqmRemoveData=function(o,r){return a.removeData(o,a.mobile.nsNormalize(r))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=
function(o){o=a(o);(o.jqmData("dependents")||a()).remove();o.remove()};a.fn.addDependents=function(o){a.addDependents(a(this),o)};a.addDependents=function(o,r){var v=a(o).jqmData("dependents")||a();a(o).jqmData("dependents",a.merge(v,r))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};a.fn.jqmEnhanceable=function(){return a.mobile.enhanceable(this)};a.fn.jqmHijackable=function(){return a.mobile.hijackable(this)};var q=a.find,l=/:jqmData\(([^)]*)\)/g;a.find=function(o,
r,v,w){o=o.replace(l,"[data-"+(a.mobile.ns||"")+"$1]");return q.call(this,o,r,v,w)};a.extend(a.find,q);a.find.matches=function(o,r){return a.find(o,null,null,r)};a.find.matchesSelector=function(o,r){return a.find(r,null,null,[o]).length>0}})(jQuery,this);(function(a){a(d);var e=a("html");a.mobile.media=function(){var j={},q=a("<div id='jquery-mediatest'>"),l=a("<body>").append(q);return function(o){if(!(o in j)){var r=g.createElement("style"),v="@media "+o+" { #jquery-mediatest { position:absolute; } }";
r.type="text/css";if(r.styleSheet)r.styleSheet.cssText=v;else r.appendChild(g.createTextNode(v));e.prepend(l).prepend(r);j[o]=q.css("position")==="absolute";l.add(r).remove()}return j[o]}}()})(jQuery);(function(a,e){function j(B){var y=B.charAt(0).toUpperCase()+B.substr(1);B=(B+" "+w.join(y+" ")+y).split(" ");for(var I in B)if(v[B[I]]!==e)return true}function q(B,y,I){var G=g.createElement("div"),L=function(H){return H.charAt(0).toUpperCase()+H.substr(1)},M=function(H){return"-"+H.charAt(0).toLowerCase()+
H.substr(1)+"-"},ca=function(H){var Q=M(H)+B+": "+y+";";H=L(H)+L(B);G.setAttribute("style",Q);if(G.style[H])T=true};I=I?[I]:w;var T;for(i=0;i<I.length;i++)ca(I[i]);return!!T}function l(){return q("perspective","10px","moz")||a.mobile.media("(-"+w.join("-transform-3d),(-")+"-transform-3d),(transform-3d)")}function o(){var B=location.protocol+"//"+location.host+location.pathname+"ui-dir/",y=a("head base"),I=null,G="",L;if(y.length)G=y.attr("href");else y=I=a("<base>",{href:B}).appendTo("head");L=a("<a href='testurl' />").prependTo(r)[0].href;
y[0].href=G||location.pathname;I&&I.remove();return L.indexOf(B)===0}var r=a("<body>").prependTo("html"),v=r[0].style,w=["Webkit","Moz","O"],A="palmGetResource"in d,J=d.operamini&&{}.toString.call(d.operamini)==="[object OperaMini]",K=d.blackberry;a.extend(a.mobile,{browser:{}});a.mobile.browser.ie=function(){for(var B=3,y=g.createElement("div"),I=y.all||[];y.innerHTML="<!--[if gt IE "+ ++B+"]><br><![endif]--\>",I[0];);return B>4?B:!B}();a.extend(a.support,{orientation:"orientation"in d&&"onorientationchange"in
d,touch:"ontouchend"in g,cssTransitions:"WebKitTransitionEvent"in d||q("transition","height 100ms linear"),pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!j("content"),touchOverflow:!!j("overflowScrolling"),cssTransform3d:l(),boxShadow:!!j("boxShadow")&&!K,scrollTop:("pageXOffset"in d||"scrollTop"in g.documentElement||"scrollTop"in r[0])&&!A&&!J,dynamicBaseTag:o()});r.remove();A=function(){var B=d.navigator.userAgent;return B.indexOf("Nokia")>
-1&&(B.indexOf("Symbian/3")>-1||B.indexOf("Series60/5")>-1)&&B.indexOf("AppleWebKit")>-1&&B.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=7};a.mobile.ajaxBlacklist=d.blackberry&&!d.WebKitPoint||J||A;A&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);(function(a,
e,j){function q(w,A,J){var K=J.type;J.type=A;a.event.handle.call(w,J);J.type=K}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(w,A){a.fn[A]=function(J){return J?this.bind(A,J):this.trigger(A)};a.attrFn[A]=true});var l=a.support.touch,o=l?"touchstart":"mousedown",r=l?"touchend":"mouseup",v=l?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function w(B,y){J=y;
q(A,J?"scrollstart":"scrollstop",B)}var A=this,J,K;a(A).bind("touchmove scroll",function(B){if(a.event.special.scrollstart.enabled){J||w(B,true);clearTimeout(K);K=setTimeout(function(){w(B,false)},50)}})}};a.event.special.tap={setup:function(){var w=this,A=a(w);A.bind("vmousedown",function(J){function K(){clearTimeout(G)}function B(){K();A.unbind("vclick",y).unbind("vmouseup",K);a(g).unbind("vmousecancel",B)}function y(L){B();I==L.target&&q(w,"tap",L)}if(J.which&&J.which!==1)return false;var I=J.target,
G;A.bind("vmouseup",K).bind("vclick",y);a(g).bind("vmousecancel",B);G=setTimeout(function(){q(w,"taphold",a.Event("taphold",{target:I}))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var w=a(this);w.bind(o,function(A){function J(I){if(B){var G=I.originalEvent.touches?I.originalEvent.touches[0]:I;y={time:(new Date).getTime(),coords:[G.pageX,G.pageY]};Math.abs(B.coords[0]-y.coords[0])>
a.event.special.swipe.scrollSupressionThreshold&&I.preventDefault()}}var K=A.originalEvent.touches?A.originalEvent.touches[0]:A,B={time:(new Date).getTime(),coords:[K.pageX,K.pageY],origin:a(A.target)},y;w.bind(v,J).one(r,function(){w.unbind(v,J);if(B&&y)if(y.time-B.time<a.event.special.swipe.durationThreshold&&Math.abs(B.coords[0]-y.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(B.coords[1]-y.coords[1])<a.event.special.swipe.verticalDistanceThreshold)B.origin.trigger("swipe").trigger(B.coords[0]>
y.coords[0]?"swipeleft":"swiperight");B=y=j})})}};(function(w,A){function J(){var M=B();if(M!==y){y=M;K.trigger("orientationchange")}}var K=w(A),B,y,I,G,L={"0":true,"180":true};if(w.support.orientation){I=A.innerWidth||w(A).width();G=A.innerHeight||w(A).height();I=I>G&&I-G>50;G=L[A.orientation];if(I&&G||!I&&!G)L={"-90":true,"90":true}}w.event.special.orientationchange={setup:function(){if(w.support.orientation&&w.mobile.orientationChangeEnabled)return false;y=B();K.bind("throttledresize",J)},teardown:function(){if(w.support.orientation&&
w.mobile.orientationChangeEnabled)return false;K.unbind("throttledresize",J)},add:function(M){var ca=M.handler;M.handler=function(T){T.orientation=B();return ca.apply(this,arguments)}}};w.event.special.orientationchange.orientation=B=function(){var M=true;M=g.documentElement;return(M=w.support.orientation?L[A.orientation]:M&&M.clientWidth/M.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,e);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",w)},teardown:function(){a(this).unbind("resize",
w)}};var w=function(){K=(new Date).getTime();B=K-A;if(B>=250){A=K;a(this).trigger("throttledresize")}else{J&&clearTimeout(J);J=setTimeout(w,250-B)}},A=0,J,K,B})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(w,A){a.event.special[w]={setup:function(){a(this).bind(A,a.noop)}}})})(jQuery,this);(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var e=
this;if(e._trigger("beforecreate")===false)return false;e.element.attr("tabindex","0").addClass("ui-page ui-body-"+e.options.theme).bind("pagebeforehide",function(){e.removeContainerBackground()}).bind("pagebeforeshow",function(){e.setContainerBackground()})},removeContainerBackground:function(){a.mobile.pageContainer.removeClass("ui-overlay-"+a.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(e){if(this.options.theme)a.mobile.pageContainer.addClass("ui-overlay-"+
(e||this.options.theme))},keepNativeSelector:function(){var e=this.options;if(e.keepNative&&a.trim(e.keepNative)&&e.keepNative!==e.keepNativeDefault)return[e.keepNative,e.keepNativeDefault].join(", ");return e.keepNativeDefault}})})(jQuery);(function(a,e,j){var q=function(o){if(o===j)o=true;return function(r,v,w,A){var J=new a.Deferred,K=v?" reverse":"",B=a.mobile.urlHistory.getActive().lastScroll||a.mobile.defaultHomeScroll,y=a.mobile.getScreenHeight(),I=a.mobile.maxTransitionWidth!==false&&a(e).width()>
a.mobile.maxTransitionWidth,G=!a.support.cssTransitions||I||!r||r==="none",L=function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+r)},M=function(){a.event.special.scrollstart.enabled=false;e.scrollTo(0,B);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},ca=function(){A.removeClass(a.mobile.activePageClass+" out in reverse "+r).height("")};I=function(){o?A.animationComplete(T):T();A.height(y+a(e).scrollTop()).addClass(r+" out"+K)};var T=function(){A&&
o&&ca();H()},H=function(){w.addClass(a.mobile.activePageClass);a.mobile.focusPage(w);w.height(y+B);M();G||w.animationComplete(Q);w.addClass(r+" in"+K);G&&Q()},Q=function(){o||A&&ca();w.removeClass("out in reverse "+r).height("");L();a(e).scrollTop()!==B&&M();J.resolve(r,v,w,A,true)};L();A&&!G?I():T();return J.promise()}},l=q();q=q(false);a.mobile.defaultTransitionHandler=l;a.mobile.transitionHandlers={"default":a.mobile.defaultTransitionHandler,sequential:l,simultaneous:q};a.mobile.transitionFallbacks=
{}})(jQuery,this);(function(a,e){function j(C){if(y&&(!y.closest(".ui-page-active").length||C))y.removeClass(a.mobile.activeBtnClass);y=null}function q(){L=false;G.length>0&&a.mobile.changePage.apply(null,G.pop())}function l(C,N,V,ka){N&&N.data("page")._trigger("beforehide",null,{nextPage:C});C.data("page")._trigger("beforeshow",null,{prevPage:N||a("")});a.mobile.hidePageLoadingMsg();if(V&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[V])V=a.mobile.transitionFallbacks[V];V=(a.mobile.transitionHandlers[V||
"default"]||a.mobile.defaultTransitionHandler)(V,ka,C,N);V.done(function(){N&&N.data("page")._trigger("hide",null,{nextPage:C});C.data("page")._trigger("show",null,{prevPage:N||a("")})});return V}function o(){return d.innerHeight||a(d).height()}function r(){var C=a("."+a.mobile.activePageClass),N=parseFloat(C.css("padding-top")),V=parseFloat(C.css("padding-bottom"));C.css("min-height",o()-N-V)}function v(C,N){N&&C.attr("data-"+a.mobile.ns+"role",N);C.page()}function w(C){for(;C;){if(typeof C.nodeName===
"string"&&C.nodeName.toLowerCase()=="a")break;C=C.parentNode}return C}function A(C){C=a(C).closest(".ui-page").jqmData("url");var N=H.hrefNoHash;if(!C||!B.isPath(C))C=N;return B.makeUrlAbsolute(C,N)}var J=a(d);a("html");var K=a("head"),B={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(C){if(a.type(C)==="object")return C;C=B.urlParseRE.exec(C||
"")||[];return{href:C[0]||"",hrefNoHash:C[1]||"",hrefNoSearch:C[2]||"",domain:C[3]||"",protocol:C[4]||"",doubleSlash:C[5]||"",authority:C[6]||"",username:C[8]||"",password:C[9]||"",host:C[10]||"",hostname:C[11]||"",port:C[12]||"",pathname:C[13]||"",directory:C[14]||"",filename:C[15]||"",search:C[16]||"",hash:C[17]||""}},makePathAbsolute:function(C,N){if(C&&C.charAt(0)==="/")return C;C=C||"";N=(N=N?N.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?N.split("/"):[];C=C.split("/");for(var V=0;V<C.length;V++){var ka=
C[V];switch(ka){case ".":break;case "..":N.length&&N.pop();break;default:N.push(ka);break}}return"/"+N.join("/")},isSameDomain:function(C,N){return B.parseUrl(C).domain===B.parseUrl(N).domain},isRelativeUrl:function(C){return B.parseUrl(C).protocol===""},isAbsoluteUrl:function(C){return B.parseUrl(C).protocol!==""},makeUrlAbsolute:function(C,N){if(!B.isRelativeUrl(C))return C;C=B.parseUrl(C);N=B.parseUrl(N);var V=C.protocol||N.protocol,ka=C.protocol?C.doubleSlash:C.doubleSlash||N.doubleSlash,R=C.authority||
N.authority,pa=C.pathname!=="",qa=B.makePathAbsolute(C.pathname||N.filename,N.pathname);return V+ka+R+qa+(C.search||!pa&&N.search||"")+C.hash},addSearchParams:function(C,N){C=B.parseUrl(C);N=typeof N==="object"?a.param(N):N;var V=C.search||"?";return C.hrefNoSearch+V+(V.charAt(V.length-1)!=="?"?"&":"")+N+(C.hash||"")},convertUrlToDataUrl:function(C){var N=B.parseUrl(C);if(B.isEmbeddedPage(N))return N.hash.split(M)[0].replace(/^#/,"");else if(B.isSameDomain(N,H))return N.hrefNoHash.replace(H.domain,
"");return C},get:function(C){if(C===e)C=location.hash;return B.stripHash(C).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(C){var N="&"+a.mobile.subPageUrlKey;return C&&C.split(N)[0].split(M)[0]},set:function(C){location.hash=C},isPath:function(C){return/\//.test(C)},clean:function(C){return C.replace(H.domain,"")},stripHash:function(C){return C.replace(/^#/,"")},cleanHash:function(C){return B.stripHash(C.replace(/\?.*$/,"").replace(M,""))},isExternal:function(C){C=B.parseUrl(C);return C.protocol&&
C.domain!==T.domain?true:false},hasProtocol:function(C){return/^(:?\w+:)/.test(C)},isFirstPageUrl:function(C){C=B.parseUrl(B.makeUrlAbsolute(C,H));var N=a.mobile.firstPage;N=N&&N[0]?N[0].id:e;return(C.hrefNoHash===T.hrefNoHash||Q&&C.hrefNoHash===H.hrefNoHash)&&(!C.hash||C.hash==="#"||N&&C.hash.replace(/^#/,"")===N)},isEmbeddedPage:function(C){C=B.parseUrl(C);if(C.protocol!=="")return C.hash&&(C.hrefNoHash===T.hrefNoHash||Q&&C.hrefNoHash===H.hrefNoHash);return/^#/.test(C.href)}},y=null,I={stack:[],
activeIndex:0,getActive:function(){return I.stack[I.activeIndex]},getPrev:function(){return I.stack[I.activeIndex-1]},getNext:function(){return I.stack[I.activeIndex+1]},addNew:function(C,N,V,ka,R){I.getNext()&&I.clearForward();I.stack.push({url:C,transition:N,title:V,pageUrl:ka,role:R});I.activeIndex=I.stack.length-1},clearForward:function(){I.stack=I.stack.slice(0,I.activeIndex+1)},directHashChange:function(C){var N,V,ka;this.getActive();a.each(I.stack,function(R,pa){if(C.currentUrl===pa.url){N=
R<I.activeIndex;V=!N;ka=R}});this.activeIndex=ka!==e?ka:this.activeIndex;if(N)(C.either||C.isBack)(true);else if(V)(C.either||C.isForward)(false)},ignoreNextHashChange:false},G=[],L=false,M="&ui-state=dialog",ca=K.children("base"),T=B.parseUrl(location.href),H=ca.length?B.parseUrl(B.makeUrlAbsolute(ca.attr("href"),T.href)):T,Q=T.hrefNoHash!==H.hrefNoHash,Z=a.support.dynamicBaseTag?{element:ca.length?ca:a("<base>",{href:H.hrefNoHash}).prependTo(K),set:function(C){Z.element.attr("href",B.makeUrlAbsolute(C,
H))},reset:function(){Z.element.attr("href",H.hrefNoHash)}}:e;a.mobile.focusPage=function(C){var N=C.find("[autofocus]"),V=C.find(".ui-title:eq(0)");if(N.length)N.focus();else V.length?V.focus():C.focus()};var Y=true,ma,na;ma=function(){if(Y){var C=a.mobile.urlHistory.getActive();if(C){var N=J.scrollTop();C.lastScroll=N<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:N}}};na=function(){setTimeout(ma,100)};J.bind(a.support.pushState?"popstate":"hashchange",function(){Y=false});J.one(a.support.pushState?
"popstate":"hashchange",function(){Y=true});J.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){Y=true;J.unbind("scrollstop",na);J.bind("scrollstop",na)})});J.bind("scrollstop",na);a.mobile.getScreenHeight=o;a.fn.animationComplete=function(C){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd animationend",C);else{setTimeout(C,0);return a(this)}};a.mobile.path=B;a.mobile.base=Z;a.mobile.urlHistory=I;a.mobile.dialogHashKey=M;a.mobile.allowCrossDomainPages=
false;a.mobile.getDocumentUrl=function(C){return C?a.extend({},T):T.href};a.mobile.getDocumentBase=function(C){return C?a.extend({},H):H.href};a.mobile._bindPageRemove=function(){var C=a(this);!C.data("page").options.domCache&&C.is(":jqmData(external-page='true')")&&C.bind("pagehide.remove",function(){var N=a(this),V=new a.Event("pageremove");N.trigger(V);V.isDefaultPrevented()||N.removeWithDependents()})};a.mobile.loadPage=function(C,N){var V=a.Deferred(),ka=a.extend({},a.mobile.loadPage.defaults,
N),R=null,pa=null,qa=B.makeUrlAbsolute(C,function(){return a.mobile.activePage&&A(a.mobile.activePage)||H.hrefNoHash}());if(ka.data&&ka.type==="get"){qa=B.addSearchParams(qa,ka.data);ka.data=e}if(ka.data&&ka.type==="post")ka.reloadPage=true;var k=B.getFilePath(qa),ua=B.convertUrlToDataUrl(qa);ka.pageContainer=ka.pageContainer||a.mobile.pageContainer;R=ka.pageContainer.children(":jqmData(url='"+ua+"')");if(R.length===0&&ua&&!B.isPath(ua))R=ka.pageContainer.children("#"+ua).attr("data-"+a.mobile.ns+
"url",ua);if(R.length===0)if(a.mobile.firstPage&&B.isFirstPageUrl(k)){if(a.mobile.firstPage.parent().length)R=a(a.mobile.firstPage)}else if(B.isEmbeddedPage(k)){V.reject(qa,N);return V.promise()}Z&&Z.reset();if(R.length){if(!ka.reloadPage){v(R,ka.role);V.resolve(qa,N,R);return V.promise()}pa=R}var Ba=ka.pageContainer,Ea=new a.Event("pagebeforeload"),ya={url:C,absUrl:qa,dataUrl:ua,deferred:V,options:ka};Ba.trigger(Ea,ya);if(Ea.isDefaultPrevented())return V.promise();if(ka.showLoadMsg)var Ha=setTimeout(function(){a.mobile.showPageLoadingMsg()},
ka.loadMsgDelay),Ka=function(){clearTimeout(Ha);a.mobile.hidePageLoadingMsg()};a.mobile.allowCrossDomainPages||B.isSameDomain(T,qa)?a.ajax({url:k,type:ka.type,data:ka.data,dataType:"html",success:function(fa,la,oa){var xa=a("<div></div>"),Ga=fa.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Ia=new RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),Ja=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Ia.test(fa)&&RegExp.$1&&Ja.test(RegExp.$1)&&RegExp.$1)C=k=B.getFilePath(RegExp.$1);
Z&&Z.set(k);xa.get(0).innerHTML=fa;R=xa.find(":jqmData(role='page'), :jqmData(role='dialog')").first();R.length||(R=a("<div data-"+a.mobile.ns+"role='page'>"+fa.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(Ga&&!R.jqmData("title")){if(~Ga.indexOf("&"))Ga=a("<div>"+Ga+"</div>").text();R.jqmData("title",Ga)}if(!a.support.dynamicBaseTag){var Qa=B.get(k);R.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Xa=a(this).is("[href]")?"href":a(this).is("[src]")?
"src":"action",Ra=a(this).attr(Xa);Ra=Ra.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(Ra)||a(this).attr(Xa,Qa+Ra)})}R.attr("data-"+a.mobile.ns+"url",B.convertUrlToDataUrl(k)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(ka.pageContainer);R.one("pagecreate",a.mobile._bindPageRemove);v(R,ka.role);if(qa.indexOf("&"+a.mobile.subPageUrlKey)>-1)R=ka.pageContainer.children(":jqmData(url='"+ua+"')");ka.showLoadMsg&&Ka();ya.xhr=oa;ya.textStatus=la;ya.page=
R;ka.pageContainer.trigger("pageload",ya);V.resolve(qa,N,R,pa)},error:function(fa,la,oa){Z&&Z.set(B.get());ya.xhr=fa;ya.textStatus=la;ya.errorThrown=oa;fa=new a.Event("pageloadfailed");ka.pageContainer.trigger(fa,ya);if(!fa.isDefaultPrevented()){if(ka.showLoadMsg){Ka();a.mobile.showPageLoadingMsg(a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,true);setTimeout(a.mobile.hidePageLoadingMsg,1500)}V.reject(qa,N)}}}):V.reject(qa,N);return V.promise()};a.mobile.loadPage.defaults={type:"get",
data:e,reloadPage:false,role:e,showLoadMsg:false,pageContainer:e,loadMsgDelay:50};a.mobile.changePage=function(C,N){if(L)G.unshift(arguments);else{var V=a.extend({},a.mobile.changePage.defaults,N);V.pageContainer=V.pageContainer||a.mobile.pageContainer;V.fromPage=V.fromPage||a.mobile.activePage;var ka=V.pageContainer,R=new a.Event("pagebeforechange"),pa={toPage:C,options:V};ka.trigger(R,pa);if(!R.isDefaultPrevented()){C=pa.toPage;L=true;if(typeof C=="string")a.mobile.loadPage(C,V).done(function(la,
oa,xa,Ga){L=false;oa.duplicateCachedPage=Ga;a.mobile.changePage(xa,oa)}).fail(function(){L=false;j(true);q();V.pageContainer.trigger("pagechangefailed",pa)});else{if(C[0]===a.mobile.firstPage[0]&&!V.dataUrl)V.dataUrl=T.hrefNoHash;R=V.fromPage;var qa=V.dataUrl&&B.convertUrlToDataUrl(V.dataUrl)||C.jqmData("url"),k=qa;B.getFilePath(qa);var ua=I.getActive(),Ba=I.activeIndex===0,Ea=0,ya=g.title,Ha=V.role==="dialog"||C.jqmData("role")==="dialog";if(R&&R[0]===C[0]&&!V.allowSamePageTransition){L=false;ka.trigger("pagechange",
pa)}else{v(C,V.role);V.fromHashChange&&I.directHashChange({currentUrl:qa,isBack:function(){Ea=-1},isForward:function(){Ea=1}});try{g.activeElement&&g.activeElement.nodeName.toLowerCase()!="body"?a(g.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(Ka){}if(Ha&&ua)qa=(ua.url||"")+M;if(V.changeHash!==false&&qa){I.ignoreNextHashChange=true;B.set(qa)}var fa=!ua?ya:C.jqmData("title")||C.children(":jqmData(role='header')").find(".ui-title").getEncodedText();if(fa&&ya==g.title)ya=
fa;C.jqmData("title")||C.jqmData("title",ya);V.transition=V.transition||(Ea&&!Ba?ua.transition:e)||(Ha?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);Ea||I.addNew(qa,V.transition,ya,k,V.role);g.title=I.getActive().title;a.mobile.activePage=C;V.reverse=V.reverse||Ea<0;l(C,R,V.transition,V.reverse).done(function(la,oa,xa,Ga,Ia){j();V.duplicateCachedPage&&V.duplicateCachedPage.remove();Ia||a.mobile.focusPage(C);q();ka.trigger("pagechange",pa)})}}}}};a.mobile.changePage.defaults={transition:e,
reverse:false,changeHash:true,fromHashChange:false,role:e,duplicateCachedPage:e,pageContainer:e,showLoadMsg:true,dataUrl:e,fromPage:e,allowSamePageTransition:false};a.mobile._registerInternalEvents=function(){a(g).delegate("form","submit",function(C){var N=a(this);if(!(!a.mobile.ajaxEnabled||N.is(":jqmData(ajax='false')")||!N.jqmHijackable().length)){var V=N.attr("method"),ka=N.attr("target"),R=N.attr("action");if(!R){R=A(N);if(R===H.hrefNoHash)R=T.hrefNoSearch}R=B.makeUrlAbsolute(R,A(N));if(!(B.isExternal(R)||
ka)){a.mobile.changePage(R,{type:V&&V.length&&V.toLowerCase()||"get",data:N.serialize(),transition:N.jqmData("transition"),direction:N.jqmData("direction"),reloadPage:true});C.preventDefault()}}});a(g).bind("vclick",function(C){if(!(C.which>1||!a.mobile.linkBindingEnabled)){C=w(C.target);if(a(C).jqmHijackable().length)if(C)if(B.parseUrl(C.getAttribute("href")||"#").hash!=="#"){j(true);y=a(C).closest(".ui-btn").not(".ui-disabled");y.addClass(a.mobile.activeBtnClass);a("."+a.mobile.activePageClass+
" .ui-btn").not(C).blur();a(C).jqmData("href",a(C).attr("href")).attr("href","#")}}});a(g).bind("click",function(C){if(a.mobile.linkBindingEnabled){var N=w(C.target),V=a(N),ka;if(!(!N||C.which>1||!V.jqmHijackable().length)){ka=function(){d.setTimeout(function(){j(true)},200)};V.jqmData("href")&&V.attr("href",V.jqmData("href"));if(V.is(":jqmData(rel='back')")){d.history.back();return false}var R=A(V);N=B.makeUrlAbsolute(V.attr("href")||"#",R);if(!a.mobile.ajaxEnabled&&!B.isEmbeddedPage(N))ka();else{if(N.search("#")!=
-1)if(N=N.replace(/[^#]*#/,""))N=B.isPath(N)?B.makeUrlAbsolute(N,R):B.makeUrlAbsolute("#"+N,T.hrefNoHash);else{C.preventDefault();return}R=V.is("[rel='external']")||V.is(":jqmData(ajax='false')")||V.is("[target]");var pa=a.mobile.allowCrossDomainPages&&T.protocol==="file:"&&N.search(/^https?:/)!=-1;if(R||B.isExternal(N)&&!pa)ka();else{ka=V.jqmData("transition");R=(R=V.jqmData("direction"))&&R==="reverse"||V.jqmData("back");V=V.attr("data-"+a.mobile.ns+"rel")||e;a.mobile.changePage(N,{transition:ka,
reverse:R,role:V});C.preventDefault()}}}}});a(g).delegate(".ui-page","pageshow.prefetch",function(){var C=[];a(this).find("a:jqmData(prefetch)").each(function(){var N=a(this),V=N.attr("href");if(V&&a.inArray(V,C)===-1){C.push(V);a.mobile.loadPage(V,{role:N.attr("data-"+a.mobile.ns+"rel")})}})});a.mobile._handleHashChange=function(C){var N=B.stripHash(C),V={transition:a.mobile.urlHistory.stack.length===0?"none":e,changeHash:false,fromHashChange:true};if(!a.mobile.hashListeningEnabled||I.ignoreNextHashChange)I.ignoreNextHashChange=
false;else{if(I.stack.length>1&&N.indexOf(M)>-1)if(a.mobile.activePage.is(".ui-dialog"))I.directHashChange({currentUrl:N,either:function(ka){var R=a.mobile.urlHistory.getActive();N=R.pageUrl;a.extend(V,{role:R.role,transition:R.transition,reverse:ka})}});else{I.directHashChange({currentUrl:N,isBack:function(){d.history.back()},isForward:function(){d.history.forward()}});return}if(N){N=typeof N==="string"&&!B.isPath(N)?B.makeUrlAbsolute("#"+N,H):N;a.mobile.changePage(N,V)}else a.mobile.changePage(a.mobile.firstPage,
V)}};J.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(g).bind("pageshow",r);a(d).bind("throttledresize",r)}})(jQuery);(function(a,e){var j={},q=a(e),l=a.mobile.path.parseUrl(location.href);a.extend(j,{initialFilePath:function(){return l.pathname+l.search}(),initialHref:l.hrefNoHash,state:function(){return{hash:location.hash||"#"+j.initialFilePath,title:g.title,initialHref:j.initialHref}},resetUIKeys:function(o){var r="&"+a.mobile.subPageUrlKey,v=o.indexOf(a.mobile.dialogHashKey);
if(v>-1)o=o.slice(0,v)+"#"+o.slice(v);else if(o.indexOf(r)>-1)o=o.split(r).join("#"+r);return o},hashValueAfterReset:function(o){o=j.resetUIKeys(o);return a.mobile.path.parseUrl(o).hash},nextHashChangePrevented:function(o){a.mobile.urlHistory.ignoreNextHashChange=o;j.onHashChangeDisabled=o},onHashChange:function(){if(!j.onHashChangeDisabled){var o,r;o=location.hash;var v=a.mobile.path.isPath(o),w=v?location.href:a.mobile.getDocumentUrl();o=v?o.replace("#",""):o;r=j.state();o=a.mobile.path.makeUrlAbsolute(o,
w);if(v)o=j.resetUIKeys(o);history.replaceState(r,g.title,o)}},onPopState:function(o){o=o.originalEvent.state;var r,v;if(o){r=j.hashValueAfterReset(a.mobile.urlHistory.getActive().url);v=j.hashValueAfterReset(o.hash.replace("#",""));(r=r!==v)&&q.one("hashchange.pushstate",function(){j.nextHashChangePrevented(false)});j.nextHashChangePrevented(false);a.mobile._handleHashChange(o.hash);r&&j.nextHashChangePrevented(true)}},init:function(){q.bind("hashchange",j.onHashChange);q.bind("popstate",j.onPopState);
location.hash===""&&history.replaceState(j.state(),g.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&j.init()})})(jQuery,this);(function(a){a.mobile.transitionFallbacks.pop="fade"})(jQuery,this);(function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous;a.mobile.transitionFallbacks.slide="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.slidedown="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.slideup=
"fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.flip="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.flow="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.turn="fade"})(jQuery,this);(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};a(g).bind("pagecreate create",function(e){var j=
a.mobile.closestPageData(a(e.target)),q;if(j){q=j.options;a(e.target).find("input").not(j.keepNativeSelector()).each(function(){var l=a(this),o=this.getAttribute("type"),r=q.degradeInputs[o]||"text";if(q.degradeInputs[o]){var v=a("<div>").html(l.clone()).html(),w=v.indexOf(" type=")>-1;l.replaceWith(v.replace(w?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+r+'" data-'+a.mobile.ns+'type="'+o+'"'+(w?"":">")))}})}})})(jQuery);(function(a,e){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",
overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var j=this,q=this.element,l=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),o=a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});q.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);q.wrapInner(o).children().find(":jqmData(role='header')").prepend(l).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");
l.bind("click",function(){j.close()});q.bind("vclick submit",function(r){r=a(r.target).closest(r.type==="vclick"?"a":"form");var v;if(r.length&&!r.jqmData("transition")){v=a.mobile.urlHistory.getActive()||{};r.attr("data-"+a.mobile.ns+"transition",v.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){j.options.overlayTheme&&
j.element.page("removeContainerBackground").page("setContainerBackground",j.options.overlayTheme)})},close:function(){e.history.back()}});a(g).delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a.mobile.dialog.prototype.enhance(this)})})(jQuery,this);(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(g).bind("pagecreate create",function(e){a(":jqmData(role='fieldcontain')",e.target).jqmEnhanceable().fieldcontain()})})(jQuery);
(function(a){a.fn.grid=function(e){return this.each(function(){var j=a(this),q=a.extend({grid:null},e),l=j.children(),o={solo:1,a:2,b:3,c:4,d:5};q=q.grid;if(!q)if(l.length<=5)for(var r in o){if(o[r]===l.length)q=r}else q="a";o=o[q];j.addClass("ui-grid-"+q);l.filter(":nth-child("+o+"n+1)").addClass("ui-block-a");o>1&&l.filter(":nth-child("+o+"n+2)").addClass("ui-block-b");o>2&&l.filter(":nth-child(3n+3)").addClass("ui-block-c");o>3&&l.filter(":nth-child(4n+4)").addClass("ui-block-d");o>4&&l.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(a){a(g).bind("pagecreate create",function(e){a(":jqmData(role='nojs')",e.target).addClass("ui-nojs")})})(jQuery);(function(a,e){function j(l){for(var o;l;){if((o=typeof l.className==="string"&&l.className+" ")&&o.indexOf("ui-btn ")>-1&&o.indexOf("ui-disabled ")<0)break;l=l.parentNode}return l}a.fn.buttonMarkup=function(l){var o=this;l=l&&a.type(l)=="object"?l:{};for(var r=0;r<o.length;r++){var v=o.eq(r),w=v[0],A=a.extend({},a.fn.buttonMarkup.defaults,{icon:l.icon!==e?l.icon:v.jqmData("icon"),
iconpos:l.iconpos!==e?l.iconpos:v.jqmData("iconpos"),theme:l.theme!==e?l.theme:v.jqmData("theme")||a.mobile.getInheritedTheme(v,"c"),inline:l.inline!==e?l.inline:v.jqmData("inline"),shadow:l.shadow!==e?l.shadow:v.jqmData("shadow"),corners:l.corners!==e?l.corners:v.jqmData("corners"),iconshadow:l.iconshadow!==e?l.iconshadow:v.jqmData("iconshadow"),mini:l.mini!==e?l.mini:v.jqmData("mini")},l),J="ui-btn-inner",K,B,y,I,G,L;a.each(A,function(M,ca){w.setAttribute("data-"+a.mobile.ns+M,ca);v.jqmData(M,ca)});
if(L=a.data(w.tagName==="INPUT"||w.tagName==="BUTTON"?w.parentNode:w,"buttonElements")){w=L.outer;v=a(w);y=L.inner;I=L.text;a(L.icon).remove();L.icon=null}else{y=g.createElement(A.wrapperEls);I=g.createElement(A.wrapperEls)}G=A.icon?g.createElement("span"):null;q&&!L&&q();if(!A.theme)A.theme=a.mobile.getInheritedTheme(v,"c");K="ui-btn ui-btn-up-"+A.theme;K+=A.inline?" ui-btn-inline":"";K+=A.shadow?" ui-shadow":"";K+=A.corners?" ui-btn-corner-all":"";if(A.mini!==e)K+=A.mini?" ui-mini":" ui-fullsize";
if(A.inline!==e)K+=A.inline===false?" ui-btn-block":" ui-btn-inline";if(A.icon){A.icon="ui-icon-"+A.icon;A.iconpos=A.iconpos||"left";B="ui-icon "+A.icon;if(A.iconshadow)B+=" ui-icon-shadow"}if(A.iconpos){K+=" ui-btn-icon-"+A.iconpos;A.iconpos=="notext"&&!v.attr("title")&&v.attr("title",v.getEncodedText())}J+=A.corners?" ui-btn-corner-all":"";A.iconpos&&A.iconpos==="notext"&&!v.attr("title")&&v.attr("title",v.getEncodedText());if(L)v.removeClass(L.bcls||"");v.removeClass("ui-link").addClass(K);y.className=
J;I.className="ui-btn-text";L||y.appendChild(I);if(G){G.className=B;if(!(L&&L.icon)){G.appendChild(g.createTextNode("\u00a0"));y.appendChild(G)}}for(;w.firstChild&&!L;)I.appendChild(w.firstChild);L||w.appendChild(y);L={bcls:K,outer:w,inner:y,text:I,icon:G};a.data(w,"buttonElements",L);a.data(y,"buttonElements",L);a.data(I,"buttonElements",L);G&&a.data(G,"buttonElements",L)}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,wrapperEls:"span"};var q=function(){var l=a.mobile.buttonMarkup.hoverDelay,
o,r;a(g).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(v){var w,A=a(j(v.target));v=v.type;if(A.length){w=A.attr("data-"+a.mobile.ns+"theme");if(v==="vmousedown")if(a.support.touch)o=setTimeout(function(){A.removeClass("ui-btn-up-"+w).addClass("ui-btn-down-"+w)},l);else A.removeClass("ui-btn-up-"+w).addClass("ui-btn-down-"+w);else if(v==="vmousecancel"||v==="vmouseup")A.removeClass("ui-btn-down-"+w).addClass("ui-btn-up-"+w);else if(v==="vmouseover"||
v==="focus")if(a.support.touch)r=setTimeout(function(){A.removeClass("ui-btn-up-"+w).addClass("ui-btn-hover-"+w)},l);else A.removeClass("ui-btn-up-"+w).addClass("ui-btn-hover-"+w);else if(v==="vmouseout"||v==="blur"||v==="scrollstart"){A.removeClass("ui-btn-hover-"+w+" ui-btn-down-"+w).addClass("ui-btn-up-"+w);o&&clearTimeout(o);r&&clearTimeout(r)}}},"focusin focus":function(v){a(j(v.target)).addClass(a.mobile.focusClass)},"focusout blur":function(v){a(j(v.target)).removeClass(a.mobile.focusClass)}});
q=null};a(g).bind("pagecreate create",function(l){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",l.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme=
"a";a.mobile.page.prototype.options.contentTheme=null;a(g).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var e=a(this),j=e.data("page").options,q=e.jqmData("role"),l=j.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).jqmEnhanceable().each(function(){var o=a(this),r=o.jqmData("role"),v=o.jqmData("theme"),w=v||j.contentTheme||q==="dialog"&&l,A;o.addClass("ui-"+r);if(r==="header"||r==="footer"){var J=v||(r==="header"?j.headerTheme:
j.footerTheme)||l;o.addClass("ui-bar-"+J).attr("role",r==="header"?"banner":"contentinfo");if(r==="header"){v=o.children("a");A=v.hasClass("ui-btn-left");w=v.hasClass("ui-btn-right");A=A||v.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;w||v.eq(1).addClass("ui-btn-right")}if(j.addBackBtn&&r==="header"&&a(".ui-page").length>1&&e.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!A)a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+
j.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",j.backBtnTheme||J).prependTo(o);o.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else if(r==="content"){w&&o.addClass("ui-body-"+w);o.attr("role","main")}})})})(jQuery);(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,
iconTheme:"d",mini:false,initSelector:":jqmData(role='collapsible')"},_create:function(){var e=this.element,j=this.options,q=e.addClass("ui-collapsible"),l=e.children(j.heading).first(),o=q.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),r=e.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");if(l.is("legend")){l=a("<div role='heading'>"+l.html()+"</div>").insertBefore(l);l.next().remove()}if(r.length){if(!j.theme)j.theme=r.jqmData("theme")||
a.mobile.getInheritedTheme(r,"c");if(!j.contentTheme)j.contentTheme=r.jqmData("content-theme");if(!j.iconPos)j.iconPos=r.jqmData("iconpos");if(!j.mini)j.mini=r.jqmData("mini")}o.addClass(j.contentTheme?"ui-body-"+j.contentTheme:"");l.insertBefore(o).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,corners:false,iconpos:e.jqmData("iconpos")||
j.iconPos||"left",icon:"plus",mini:j.mini,theme:j.theme}).add(".ui-btn-inner",e).addClass("ui-corner-top ui-corner-bottom");q.bind("expand collapse",function(v){if(!v.isDefaultPrevented()){v.preventDefault();var w=a(this);v=v.type==="collapse";var A=j.contentTheme;l.toggleClass("ui-collapsible-heading-collapsed",v).find(".ui-collapsible-heading-status").text(v?j.expandCueText:j.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!v).toggleClass("ui-icon-plus",v);w.toggleClass("ui-collapsible-collapsed",
v);o.toggleClass("ui-collapsible-content-collapsed",v).attr("aria-hidden",v);if(A&&(!r.length||q.jqmData("collapsible-last"))){l.find("a").first().add(l.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",v);o.toggleClass("ui-corner-bottom",!v)}o.trigger("updatelayout")}}).trigger(j.collapsed?"collapse":"expand");l.bind("click",function(v){var w=l.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";q.trigger(w);v.preventDefault()})}});a(g).bind("pagecreate create",function(e){a.mobile.collapsible.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a,e){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var j=this.element.addClass("ui-collapsible-set"),q=this.options;if(!q.theme)q.theme=a.mobile.getInheritedTheme(j,"c");if(!q.contentTheme)q.contentTheme=j.jqmData("content-theme");if(!q.corners)q.corners=j.jqmData("corners")===e?true:false;j.jqmData("collapsiblebound")||j.jqmData("collapsiblebound",true).bind("expand collapse",function(l){var o=l.type==="collapse";
l=a(l.target).closest(".ui-collapsible");var r=l.data("collapsible");if(r.options.contentTheme&&l.jqmData("collapsible-last")){l.find(r.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",o);l.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!o)}}).bind("expand",function(l){a(l.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var j=this.options,q=this.element.children(":jqmData(role='collapsible')");
a.mobile.collapsible.prototype.enhance(q.not(".ui-collapsible"));q.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});q.first().find("a").first().addClass(j.corners?"ui-corner-top":"").find(".ui-btn-inner").addClass("ui-corner-top");q.last().jqmData("collapsible-last",true).find("a").first().addClass(j.corners?"ui-corner-bottom":"").find(".ui-btn-inner").addClass("ui-corner-bottom")}});
a(g).bind("pagecreate create",function(j){a.mobile.collapsibleset.prototype.enhanceWithin(j.target)})})(jQuery);(function(a,e){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var j=this.element,q=j.find("a"),l=q.filter(":jqmData(icon)").length?this.options.iconpos:e;j.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});l||j.addClass("ui-navbar-noicons");q.buttonMarkup({corners:false,
shadow:false,inline:true,iconpos:l});j.delegate("a","vclick",function(o){if(!a(o.target).hasClass("ui-disabled")){q.removeClass(a.mobile.activeBtnClass);a(this).addClass(a.mobile.activeBtnClass)}});j.closest(".ui-page").bind("pagebeforeshow",function(){q.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}});a(g).bind("pagecreate create",function(j){a.mobile.navbar.prototype.enhanceWithin(j.target)})})(jQuery);(function(a){var e={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,
countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",mini:false,inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var j=this,q="";q+=j.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"";q+=j.element.jqmData("mini")||j.options.mini===true?" ui-mini":"";j.element.addClass(function(l,o){return o+" ui-listview "+q});j.refresh(true)},_removeCorners:function(j,q){j=j.add(j.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(q==="top")j.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");
else q==="bottom"?j.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):j.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(j){var q,l;if(this.options.inset){q=this.element.children("li");l=j?q.not(".ui-screen-hidden"):q.filter(":visible");this._removeCorners(q);q=l.first().addClass("ui-corner-top");q.add(q.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");
l=l.last().addClass("ui-corner-bottom");l.add(l.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}j||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(j,q,l,o){var r={};for(r[l]=r[o]=true;j;){if(r[j.nodeName])return j;j=j[q]}return null},_getChildrenByTagName:function(j,q,l){var o=[],r={};r[q]=r[l]=true;for(j=j.firstChild;j;){r[j.nodeName]&&o.push(j);j=j.nextSibling}return a(o)},_addThumbClasses:function(j){var q,
l,o=j.length;for(q=0;q<o;q++){l=a(this._findFirstElementByTagName(j[q].firstChild,"nextSibling","img","IMG"));if(l.length){l.addClass("ui-li-thumb");a(this._findFirstElementByTagName(l[0].parentNode,"parentNode","li","LI")).addClass(l.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(j){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var q=this.options,l=this.element,o=l.jqmData("dividertheme")||q.dividerTheme,r=l.jqmData("splittheme"),v=l.jqmData("spliticon"),
w=this._getChildrenByTagName(l[0],"li","LI"),A=a.support.cssPseudoElement||!a.nodeName(l[0],"ol")?0:1,J={},K,B,y,I,G,L,M;A&&l.find(".ui-li-dec").remove();if(!q.theme)q.theme=a.mobile.getInheritedTheme(this.element,"c");for(var ca=0,T=w.length;ca<T;ca++){K=w.eq(ca);B="ui-li";if(j||!K.hasClass("ui-li")){y=K.jqmData("theme")||q.theme;I=this._getChildrenByTagName(K[0],"a","A");if(I.length){L=K.jqmData("icon");K.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:I.length>1||
L===false?false:L||"arrow-r",theme:y});L!=false&&I.length==1&&K.addClass("ui-li-has-arrow");I.first().removeClass("ui-link").addClass("ui-link-inherit");if(I.length>1){B+=" ui-li-has-alt";I=I.last();G=r||I.jqmData("theme")||q.splitTheme;M=I.jqmData("icon");I.appendTo(K).attr("title",I.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:y,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(g.createElement("span")).buttonMarkup({shadow:true,corners:true,
theme:G,iconpos:"notext",icon:M||L||v||q.splitIcon}))}}else if(K.jqmData("role")==="list-divider"){B+=" ui-li-divider ui-bar-"+o;K.attr("role","heading");if(A)A=1}else B+=" ui-li-static ui-body-"+y}if(A&&B.indexOf("ui-li-divider")<0){y=K.is(".ui-li-static:first")?K:K.find(".ui-link-inherit");y.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+A++ +". </span>")}J[B]||(J[B]=[]);J[B].push(K[0])}for(B in J)a(J[B]).addClass(B).children(".ui-btn-inner").addClass(B);l.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var H=
a(this);H.prependTo(H.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(l.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(w);this._addThumbClasses(l.find(".ui-link-inherit"));this._refreshCorners(j)},_idStringEscape:function(j){return j.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var j=this.element,q=j.closest(".ui-page"),l=q.jqmData("url"),o=l||q[0][a.expando],
r=j.attr("id"),v=this.options,w="data-"+a.mobile.ns,A=this,J=q.find(":jqmData(role='footer')").jqmData("id"),K;if(typeof e[o]==="undefined")e[o]=-1;r=r||++e[o];a(j.find("li>ul, li>ol").toArray().reverse()).each(function(B){var y=a(this),I=y.attr("id")||r+"-"+B;B=y.parent();var G=a(y.prevAll().toArray().reverse());G=G.length?G:a("<span>"+a.trim(B.contents()[0].nodeValue)+"</span>");var L=G.first().getEncodedText();I=(l||"")+"&"+a.mobile.subPageUrlKey+"="+I;var M=y.jqmData("theme")||v.theme,ca=y.jqmData("counttheme")||
j.jqmData("counttheme")||v.countTheme;K=true;y.detach().wrap("<div "+w+"role='page' "+w+"url='"+I+"' "+w+"theme='"+M+"' "+w+"count-theme='"+ca+"'><div "+w+"role='content'></div></div>").parent().before("<div "+w+"role='header' "+w+"theme='"+v.headerTheme+"'><div class='ui-title'>"+L+"</div></div>").after(J?a("<div "+w+"role='footer' "+w+"id='"+J+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();y=B.find("a:first");y.length||(y=a("<a/>").html(G||L).prependTo(B.empty()));y.attr("href","#"+
I)}).listview();K&&q.is(":jqmData(external-page='true')")&&q.data("page").options.domCache===false&&q.unbind("pagehide.remove").bind("pagehide.remove",function(B,y){if(B=y.nextPage){y=B.jqmData("url");if(y.indexOf(l+"&"+a.mobile.subPageUrlKey)!==0){A.childPages().remove();q.remove()}}})},childPages:function(){var j=this.parentPage.jqmData("url");return a(":jqmData(url^='"+j+"&"+a.mobile.subPageUrlKey+"')")}});a(g).bind("pagecreate create",function(j){a.mobile.listview.prototype.enhanceWithin(j.target)})})(jQuery);
(function(a,e){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var j=this,q=this.element,l=function(K,B){return K.jqmData(B)||K.closest("form,fieldset").jqmData(B)},o=a(q).closest("label"),r=o.length?o:a(q).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+q[0].id+"']"),v=q[0].type;o=l(q,"mini");var w=v+"-on",A=v+"-off",J=q.parents(":jqmData(type='horizontal')").length?
e:A;l=l(q,"iconpos");if(!(v!=="checkbox"&&v!=="radio")){a.extend(this,{label:r,inputtype:v,checkedClass:"ui-"+w+(J?"":" "+a.mobile.activeBtnClass),uncheckedClass:"ui-"+A,checkedicon:"ui-icon-"+w,uncheckedicon:"ui-icon-"+A});if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");r.buttonMarkup({theme:this.options.theme,icon:J,shadow:false,mini:o,iconpos:l});l=g.createElement("div");l.className="ui-"+v;q.add(r).wrapAll(l);r.bind({vmouseover:function(K){a(this).parent().is(".ui-disabled")&&
K.stopPropagation()},vclick:function(K){if(q.is(":disabled"))K.preventDefault();else{j._cacheVals();q.prop("checked",v==="radio"&&true||!q.prop("checked"));q.triggerHandler("click");j._getInputSet().not(q).prop("checked",false);j._updateAll();return false}}});q.bind({vmousedown:function(){j._cacheVals()},vclick:function(){var K=a(this);if(K.is(":checked")){K.prop("checked",true);j._getInputSet().not(K).prop("checked",false)}else K.prop("checked",false);j._updateAll()},focus:function(){r.addClass(a.mobile.focusClass)},
blur:function(){r.removeClass(a.mobile.focusClass)}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){a(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){if(this.inputtype==="checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var j=this;this._getInputSet().each(function(){var q=a(this);if(this.checked||j.inputtype===
"checkbox")q.trigger("change")}).checkboxradio("refresh")},refresh:function(){var j=this.element[0],q=this.label,l=q.find(".ui-icon");if(j.checked){q.addClass(this.checkedClass).removeClass(this.uncheckedClass);l.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{q.removeClass(this.checkedClass).addClass(this.uncheckedClass);l.removeClass(this.checkedicon).addClass(this.uncheckedicon)}j.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},
enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(g).bind("pagecreate create",function(j){a.mobile.checkboxradio.prototype.enhanceWithin(j.target,true)})})(jQuery);(function(a,e){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:false,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']",mini:false},_create:function(){var j=this.element,
q,l=this.options,o;o="";var r;if(j[0].tagName==="A")!j.hasClass("ui-btn")&&j.buttonMarkup();else{if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");if(~j[0].className.indexOf("ui-btn-left"))o="ui-btn-left";if(~j[0].className.indexOf("ui-btn-right"))o="ui-btn-right";q=this.button=a("<div></div>").text(j.text()||j.val()).insertBefore(j).buttonMarkup({theme:l.theme,icon:l.icon,iconpos:l.iconpos,inline:l.inline,corners:l.corners,shadow:l.shadow,iconshadow:l.iconshadow,
mini:l.mini}).addClass(o).append(j.addClass("ui-btn-hidden"));l=j.attr("type");o=j.attr("name");l!=="button"&&l!=="reset"&&o&&j.bind("vclick",function(){if(r===e){r=a("<input>",{type:"hidden",name:j.attr("name"),value:j.attr("value")}).insertBefore(j);a(g).one("submit",function(){r.remove();r=e})}});j.bind({focus:function(){q.addClass(a.mobile.focusClass)},blur:function(){q.removeClass(a.mobile.focusClass)}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",
false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var j=this.element;j.prop("disabled")?this.disable():this.enable();a(this.button.data("buttonElements").text).text(j.text()||j.val())}});a(g).bind("pagecreate create",function(j){a.mobile.button.prototype.enhanceWithin(j.target,true)})})(jQuery);(function(a){a.fn.controlgroup=
function(e){function j(q,l){q.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(l[0]).end().last().addClass(l[1]).addClass("ui-controlgroup-last")}return this.each(function(){var q=a(this),l=a.extend({direction:q.jqmData("type")||"vertical",shadow:false,excludeInvisible:true,mini:q.jqmData("mini")},e),o=q.children("legend"),r=l.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];q.find("input").first().attr("type");if(o.length){q.wrapInner("<div class='ui-controlgroup-controls'></div>");
a("<div role='heading' class='ui-controlgroup-label'>"+o.html()+"</div>").insertBefore(q.children(0));o.remove()}q.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+l.direction);j(q.find(".ui-btn"+(l.excludeInvisible?":visible":"")).not(".ui-slider-handle"),r);j(q.find(".ui-btn-inner"),r);l.shadow&&q.addClass("ui-shadow");l.mini&&q.addClass("ui-mini")})}})(jQuery);(function(a){a(g).bind("pagecreate create",function(e){a(e.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(a){var e=a("meta[name=viewport]"),j=e.attr("content"),q=j+",maximum-scale=1, user-scalable=no",l=j+",maximum-scale=10, user-scalable=yes",o=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(j);a.mobile.zoom=a.extend({},{enabled:!o,locked:false,disable:function(r){if(!o&&!a.mobile.zoom.locked){e.attr("content",q);a.mobile.zoom.enabled=false;a.mobile.zoom.locked=r||false}},enable:function(r){if(!o&&(!a.mobile.zoom.locked||r===true)){e.attr("content",l);a.mobile.zoom.enabled=
true;a.mobile.zoom.locked=false}},restore:function(){if(!o){e.attr("content",j);a.mobile.zoom.enabled=true}}})})(jQuery);(function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text"},_create:function(){var e=this.element,j=this.options,q=j.theme||a.mobile.getInheritedTheme(this.element,"c"),l=" ui-body-"+q,o=e.jqmData("mini")==true,r=o?" ui-mini":"",v,w;a("label[for='"+e.attr("id")+"']").addClass("ui-input-text");v=e.addClass("ui-input-text ui-body-"+q);if(typeof e[0].autocorrect!=="undefined"&&!a.support.touchOverflow){e[0].setAttribute("autocorrect","off");e[0].setAttribute("autocomplete","off")}if(e.is("[type='search'],:jqmData(type='search')")){v=
e.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+l+r+"'></div>").parent();w=a("<a href='#' class='ui-input-clear' title='"+j.clearSearchButtonText+"'>"+j.clearSearchButtonText+"</a>").bind("click",function(B){e.val("").focus().trigger("change");w.addClass("ui-input-clear-hidden");B.preventDefault()}).appendTo(v).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true,mini:o});function A(){setTimeout(function(){w.toggleClass("ui-input-clear-hidden",
!e.val())},0)}A();e.bind("paste cut keyup focus change blur",A)}else e.addClass("ui-corner-all ui-shadow-inset"+l+r);e.focus(function(){v.addClass(a.mobile.focusClass)}).blur(function(){v.removeClass(a.mobile.focusClass)}).bind("focus",function(){j.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("blur",function(){j.preventFocusZoom&&a.mobile.zoom.enable(true)});if(e.is("textarea")){var J=function(){var B=e[0].scrollHeight;e[0].clientHeight<B&&e.height(B+15)},K;e.keyup(function(){clearTimeout(K);
K=setTimeout(J,100)});a(g).one("pagechange",J);a.trim(e.val())&&a(d).load(J)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}});a(g).bind("pagecreate create",function(e){a.mobile.textinput.prototype.enhanceWithin(e.target,
true)})})(jQuery);(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(e,j){return e.toLowerCase().indexOf(j)===-1};a(g).delegate(":jqmData(role='listview')","listviewcreate",function(){var e=a(this),j=e.data("listview");if(j.options.filter){var q=a("<form>",{"class":"ui-listview-filter ui-bar-"+j.options.filterTheme,
role:"search"});a("<input>",{placeholder:j.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var l=a(this),o=this.value.toLowerCase(),r=null;r=l.jqmData("lastval")+"";var v=false,w="";l.jqmData("lastval",o);r=o.length<r.length||o.indexOf(r)!==0?e.children():e.children(":not(.ui-screen-hidden)");if(o){for(var A=r.length-1;A>=0;A--){l=a(r[A]);w=l.jqmData("filtertext")||l.text();if(l.is("li:jqmData(role=list-divider)")){l.toggleClass("ui-filter-hidequeue",
!v);v=false}else if(j.options.filterCallback(w,o))l.toggleClass("ui-filter-hidequeue",true);else v=true}r.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);r.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else r.toggleClass("ui-screen-hidden",false);j._refreshCorners()}).appendTo(q).textinput();j.options.inset&&q.addClass("ui-listview-filter-inset");q.bind("submit",function(){return false}).insertBefore(e)}})})(jQuery);
(function(a,e){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:false},_create:function(){var j=this,q=this.element,l=a.mobile.getInheritedTheme(q,"c"),o=this.options.theme||l;l=this.options.trackTheme||l;var r=q[0].nodeName.toLowerCase(),v=r=="select"?"ui-slider-switch":"",w=q.attr("id"),A=w+"-label";w=a("[for='"+w+"']").attr("id",A);var J=function(){return r=="input"?
parseFloat(q.val()):q[0].selectedIndex},K=r=="input"?parseFloat(q.attr("min")):0,B=r=="input"?parseFloat(q.attr("max")):q.find("option").length-1,y=d.parseFloat(q.attr("step")||1),I=this.options.inline||q.jqmData("inline")==true?" ui-slider-inline":"",G=this.options.mini||q.jqmData("mini")?" ui-slider-mini":"",L=g.createElement("a"),M=a(L),ca=g.createElement("div"),T=a(ca),H=q.jqmData("highlight")&&r!="select"?function(){var Q=g.createElement("div");Q.className="ui-slider-bg ui-btn-active ui-btn-corner-all";
return a(Q).prependTo(T)}():false;L.setAttribute("href","#");ca.setAttribute("role","application");ca.className=["ui-slider ",v," ui-btn-down-",l," ui-btn-corner-all",I,G].join("");L.className="ui-slider-handle";ca.appendChild(L);M.buttonMarkup({corners:true,theme:o,shadow:true}).attr({role:"slider","aria-valuemin":K,"aria-valuemax":B,"aria-valuenow":J(),"aria-valuetext":J(),title:J(),"aria-labelledby":A});a.extend(this,{slider:T,handle:M,valuebg:H,dragging:false,beforeStart:null,userModified:false,
mouseMoved:false});if(r=="select"){o=g.createElement("div");o.className="ui-slider-inneroffset";v=0;for(A=ca.childNodes.length;v<A;v++)o.appendChild(ca.childNodes[v]);ca.appendChild(o);M.addClass("ui-slider-handle-snapping");ca=q.find("option");o=0;for(v=ca.length;o<v;o++){A=!o?"b":"a";I=!o?" ui-btn-down-"+l:" "+a.mobile.activeBtnClass;g.createElement("div");G=g.createElement("span");G.className=["ui-slider-label ui-slider-label-",A,I," ui-btn-corner-all"].join("");G.setAttribute("role","img");G.appendChild(g.createTextNode(ca[o].innerHTML));
a(G).prependTo(T)}j._labels=a(".ui-slider-label",T)}w.addClass("ui-slider");q.addClass(r==="input"?"ui-slider-input":"ui-slider-switch").change(function(){j.mouseMoved||j.refresh(J(),true)}).keyup(function(){j.refresh(J(),true,true)}).blur(function(){j.refresh(J(),true)});a(g).bind("vmousemove",function(Q){if(j.dragging){j.mouseMoved=true;r==="select"&&M.removeClass("ui-slider-handle-snapping");j.refresh(Q);j.userModified=j.beforeStart!==q[0].selectedIndex;return false}});T.bind("vmousedown",function(Q){j.dragging=
true;j.userModified=false;j.mouseMoved=false;if(r==="select")j.beforeStart=q[0].selectedIndex;j.refresh(Q);return false}).bind("vclick",false);T.add(g).bind("vmouseup",function(){if(j.dragging){j.dragging=false;if(r==="select"){M.addClass("ui-slider-handle-snapping");if(j.mouseMoved)j.userModified?j.refresh(j.beforeStart==0?1:0):j.refresh(j.beforeStart);else j.refresh(j.beforeStart==0?1:0)}return j.mouseMoved=false}});T.insertAfter(q);r=="select"&&this.handle.bind({focus:function(){T.addClass(a.mobile.focusClass)},
blur:function(){T.removeClass(a.mobile.focusClass)}});this.handle.bind({vmousedown:function(){a(this).focus()},vclick:false,keydown:function(Q){var Z=J();if(!j.options.disabled){switch(Q.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:Q.preventDefault();if(!j._keySliding){j._keySliding=true;a(this).addClass("ui-state-active")}break}switch(Q.keyCode){case a.mobile.keyCode.HOME:j.refresh(K);
break;case a.mobile.keyCode.END:j.refresh(B);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:j.refresh(Z+y);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:j.refresh(Z-y);break}}},keyup:function(){if(j._keySliding){j._keySliding=false;a(this).removeClass("ui-state-active")}}});this.refresh(e,e,true)},refresh:function(j,q,l){if(this.options.disabled||this.element.attr("disabled"))this.disable();var o=this.element,
r=o[0].nodeName.toLowerCase(),v=r==="input"?parseFloat(o.attr("min")):0,w=r==="input"?parseFloat(o.attr("max")):o.find("option").length-1,A=r==="input"&&parseFloat(o.attr("step"))>0?parseFloat(o.attr("step")):1;if(typeof j==="object"){j=j;if(!this.dragging||j.pageX<this.slider.offset().left-8||j.pageX>this.slider.offset().left+this.slider.width()+8)return;j=Math.round((j.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(j==null)j=r==="input"?parseFloat(o.val()||0):o[0].selectedIndex;
j=(parseFloat(j)-v)/(w-v)*100}if(!isNaN(j)){if(j<0)j=0;if(j>100)j=100;var J=j/100*(w-v)+v,K=(J-v)%A;J=J-K;if(Math.abs(K)*2>=A)J+=K>0?A:-A;J=parseFloat(J.toFixed(5));if(J<v)J=v;if(J>w)J=w;this.handle.css("left",j+"%");this.handle.attr({"aria-valuenow":r==="input"?J:o.find("option").eq(J).attr("value"),"aria-valuetext":r==="input"?J:o.find("option").eq(J).getEncodedText(),title:r==="input"?J:o.find("option").eq(J).getEncodedText()});this.valuebg&&this.valuebg.css("width",j+"%");if(this._labels){v=this.handle.width()/
this.slider.width()*100;var B=j&&v+(100-v)*j/100,y=j===100?0:Math.min(v+100-B,100);this._labels.each(function(){var I=a(this).is(".ui-slider-label-a");a(this).width((I?B:y)+"%")})}if(!l){l=false;if(r==="input"){l=o.val()!==J;o.val(J)}else{l=o[0].selectedIndex!==J;o[0].selectedIndex=J}!q&&l&&o.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",
true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)}});a(g).bind("pagecreate create",function(j){a.mobile.slider.prototype.enhanceWithin(j.target,true)})})(jQuery);(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:true,overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&
navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not(:jqmData(role='slider'))",mini:false},_button:function(){return a("<div/>")},_setDisabled:function(e){this.element.attr("disabled",e);this.button.attr("aria-disabled",e);return this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var e="";if(~this.element[0].className.indexOf("ui-btn-left"))e=
" ui-btn-left";if(~this.element[0].className.indexOf("ui-btn-right"))e=" ui-btn-right";this.select=this.element.wrap("<div class='ui-select"+e+"'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var e=this,j=this.options,
q=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:j.theme,icon:j.icon,iconpos:j.iconpos,inline:j.inline,corners:j.corners,shadow:j.shadow,iconshadow:j.iconshadow,mini:j.mini});j.nativeMenu&&d.opera&&d.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(q.addClass("ui-li-has-count"));
if(j.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){e.refresh()});this.build()},build:function(){var e=this;this.select.appendTo(e.button).bind("vmousedown",function(){e.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){e.button.addClass(a.mobile.focusClass)}).bind("blur",function(){e.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){e.button.trigger("vmouseover")}).bind("vmousemove",function(){e.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",
function(){e.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){e.button.removeClass("ui-btn-down-"+e.options.theme)});e.button.bind("vmousedown",function(){e.options.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("mouseup",function(){e.options.preventFocusZoom&&a.mobile.zoom.enable(true)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},
setButtonText:function(){var e=this,j=this.selected();this.button.find(".ui-btn-text").text(function(){if(!e.isMultiple)return j.text();return j.length?j.map(function(){return a(this).text()}).get().join(", "):e.placeholder})},setButtonCount:function(){var e=this.selected();if(this.isMultiple)this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},
enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(g).bind("pagecreate create",function(e){a.mobile.selectmenu.prototype.enhanceWithin(e.target,true)})})(jQuery);(function(a){var e=function(j){var q=j.selectID,l=j.label,o=j.select.closest(".ui-page"),r=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(o),v=j._selectOptions(),w=j.isMultiple=j.select[0].multiple,A=q+"-button",J=q+"-menu",K=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+
"theme='"+j.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+j.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+l.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),B=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+j.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(r),y=a("<ul>",{"class":"ui-selectmenu-list",id:J,role:"listbox","aria-labelledby":A}).attr("data-"+
a.mobile.ns+"theme",j.options.theme).appendTo(B),I=a("<div>",{"class":"ui-header ui-bar-"+j.options.theme}).prependTo(B),G=a("<h1>",{"class":"ui-title"}).appendTo(I),L,M,ca;if(j.isMultiple)ca=a("<a>",{text:j.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(I).buttonMarkup();a.extend(j,{select:j.select,selectID:q,buttonId:A,menuId:J,thisPage:o,menuPage:K,label:l,screen:r,selectOptions:v,isMultiple:w,theme:j.options.theme,
listbox:B,list:y,header:I,headerTitle:G,headerClose:ca,menuPageContent:L,menuPageClose:M,placeholder:"",build:function(){var T=this;T.refresh();T.select.attr("tabindex","-1").focus(function(){a(this).blur();T.button.focus()});T.button.bind("vclick keydown",function(H){if(H.type=="vclick"||H.keyCode&&(H.keyCode===a.mobile.keyCode.ENTER||H.keyCode===a.mobile.keyCode.SPACE)){T.open();H.preventDefault()}});T.list.attr("role","listbox").bind("focusin",function(H){a(H.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",
function(H){a(H.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(H){var Q=T.select[0].selectedIndex,Z=T.list.find("li:not(.ui-li-divider)").index(this),Y=T._selectOptions().eq(Z)[0];Y.selected=T.isMultiple?!Y.selected:true;T.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",Y.selected).toggleClass("ui-icon-checkbox-off",!Y.selected);if(T.isMultiple||Q!==Z)T.select.trigger("change");T.isMultiple||T.close();H.preventDefault()}).keydown(function(H){var Q=
a(H.target),Z=Q.closest("li");switch(H.keyCode){case 38:H=Z.prev().not(".ui-selectmenu-placeholder");if(H.is(".ui-li-divider"))H=H.prev();if(H.length){Q.blur().attr("tabindex","-1");H.addClass("ui-btn-down-"+j.options.theme).find("a").first().focus()}return false;case 40:H=Z.next();if(H.is(".ui-li-divider"))H=H.next();if(H.length){Q.blur().attr("tabindex","-1");H.addClass("ui-btn-down-"+j.options.theme).find("a").first().focus()}return false;case 13:case 32:Q.trigger("click");return false}});T.menuPage.bind("pagehide",
function(){T.list.appendTo(T.listbox);T._focusButton();a.mobile._bindPageRemove.call(T.thisPage)});T.screen.bind("vclick",function(){T.close()});T.isMultiple&&T.headerClose.click(function(){if(T.menuType=="overlay"){T.close();return false}});T.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var T=this.list.find("li");return this._selectOptions().text()!==T.text()},refresh:function(T){var H=this;this._selectOptions();this.selected();var Q=this.selectedIndices();if(T||this._isRebuildRequired())H._buildList();
H.setButtonText();H.setButtonCount();H.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",false).each(function(Z){if(a.inArray(Z,Q)>-1){Z=a(this);Z.attr("aria-selected",true);if(H.isMultiple)Z.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on");else Z.is(".ui-selectmenu-placeholder")?Z.next().addClass(a.mobile.activeBtnClass):Z.addClass(a.mobile.activeBtnClass)}})},close:function(){if(!(this.options.disabled||!this.isOpen)){var T=
this;if(T.menuType=="page")d.history.back();else{T.screen.addClass("ui-screen-hidden");T.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");T.list.appendTo(T.listbox);T._focusButton()}T.isOpen=false}},open:function(){function T(){H.list.find("."+a.mobile.activeBtnClass+" a").focus()}if(!this.options.disabled){var H=this,Q=a(d),Z=H.list.parent(),Y=Z.outerHeight();Z=Z.outerWidth();a(".ui-page-active");var ma=Q.scrollTop(),na=H.button.offset().top,C=Q.height();Q=Q.width();
H.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){H.button.removeClass(a.mobile.activeBtnClass)},300);if(Y>C-80||!a.support.scrollTop){H.menuPage.appendTo(a.mobile.pageContainer).page();H.menuPageContent=K.find(".ui-content");H.menuPageClose=K.find(".ui-header a");H.thisPage.unbind("pagehide.remove");ma==0&&na>C&&H.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",na)});H.menuPage.one("pageshow",function(){T();H.isOpen=true});H.menuType="page";H.menuPageContent.append(H.list);
H.menuPage.find("div .ui-title").text(H.label.text());a.mobile.changePage(H.menuPage,{transition:a.mobile.defaultDialogTransition})}else{H.menuType="overlay";H.screen.height(a(g).height()).removeClass("ui-screen-hidden");var N=na-ma,V=ma+C-na,ka=Y/2,R=parseFloat(H.list.parent().css("max-width"));Y=N>Y/2&&V>Y/2?na+H.button.outerHeight()/2-ka:N>V?ma+C-Y-30:ma+30;if(Z<R)ma=(Q-Z)/2;else{ma=H.button.offset().left+H.button.outerWidth()/2-Z/2;if(ma<30)ma=30;else if(ma+Z>Q)ma=Q-Z-30}H.listbox.append(H.list).removeClass("ui-selectmenu-hidden").css({top:Y,
left:ma}).addClass("in");T();H.isOpen=true}}},_buildList:function(){var T=this,H=this.options,Q=this.placeholder,Z=true,Y=T.isMultiple?"checkbox-off":"false";T.list.empty().filter(".ui-listview").listview("destroy");var ma=T.select.find("option"),na=ma.length,C=this.select[0],N="data-"+a.mobile.ns,V=N+"option-index",ka=N+"icon";N=N+"role";for(var R=g.createDocumentFragment(),pa,qa=0;qa<na;qa++){var k=ma[qa],ua=a(k),Ba=k.parentNode,Ea=ua.text(),ya=g.createElement("a"),Ha=[];ya.setAttribute("href",
"#");ya.appendChild(g.createTextNode(Ea));if(Ba!==C&&Ba.nodeName.toLowerCase()==="optgroup"){Ba=Ba.getAttribute("label");if(Ba!=pa){pa=g.createElement("li");pa.setAttribute(N,"list-divider");pa.setAttribute("role","option");pa.setAttribute("tabindex","-1");pa.appendChild(g.createTextNode(Ba));R.appendChild(pa);pa=Ba}}if(Z&&(!k.getAttribute("value")||Ea.length==0||ua.jqmData("placeholder"))){Z=false;H.hidePlaceholderMenuItems&&Ha.push("ui-selectmenu-placeholder");if(!Q)Q=T.placeholder=Ea}ua=g.createElement("li");
if(k.disabled){Ha.push("ui-disabled");ua.setAttribute("aria-disabled",true)}ua.setAttribute(V,qa);ua.setAttribute(ka,Y);ua.className=Ha.join(" ");ua.setAttribute("role","option");ya.setAttribute("tabindex","-1");ua.appendChild(ya);R.appendChild(ua)}T.list[0].appendChild(R);!this.isMultiple&&!Q.length?this.header.hide():this.headerTitle.text(this.placeholder);T.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};
a(g).bind("selectmenubeforecreate",function(j){j=a(j.target).data("selectmenu");j.options.nativeMenu||e(j)})})(jQuery);(function(a){a.widget("mobile.fixedtoolbar",a.mobile.widget,{options:{visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,tapToggle:true,tapToggleBlacklist:"a, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){var e=d,j=navigator.userAgent,
q=navigator.platform,l=j.match(/AppleWebKit\/([0-9]+)/);l=!!l&&l[1];var o=j.match(/Fennec\/([0-9]+)/);o=!!o&&o[1];var r=j.match(/Opera Mobi\/([0-9]+)/),v=!!r&&r[1];if((q.indexOf("iPhone")>-1||q.indexOf("iPad")>-1||q.indexOf("iPod")>-1)&&l&&l<534||e.operamini&&{}.toString.call(e.operamini)==="[object OperaMini]"||r&&v<7458||j.indexOf("Android")>-1&&l&&l<533||o&&o<6||"palmGetResource"in d&&l&&l<534||j.indexOf("MeeGo")>-1&&j.indexOf("NokiaBrowser/8.5.0")>-1)return true;return false},initSelector:":jqmData(position='fixed')"},
_create:function(){var e=this,j=e.options,q=e.element,l=q.is(":jqmData(role='header')")?"header":"footer",o=q.closest(".ui-page");if(j.supportBlacklist())e.destroy();else{q.addClass("ui-"+l+"-fixed");if(j.fullscreen){q.addClass("ui-"+l+"-fullscreen");o.addClass("ui-page-"+l+"-fullscreen")}else o.addClass("ui-page-"+l+"-fixed");e._addTransitionClass();e._bindPageEvents();e._bindToggleHandlers()}},_addTransitionClass:function(){var e=this.options.transition;if(e&&e!=="none"){if(e==="slide")e=this.element.is(".ui-header")?
"slidedown":"slideup";this.element.addClass(e)}},_bindPageEvents:function(){var e=this,j=e.options;e.element.closest(".ui-page").bind("pagebeforeshow",function(){j.disablePageZoom&&a.mobile.zoom.disable(true);j.visibleOnPageShow||e.hide(true)}).bind("webkitAnimationStart animationstart updatelayout",function(){j.updatePagePadding&&e.updatePagePadding()}).bind("pageshow",function(){e.updatePagePadding();j.updatePagePadding&&a(d).bind("throttledresize."+e.widgetName,function(){e.updatePagePadding()})}).bind("pagebeforehide",
function(q,l){j.disablePageZoom&&a.mobile.zoom.enable(true);j.updatePagePadding&&a(d).unbind("throttledresize."+e.widgetName);if(j.trackPersistentToolbars){q=a(".ui-footer-fixed:jqmData(id)",this);var o=a(".ui-header-fixed:jqmData(id)",this),r=q.length&&l.nextPage&&a(".ui-footer-fixed:jqmData(id='"+q.jqmData("id")+"')",l.nextPage),v=o.length&&l.nextPage&&a(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",l.nextPage);r=r||a();if(r.length||v.length){r.add(v).appendTo(a.mobile.pageContainer);l.nextPage.one("pageshow",
function(){r.add(v).appendTo(this)})}}})},_visible:true,updatePagePadding:function(){var e=this.element,j=e.is(".ui-header");this.options.fullscreen||e.closest(".ui-page").css("padding-"+(j?"top":"bottom"),e.outerHeight())},_useTransition:function(e){var j=this.element,q=a(d).scrollTop(),l=j.height(),o=j.closest(".ui-page").height(),r=a.mobile.getScreenHeight();j=j.is(":jqmData(role='header')")?"header":"footer";return!e&&(this.options.transition&&this.options.transition!=="none"&&(j==="header"&&
!this.options.fullscreen&&q>l||j==="footer"&&!this.options.fullscreen&&q+r<o-l)||this.options.fullscreen)},show:function(e){var j=this.element;this._useTransition(e)?j.removeClass("out ui-fixed-hidden").addClass("in"):j.removeClass("ui-fixed-hidden");this._visible=true},hide:function(e){var j=this.element,q="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(e)?j.addClass(q).removeClass("in").animationComplete(function(){j.addClass("ui-fixed-hidden").removeClass(q)}):j.addClass("ui-fixed-hidden").removeClass(q);
this._visible=false},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var e=this,j=e.options;e.element.closest(".ui-page").bind("vclick",function(q){j.tapToggle&&!a(q.target).closest(j.tapToggleBlacklist).length&&e.toggle()}).bind("focusin focusout",function(q){if(screen.width<500&&a(q.target).is(j.hideDuringFocus)&&!a(q.target).closest(".ui-header-fixed, .ui-footer-fixed").length)e[q.type==="focusin"&&e._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");
this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});a(g).bind("pagecreate create",function(e){a(e.target).jqmData("fullscreen")&&a(a.mobile.fixedtoolbar.prototype.options.initSelector,e.target).not(":jqmData(fullscreen)").jqmData("fullscreen",true);a.mobile.fixedtoolbar.prototype.enhanceWithin(e.target)})})(jQuery);(function(a,e){function j(A){l=A.originalEvent;w=l.accelerationIncludingGravity;o=Math.abs(w.x);
r=Math.abs(w.y);v=Math.abs(w.z);if(!e.orientation&&(o>7||(v>6&&r<8||v<8&&r>6)&&o>5))q.enabled&&q.disable();else q.enabled||q.enable()}if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1){var q=a.mobile.zoom,l,o,r,v,w;a(e).bind("orientationchange.iosorientationfix",q.enable).bind("devicemotion.iosorientationfix",j)}})(jQuery,this);(function(a,e){function j(){var w=a("."+a.mobile.activeBtnClass).first();v.css({top:a.support.scrollTop&&r.scrollTop()+r.height()/
2||w.length&&w.offset().top||100})}function q(){var w=v.offset(),A=r.scrollTop(),J=a.mobile.getScreenHeight();if(w.top<A||w.top-A>J){v.addClass("ui-loader-fakefix");j();r.unbind("scroll",q).bind("scroll",j)}}function l(){o.removeClass("ui-mobile-rendering")}var o=a("html");a("head");var r=a(e);a(e.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;o.addClass("ui-mobile ui-mobile-rendering");setTimeout(l,5E3);var v=a("<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");
a.extend(a.mobile,{showPageLoadingMsg:function(w,A,J){o.addClass("ui-loading");if(a.mobile.loadingMessage){var K=J||a.mobile.loadingMessageTextVisible;w=w||a.mobile.loadingMessageTheme;v.attr("class","ui-loader ui-corner-all ui-body-"+(w||"a")+" ui-loader-"+(K?"verbose":"default")+(J?" ui-loader-textonly":"")).find("h1").text(A||a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer);q();r.bind("scroll",q)}},hidePageLoadingMsg:function(){o.removeClass("ui-loading");a.mobile.loadingMessage&&
v.removeClass("ui-loader-fakefix");a(e).unbind("scroll",j);a(e).unbind("scroll",q)},initializePage:function(){var w=a(":jqmData(role='page'), :jqmData(role='dialog')");w.length||(w=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));w.each(function(){var A=a(this);A.jqmData("url")||A.attr("data-"+a.mobile.ns+"url",A.attr("id")||location.pathname+location.search)});a.mobile.firstPage=w.first();a.mobile.pageContainer=w.first().parent().addClass("ui-mobile-viewport");r.trigger("pagecontainercreate");
a.mobile.showPageLoadingMsg();l();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):r.trigger("hashchange",[true])}});a.mobile._registerInternalEvents();a(function(){e.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(e).scrollTop()===1?0:1;a.fn.controlgroup&&a(g).bind("pagecreate create",function(w){a(":jqmData(role='controlgroup')",w.target).jqmEnhanceable().controlgroup({excludeInvisible:false})});
a.mobile.autoInitializePage&&a.mobile.initializePage();r.load(a.mobile.silentScroll)})}})(jQuery,this)});steal.loaded("webapp/lib/jquery.mobile.js");
var FlashDetect=new (function(){var h=this;h.installed=false;h.raw="";h.major=-1;h.minor=-1;h.revision=-1;h.revisionStr="";var d=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(l){return g(l)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(l){var o="6,0,21";try{l.AllowScriptAccess="always";o=g(l)}catch(r){}return o}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(l){return g(l)}}],g=function(l){var o=-1;try{o=l.GetVariable("$version")}catch(r){}return o},a=function(l){var o=
-1;try{o=new ActiveXObject(l)}catch(r){o={activeXError:true}}return o},e=function(l){var o=l.split(",");return{raw:l,major:parseInt(o[0].split(" ")[1],10),minor:parseInt(o[1],10),revision:parseInt(o[2],10),revisionStr:o[2]}},j=function(l){var o=l.split(/ +/),r=o[2].split(/\./);o=o[3];return{raw:l,major:parseInt(r[0],10),minor:parseInt(r[1],10),revisionStr:o,revision:q(o)}},q=function(l){return parseInt(l.replace(/[a-zA-Z]/g,""),10)||h.revision};h.majorAtLeast=function(l){return h.major>=l};h.minorAtLeast=
function(l){return h.minor>=l};h.revisionAtLeast=function(l){return h.revision>=l};h.versionAtLeast=function(){var l=[h.major,h.minor,h.revision],o=Math.min(l.length,arguments.length);for(i=0;i<o;i++)if(l[i]>=arguments[i]){if(!(i+1<o&&l[i]==arguments[i]))return true}else return false};h.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var l=navigator.mimeTypes;if(l&&l["application/x-shockwave-flash"]&&l["application/x-shockwave-flash"].enabledPlugin&&l["application/x-shockwave-flash"].enabledPlugin.description){l=
l["application/x-shockwave-flash"].enabledPlugin.description;var o=j(l);h.raw=o.raw;h.major=o.major;h.minor=o.minor;h.revisionStr=o.revisionStr;h.revision=o.revision;h.installed=true}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){l=-1;for(var r=0;r<d.length&&l==-1;r++){o=a(d[r].name);if(!o.activeXError){h.installed=true;l=d[r].version(o);if(l!=-1){o=e(l);h.raw=o.raw;h.major=o.major;h.minor=o.minor;h.revision=o.revision;h.revisionStr=o.revisionStr}}}}}()});
FlashDetect.JS_RELEASE="1.0.4";steal.loaded("webapp/lib/flash_detect_min.js");var mejs=mejs||{};mejs.version="2.8.1";mejs.meIndex=0;
mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]};
mejs.Utility={encodeUrl:function(h){return encodeURIComponent(h)},escapeHTML:function(h){return h.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(h){var d=document.createElement("div");d.innerHTML='<a href="'+this.escapeHTML(h)+'">x</a>';return d.firstChild.href},getScriptPath:function(h){for(var d=0,g,a="",e="",j,q=document.getElementsByTagName("script"),l=q.length,o=h.length;d<l;d++){j=q[d].src;for(g=0;g<o;g++){e=h[g];if(j.indexOf(e)>
-1){a=j.substring(0,j.indexOf(e));break}}if(a!=="")break}return a},secondsToTimeCode:function(h,d,g,a){if(typeof g=="undefined")g=false;else if(typeof a=="undefined")a=25;var e=Math.floor(h/3600)%24,j=Math.floor(h/60)%60,q=Math.floor(h%60);h=Math.floor((h%1*a).toFixed(3));return(d||e>0?(e<10?"0"+e:e)+":":"")+(j<10?"0"+j:j)+":"+(q<10?"0"+q:q)+(g?":"+(h<10?"0"+h:h):"")},timeCodeToSeconds:function(h,d,g,a){if(typeof g=="undefined")g=false;else if(typeof a=="undefined")a=25;h=h.split(":");d=parseInt(h[0],
10);var e=parseInt(h[1],10),j=parseInt(h[2],10),q=0,l=0;if(g)q=parseInt(h[3])/a;return l=d*3600+e*60+j+q},removeSwf:function(h){var d=document.getElementById(h);if(d&&d.nodeName=="OBJECT")if(mejs.MediaFeatures.isIE){d.style.display="none";(function(){d.readyState==4?mejs.Utility.removeObjectInIE(h):setTimeout(arguments.callee,10)})()}else d.parentNode.removeChild(d)},removeObjectInIE:function(h){if(h=document.getElementById(h)){for(var d in h)if(typeof h[d]=="function")h[d]=null;h.parentNode.removeChild(h)}}};
mejs.PluginDetector={hasPluginVersion:function(h,d){h=this.plugins[h];d[1]=d[1]||0;d[2]=d[2]||0;return h[0]>d[0]||h[0]==d[0]&&h[1]>d[1]||h[0]==d[0]&&h[1]==d[1]&&h[2]>=d[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(h,d,g,a,e){this.plugins[h]=this.detectPlugin(d,g,a,e)},detectPlugin:function(h,d,g,a){var e=[0,0,0],j;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[h]=="object"){if((g=this.nav.plugins[h].description)&&!(typeof this.nav.mimeTypes!=
"undefined"&&this.nav.mimeTypes[d]&&!this.nav.mimeTypes[d].enabledPlugin)){e=g.replace(h,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(h=0;h<e.length;h++)e[h]=parseInt(e[h].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(j=new ActiveXObject(g))e=a(j)}catch(q){}return e}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(h){var d=[];if(h=h.GetVariable("$version")){h=h.split(" ")[1].split(",");d=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)]}return d});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(h){var d=[0,0,0,0],g=function(a,e,j,q){for(;a.isVersionSupported(e[0]+"."+e[1]+"."+e[2]+"."+e[3]);)e[j]+=q;e[j]-=q};g(h,d,0,1);g(h,d,1,1);g(h,d,2,1E4);g(h,d,2,1E3);g(h,d,2,100);g(h,d,2,10);g(h,d,2,1);g(h,d,3,1);return d});
mejs.MediaFeatures={init:function(){var h=this,d=document,g=mejs.PluginDetector.nav,a=mejs.PluginDetector.ua.toLowerCase(),e,j=["source","track","audio","video"];h.isiPad=a.match(/ipad/i)!==null;h.isiPhone=a.match(/iphone/i)!==null;h.isiOS=h.isiPhone||h.isiPad;h.isAndroid=a.match(/android/i)!==null;h.isBustedAndroid=a.match(/android 2\.[12]/)!==null;h.isIE=g.appName.toLowerCase().indexOf("microsoft")!=-1;h.isChrome=a.match(/chrome/gi)!==null;h.isFirefox=a.match(/firefox/gi)!==null;h.isWebkit=a.match(/webkit/gi)!==
null;h.isGecko=a.match(/gecko/gi)!==null&&!h.isWebkit;h.isOpera=a.match(/opera/gi)!==null;h.hasTouch="ontouchstart"in window;for(g=0;g<j.length;g++)e=document.createElement(j[g]);h.supportsMediaTag=typeof e.canPlayType!=="undefined"||h.isBustedAndroid;h.hasSemiNativeFullScreen=typeof e.webkitEnterFullscreen!=="undefined";h.hasWebkitNativeFullScreen=typeof e.webkitRequestFullScreen!=="undefined";h.hasMozNativeFullScreen=typeof e.mozRequestFullScreen!=="undefined";h.hasTrueNativeFullScreen=h.hasWebkitNativeFullScreen||
h.hasMozNativeFullScreen;h.nativeFullScreenEnabled=h.hasTrueNativeFullScreen;if(h.hasMozNativeFullScreen)h.nativeFullScreenEnabled=e.mozFullScreenEnabled;if(this.isChrome)h.hasSemiNativeFullScreen=false;if(h.hasTrueNativeFullScreen){h.fullScreenEventName=h.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange";h.isFullScreen=function(){if(e.mozRequestFullScreen)return d.mozFullScreen;else if(e.webkitRequestFullScreen)return d.webkitIsFullScreen};h.requestFullScreen=function(q){if(h.hasWebkitNativeFullScreen)q.webkitRequestFullScreen();
else h.hasMozNativeFullScreen&&q.mozRequestFullScreen()};h.cancelFullScreen=function(){if(h.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();else h.hasMozNativeFullScreen&&document.mozCancelFullScreen()}}if(h.hasSemiNativeFullScreen&&a.match(/mac os x 10_5/i)){h.hasNativeFullScreen=false;h.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(h){this.currentTime=h},setMuted:function(h){this.muted=h},setVolume:function(h){this.volume=h},stop:function(){this.pause()},setSrc:function(h){for(var d=this.getElementsByTagName("source");d.length>0;)this.removeChild(d[0]);if(typeof h=="string")this.src=h;else{var g;for(d=0;d<h.length;d++){g=h[d];if(this.canPlayType(g.type))this.src=g.src}}},setVideoSize:function(h,d){this.width=h;this.height=d}};
mejs.PluginMediaElement=function(h,d,g){this.id=h;this.pluginType=d;this.src=g;this.events={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!="youtube"&&this.pluginApi.loadMedia();this.paused=
false}},pause:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(h){var d,g,a,e=mejs.plugins[this.pluginType];for(d=0;d<e.length;d++){a=e[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,a.version))for(g=0;g<a.types.length;g++)if(h==a.types[g])return true}return false},
positionFullscreenButton:function(h,d,g){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(h,d,g)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(h){if(typeof h=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(h));this.src=mejs.Utility.absolutizeUrl(h)}else{var d,g;for(d=0;d<h.length;d++){g=h[d];if(this.canPlayType(g.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(g.src));
this.src=mejs.Utility.absolutizeUrl(h)}}}},setCurrentTime:function(h){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.seekTo(h):this.pluginApi.setCurrentTime(h);this.currentTime=h}},setVolume:function(h){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.setVolume(h*100):this.pluginApi.setVolume(h);this.volume=h}},setMuted:function(h){if(this.pluginApi!=null){if(this.pluginType=="youtube"){h?this.pluginApi.mute():this.pluginApi.unMute();this.muted=h;this.dispatchEvent("volumechange")}else this.pluginApi.setMuted(h);
this.muted=h}},setVideoSize:function(h,d){if(this.pluginElement.style){this.pluginElement.style.width=h+"px";this.pluginElement.style.height=d+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(h,d)},setFullscreen:function(h){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(h)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&
this.setFullscreen(false)},addEventListener:function(h,d){this.events[h]=this.events[h]||[];this.events[h].push(d)},removeEventListener:function(h,d){if(!h){this.events={};return true}var g=this.events[h];if(!g)return true;if(!d){this.events[h]=[];return true}for(i=0;i<g.length;i++)if(g[i]===d){this.events[h].splice(i,1);return true}return false},dispatchEvent:function(h){var d,g,a=this.events[h];if(a){g=Array.prototype.slice.call(arguments,1);for(d=0;d<a.length;d++)a[d].apply(null,g)}},attributes:{},
hasAttribute:function(h){return h in this.attributes},removeAttribute:function(h){delete this.attributes[h]},getAttribute:function(h){if(this.hasAttribute(h))return this.attributes[h];return""},setAttribute:function(h,d){this.attributes[h]=d},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(h,d,g){this.pluginMediaElements[h]=d;this.htmlMediaElements[h]=g},initPlugin:function(h){var d=this.pluginMediaElements[h],g=this.htmlMediaElements[h];if(d){switch(d.pluginType){case "flash":d.pluginElement=d.pluginApi=document.getElementById(h);break;case "silverlight":d.pluginElement=document.getElementById(d.id);d.pluginApi=d.pluginElement.Content.MediaElementJS;break}d.pluginApi!=null&&d.success&&
d.success(d,g)}},fireEvent:function(h,d,g){var a,e;h=this.pluginMediaElements[h];h.ended=false;h.paused=true;d={type:d,target:h};for(a in g){h[a]=g[a];d[a]=g[a]}e=g.bufferedTime||0;d.target.buffered=d.buffered={start:function(){return 0},end:function(){return e},length:1};h.dispatchEvent(d.type,d)}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},
error:function(){}};mejs.MediaElement=function(h,d){return mejs.HtmlMediaElementShim.create(h,d)};
mejs.HtmlMediaElementShim={create:function(h,d){var g=mejs.MediaElementDefaults,a=typeof h=="string"?document.getElementById(h):h;h=a.tagName.toLowerCase();var e=h==="audio"||h==="video",j=e?a.getAttribute("src"):a.getAttribute("href");h=a.getAttribute("poster");var q=a.getAttribute("autoplay"),l=a.getAttribute("preload"),o=a.getAttribute("controls"),r;for(r in d)g[r]=d[r];j=typeof j=="undefined"||j===null||j==""?null:j;h=typeof h=="undefined"||h===null?"":h;l=typeof l=="undefined"||l===null||l===
"false"?"none":l;q=!(typeof q=="undefined"||q===null||q==="false");o=!(typeof o=="undefined"||o===null||o==="false");d=this.determinePlayback(a,g,mejs.MediaFeatures.supportsMediaTag,e,j);d.url=d.url!==null?mejs.Utility.absolutizeUrl(d.url):"";if(d.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){a.src=d.url;a.addEventListener("click",function(){a.play()},false)}return this.updateNative(d,g,q,l)}else if(d.method!=="")return this.createPlugin(d,g,h,q,l,o);else{this.createErrorMessage(d,g,h);
return this}},determinePlayback:function(h,d,g,a,e){var j=[],q,l,o={method:"",url:"",htmlMediaElement:h,isVideo:h.tagName.toLowerCase()!="audio"},r,v;if(typeof d.type!="undefined"&&d.type!=="")if(typeof d.type=="string")j.push({type:d.type,url:e});else for(q=0;q<d.type.length;q++)j.push({type:d.type[q],url:e});else if(e!==null){l=this.formatType(e,h.getAttribute("type"));j.push({type:l,url:e})}else for(q=0;q<h.childNodes.length;q++){l=h.childNodes[q];if(l.nodeType==1&&l.tagName.toLowerCase()=="source"){e=
l.getAttribute("src");l=this.formatType(e,l.getAttribute("type"));j.push({type:l,url:e})}}if(!a&&j.length>0&&j[0].url!==null&&this.getTypeFromFile(j[0].url).indexOf("audio")>-1)o.isVideo=false;if(mejs.MediaFeatures.isBustedAndroid)h.canPlayType=function(w){return w.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(g&&(d.mode==="auto"||d.mode==="native")){if(!a){q=document.createElement(o.isVideo?"video":"audio");h.parentNode.insertBefore(q,h);h.style.display="none";o.htmlMediaElement=h=q}for(q=0;q<
j.length;q++)if(h.canPlayType(j[q].type).replace(/no/,"")!==""||h.canPlayType(j[q].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){o.method="native";o.url=j[q].url;break}if(o.method==="native"){if(o.url!==null)h.src=o.url;return o}}if(d.mode==="auto"||d.mode==="shim")for(q=0;q<j.length;q++){l=j[q].type;for(h=0;h<d.plugins.length;h++){e=d.plugins[h];r=mejs.plugins[e];for(g=0;g<r.length;g++){v=r[g];if(v.version==null||mejs.PluginDetector.hasPluginVersion(e,v.version))for(a=0;a<v.types.length;a++)if(l==
v.types[a]){o.method=e;o.url=j[q].url;return o}}}}if(o.method===""&&j.length>0)o.url=j[0].url;return o},formatType:function(h,d){return h&&!d?this.getTypeFromFile(h):d&&~d.indexOf(";")?d.substr(0,d.indexOf(";")):d},getTypeFromFile:function(h){h=h.substring(h.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(h)?"video":"audio")+"/"+h},createErrorMessage:function(h,d,g){var a=h.htmlMediaElement,e=document.createElement("div");e.className="me-cannotplay";try{e.style.width=a.width+
"px";e.style.height=a.height+"px"}catch(j){}e.innerHTML=g!==""?'<a href="'+h.url+'"><img src="'+g+'" width="100%" height="100%" /></a>':'<a href="'+h.url+'"><span>Download File</span></a>';a.parentNode.insertBefore(e,a);a.style.display="none";d.error(a)},createPlugin:function(h,d,g,a,e,j){g=h.htmlMediaElement;var q=1,l=1,o="me_"+h.method+"_"+mejs.meIndex++,r=new mejs.PluginMediaElement(o,h.method,h.url),v=document.createElement("div"),w;r.tagName=g.tagName;for(w=0;w<g.attributes.length;w++){var A=
g.attributes[w];A.specified==true&&r.setAttribute(A.name,A.value)}for(w=g.parentNode;w!==null&&w.tagName.toLowerCase()!="body";){if(w.parentNode.tagName.toLowerCase()=="p"){w.parentNode.parentNode.insertBefore(w,w.parentNode);break}w=w.parentNode}if(h.isVideo){q=d.videoWidth>0?d.videoWidth:g.getAttribute("width")!==null?g.getAttribute("width"):d.defaultVideoWidth;l=d.videoHeight>0?d.videoHeight:g.getAttribute("height")!==null?g.getAttribute("height"):d.defaultVideoHeight;q=mejs.Utility.encodeUrl(q);
l=mejs.Utility.encodeUrl(l)}else if(d.enablePluginDebug){q=320;l=240}r.success=d.success;mejs.MediaPluginBridge.registerPluginElement(o,r,g);v.className="me-plugin";v.id=o+"_container";h.isVideo?g.parentNode.insertBefore(v,g):document.body.insertBefore(v,document.body.childNodes[0]);a=["id="+o,"isvideo="+(h.isVideo?"true":"false"),"autoplay="+(a?"true":"false"),"preload="+e,"width="+q,"startvolume="+d.startVolume,"timerrate="+d.timerRate,"height="+l];if(h.url!==null)h.method=="flash"?a.push("file="+
mejs.Utility.encodeUrl(h.url)):a.push("file="+h.url);d.enablePluginDebug&&a.push("debug=true");d.enablePluginSmoothing&&a.push("smoothing=true");j&&a.push("controls=true");if(d.pluginVars)a=a.concat(d.pluginVars);switch(h.method){case "silverlight":v.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+o+'" name="'+o+'" width="'+q+'" height="'+l+'"><param name="initParams" value="'+a.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+
d.pluginPath+d.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){h=document.createElement("div");v.appendChild(h);h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+o+'" width="'+q+'" height="'+l+'"><param name="movie" value="'+d.pluginPath+d.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+a.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else v.innerHTML=
'<embed id="'+o+'" name="'+o+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+d.pluginPath+d.flashName+'" flashvars="'+a.join("&")+'" width="'+q+'" height="'+l+'"></embed>';break;case "youtube":d=h.url.substr(h.url.lastIndexOf("=")+1);youtubeSettings={container:v,containerId:v.id,pluginMediaElement:r,pluginId:o,videoId:d,
height:l,width:q};mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case "vimeo":console.log("vimeoid");r.vimeoid=h.url.substr(h.url.lastIndexOf("/")+1);v.innerHTML='<object width="'+q+'" height="'+l+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+
r.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+r.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+q+'" height="'+l+'"></embed></object>';break}g.style.display=
"none";return r},updateNative:function(h,d){h=h.htmlMediaElement;var g;for(g in mejs.HtmlMediaElement)h[g]=mejs.HtmlMediaElement[g];d.success(h,h);return h}};
mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var h=document.createElement("script");h.src="http://www.youtube.com/player_api";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(h,d);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(h){if(this.isLoaded)this.createIframe(h);else{this.loadIframeApi();this.iframeQueue.push(h)}},createIframe:function(h){var d=h.pluginMediaElement,g=new YT.Player(h.containerId,
{height:h.height,width:h.width,videoId:h.videoId,playerVars:{controls:0},events:{onReady:function(){h.pluginMediaElement.pluginApi=g;mejs.MediaPluginBridge.initPlugin(h.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(g,d,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,g,d)}}})},createEvent:function(h,d,g){g={type:g,target:d};if(h&&h.getDuration){d.currentTime=g.currentTime=h.getCurrentTime();d.duration=g.duration=h.getDuration();g.paused=d.paused;
g.ended=d.ended;g.muted=h.isMuted();g.volume=h.getVolume()/100;g.bytesTotal=h.getVideoBytesTotal();g.bufferedBytes=h.getVideoBytesLoaded();var a=g.bufferedBytes/g.bytesTotal*g.duration;g.target.buffered=g.buffered={start:function(){return 0},end:function(){return a},length:1}}d.dispatchEvent(g.type,g)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(h){this.flashPlayers[h.pluginId]=
h;var d,g="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+h.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){d=document.createElement("div");h.container.appendChild(d);d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+h.pluginId+'" width="'+h.width+'" height="'+h.height+'"><param name="movie" value="'+g+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else h.container.innerHTML=
'<object type="application/x-shockwave-flash" id="'+h.pluginId+'" data="'+g+'" width="'+h.width+'" height="'+h.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(h){var d=this.flashPlayers[h],g=document.getElementById(h),a=d.pluginMediaElement;a.pluginApi=a.pluginElement=g;mejs.MediaPluginBridge.initPlugin(h);g.cueVideoById(d.videoId);h=d.containerId+"_callback";window[h]=function(e){mejs.YouTubeApi.handleStateChange(e,
g,a)};g.addEventListener("onStateChange",h);setInterval(function(){mejs.YouTubeApi.createEvent(g,a,"timeupdate")},250)},handleStateChange:function(h,d,g){switch(h){case -1:g.paused=true;g.ended=true;mejs.YouTubeApi.createEvent(d,g,"loadedmetadata");break;case 0:g.paused=false;g.ended=true;mejs.YouTubeApi.createEvent(d,g,"ended");break;case 1:g.paused=false;g.ended=false;mejs.YouTubeApi.createEvent(d,g,"play");mejs.YouTubeApi.createEvent(d,g,"playing");break;case 2:g.paused=true;g.ended=false;mejs.YouTubeApi.createEvent(d,
g,"pause");break;case 3:mejs.YouTubeApi.createEvent(d,g,"progress");break;case 5:break}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(h){mejs.YouTubeApi.flashReady(h)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(h){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks",
"volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(d,g){g.paused||g.ended?g.play():g.pause()}},{keys:[38],action:function(d,g){d=Math.min(g.volume+0.1,1);g.setVolume(d)}},{keys:[40],action:function(d,g){d=Math.max(g.volume-0.1,0);g.setVolume(d)}},{keys:[37,227],action:function(d,g){if(!isNaN(g.duration)&&g.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}d=Math.max(g.currentTime-g.duration*0.05,0);g.setCurrentTime(d)}}},
{keys:[39,228],action:function(d,g){if(!isNaN(g.duration)&&g.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}d=Math.min(g.currentTime+g.duration*0.05,g.duration);g.setCurrentTime(d)}}},{keys:[70],action:function(d){if(typeof d.enterFullScreen!="undefined")d.isFullScreen?d.exitFullScreen():d.enterFullScreen()}}]};mejs.mepIndex=0;mejs.players=[];mejs.MediaElementPlayer=function(d,g){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(d,g);var a=this;a.$media=
a.$node=h(d);a.node=a.media=a.$media[0];if(typeof a.node.player!="undefined")return a.node.player;else a.node.player=a;if(typeof g=="undefined")g=a.$node.data("mejsoptions");a.options=h.extend({},mejs.MepDefaults,g);mejs.players.push(a);a.init();return a};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var d=this,g=mejs.MediaFeatures,a=h.extend(true,{},d.options,{success:function(j,q){d.meReady(j,q)},error:function(j){d.handleError(j)}}),e=d.media.tagName.toLowerCase();
d.isDynamic=e!=="audio"&&e!=="video";d.isVideo=d.isDynamic?d.options.isVideo:e!=="audio"&&d.options.isVideo;if(g.isiPad&&d.options.iPadUseNativeControls||g.isiPhone&&d.options.iPhoneUseNativeControls){d.$media.attr("controls","controls");if(g.isiPad&&d.media.getAttribute("autoplay")!==null){d.media.load();d.media.play()}}else if(!(g.isAndroid&&d.AndroidUseNativeControls)){d.$media.removeAttr("controls");d.id="mep_"+mejs.mepIndex++;d.container=h('<div id="'+d.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(d.$media[0].className).insertBefore(d.$media);
d.container.addClass((g.isAndroid?"mejs-android ":"")+(g.isiOS?"mejs-ios ":"")+(g.isiPad?"mejs-ipad ":"")+(g.isiPhone?"mejs-iphone ":"")+(d.isVideo?"mejs-video ":"mejs-audio "));if(g.isiOS){g=d.$media.clone();d.container.find(".mejs-mediaelement").append(g);d.$media.remove();d.$node=d.$media=g;d.node=d.media=g[0]}else d.container.find(".mejs-mediaelement").append(d.$media);d.controls=d.container.find(".mejs-controls");d.layers=d.container.find(".mejs-layers");g=e.substring(0,1).toUpperCase()+e.substring(1);
d.width=d.options[e+"Width"]>0||d.options[e+"Width"].toString().indexOf("%")>-1?d.options[e+"Width"]:d.media.style.width!==""&&d.media.style.width!==null?d.media.style.width:d.media.getAttribute("width")!==null?d.$media.attr("width"):d.options["default"+g+"Width"];d.height=d.options[e+"Height"]>0||d.options[e+"Height"].toString().indexOf("%")>-1?d.options[e+"Height"]:d.media.style.height!==""&&d.media.style.height!==null?d.media.style.height:d.$media[0].getAttribute("height")!==null?d.$media.attr("height"):
d.options["default"+g+"Height"];d.setPlayerSize(d.width,d.height);a.pluginWidth=d.height;a.pluginHeight=d.width}mejs.MediaElement(d.$media[0],a)},showControls:function(d){var g=this;d=typeof d=="undefined"||d;if(!g.controlsAreVisible){if(d){g.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){g.controlsAreVisible=true});g.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){g.controlsAreVisible=true})}else{g.controls.css("visibility",
"visible").css("display","block");g.container.find(".mejs-control").css("visibility","visible").css("display","block");g.controlsAreVisible=true}g.setControlsSize()}},hideControls:function(d){var g=this;d=typeof d=="undefined"||d;if(g.controlsAreVisible)if(d){g.controls.stop(true,true).fadeOut(200,function(){h(this).css("visibility","hidden").css("display","block");g.controlsAreVisible=false});g.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){h(this).css("visibility","hidden").css("display",
"block")})}else{g.controls.css("visibility","hidden").css("display","block");g.container.find(".mejs-control").css("visibility","hidden").css("display","block");g.controlsAreVisible=false}},controlsTimer:null,startControlsTimer:function(d){var g=this;d=typeof d!="undefined"?d:1500;g.killControlsTimer("start");g.controlsTimer=setTimeout(function(){g.hideControls();g.killControlsTimer("hide")},d)},killControlsTimer:function(){var d=this;if(d.controlsTimer!==null){clearTimeout(d.controlsTimer);delete d.controlsTimer;
d.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var d=this;d.killControlsTimer();d.hideControls(false);this.controlsEnabled=false},enableControls:function(){var d=this;d.showControls(false);d.controlsEnabled=true},meReady:function(d,g){var a=this,e=mejs.MediaFeatures,j=g.getAttribute("autoplay");j=!(typeof j=="undefined"||j===null||j==="false");var q;if(!a.created){a.created=true;a.media=d;a.domNode=g;if(!(e.isAndroid&&a.options.AndroidUseNativeControls)&&!(e.isiPad&&a.options.iPadUseNativeControls)&&
!(e.isiPhone&&a.options.iPhoneUseNativeControls)){a.buildposter(a,a.controls,a.layers,a.media);a.buildkeyboard(a,a.controls,a.layers,a.media);a.buildoverlays(a,a.controls,a.layers,a.media);a.findTracks();for(q in a.options.features){g=a.options.features[q];if(a["build"+g])try{a["build"+g](a,a.controls,a.layers,a.media)}catch(l){}}a.container.trigger("controlsready");a.setPlayerSize(a.width,a.height);a.setControlsSize();if(a.isVideo){if(mejs.MediaFeatures.hasTouch)a.$media.bind("touchstart",function(){if(a.controlsAreVisible)a.hideControls(false);
else a.controlsEnabled&&a.showControls(false)});else{(a.media.pluginType=="native"?a.$media:h(a.media.pluginElement)).click(function(){d.paused?d.play():d.pause()});a.container.bind("mouseenter mouseover",function(){if(a.controlsEnabled)if(!a.options.alwaysShowControls){a.killControlsTimer("enter");a.showControls();a.startControlsTimer(2500)}}).bind("mousemove",function(){if(a.controlsEnabled){a.controlsAreVisible||a.showControls();a.options.alwaysShowControls||a.startControlsTimer(2500)}}).bind("mouseleave",
function(){a.controlsEnabled&&!a.media.paused&&!a.options.alwaysShowControls&&a.startControlsTimer(1E3)})}j&&!a.options.alwaysShowControls&&a.hideControls();a.options.enableAutosize&&a.media.addEventListener("loadedmetadata",function(o){if(a.options.videoHeight<=0&&a.domNode.getAttribute("height")===null&&!isNaN(o.target.videoHeight)){a.setPlayerSize(o.target.videoWidth,o.target.videoHeight);a.setControlsSize();a.media.setVideoSize(o.target.videoWidth,o.target.videoHeight)}},false)}d.addEventListener("play",
function(){for(var o=0,r=mejs.players.length;o<r;o++){var v=mejs.players[o];v.id!=a.id&&a.options.pauseOtherPlayers&&!v.paused&&!v.ended&&v.pause();v.hasFocus=false}a.hasFocus=true},false);a.media.addEventListener("ended",function(){try{a.media.setCurrentTime(0)}catch(o){}a.media.pause();a.setProgressRail&&a.setProgressRail();a.setCurrentRail&&a.setCurrentRail();if(a.options.loop)a.media.play();else!a.options.alwaysShowControls&&a.controlsEnabled&&a.showControls()},false);a.media.addEventListener("loadedmetadata",
function(){a.updateDuration&&a.updateDuration();a.updateCurrent&&a.updateCurrent();if(!a.isFullScreen){a.setPlayerSize(a.width,a.height);a.setControlsSize()}},false);setTimeout(function(){a.setPlayerSize(a.width,a.height);a.setControlsSize()},50);h(window).resize(function(){a.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||a.setPlayerSize(a.width,a.height);a.setControlsSize()});a.media.pluginType=="youtube"&&a.container.find(".mejs-overlay-play").hide()}if(j&&
d.pluginType=="native"){d.load();d.play()}if(a.options.success)typeof a.options.success=="string"?window[a.options.success](a.media,a.domNode,a):a.options.success(a.media,a.domNode,a)}},handleError:function(d){var g=this;g.controls.hide();g.options.error&&g.options.error(d)},setPlayerSize:function(d,g){var a=this;if(typeof d!="undefined")a.width=d;if(typeof g!="undefined")a.height=g;if(a.height.toString().indexOf("%")>0){g=a.media.videoWidth&&a.media.videoWidth>0?a.media.videoWidth:a.options.defaultVideoWidth;
var e=a.media.videoHeight&&a.media.videoHeight>0?a.media.videoHeight:a.options.defaultVideoHeight;d=a.container.parent().width();g=parseInt(d*e/g,10);if(a.container.parent()[0].tagName.toLowerCase()==="body"){d=h(window).width();g=h(window).height()}a.container.width(d).height(g);a.$media.width("100%").height("100%");a.container.find("object, embed, iframe").width("100%").height("100%");a.media.setVideoSize&&a.media.setVideoSize(d,g);a.layers.children(".mejs-layer").width("100%").height("100%")}else{a.container.width(a.width).height(a.height);
a.layers.children(".mejs-layer").width(a.width).height(a.height)}},setControlsSize:function(){var d=this,g=0,a=0,e=d.controls.find(".mejs-time-rail"),j=d.controls.find(".mejs-time-total");d.controls.find(".mejs-time-current");d.controls.find(".mejs-time-loaded");var q=e.siblings();if(d.options&&!d.options.autosizeProgress)a=parseInt(e.css("width"));if(a===0||!a){q.each(function(){if(h(this).css("position")!="absolute")g+=h(this).outerWidth(true)});a=d.controls.width()-g-(e.outerWidth(true)-e.outerWidth(false))}e.width(a);
j.width(a-(j.outerWidth(true)-j.width()));d.setProgressRail&&d.setProgressRail();d.setCurrentRail&&d.setCurrentRail()},buildposter:function(d,g,a,e){g=this;var j=h('<div class="mejs-poster mejs-layer"></div>').appendTo(a);a=d.$media.attr("poster");if(d.options.poster!=="")a=d.options.poster;a!==""&&a!=null?g.setPoster(a):j.hide();e.addEventListener("play",function(){j.hide()},false)},setPoster:function(d){var g=this.container.find(".mejs-poster"),a=g.find("img");if(a.length==0)a=h('<img width="100%" height="100%" />').appendTo(g);
a.attr("src",d)},buildoverlays:function(d,g,a,e){if(d.isVideo){var j=h('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(a),q=h('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(a),l=h('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(a).click(function(){e.paused?e.play():e.pause()});e.addEventListener("play",function(){l.hide();
j.hide();q.hide()},false);e.addEventListener("playing",function(){l.hide();j.hide();q.hide()},false);e.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||l.show()},false);e.addEventListener("waiting",function(){j.show()},false);e.addEventListener("loadeddata",function(){j.show()},false);e.addEventListener("canplay",function(){j.hide()},false);e.addEventListener("error",function(){j.hide();q.show();q.find("mejs-overlay-error").html("Error loading this resource")},false)}},buildkeyboard:function(d,
g,a,e){h(document).keydown(function(j){if(d.hasFocus&&d.options.enableKeyboard)for(var q=0,l=d.options.keyActions.length;q<l;q++)for(var o=d.options.keyActions[q],r=0,v=o.keys.length;r<v;r++)if(j.keyCode==o.keys[r]){j.preventDefault();o.action(d,e);return false}return true});h(document).click(function(j){if(h(j.target).closest(".mejs-container").length==0)d.hasFocus=false})},findTracks:function(){var d=this,g=d.$media.find("track");d.tracks=[];g.each(function(a,e){e=h(e);d.tracks.push({srclang:e.attr("srclang").toLowerCase(),
src:e.attr("src"),kind:e.attr("kind"),label:e.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(d){this.container[0].className="mejs-container "+d;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(d){this.media.setMuted(d)},setCurrentTime:function(d){this.media.setCurrentTime(d)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(d){this.media.setVolume(d)},
getVolume:function(){return this.media.volume},setSrc:function(d){this.media.setSrc(d)},remove:function(){var d=this;if(d.media.pluginType=="flash")d.media.remove();else d.media.pluginType=="native"&&d.media.prop("controls",true);d.isDynamic||d.$node.insertBefore(d.container);d.container.remove()}};if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(d){return this.each(function(){new mejs.MediaElementPlayer(this,d)})};h(document).ready(function(){h(".mejs-player").mediaelementplayer()});
window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(h){h.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});h.extend(MediaElementPlayer.prototype,{buildplaypause:function(d,g,a,e){d=this;var j=h('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+d.id+'" title="'+d.options.playpauseText+'"></button></div>').appendTo(g).click(function(q){q.preventDefault();e.paused?e.play():e.pause();return false});e.addEventListener("play",function(){j.removeClass("mejs-play").addClass("mejs-pause")},false);
e.addEventListener("playing",function(){j.removeClass("mejs-play").addClass("mejs-pause")},false);e.addEventListener("pause",function(){j.removeClass("mejs-pause").addClass("mejs-play")},false);e.addEventListener("paused",function(){j.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);
(function(h){h.extend(mejs.MepDefaults,{stopText:"Stop"});h.extend(MediaElementPlayer.prototype,{buildstop:function(d,g,a,e){d=this;h('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+d.id+'" title="'+d.options.stopText+'"></button></div>').appendTo(g).click(function(){e.paused||e.pause();if(e.currentTime>0){e.setCurrentTime(0);g.find(".mejs-time-current").width("0px");g.find(".mejs-time-handle").css("left","0px");g.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));
g.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));a.find(".mejs-poster").show()}})}})})(mejs.$);
(function(h){h.extend(MediaElementPlayer.prototype,{buildprogress:function(d,g,a,e){h('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(g);a=this;var j=g.find(".mejs-time-total"),q=g.find(".mejs-time-loaded"),l=g.find(".mejs-time-current"),
o=g.find(".mejs-time-handle"),r=g.find(".mejs-time-float"),v=g.find(".mejs-time-float-current"),w=function(K){K=K.pageX;var B=j.offset(),y=j.outerWidth(),I=0;I=0;var G=K-B.left;if(K>B.left&&K<=y+B.left&&e.duration){I=(K-B.left)/y;I=I<=0.02?0:I*e.duration;A&&e.setCurrentTime(I);if(!mejs.MediaFeatures.hasTouch){r.css("left",G);v.html(mejs.Utility.secondsToTimeCode(I));r.show()}}},A=false,J=false;j.bind("mousedown",function(K){if(K.which===1){A=true;w(K);return false}});g.find(".mejs-time-total").bind("mouseenter",
function(){J=true;mejs.MediaFeatures.hasTouch||r.show()}).bind("mouseleave",function(){J=false;r.hide()});h(document).bind("mouseup",function(){A=false;r.hide()}).bind("mousemove",function(K){if(A||J)w(K)});e.addEventListener("progress",function(K){d.setProgressRail(K);d.setCurrentRail(K)},false);e.addEventListener("timeupdate",function(K){d.setProgressRail(K);d.setCurrentRail(K)},false);a.loaded=q;a.total=j;a.current=l;a.handle=o},setProgressRail:function(d){var g=this,a=d!=undefined?d.target:g.media,
e=null;if(a&&a.buffered&&a.buffered.length>0&&a.buffered.end&&a.duration)e=a.buffered.end(0)/a.duration;else if(a&&a.bytesTotal!=undefined&&a.bytesTotal>0&&a.bufferedBytes!=undefined)e=a.bufferedBytes/a.bytesTotal;else if(d&&d.lengthComputable&&d.total!=0)e=d.loaded/d.total;if(e!==null){e=Math.min(1,Math.max(0,e));g.loaded&&g.total&&g.loaded.width(g.total.width()*e)}},setCurrentRail:function(){var d=this;if(d.media.currentTime!=undefined&&d.media.duration)if(d.total&&d.handle){var g=d.total.width()*
d.media.currentTime/d.media.duration,a=g-d.handle.outerWidth(true)/2;d.current.width(g);d.handle.css("left",a)}}})})(mejs.$);
(function(h){h.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});h.extend(MediaElementPlayer.prototype,{buildcurrent:function(d,g,a,e){a=this;h('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(g);a.currenttime=a.controls.find(".mejs-currenttime");e.addEventListener("timeupdate",function(){d.updateCurrent()},false)},buildduration:function(d,
g,a,e){a=this;if(g.children().last().find(".mejs-currenttime").length>0)h(a.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(g.find(".mejs-time"));else{g.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");
h('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(g)}a.durationD=a.controls.find(".mejs-duration");e.addEventListener("timeupdate",function(){d.updateDuration()},false)},
updateCurrent:function(){var d=this;if(d.currenttime)d.currenttime.html(mejs.Utility.secondsToTimeCode(d.media.currentTime,d.options.alwaysShowHours||d.media.duration>3600,d.options.showTimecodeFrameCount,d.options.framesPerSecond||25))},updateDuration:function(){var d=this;if(d.media.duration&&d.durationD)d.durationD.html(mejs.Utility.secondsToTimeCode(d.media.duration,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond||25))}})})(mejs.$);
(function(h){h.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});h.extend(MediaElementPlayer.prototype,{buildvolume:function(d,g,a,e){if(!(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){a=this;var j=a.isVideo?a.options.videoVolume:a.options.audioVolume,q=j=="horizontal"?h('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+
'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(g):h('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(g),
l=a.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),o=a.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),r=a.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),v=a.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),w=function(B){if(l.is(":visible")){B=Math.max(0,B);B=Math.min(B,1);B==0?q.removeClass("mejs-mute").addClass("mejs-unmute"):q.removeClass("mejs-unmute").addClass("mejs-mute");if(j=="vertical"){var y=o.height(),
I=o.position();B=y-y*B;v.css("top",I.top+B-v.height()/2);r.height(y-B);r.css("top",I.top+B)}else{y=o.width();I=o.position();B=y*B;v.css("left",I.left+B-v.width()/2);r.width(B)}}else{l.show();w(B);l.hide()}},A=function(B){var y=null,I=o.offset();if(j=="vertical"){y=o.height();parseInt(o.css("top").replace(/px/,""),10);y=(y-(B.pageY-I.top))/y;if(I.top==0||I.left==0)return}else{y=o.width();y=(B.pageX-I.left)/y}y=Math.max(0,y);y=Math.min(y,1);w(y);y==0?e.setMuted(true):e.setMuted(false);e.setVolume(y)},
J=false,K=false;q.hover(function(){l.show();K=true},function(){K=false;!J&&j=="vertical"&&l.hide()});l.bind("mouseover",function(){K=true}).bind("mousedown",function(B){A(B);J=true;return false});h(document).bind("mouseup",function(){J=false;!K&&j=="vertical"&&l.hide()}).bind("mousemove",function(B){J&&A(B)});q.find("button").click(function(){e.setMuted(!e.muted)});e.addEventListener("volumechange",function(){if(!J)if(e.muted){w(0);q.removeClass("mejs-mute").addClass("mejs-unmute")}else{w(e.volume);
q.removeClass("mejs-unmute").addClass("mejs-mute")}},false);if(a.container.is(":visible")){w(d.options.startVolume);e.pluginType==="native"&&e.setVolume(d.options.startVolume)}}}})})(mejs.$);
(function(h){h.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"});h.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(d,g,a,e){if(d.isVideo){d.isInIframe=window.location!=window.parent.location;mejs.MediaFeatures.hasTrueNativeFullScreen&&d.container.bind(mejs.MediaFeatures.fullScreenEventName,function(){if(mejs.MediaFeatures.isFullScreen()){d.isNativeFullScreen=
true;d.setControlsSize()}else{d.isNativeFullScreen=false;d.exitFullScreen()}});var j=this,q=h('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+j.id+'" title="'+j.options.fullscreenText+'"></button></div>').appendTo(g);if(j.media.pluginType==="native"||!j.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)q.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||d.isFullScreen?d.exitFullScreen():d.enterFullScreen()});
else{var l=null;if(document.documentElement.style.pointerEvents===""&&!mejs.MediaFeatures.isOpera){var o=false,r=function(){if(o){v.hide();w.hide();A.hide();q.css("pointer-events","");j.controls.css("pointer-events","");o=false}},v=h('<div class="mejs-fullscreen-hover" />').appendTo(j.container).mouseover(r),w=h('<div class="mejs-fullscreen-hover"  />').appendTo(j.container).mouseover(r),A=h('<div class="mejs-fullscreen-hover"  />').appendTo(j.container).mouseover(r),J=function(){var K={position:"absolute",
top:0,left:0};v.css(K);w.css(K);A.css(K);v.width(j.container.width()).height(j.container.height()-j.controls.height());K=q.offset().left-j.container.offset().left;fullScreenBtnWidth=q.outerWidth(true);w.width(K).height(j.controls.height()).css({top:j.container.height()-j.controls.height()});A.width(j.container.width()-K-fullScreenBtnWidth).height(j.controls.height()).css({top:j.container.height()-j.controls.height(),left:K+fullScreenBtnWidth})};h(document).resize(function(){J()});q.mouseover(function(){if(!j.isFullScreen){var K=
q.offset(),B=d.container.offset();e.positionFullscreenButton(K.left-B.left,K.top-B.top,false);q.css("pointer-events","none");j.controls.css("pointer-events","none");v.show();A.show();w.show();J();o=true}});e.addEventListener("fullscreenchange",function(){r()})}else q.mouseover(function(){if(l!==null){clearTimeout(l);delete l}var K=q.offset(),B=d.container.offset();e.positionFullscreenButton(K.left-B.left,K.top-B.top,true)}).mouseout(function(){if(l!==null){clearTimeout(l);delete l}l=setTimeout(function(){e.hideFullscreenButton()},
1500)})}d.fullscreenBtn=q;h(document).bind("keydown",function(K){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||j.isFullScreen)&&K.keyCode==27)d.exitFullScreen()})}},enterFullScreen:function(){var d=this;if(!(d.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||d.options.usePluginFullScreen))){docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=d.container.height();normalWidth=d.container.width();
if(d.media.pluginType==="native")if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(d.container[0]);d.isInIframe&&setTimeout(function a(){if(d.isNativeFullScreen)h(window).width()!==screen.width?d.exitFullScreen():setTimeout(a,500)},500)}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){d.media.webkitEnterFullscreen();return}if(d.isInIframe){var g=d.options.newWindowCallback(this);if(g!=="")if(mejs.MediaFeatures.hasTrueNativeFullScreen)setTimeout(function(){if(!d.isNativeFullScreen){d.pause();
window.open(g,d.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250);else{d.pause();window.open(g,d.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}}d.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){d.container.css({width:"100%",height:"100%"});d.setControlsSize()},500);if(d.pluginType===
"native")d.$media.width("100%").height("100%");else{d.container.find("object, embed, iframe").width("100%").height("100%");d.media.setVideoSize(h(window).width(),h(window).height())}d.layers.children("div").width("100%").height("100%");d.fullscreenBtn&&d.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");d.setControlsSize();d.isFullScreen=true}},exitFullScreen:function(){var d=this;if(d.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)d.media.setFullscreen(false);
else{if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||d.isFullScreen))mejs.MediaFeatures.cancelFullScreen();document.documentElement.style.overflow=docStyleOverflow;d.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(d.pluginType==="native")d.$media.width(normalWidth).height(normalHeight);else{d.container.find("object embed").width(normalWidth).height(normalHeight);d.media.setVideoSize(normalWidth,normalHeight)}d.layers.children("div").width(normalWidth).height(normalHeight);
d.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");d.setControlsSize();d.isFullScreen=false}}})})(mejs.$);
(function(h){h.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"});h.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(d,g,a,e){if(d.isVideo)if(d.tracks.length!=0){var j=this,q;d.chapters=h('<div class="mejs-chapters mejs-layer"></div>').prependTo(a).hide();d.captions=h('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(a).hide();d.captionsText=d.captions.find(".mejs-captions-text");
d.captionsButton=h('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+j.id+'" title="'+j.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+d.id+'_captions" id="'+d.id+'_captions_none" value="none" checked="checked" /><label for="'+d.id+'_captions_none">None</label></li></ul></div></div>').appendTo(g).hover(function(){h(this).find(".mejs-captions-selector").css("visibility","visible")},function(){h(this).find(".mejs-captions-selector").css("visibility",
"hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")d.selectedTrack=null;else for(q=0;q<d.tracks.length;q++)if(d.tracks[q].srclang==lang){d.selectedTrack=d.tracks[q];d.captions.attr("lang",d.selectedTrack.srclang);d.displayCaptions();break}});d.options.alwaysShowControls?d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):d.container.bind("mouseenter",function(){d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",
function(){e.paused||d.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});d.trackToLoad=-1;d.selectedTrack=null;d.isLoadingTrack=false;for(q=0;q<d.tracks.length;q++)d.tracks[q].kind=="subtitles"&&d.addTrackButton(d.tracks[q].srclang,d.tracks[q].label);d.loadNextTrack();e.addEventListener("timeupdate",function(){d.displayCaptions()},false);e.addEventListener("loadedmetadata",function(){d.displayChapters()},false);d.container.hover(function(){if(d.hasChapters){d.chapters.css("visibility",
"visible");d.chapters.fadeIn(200)}},function(){d.hasChapters&&!e.paused&&d.chapters.fadeOut(200,function(){h(this).css("visibility","hidden");h(this).css("display","block")})});d.node.getAttribute("autoplay")!==null&&d.chapters.css("visibility","hidden")}},loadNextTrack:function(){var d=this;d.trackToLoad++;if(d.trackToLoad<d.tracks.length){d.isLoadingTrack=true;d.loadTrack(d.trackToLoad)}else d.isLoadingTrack=false},loadTrack:function(d){var g=this,a=g.tracks[d],e=function(){a.isLoaded=true;g.enableTrackButton(a.srclang,
a.label);g.loadNextTrack()};a.isTranslation?mejs.TrackFormatParser.translateTrackText(g.tracks[0].entries,g.tracks[0].srclang,a.srclang,g.options.googleApiKey,function(j){a.entries=j;e()}):h.ajax({url:a.src,success:function(j){a.entries=mejs.TrackFormatParser.parse(j);e();a.kind=="chapters"&&g.media.duration>0&&g.drawChapters(a)},error:function(){g.loadNextTrack()}})},enableTrackButton:function(d,g){var a=this;if(g==="")g=mejs.language.codes[d]||d;a.captionsButton.find("input[value="+d+"]").prop("disabled",
false).siblings("label").html(g);a.options.startLanguage==d&&h("#"+a.id+"_captions_"+d).click();a.adjustLanguageBox()},addTrackButton:function(d,g){var a=this;if(g==="")g=mejs.language.codes[d]||d;a.captionsButton.find("ul").append(h('<li><input type="radio" name="'+a.id+'_captions" id="'+a.id+"_captions_"+d+'" value="'+d+'" disabled="disabled" /><label for="'+a.id+"_captions_"+d+'">'+g+" (loading)</label></li>"));a.adjustLanguageBox();a.container.find(".mejs-captions-translations option[value="+
d+"]").remove()},adjustLanguageBox:function(){var d=this;d.captionsButton.find(".mejs-captions-selector").height(d.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+d.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var d=this,g,a=d.selectedTrack;if(a!=null&&a.isLoaded)for(g=0;g<a.entries.times.length;g++)if(d.media.currentTime>=a.entries.times[g].start&&d.media.currentTime<=a.entries.times[g].stop){d.captionsText.html(a.entries.text[g]);
d.captions.show();return}d.captions.hide()}},displayChapters:function(){var d=this,g;for(g=0;g<d.tracks.length;g++)if(d.tracks[g].kind=="chapters"&&d.tracks[g].isLoaded){d.drawChapters(d.tracks[g]);d.hasChapters=true;break}},drawChapters:function(d){var g=this,a,e,j=e=0;g.chapters.empty();for(a=0;a<d.entries.times.length;a++){e=d.entries.times[a].stop-d.entries.times[a].start;e=Math.floor(e/g.media.duration*100);if(e+j>100||a==d.entries.times.length-1&&e+j<100)e=100-j;g.chapters.append(h('<div class="mejs-chapter" rel="'+
d.entries.times[a].start+'" style="left: '+j.toString()+"%;width: "+e.toString()+'%;"><div class="mejs-chapter-block'+(a==d.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+d.entries.text[a]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(d.entries.times[a].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(d.entries.times[a].stop)+"</span></div></div>"));j+=e}g.chapters.find("div.mejs-chapter").click(function(){g.media.setCurrentTime(parseFloat(h(this).attr("rel")));
g.media.paused&&g.media.play()});g.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",
ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,
split2:function(d,g){return d.split(g)},parse:function(d){var g=0;d=this.split2(d,/\r?\n/);for(var a={text:[],times:[]},e,j;g<d.length;g++)if(this.pattern_identifier.exec(d[g])){g++;if((e=this.pattern_timecode.exec(d[g]))&&g<d.length){g++;j=d[g];for(g++;d[g]!==""&&g<d.length;){j=j+"\n"+d[g];g++}a.text.push(j);a.times.push({start:mejs.Utility.timeCodeToSeconds(e[1]),stop:mejs.Utility.timeCodeToSeconds(e[3]),settings:e[5]})}}return a}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=
function(d,g){var a=[],e="",j;for(j=0;j<d.length;j++){e+=d.substring(j,j+1);if(g.test(e)){a.push(e.replace(g,""));e=""}}a.push(e);return a}})(mejs.$);
(function(h){h.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(d){if(typeof d.enterFullScreen=="undefined")return null;return d.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(d){d.isFullScreen?d.exitFullScreen():d.enterFullScreen()}},{render:function(d){return d.media.muted?"Unmute":"Mute"},click:function(d){d.media.muted?d.setMuted(false):d.setMuted(true)}},{isSeparator:true},{render:function(){return"Download Video"},click:function(d){window.location.href=d.media.currentSrc}}]});
h.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(d){d.contextMenu=h('<div class="mejs-contextmenu"></div>').appendTo(h("body")).hide();d.container.bind("contextmenu",function(g){if(d.isContextMenuEnabled){g.preventDefault();d.renderContextMenu(g.clientX-1,g.clientY-1);return false}});d.container.bind("click",function(){d.contextMenu.hide()});d.contextMenu.bind("mouseleave",function(){d.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=
true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var d=this;d.killContextMenuTimer();d.contextMenuTimer=setTimeout(function(){d.hideContextMenu();d.killContextMenuTimer()},750)},killContextMenuTimer:function(){var d=this.contextMenuTimer;if(d!=null){clearTimeout(d);delete d}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(d,g){for(var a=this,e="",j=a.options.contextMenuItems,q=0,l=j.length;q<
l;q++)if(j[q].isSeparator)e+='<div class="mejs-contextmenu-separator"></div>';else{var o=j[q].render(a);if(o!=null)e+='<div class="mejs-contextmenu-item" data-itemindex="'+q+'" id="element-'+Math.random()*1E6+'">'+o+"</div>"}a.contextMenu.empty().append(h(e)).css({top:g,left:d}).show();a.contextMenu.find(".mejs-contextmenu-item").each(function(){var r=h(this),v=parseInt(r.data("itemindex"),10),w=a.options.contextMenuItems[v];typeof w.show!="undefined"&&w.show(r,a);r.click(function(){typeof w.click!=
"undefined"&&w.click(a);a.contextMenu.hide()})});setTimeout(function(){a.killControlsTimer("rev3")},100)}})})(mejs.$);steal.loaded("webapp/lib/mediaelement/mediaelement-and-player.js");
(function(h){var d={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:5E3,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null},g={init:function(a){a&&h.extend(d,a)},showToast:function(a){var e={};h.extend(e,d,a);var j,q;a=!h(".toast-container").length?h("<div></div>").addClass("toast-container").addClass("toast-position-"+e.position).appendTo("body"):h(".toast-container");j=h("<div></div>").addClass("toast-item-wrapper");q=h("<div></div>").hide().addClass("toast-item toast-type-"+
e.type).appendTo(a).html("<p>"+e.text+"</p>").animate(e.inEffect,e.inEffectDuration).wrap(j);h("<div></div>").addClass("toast-item-close").prependTo(q).html(e.closeText).click(function(){h().toastmessage("removeToast",q,e)});h("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+e.type).prependTo(q);navigator.userAgent.match(/MSIE 6/i)&&a.css({top:document.documentElement.scrollTop});e.sticky||setTimeout(function(){h().toastmessage("removeToast",q,e)},e.stayTime);return q},showNoticeToast:function(a){a=
{text:a,type:"notice"};return h().toastmessage("showToast",a)},showSuccessToast:function(a){a={text:a,type:"success"};return h().toastmessage("showToast",a)},showErrorToast:function(a){a={text:a,type:"error"};return h().toastmessage("showToast",a)},showWarningToast:function(a){a={text:a,type:"warning"};return h().toastmessage("showToast",a)},removeToast:function(a,e){a.animate({opacity:"0"},600,function(){a.parent().animate({height:"0px"},300,function(){a.parent().remove()})});e&&e.close!==null&&
e.close()}};h.fn.toastmessage=function(a){if(g[a])return g[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return g.init.apply(this,arguments);else h.error("Method "+a+" does not exist on jQuery.toastmessage")}})(jQuery);steal.loaded("webapp/lib/toast/jquery.toastmessage.js");
(function(h){h.prompt=function(d,g){g=h.extend({},h.prompt.defaults,g);h.prompt.currentPrefix=g.prefix;var a=h.browser.msie&&h.browser.version<7,e=h(document.body),j=h(window);g.classes=h.trim(g.classes);if(g.classes!="")g.classes=" "+g.classes;var q='<div class="'+g.prefix+"box"+g.classes+'" id="'+g.prefix+'box">';if(g.useiframe&&(h("object, applet").length>0||a))q+='<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+g.prefix+'fade" id="'+g.prefix+'fade"></iframe>';
else{a&&h("select").css("visibility","hidden");q+='<div class="'+g.prefix+'fade" id="'+g.prefix+'fade"></div>'}q+='<div class="'+g.prefix+'" id="'+g.prefix+'"><div class="'+g.prefix+'container"><div class="';q+=g.prefix+'close ui-btn-left ui-btn ui-btn-up-a ui-btn-icon-notext ui-btn-corner-all ui-shadow"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">Close</span><span class="ui-icon ui-icon-delete ui-icon-shadow"></span></span></div><div id="'+g.prefix+'states" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow ui-body-a"></div>';
q+="</div></div></div>";var l=h(q).appendTo(e),o=l.children("#"+g.prefix),r=l.children("#"+g.prefix+"fade");if(d.constructor==String)d={state0:{html:d,buttons:g.buttons,focus:g.focus,submit:g.submit}};var v="";h.each(d,function(y,I){I=h.extend({},h.prompt.defaults.state,I);d[y]=I;v+='<div id="'+g.prefix+"_state_"+y+'" class="'+g.prefix+'_state" style="display:none;"><div class="'+g.prefix+'message">'+I.html+'</div><div class="'+g.prefix+'buttons">';h.each(I.buttons,function(G,L){v+=typeof L=="object"?
'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+g.prefix+"_"+y+"_button"+L.title.replace(/[^a-z0-9]+/gi,"")+'" id="'+g.prefix+"_"+y+"_button"+L.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+L.value+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+L.title+"</span></span></button>":'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+g.prefix+"_"+y+"_button"+G+'" id="'+g.prefix+"_"+y+"_button"+G+'" value="'+
L+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+G+"</span></span></button>"});v+="</div></div>"});o.find("#"+g.prefix+"states").html(v).children("."+g.prefix+"_state:first").css("display","block");o.find("."+g.prefix+"buttons:empty").css("display","none");h.each(d,function(y,I){var G=o.find("#"+g.prefix+"_state_"+y);G.children("."+g.prefix+"buttons").children("button").click(function(){var L=G.children("."+g.prefix+"message"),M=I.buttons[h(this).text()];if(M==undefined)for(var ca in I.buttons)if(I.buttons[ca].title==
h(this).text())M=I.buttons[ca].value;if(typeof M=="object")M=M.value;var T={};h.each(o.find("#"+g.prefix+"states :input").serializeArray(),function(H,Q){if(T[Q.name]===undefined)T[Q.name]=Q.value;else if(typeof T[Q.name]==Array||typeof T[Q.name]=="object")T[Q.name].push(Q.value);else T[Q.name]=[T[Q.name],Q.value]});ca=I.submit(M,L,T);if(ca===undefined||ca)B(true,M,L,T)});G.find("."+g.prefix+"buttons button:eq("+I.focus+")").addClass(g.prefix+"defaultbutton")});var w=function(){l.css({top:j.scrollTop()})},
A=function(){if(g.persistent){var y=0;l.addClass(g.prefix+"warning");var I=setInterval(function(){l.toggleClass(g.prefix+"warning");if(y++>1){clearInterval(I);l.removeClass(g.prefix+"warning")}},100)}else B()},J=function(y){var I=window.event?event.keyCode:y.keyCode;I==27&&A();if(I==9){var G=h(":input:enabled:visible",l),L=y.shiftKey&&y.target==G[0];if(!y.shiftKey&&y.target==G[G.length-1]||L){setTimeout(function(){if(G){var M=G[L===true?G.length-1:0];M&&M.focus()}},10);return false}}},K=function(){l.css({position:a?
"absolute":"fixed",height:j.height(),width:"100%",top:a?j.scrollTop():0,left:0,right:0,bottom:0});r.css({position:"absolute",height:j.height(),width:"100%",top:0,left:0,right:0,bottom:0});o.css({position:"absolute",top:g.top,left:"50%",marginLeft:o.outerWidth()/2*-1})},B=function(y,I,G,L){o.remove();a&&e.unbind("scroll",w);j.unbind("resize",K);r.fadeOut(g.overlayspeed,function(){r.unbind("click",A);r.remove();y&&g.callback(I,G,L);l.unbind("keypress",J);l.remove();a&&!g.useiframe&&h("select").css("visibility",
"visible")})};K();(function(){r.css({zIndex:g.zIndex,display:"none",opacity:g.opacity});o.css({zIndex:g.zIndex+1,display:"none"});l.css({zIndex:g.zIndex})})();a&&j.scroll(w);r.click(A);j.resize(K);l.bind("keydown keypress",J);o.find("."+g.prefix+"close").click(B);r.fadeIn(g.overlayspeed);o[g.show](g.promptspeed,g.loaded);o.find("#"+g.prefix+"states ."+g.prefix+"_state:first ."+g.prefix+"defaultbutton").focus();g.timeout>0&&setTimeout(h.prompt.close,g.timeout);return l};h.prompt.defaults={prefix:"jqi",
classes:"",buttons:{Ok:true},loaded:function(){},submit:function(){return true},callback:function(){},overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",focus:0,useiframe:false,top:"15%",persistent:true,timeout:0,state:{html:"",buttons:{Ok:true},focus:0,submit:function(){return true}}};h.prompt.currentPrefix=h.prompt.defaults.prefix;h.prompt.setDefaults=function(d){h.prompt.defaults=h.extend({},h.prompt.defaults,d)};h.prompt.setStateDefaults=function(d){h.prompt.defaults.state=h.extend({},h.prompt.defaults.state,
d)};h.prompt.getStateContent=function(d){return h("#"+h.prompt.currentPrefix+"_state_"+d)};h.prompt.getCurrentState=function(){return h("."+h.prompt.currentPrefix+"_state:visible")};h.prompt.getCurrentStateName=function(){return h.prompt.getCurrentState().attr("id").replace(h.prompt.currentPrefix+"_state_","")};h.prompt.goToState=function(d,g){h("."+h.prompt.currentPrefix+"_state").slideUp("slow");h("#"+h.prompt.currentPrefix+"_state_"+d).slideDown("slow",function(){h(this).find("."+h.prompt.currentPrefix+
"defaultbutton").focus();typeof g=="function"&&g()})};h.prompt.nextState=function(d){var g=h("."+h.prompt.currentPrefix+"_state:visible").next();h("."+h.prompt.currentPrefix+"_state").slideUp("slow");g.slideDown("slow",function(){g.find("."+h.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};h.prompt.prevState=function(d){var g=h("."+h.prompt.currentPrefix+"_state:visible").prev();h("."+h.prompt.currentPrefix+"_state").slideUp("slow");g.slideDown("slow",function(){g.find("."+
h.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};h.prompt.close=function(){h("#"+h.prompt.currentPrefix+"box").fadeOut("fast",function(){h(this).remove()})};h.fn.prompt=function(d){if(d==undefined)d={};if(d.withDataAndEvents==undefined)d.withDataAndEvents=false;h.prompt(h(this).clone(d.withDataAndEvents).html(),d)}})(jQuery);steal.loaded("webapp/lib/jquery-impromptu.3.1.js");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_desktop_mobile_tmpl",function(d){return function(g,a){var e=[],j=a.data;with(j){e.push('<div class="main-page ');if(typeof(user&&user.is_public)!=="undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(a):user&&user.is_public))e.push("public-user");e.push('" data-role="page">   <div data-role="header" class="desktop-title">    <h1>FastND</h1>    ');if(typeof(user&&user.is_public)!==
"undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(a):user&&user.is_public))e.push('     <a data-role="button" class="signin-button ui-btn-right" data-theme="a">Sign In</a>     ');e.push("        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public)){e.push('     <div class="header-buttons">      ');if(typeof(user&&
!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public))e.push('       <a ontouchstart="" class="add-tab-button">Lookup Company</a>      ');e.push('      <a ontouchstart="" class="logout-button">Logout</a>     </div>    ')}e.push('   </div>   <div data-role="content"></div>  </div>    <div class="main-columns columns-container" data-backpage="main-page"></div>  <div class="companies-columns columns-container" data-backpage="companies-page"></div>  <div class="stocks-columns columns-container" data-backpage="stocks-page"></div>    <div data-role="navbar" class="mobile-navbar">   <ul>    <li><a class="main-icon main-button ui-btn-active" data-icon="custom" data-theme="a">Main</a></li>    <li><a class="stocks-icon stocks-button" data-icon="custom" data-theme="a">Stocks</a></li>    <li><a class="companies-icon companies-button" data-icon="custom" data-theme="a">Companies</a></li>        ');
typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public)?e.push('     <li><a class="alerts-icon alerts-button" data-icon="custom" data-theme="a">Alerts</a></li>    '):e.push('     <li><a class="lookup-icon lookup-button" data-icon="custom" data-theme="a">Lookup</a></li>    ');e.push('       </ul>  </div>    <div class="companies-page ui-page" data-role="page">   <div data-role="header" class="desktop-title">    <h1>FastND</h1>    ');
if(typeof(user&&user.is_public)!=="undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(a):user&&user.is_public))e.push('     <a data-role="button" class="signin-button ui-btn-right" data-theme="a">Sign In</a>     ');e.push("        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public)){e.push('     <div class="header-buttons">      ');
if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public))e.push('       <a ontouchstart="" class="add-tab-button">Lookup Company</a>      ');e.push('      <a ontouchstart="" class="logout-button">Logout</a>     </div>    ')}e.push('   </div>   <div data-role="content"></div>  </div>    <div class="stocks-page ui-page" data-role="page">   <div data-role="header" class="desktop-title">    <h1>FastND</h1>    ');
if(typeof(user&&user.is_public)!=="undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(a):user&&user.is_public))e.push('     <a data-role="button" class="signin-button ui-btn-right" data-theme="a">Sign In</a>     ');e.push("        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public)){e.push('     <div class="header-buttons">      ');
if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public))e.push('       <a ontouchstart="" class="add-tab-button">Lookup Company</a>      ');e.push('      <a ontouchstart="" class="logout-button">Logout</a>     </div>    ')}e.push('   </div>   <div data-role="content"></div>  </div>    ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&
!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public)){e.push('   <div id="mobile-updates" data-role="page">    <div data-role="header" class="desktop-title">     <h1>FastND</h1>     ');if(typeof(user&&user.is_public)!=="undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(a):user&&user.is_public))e.push('      <a data-role="button" class="signin-button ui-btn-right" data-theme="a">Sign In</a>      ');e.push("          ");
if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public)){e.push('      <div class="header-buttons">       ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public))e.push('        <a ontouchstart="" class="add-tab-button">Lookup Company</a>       ');e.push('       <a ontouchstart="" class="logout-button">Logout</a>      </div>     ')}e.push('    </div>    <div data-role="content">     <div class="mobile-update-list"></div>    </div>   </div>  ')}e.push("    ");
if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(a):!user||user.is_public)){e.push('  <div id="public-account-selector" data-role="dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>Public Accounts</h1>   </div>      <div data-role="content">    <p>Try out some of our public accounts by selecting your areas of focus</p>    <form>     <div data-role="fieldcontain">      <label for="profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)e.push(g.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));e.push('</label>      <select name="user[profession]" id="profession">       ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)g.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(q,l){with(this){e.push("        ");
if(typeof(currentFocusId=l._id)!=="undefined"&&(currentFocusId=l._id)!=null)e.push(g.encode(typeof(currentFocusId=l._id)==="function"?(currentFocusId=l._id).call(a):(currentFocusId=l._id)));e.push('        <option value="');if(typeof l._id!=="undefined"&&l._id!=null)e.push(g.encode(typeof l._id==="function"?l._id.call(a):l._id));e.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)g.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):
selectedFocus.professional,function(o,r){with(this){e.push(" ");if(typeof(r._id===currentFocusId)!=="undefined"&&r._id===currentFocusId!=null&&(typeof(r._id===currentFocusId)==="function"?(r._id===currentFocusId).call(a):r._id===currentFocusId))e.push(' selected="selected" ');e.push(" ")}});e.push(">");if(typeof l.title!=="undefined"&&l.title!=null)e.push(g.encode(typeof l.title==="function"?l.title.call(a):l.title));e.push("</option>       ")}});e.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)e.push(g.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));e.push('</label>      <select name="user[industry]" id="industry">       ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)g.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(q,l){with(this){e.push("        ");
if(typeof(currentFocusId=l._id)!=="undefined"&&(currentFocusId=l._id)!=null)e.push(g.encode(typeof(currentFocusId=l._id)==="function"?(currentFocusId=l._id).call(a):(currentFocusId=l._id)));e.push('        <option value="');if(typeof l._id!=="undefined"&&l._id!=null)e.push(g.encode(typeof l._id==="function"?l._id.call(a):l._id));e.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)g.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):
selectedFocus.industrial,function(o,r){with(this){e.push(" ");if(typeof(r._id===currentFocusId)!=="undefined"&&r._id===currentFocusId!=null&&(typeof(r._id===currentFocusId)==="function"?(r._id===currentFocusId).call(a):r._id===currentFocusId))e.push(' selected="selected" ');e.push(" ")}});e.push(">");if(typeof l.title!=="undefined"&&l.title!=null)e.push(g.encode(typeof l.title==="function"?l.title.call(a):l.title));e.push("</option>       ")}});e.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)e.push(g.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));e.push('</label>      <select name="user[geographic]" id="geographic">       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)g.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(q,l){with(this){e.push("        ");
if(typeof(currentFocusId=l._id)!=="undefined"&&(currentFocusId=l._id)!=null)e.push(g.encode(typeof(currentFocusId=l._id)==="function"?(currentFocusId=l._id).call(a):(currentFocusId=l._id)));e.push('        <option value="');if(typeof l._id!=="undefined"&&l._id!=null)e.push(g.encode(typeof l._id==="function"?l._id.call(a):l._id));e.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)g.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):
selectedFocus.geographic,function(o,r){with(this){e.push(" ");if(typeof(r._id===currentFocusId)!=="undefined"&&r._id===currentFocusId!=null&&(typeof(r._id===currentFocusId)==="function"?(r._id===currentFocusId).call(a):r._id===currentFocusId))e.push(' selected="selected" ');e.push(" ")}});e.push(">");if(typeof l.title!=="undefined"&&l.title!=null)e.push(g.encode(typeof l.title==="function"?l.title.call(a):l.title));e.push("</option>       ")}});e.push('      </select>     </div>    </form>    <button data-theme="b" data-icon="arrow-r" data-iconpos="right" class="public-account-selector-btn">Try account</button>   </div>   </div>  ')}e.push("")}return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/desktop.mobile.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_login_tmpl",function(d){return function(g,a){var e=[],j=a.data;with(j){e.push('<div id="login-page" data-role="dialog" class="small-dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>     ');typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen)?e.push("      Sign-In     "):e.push("      Welcome to       <strong>FastND</strong>     ");
e.push('    </h1>   </div>   <div data-role="content">        ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))e.push('     <a data-role="button" data-theme="a" class="public-account-btn" data-icon="arrow-r" data-iconpos="right">Use a Public Account</a>     <hr />     <p class="separator-text">OR</p>    ');e.push('        <form id="new_user_session" data-ajax="false">     <div data-role="fieldcontain">      <label for="login">Username</label>      <input type="text" name="user_session[login]" id="login" value="" />     </div>     <div data-role="fieldcontain">      <label for="password">Password</label>      <input type="password" name="user_session[password]" id="password" value="" />     </div>             ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))e.push('      <div data-role="controlgroup" data-type="horizontal">       <a data-role="button" data-theme="b" id="signup-button">Register</a>     ');e.push('          <button type="submit" data-role="button" data-theme="a" id="signin-button">Login</button>          ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):
smallScreen))e.push("      </div>     ");e.push('          <a class="forgot-password">Forgot your password?</a>          <hr />     <p class="separator-text">OR</p>          <div class="social-signin">      <p>Sign-in with your account at: </p>             <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/google?callback=");
if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=
null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>              ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))e.push('       </div>       <div data-role="controlgroup" data-type="horizontal">      ');e.push('                <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?
finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>     </div>         </form>         </div>  </div>')}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/login.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_signup_tmpl",function(d){return function(g,a){var e=[],j=a.data;with(j){e.push('<div id="signup-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Sign up for FastND</h1>   </div>   <div data-role="content" data-theme="c">      <div id="signup-page1">     <div class="social-signin">      <p>Already have an account on these services? Sign in with: </p>            ');if(typeof!smallScreen!=="undefined"&&
!smallScreen!=null&&(typeof!smallScreen==="function"?(!smallScreen).call(a):!smallScreen)){e.push('       <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));
e.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>        <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>      ')}e.push("            ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen===
"function"?smallScreen.call(a):smallScreen)){e.push('       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="google">Google</a>        </div>        <div class="ui-block-b">         <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="facebook">Facebook</a>        </div>       </fieldset>       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="twitter">Twitter</a>        </div>        <div class="ui-block-b">         <a href="');if(typeof finforeBaseUrl!==
"undefined"&&finforeBaseUrl!=null)e.push(g.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));e.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)e.push(g.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));e.push('socialcallback.html" data-role="button" data-icon="linkedin">Linkedin</a>        </div>       </fieldset>      ')}e.push('     </div>          <form class="new_user" id="new_user">       <div data-role="fieldcontain">       <label for="full_name">Full Name</label>            <input type="text" name="user[full_name]" id="full_name" value="" required />      </div>            <div data-role="fieldcontain">         <label for="user_email_work">Email</label>       <input id="user_email_work" name="user[email_work]" size="30" type="email" required />      </div>            <div data-role="fieldcontain">       <label for="user_password">Password</label>       <input id="user_password" name="user[password]" size="30" type="password" required />      </div>        <div data-role="fieldcontain">       <label for="user_password_confirmation">Password confirmation</label>       <input id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password" required />      </div>            <div data-role="fieldcontain">        <label for="user_geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)e.push(g.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));e.push('</label>       <select id="user_geographic" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)g.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(q,l){with(this){e.push('         <option value="');if(typeof l._id!=="undefined"&&l._id!=null)e.push(g.encode(typeof l._id==="function"?l._id.call(a):l._id));e.push('">');if(typeof l.title!=="undefined"&&l.title!=null)e.push(g.encode(typeof l.title==="function"?l.title.call(a):l.title));e.push("</option>        ")}});e.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)e.push(g.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));e.push('</label>       <select id="user_profession" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)g.each(typeof focus.professional.profiles===
"function"?focus.professional.profiles.call(a):focus.professional.profiles,function(q,l){with(this){e.push('         <option value="');if(typeof l._id!=="undefined"&&l._id!=null)e.push(g.encode(typeof l._id==="function"?l._id.call(a):l._id));e.push('">');if(typeof l.title!=="undefined"&&l.title!=null)e.push(g.encode(typeof l.title==="function"?l.title.call(a):l.title));e.push("</option>        ")}});e.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)e.push(g.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));e.push('</label>       <select id="user_industry" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)g.each(typeof focus.industrial.profiles===
"function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(q,l){with(this){e.push('         <option value="');if(typeof l._id!=="undefined"&&l._id!=null)e.push(g.encode(typeof l._id==="function"?l._id.call(a):l._id));e.push('">');if(typeof l.title!=="undefined"&&l.title!=null)e.push(g.encode(typeof l.title==="function"?l.title.call(a):l.title));e.push("</option>        ")}});e.push('       </select>      </div>            <input id="user_submit" name="commit" type="submit" value="Signup for a FastND Account" data-theme="b" />      </form>     </div>        <div id="signup-page2">     <div class="left-column">      <h2>Please connect your FastND account with the following providers</h2>     </div>          <div class="right-column">      <a class="twitter-connect-button" data-type="twitter">Connect with Twitter</a>                <!--      <a class="facebook-connect-button">Connect with Facebook</a>      --\>            <a class="linkedin-connect-button" data-type="linkedin">Connect with Linkedin</a>          <a class="google-connect-button" data-type="google">Connect with Google</a>         </div>          <a id="finish-btn" data-role="button" data-icon="check" data-theme="b">Finish setting up your FastND account</a>    </div>       </div>  </div>')}return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/signup.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_addcompany_tmpl",function(d){return function(g,a){var e=[],j=a.data;with(j){e.push('<div id="add-company-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Add a new company</h1>     </div>   <div data-role="content" data-theme="c">    <ul data-role="listview" data-filter="true" class="companies-list">     ');if(typeof companies!=="undefined"&&companies!=null)g.each(typeof companies==="function"?
companies.call(a):companies,function(q,l){with(this){e.push('     <li data-index="');if(typeof q!=="undefined"&&q!=null)e.push(g.encode(typeof q==="function"?q.call(a):q));e.push('">      <span class="ui-icon ui-icon-plus"></span>      ');if(typeof l.title!=="undefined"&&l.title!=null)e.push(g.encode(typeof l.title==="function"?l.title.call(a):l.title));e.push("      ");if(typeof l.profiles!=="undefined"&&l.profiles!=null)g.each(typeof l.profiles==="function"?l.profiles.call(a):l.profiles,function(o,
r){with(this){e.push('       <span class="ui-li-count">');if(typeof r.title!=="undefined"&&r.title!=null)e.push(g.encode(typeof r.title==="function"?r.title.call(a):r.title));e.push("</span>           ")}});e.push("     </li>    ")}});e.push("    </ul>   </div>  </div>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/addcompany.tmpl");if(smallScreen)$("html").addClass("small-screen");else var smallScreen=false;
var finfore=function(){var h={login:finforeBaseUrl+"/user_sessions.json",publicLogin:finforeBaseUrl+"/user_sessions/public_login.json",publicProfiles:finforeBaseUrl+"/category_focus.json",portfolioOverviews:finforeBaseUrl+"/portfolios/overviews.json",portfolioList:finforeBaseUrl+"/portfolios/list.json",feedAccounts:finforeBaseUrl+"/feed_accounts.json",companyTabs:finforeBaseUrl+"/user_company_tabs.json"},d=Storage.getItem("user");if(d){d=JSON.parse(d);if(d.error)d=false}var g=Storage.getItem("updateProfile");
if(g)g=g=="true";var a=document.documentElement.clientWidth>1024,e=Storage.getItem("blankState")?false:true,j={user:d,companies:[],panels:{main:{},portfolio:{},companies:{}},portfolios:[],feedInfos:{},ticker:{news:[],prices:[]},selectedFocus:{geographic:[],professional:[],industrial:[]},blankState:e,updateProfile:g},q=function(){$.ajaxSetup({dataType:"json",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token}})},l=function(){var y=Storage.getItem("selectedFocus");
(y=y&&finfore.data.user.is_public?JSON.parse(y):finfore.data.user.profiles)||(y=[]);$.each(y,function(){switch(this.profile_category.title){case "Geography":finfore.data.selectedFocus.geographic.push(this);break;case "Profession":finfore.data.selectedFocus.professional.push(this);break;case "Industry":finfore.data.selectedFocus.industrial.push(this);break}})},o=function(y){Loader.show();var I=Storage.getItem("focus"),G=new Date,L=false;if(I){I=JSON.parse(I);I.storageDate=new Date(I.storageDate);if(parseInt((G-
I.storageDate)/1E3)<3600)L=true}if(L){finfore.data.focus=I;y()}else WebService.focus({complete:function(M){finfore.data.focus={};$.each(M,function(ca,T){if(T.title=="Profession")finfore.data.focus.professional=T;else if(T.title=="Geography")finfore.data.focus.geographic=T;else if(T.title=="Industry")finfore.data.focus.industrial=T});finfore.storeData({focus:finfore.data.focus});y()}})},r={date:new Date,shortDate:new Date,priceBridge:2,updateNews:function(y){finfore.data.ticker.news.push(y);finfore.desktop.ticker.updateNews(y)},
updatePrices:function(y){finfore.data.ticker.prices.push(y);finfore.desktop.ticker.updatePrices(y)},cleanTicker:function(){r.date=new Date;r.shortDate=new Date;r.date.setMinutes(r.date.getMinutes()-15);r.shortDate.setMinutes(r.shortDate.getMinutes()-15);var y=j.ticker.news.slice(0);$.each(j.ticker.news,function(I,G){if(G.from_user)new Date(G.created_at)<=r.shortDate&&y.splice(I,1);else new Date(G.publishedDate)<=r.date&&y.splice(I,1)});j.ticker.news=y.slice(0);empty(finfore.desktop.ticker.$node[0]);
$.each(j.ticker.news,function(I){finfore.desktop.ticker.updateNews(I)})}};r.date.setMinutes(r.date.getMinutes()-15);r.shortDate.setMinutes(r.shortDate.getMinutes()-15);window.setInterval(r.cleanTicker,9E5);var v=function(y,I){if(y.position>I.position)return 1;if(y.position<I.position)return-1;return 0},w={create:function(y){finfore.data.portfolios.push({feed_account:y});var I=finfore.data.portfolios.length-1;return $.ajax({url:h.portfolioList,data:{feed_account_id:y._id},success:function(G){w.createPanels(G,
I)}})},createPanels:function(y,I){y.rss.chanel.error&&$().toastmessage("showErrorToast","Can't sign-in into your Google Portfolios account. <br>Please make sure the details are correct. ");if(!y.rss.chanel.item){finfore.data.portfolios[0].list=[];return false}if(!$.isArray(y.rss.chanel.item))y.rss.chanel.item=[y.rss.chanel.item];finfore.data.portfolios[I].list=y.rss.chanel.item;$.each(finfore.data.portfolios[I].list,function(){var G=this,L=/[0-9]*$/.exec(this.id);if(L!=null)this.id_bare=L[0];setTimeout(function(){$.ajax({url:h.portfolioOverviews,
type:"GET",data:{feed_account_id:finfore.data.portfolios[I].feed_account._id,portfolio_id:G.id_bare},success:function(M){G.overview=M;finfore.panels.create({type:"portfolio",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[I],portfolio:G}});finfore.panels.create({type:"agenda",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[I],portfolio:G}});finfore.panels.create({type:"feed",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[I],
portfolio:G}})}})},50)})},remove:function(y){var I=y.feed_account._id;$.each(finfore.data.panels.portfolio,function(){$.each(this,function(){this.panel.feed_account._id===I&&finfore.desktop.panels.remove({options:{panel:this}})})})}},A={create:function(y){if(y.options.company){finfore.data.panels.companies[y.options.company.feed_info.id]||(finfore.data.panels.companies[y.options.company.feed_info.id]={});finfore.data.panels.companies[y.options.company.feed_info.id][y.type]||(finfore.data.panels.companies[y.options.company.feed_info.id][y.type]=
[]);finfore.data.panels.companies[y.options.company.feed_info.id][y.type].push(y.options)}else if(y.options.portfolio){finfore.data.panels.portfolio[y.type]||(finfore.data.panels.portfolio[y.type]=[]);finfore.data.panels.portfolio[y.type].push(y.options)}else{finfore.data.panels.main[y.type]||(finfore.data.panels.main[y.type]=[]);finfore.data.panels.main[y.type].push(y.options)}setTimeout(function(){finfore.desktop.panels.create(y)},50)},remove:function(y){finfore.data.panels.main[y.type].splice(y.options.index,
1);finfore.desktop.panels.remove(y)}},J={add:function(y,I){finfore.data.companies=finfore.data.companies.concat(y);$.each(y,function(){var G=this,L=this._id;finfore.desktop.tabs.add({id:L,title:this.feed_info.title,closable:!finfore.data.user.is_public});var M=$("#"+L),ca;setTimeout(function(){finfore.panels.create({type:"prices",tab:M,options:{company:G}})},10);setTimeout(function(){finfore.panels.create({type:"feed",tab:M,options:{company:G}})},10);setTimeout(function(){finfore.panels.create({type:"feed",
tab:M,options:{company:G,blogsearch:true}})},10);setTimeout(function(){finfore.panels.create({type:"twitter",tab:M,options:{company:G}})},10);setTimeout(function(){finfore.panels.create({type:"feed",tab:M,options:{company:G,bingsearch:true}})},10);setTimeout(function(){finfore.panels.create({type:"agenda",tab:M,options:{company:G}})},10);setTimeout(function(){finfore.panels.create({type:"agenda",tab:M,options:{company:G,competitor:true}})},10);setTimeout(function(){finfore.panels.create({type:"twitter",
tab:M,options:{company:G,competitor:true}})},10);setTimeout(function(){finfore.panels.create({type:"blinkx",tab:M,options:{company:G}})},10);if(I){ca=a?$("li:last",finfore.desktop.nodes.$tabList):$(".collapsible-company:last",finfore.desktop.nodes.$tabletTabs);setTimeout(function(){finfore.tablet?ca.trigger("expand"):finfore.desktop.tabs.select(ca)},100)}})},remove:function(){var y=$(this).parent("li"),I=$("a",y).attr("href").substr(1),G="<h2>Are you sure you sure you want to remove <em>"+$("a",y).text()+
"</em>?</h2>";$.prompt(G,{callback:function(L){if(L){$.ajax({url:finforeBaseUrl+"/user_company_tabs/"+I+".json",type:"DELETE",data:{feed_account_id:I},success:function(){$.each(finfore.data.companies,function(M,ca){if(ca._id==I){finfore.data.companies.splice(M,1);return false}})}});finfore.desktop.tabs.remove(y)}},buttons:{Cancel:false,"Remove Column":true}});return false}},K=function(){finfore.manage={};finfore.profile={}},B=function(){l();finfore.desktop.init();finfore.data.user.is_public&&K()};
return{init:function(){$.ajaxSetup({dataType:"json"});d&&q();o(function(){if(d)WebService.refreshUser({complete:B});else{var y;$.each(finfore.data.focus.geographic.profiles,function(){if(this.title=="USA & Canada")y=this._id});finfore.publicLogin({ids:finfore.data.focus.industrial.profiles[0]._id+","+y+","+finfore.data.focus.professional.profiles[0]._id},B)}});if(finfore.data.user&&!finfore.data.user.is_public)finfore.data.blankState=false;finforeNative&&$(document).on("click",'a[target="_blank"]',
function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:true});return false})},panels:A,portfolios:w,modules:{},companies:J,ticker:r,nodes:{},url:h,data:j,storeData:function(y){if(y.user){finfore.data.user=y.user;Storage.setItem("user",JSON.stringify(y.user));q()}if(y.focus){y.focus.storageDate=new Date;Storage.setItem("focus",JSON.stringify(y.focus))}y.selectedFocus&&Storage.setItem("selectedFocus",JSON.stringify(y.selectedFocus))},populate:function(){var y=[];(function(I){$.each(I,
function(G,L){if(L.position==null)L.position=999});I.sort(v);$.each(I,function(){var G=this,L=G.category;if(L=="portfolio")y.push(w.create(G));else{if(L=="rss")L="feed";else if(L=="chart")L="prices";else if(L=="gmail"||L=="facebook")return;L=="keyword"&&!G.keyword_column||A.create({type:L,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:G}})}});$.when(y).then(function(){smallScreen||finfore.desktop.enableManagement();Loader.hide()})})(finfore.data.user.feed_accounts);$.each(finfore.data.user.user_company_tabs,
function(I,G){if(G.position==null)G.position=999});finfore.data.user.user_company_tabs.sort(v);J.add(finfore.data.user.user_company_tabs)},tablet:false,smallScreen:smallScreen,$body:$("body"),publicLogin:function(y,I){$.mobile.showPageLoadingMsg&&$.mobile.showPageLoadingMsg();$.ajax({url:h.publicLogin,type:"POST",data:{pids:y.ids},success:function(G){if(G.user){Storage.removeItem("selectedFocus");var L=$.extend({},G.user);finfore.storeData({user:L});finfore.storeData({selectedFocus:G.selecteds})}else{$().toastmessage("showErrorToast",
"<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.");Loader.hide();return false}I&&I(L)},error:function(){$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.")}})}}}(),lastActivePage;finfore.$body.delegate("[data-role=dialog]","pageshow",function(h,d){if(d.prevPage.attr("data-role")=="page")lastActivePage=d.prevPage});
$.mobile.dialog.prototype._create=function(){var h=this.element,d=$("<a data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");h.addClass("ui-overlay-"+this.options.overlayTheme);h.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(d).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");d.bind("vclick",
function(){$.mobile.changePage(lastActivePage,{changeHash:false,reverse:true,transition:"slidedown"});return false});h.bind("vclick submit",function(g){g=$(g.target).closest(g.type==="vclick"?"a":"form");var a;if(g.length&&!g.jqmData("transition")){a=$.mobile.urlHistory.getActive()||{};g.attr("data-"+$.mobile.ns+"transition",a.transition||$.mobile.defaultDialogTransition).attr("data-"+$.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){$(this).find("."+$.mobile.activeBtnClass).removeClass($.mobile.activeBtnClass)})};
var currentTitle=document.title;finfore.$body.delegate("div[data-role=page], div[data-role=dialog]","pagebeforeshow",function(){document.title=currentTitle});steal.loaded("webapp/core/core.js");
finfore.desktop=function(){var h={$page:[],tabs:{tabIndex:0}},d={};d.add=function(e){var j=e.id!=="main"&&e.id!=="portfolio",q=e.id=="portfolio",l=h.$mainPageContent;if(j){e='<div data-role="collapsible" data-collapsed="true" data-theme="a" id="'+e.id+'" class="collapsible-company"><h3>'+e.title+'</h3><ul data-role="listview" data-split-icon="arrow-r" data-split-theme="c" class="split-selector"></ul></div>';l=h.$companiesPageContent}else{e='<ul data-role="listview" id="'+e.id+'" data-split-icon="arrow-r" data-split-theme="c" class="split-selector"></ul>';
if(q)l=h.$stocksPageContent}q=$(e);q.appendTo(l);if(j){q.collapsible();$("ul",q).listview()}else q.listview();return q};d.select=function(e){setTimeout(function(){$("html,body").animate({scrollTop:e.offset().top},1E3)},500);e.trigger("expand")};var g={};g.create=function(e){var j=$('<div class="'+e.type+' panel" data-role="page"></div>'),q=e.tab,l=h.$mainColumns;e.options.$node=j;$.data(j[0],"data",e.options);$.data(j[0],"type",e.type);var o;if(e.options.feed_account)o=e.options.feed_account.name;
if(e.options.company){o=e.options.company.feed_info.title;if(e.type==="feed"){o="Company News";if(e.options.bingsearch)o="Additional News";if(e.options.blogsearch)o="News From Blogs"}if(e.type==="podcast")o="Podcasts";if(e.type==="prices")o="Prices";if(e.type==="agenda"&&!e.options.competitor)o="Calendar";if(e.type==="agenda"&&e.options.competitor)o="Competitors Calendar";if(e.type==="twitter"&&!e.options.competitor)o="Breaking News";if(e.type==="twitter"&&e.options.competitor)o="Competitors News";
if(e.type==="blinkx")o="Broadcast News";q=$("ul",q)}if(e.options.portfolio){o='<span class="trunc-title">'+e.options.portfolio.title+"</span>";if(e.type==="agenda")o+=" Calendar";if(e.type==="portfolio")o+=" Prices";if(e.type==="feed")o+=" News"}o=$("<li><a>"+o+'</a><a class="mobile-column-select"></a></li>');o.find(".mobile-column-select").bind("click",function(){$.mobile.changePage(j,{transition:"slide"})});q.append(o);q.listview("refresh");if(e.options.company)l=h.$companiesColumns;else if(e.options.portfolio)l=
h.$stocksColumns;j.appendTo(l);finfore.modules[e.type].init(j,e.options)};g.remove=function(e){e.options.panel.$node.remove()};g.next=function(e){e=e.nextAll(".panel:first");e.length&&$.mobile.changePage(e,{transition:"slide"})};g.previous=function(e){e=e.prevAll(".panel:first");e.length&&$.mobile.changePage(e,{transition:"slide",reverse:true})};var a={updateNews:function(e){if(finfore.data.user.is_public)return false;if(e.screen_name){var j="http://twitter.com/"+e.from_user;if(e.text){var q=e.text.match(/(HTTP:\/\/|HTTPS:\/\/)([a-zA-Z0-9.\/&?_=!*,\(\)+-]+)/i);
if(q)j=q[0]}e='<a href="'+j+'" target="_blank" title="'+e.text+'" class="twitter-update" data-role="button" data-icon="twitter-update">'+e.text+"</a>"}else if(e.elt||e.lt){j=e.e+":"+e.t;q="";var l=e.cp;if(l<0)q="-";else if(l>0)q="+";q=j+": "+e.l+" "+q+" "+Math.abs(l)+"%";e='<a href="http://www.google.com/finance?q='+j+'" target="_blank" title="'+e.name+'" data-icon="prices-update" data-role="button">'+q+"</a>"}else e='<a href="'+e.link+'" target="_blank" title="'+e.title+'" data-icon="feed-update" data-role="button">'+
(e.title||"")+"</a>";a.$node.append(e);$("[data-role=button]:last",a.$node).button()}};a.updatePrices=a.updateNews;return{init:function(){var e=$.View("//webapp/views/desktop.mobile.tmpl",{user:finfore.data.user,focus:finfore.data.focus,focus:finfore.data.focus,blankState:finfore.data.blankState,selectedFocus:finfore.data.selectedFocus});finfore.$body.append(e);$.extend(h,{$navBar:$(".mobile-navbar"),$mainPage:$(".main-page"),$stocksPage:$(".stocks-page"),$companiesPage:$(".companies-page"),$mainColumns:$(".main-columns"),
$companiesColumns:$(".companies-columns"),$stocksColumns:$(".stocks-columns")});$.extend(h,{$mainBtn:$(".main-button",h.$navBar),$stocksBtn:$(".stocks-button",h.$navBar),$companiesBtn:$(".companies-button",h.$navBar),$alertsBtn:$(".alerts-button",h.$navBar),$stocksPageContent:$("[data-role=content]",h.$stocksPage),$mainPageContent:$("[data-role=content]",h.$mainPage),$companiesPageContent:$("[data-role=content]",h.$companiesPage)});finfore.$body.trigger("create");$.mobile.changePage(h.$mainPage);
if(finfore.data.user){d.add({id:"main",title:"Main",closable:false});h.tabs.$main=$("#main");d.add({id:"portfolio",title:"Portfolio",closable:false});h.tabs.$portfolio=$("#portfolio");h.tabs.$main.add(h.tabs.$portfolio);finfore.populate();$(document).delegate(".panel-back-button","click",function(){var j=$(this).closest(".columns-container");j=$("."+j.attr("data-backpage"));$.mobile.changePage(j,{reverse:true,transition:"slide"});return false});$(document).delegate(".panel","swipeleft",function(){g.next($(this))});
$(document).delegate(".panel","swiperight",function(){g.previous($(this))});$(document).delegate(".panel","pagebeforeshow",function(){var j=$(this);if(!j.hasClass("column-loaded")){j.trigger("refresh",[true]);j.addClass("column-loaded")}});$(document).delegate(".panel-next","click",function(){var j=$(this).parents(".panel:first");g.next(j)});$(document).delegate(".panel-previous","click",function(){var j=$(this).parents(".panel:first");g.previous(j)});if(finfore.data.user.is_public){$(".signin-button").click(finfore.login.init);
$(".lookup-button").click(function(){finfore.addcompany.init();return false})}else{a.$page=$("#mobile-updates");a.$node=$(".mobile-update-list",a.$page);finfore.$body.delegate(".logout-button","click",function(){Storage.removeItem("user");Storage.removeItem("updateProfile");window.location.reload();return false});finfore.$body.delegate(".add-tab-button","click",finfore.addcompany.init)}h.$mainBtn.bind("click",function(){$.mobile.changePage(h.$mainPage)});h.$stocksBtn.bind("click",function(){$.mobile.changePage(h.$stocksPage)});
h.$companiesBtn.bind("click",function(){$.mobile.changePage(h.$companiesPage)});h.$companiesPage.bind("pageshow",function(){$(".ui-btn-active",h.$navBar).removeClass("ui-btn-active");h.$companiesBtn.addClass("ui-btn-active")});h.$alertsBtn.bind("click",function(){$.mobile.changePage(a.$page)});finfore.$body.delegate("[data-role=page]","pageshow",function(){h.$navBar.is(":hidden")&&h.$navBar.show()});finfore.$body.delegate("[data-role=dialog]","pageshow",function(){h.$navBar.is(":visible")&&h.$navBar.hide()})}},
nodes:h,tabs:d,panels:g,ticker:a}}();steal.loaded("webapp/core/desktop.mobile.js");
finfore.login=function(){var h,d={},g=function(){var e=$(this),j=$("#login",e).val();e=$("#password",e).val();WebService.auth({username:j,password:e,complete:function(q){finfore.storeData({user:q});window.location.reload()}});return false},a=function(){$.prompt('<p><label>Type your email address in the field bellow and we will send you a message with your password: <br><input type="text" id="email" name="email" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Email.."></label></p>',{callback:function(e,
j,q){e&&q.email&&$.ajax({url:finforeBaseUrl+"/users/forgot_password.json",type:"GET",data:{email:q.email},success:function(l){l.status=="SUCCESS"?$().toastmessage("showSuccessToast","A message containing your password has been sent to your email address. "):$().toastmessage("showErrorToast","We couldn't find your email address in our database. Please try again. ")},error:function(){$().toastmessage("showErrorToast","We couldn't send you your password. Please try again later. ")}})},buttons:{Cancel:false,
"Send Request":true}})};return{init:function(){if($("#login-page").length){h=$("#login-page");$.mobile.changePage(h,{transition:"slidedown"})}else{var e=$.View("//webapp/views/login.tmpl",{user:finfore.data.user,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl});$.mobile.hidePageLoadingMsg&&$.mobile.hidePageLoadingMsg();finfore.$body.append(e);h=$("#login-page");$("#signup-button",h).click(finfore.signup.init);
finfore.smallScreen?$.mobile.changePage(h,{changeHash:false}):$.mobile.changePage(h,{transition:"slidedown"});h.find("form").bind("submit",g);$(".forgot-password",h).click(a);if(smallScreen){d.$publicPage=$("#public-account-selector");d.$publicPage.page();d.$professionSelector=$("#profession",d.$publicPage);d.$geoSelector=$("#geographic",d.$publicPage);d.$industrySelector=$("#industry",d.$publicPage);$(".public-account-selector-btn").click(function(){var j=d.$industrySelector.val()+","+d.$geoSelector.val()+
","+d.$professionSelector.val();finfore.publicLogin({ids:j},function(q){finfore.storeData({user:q});window.location.reload()})});$(".public-account-btn").click(function(){$.mobile.changePage(d.$publicPage,{transition:"slide"});return false})}if(finforeNative){$(".social-signin a",h).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(j){if(j.indexOf(finforeAppUrl+"socialcallback.html")==
0){j=j.replace(finforeAppUrl,finforeNativeUrl);window.location.href=j;window.plugins.childBrowser.close()}}}}}}}();steal.loaded("webapp/core/login.js");
finfore.signup=function(){var h,d,g,a,e,j,q,l=function(v){finfore.data.user=v;Storage.setItem("user",JSON.stringify(finfore.data.user));g.hide();a.show();$.mobile.hidePageLoadingMsg()},o=function(){$.mobile.showPageLoadingMsg();var v=$(this).serialize();$.ajax({url:finforeBaseUrl+"/users.json",type:"POST",data:v,error:function(w){$.mobile.hidePageLoadingMsg();try{var A=JSON.parse(w.responseText)}catch(J){$().toastmessage("showToast",{text:"There was a problem registering your user. Please try again later.",
type:"error",sticky:true});return false}for(prop in A){w=prop;if(w=="email_work")w="Your email";if(w=="password")w="Your password";if(w!=="password_confirmation"&&w!=="login"){w="<strong>"+w+"</strong> "+A[prop][0];$().toastmessage("showToast",{text:w,sticky:true,type:"error"})}}},success:l});return false},r=function(){var v=$(this),w=$(this).attr("data-type");window.open(finforeBaseUrl+"/feed_accounts/"+w+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+
"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(){v.hide();window.removeEventListener("message",authorized)},false)};return{init:function(){if($("#signup-page").length)$.mobile.changePage($("#signup-page"),{transition:"slidedown"});else{var v=$.View("//webapp/views/signup.tmpl",{focus:finfore.data.focus,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl,smallScreen:finfore.smallScreen});$(v).appendTo(finfore.$body);
h=$("#signup-page");d=$("[data-role=content]",h);g=$("#signup-page1",d);a=$("#signup-page2",d);e=$(".twitter-connect-button",h);$linkedinAuthBtn=$(".linkedin-connect-button",h);j=$(".google-connect-button",h);q=$("#finish-btn");e.click(r);$linkedinAuthBtn.click(r);j.click(r);q.click(function(){window.location.reload()});$.mobile.changePage(h,{transition:"slidedown"});d.find("form").submit(o);if(finforeNative){$(".social-signin a",h).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),
{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(w){if(w.indexOf(finforeAppUrl+"socialcallback.html")==0){window.location.href=w;window.plugins.childBrowser.close()}}}}},authorizeService:r}}();steal.loaded("webapp/core/signup.js");
finfore.addcompany=function(){var h,d,g,a=function(){var j=parseInt($(this).attr("data-index")),q=g[j]._id,l=false,o=finfore.smallScreen?finfore.desktop.nodes.$companiesPage:finfore.desktop.nodes.$page,r;$.each(finfore.data.companies,function(v,w){if(w.feed_info_id==q){r=v=$("#"+w._id,o);finfore.smallScreen||(r=$.data(v[0],"selector"));finfore.desktop.tabs.select(r);l=true;return false}});$.mobile.changePage(o,{transition:"slidedown",reverse:true});if(!l)if(finfore.data.user.is_public)finfore.companies.add([{feed_info:g[j],
_id:g[j]._id}],true);else{Loader.show();$.ajax({url:finforeBaseUrl+"/user_company_tabs.json",type:"POST",data:{user_company_tab:{feed_info_id:q,follower:"0",is_aggregate:true}},success:function(v){finfore.companies.add([v],true);Loader.hide()}})}},e=function(j,q){j=j.title.toLowerCase();q=q.title.toLowerCase();if(j<q)return-1;if(j>q)return 1;return 0};return{init:function(){Loader.show();h=$("#add-company-page");if(h.length){$.mobile.changePage(h,{transition:"slidedown"});Loader.hide()}else $.ajax({url:finforeBaseUrl+
"/feed_infos.json",type:"GET",data:{category:"all_companies"},success:function(j){if(!h.length){j.sort(e);g=j;j=$.View("//webapp/views/addcompany.tmpl",{companies:j});$(j).appendTo(finfore.$body);h=$("#add-company-page");d=$("[data-role=content]",h)}$("ul li",d).click(a);$.mobile.changePage(h,{transition:"slidedown"});Loader.hide()}})}}}();steal.loaded("webapp/core/addcompany.js");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_tmpl",function(d){return function(g,a){var e=[],j=a.data;with(j){e.push('<div data-role="header">    ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))e.push('    <a data-role="button" data-icon="arrow-l" data-inline="true" class="ui-btn-left panel-back-button">Back</a>   ');e.push("   <h1>");if(typeof title!=="undefined"&&title!=null)e.push(g.encode(typeof title===
"function"?title.call(a):title));e.push("</h1>   ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))e.push('    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right panel-mobile-sliders">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-previous">Previous Column</a>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-next">Next Column</a>    </div>   ');
e.push('  </div>  <div data-role="content">   ');if(typeof content!=="undefined"&&content!=null)e.push(typeof content==="function"?content.call(a):content);e.push("  </div>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_feed_tmpl",function(d){return function(g,a){g=[];var e=a.data;with(e){g.push('<ul data-role="listview" data-theme="c" ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))g.push('data-split-icon="arrow-r" data-split-theme="c" class="split-selector"');g.push('>   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>')}return g}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.tmpl");steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_podcast_tmpl",function(d){return function(g,a){g=[];a=a.data;with(a)g.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return g}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_twitter_tmpl",function(d){return function(g,a){g=[];var e=a.data;with(e){g.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(a):!connected))g.push('   <a class="twitter-connect-button">Connect with Twitter</a>  ');g.push('    <ul class="tweets"></ul>    ');if(typeof connected!=="undefined"&&connected!=null&&(typeof connected==="function"?connected.call(a):connected))g.push('   <ul data-role="listview" class="load-more-container">    <li data-icon="false" data-theme="d">     <a class="load-more-tweets">Load more...</a>    </li>   </ul>  ');
g.push("")}return g}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_twitter_tweet_tmpl",function(d){return function(g,a){var e=[],j=a.data;with(j){e.push("");if(typeof tweets!=="undefined"&&tweets!=null)g.each(typeof tweets==="function"?tweets.call(a):tweets,function(q,l){with(this){e.push('   <li class="ui-li ui-btn-up-c">    <a class="tweet-avatar" href="http://twitter.com/');if(typeof l.screen_name!=="undefined"&&l.screen_name!=null&&(typeof l.screen_name==="function"?l.screen_name.call(a):
l.screen_name)){e.push("");if(typeof l.screen_name!=="undefined"&&l.screen_name!=null)e.push(g.encode(typeof l.screen_name==="function"?l.screen_name.call(a):l.screen_name))}else{e.push("");if(typeof l.from_user!=="undefined"&&l.from_user!=null)e.push(g.encode(typeof l.from_user==="function"?l.from_user.call(a):l.from_user))}e.push("");e.push('" target="_blank">     <img src="');if(typeof l.profile_image_url!=="undefined"&&l.profile_image_url!=null)e.push(g.encode(typeof l.profile_image_url==="function"?
l.profile_image_url.call(a):l.profile_image_url));e.push('" height="48" width="48" alt="');if(typeof l.screen_name!=="undefined"&&l.screen_name!=null)e.push(g.encode(typeof l.screen_name==="function"?l.screen_name.call(a):l.screen_name));e.push('" title="');if(typeof l.screen_name!=="undefined"&&l.screen_name!=null)e.push(g.encode(typeof l.screen_name==="function"?l.screen_name.call(a):l.screen_name));e.push('" border="0">    </a>    <span class="tweet-text">     ');if(typeof l.html!=="undefined"&&
l.html!=null)e.push(typeof l.html==="function"?l.html.call(a):l.html);e.push('    </span>    <span class="tweet-time">     <a href="http://twitter.com/');if(typeof l.screen_name!=="undefined"&&l.screen_name!=null)e.push(g.encode(typeof l.screen_name==="function"?l.screen_name.call(a):l.screen_name));e.push("/status/");if(typeof l.id_str!=="undefined"&&l.id_str!=null)e.push(g.encode(typeof l.id_str==="function"?l.id_str.call(a):l.id_str));e.push('" title="View tweet on Twitter" target="_blank">      ');
if(typeof l.created_at!=="undefined"&&l.created_at!=null)e.push(g.encode(typeof l.created_at==="function"?l.created_at.call(a):l.created_at));e.push("     </a>    </span>   </li>  ")}});e.push("")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tweet.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_prices_tmpl",function(d){return function(g,a){g=[];a=a.data;with(a)g.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return g}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_portfolio_tmpl",function(d){return function(g,a){g=[];a=a.data;with(a)g.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return g}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_agenda_tmpl",function(d){return function(g,a){g=[];a=a.data;with(a)g.push('<div class="events-months-container"></div>');return g}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.agenda.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_linkedin_tmpl",function(d){return function(g,a){g=[];var e=a.data;with(e){g.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(a):!connected))g.push('  <a class="linkedin-connect-button">Connect with Twitter</a>  ');g.push("  <ul></ul>")}return g}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_blinkx_tmpl",function(d){return function(g,a){g=[];a=a.data;with(a)g.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return g}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.blinkx.tmpl");
steal("jquery/view/tmpl").then(function(h){h.View.preload("webapp_views_module_keyword_tmpl",function(d){return function(g,a){g=[];a=a.data;with(a)g.push('<ul class="tweets"></ul>  <ul data-role="listview" class="load-more-container">   <li data-icon="false" data-theme="d">    <a class="load-more-tweets">Load more...</a>   </li>  </ul>');return g}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.tmpl");
finfore.modules.feed=function(){var h=function(g){var a=g.sources.slice(0);if(g.bingsearch&&g.limit>15){a[0]+="&news.offset=";a[0]+=g.limit*1-14}feedReader.get({callbackId:g.callbackId,sources:a,limit:g.limit,bingsearch:g.bingsearch,blogsearch:g.blogsearch,company:g.company,complete:function(e){if(!g.bingsearch&&g.loadMore===true&&g.limit>15)e=e.slice(g.limit-15,g.limit);var j="",q=e.length-1;$.each(e,function(l){if(g.loadMore===true||this.pubDate>g.date){j+=l===q?'<li class="last-in-group" data-icon="false">':
'<li data-icon="false">';if(finfore.smallScreen){j+="<a><abbr>"+this.source+"</abbr>";j+="<h3>"+this.title+"</h3>";j+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";j+='</a><a href="'+this.link+'" target="_blank" class="mobile-column-select"></a>'}else{j+='<a href="'+this.link+'" target="_blank"><abbr>'+this.source+"</abbr>";j+="<h3>"+this.title+"</h3>";j+="<p>"+this.description+"</p>";j+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";j+="</a>"}j+="</li>";if(!g.company||!finfore.smallScreen)this.pubDate>
finfore.ticker.date&&finfore.ticker.updateNews(this)}});e=$(".load-more-entries",g.$container).parents("li").first();$(j).insertBefore(e);e=$("[data-role=content] ul",g.$container);e.jqmData("listview")?e.listview("refresh"):e.listview();g.$container.removeClass("panel-loading")}})},d=function(g,a){var e=0,j=[];if(a.company){var q;if(a.blogsearch)q="http://www.google.com/search?hl=en&q="+$.URLEncode(a.company.feed_info.company_competitor.blog_keyword)+"&ie=utf-8&tbm=blg&num=100&output=rss";else if(a.bingsearch){a.company.feed_info.company_competitor.bing_keyword=
a.company.feed_info.company_competitor.bing_keyword.replace(","," OR ");q="http://api.bing.com/rss.aspx?Source=News&Market=en-US&Version=2.0&Query="+$.URLEncode(a.company.feed_info.company_competitor.bing_keyword)+"&news.count=15"}else q="http://www.google.com/finance/company_news?q="+a.company.feed_info.company_competitor.finance_keyword+"&authuser=0&output=rss&num=100";j=[q]}if(a.portfolio&&a.portfolio.overview.rss.chanel.item)if($.isArray(a.portfolio.overview.rss.chanel.item))$.each(a.portfolio.overview.rss.chanel.item,
function(){j.push("http://www.google.com/finance/company_news?q="+this.google_ticker+"&authuser=0&output=rss")});else j=["http://www.google.com/finance/company_news?q="+a.portfolio.overview.rss.chanel.item.google_ticker+"&authuser=0&output=rss"];if(a.feed_account&&!a.portfolio)j=$.map(a.feed_account.user_feeds,function(o){return o.feed_info.address});var l=function(o,r){g.addClass("panel-loading");if(r===true)e+=15;var v;if(a.feed_account)v=a.feed_account._id;else if(a.company){v=a.company._id;if(a.blogsearch)v+=
"blogsearch";if(a.bingsearch)v+="bingsearch"}h({sources:j,$container:g,date:new Date,loadMore:r,limit:e,blogsearch:a.blogsearch,bingsearch:a.bingsearch,company:a.company,callbackId:v})};(function(){$(document).height();if(a.feed_account)var o=a.feed_account.name;if(a.portfolio)o=a.portfolio.title;if(a.company){o="Company News";if(a.blogsearch)o="News from Blogs";if(a.bingsearch)o="Additional News"}var r=$.View("//webapp/views/module.feed.tmpl",{smallScreen:finfore.smallScreen});o=$.View("//webapp/views/module.tmpl",
{title:o,smallScreen:finfore.smallScreen,content:r});$(o).appendTo(g);g.bind("refresh",l);g.bind("reinit",function(){clearInterval(v);g.unbind();g.empty();g.jqmRemoveData();d(g,a)});$(".load-more-entries",g).click(function(w){g.trigger("refresh",[true]);w.preventDefault();return false});if(!finfore.smallScreen)var v=setInterval(l,3E5);g.page();g.trigger("init")})()};return{init:d,management:function(g){finfore.data.panels.main.feed||(finfore.data.panels.main.feed=[]);var a=$.View("//webapp/views/module.feed.management.tmpl",
{panels:finfore.data.panels.main.feed});$(a).appendTo(g);var e=$(".mtabs-container",g);finfore.manage.bindPanelData({$container:e,category:"feed"});$(".edit-column-title",g).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",e),category:"feed"})});$(".add-column",g).click(function(){finfore.manage.panels.create({$node:e,category:"feed"})});$(".remove-column",g).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",e),category:"feed"})});e.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",e),category:"feed"})});e.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",e),category:"feed"})});$(".add-preset-source",g).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",e),$presets:$(".preset-tabs",g),category:"feed"})});$(".mtab-content",e).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
e),$presets:$(".preset-tabs",g),category:"feed"})}});var j=allCount=0,q=$(".preset-sources-suggested",g);a=$(".load-more",q);var l=$(".preset-sources-all",g),o=$(".load-more",l),r=function(){j++;finfore.manage.updateFeedInfos({$node:q,type:"feed",category:"rss",count:j});return false},v=function(){allCount++;finfore.manage.updateFeedInfos({$node:l,type:"feed",category:"all,rss",count:allCount});return false};a.click(r);o.click(v);r();v()}}}();steal.loaded("webapp/modules/feed.js");
finfore.modules.podcast=function(){var h=["mp4","3g2","3gp","asf","asx","avi","flv","mov","mpg","rm","vob","webm","wmv","ogv","ogg"],d=function(a){feedReader.get({callbackId:a.callbackId,sources:a.sources,limit:a.limit,complete:function(e){if(a.loadMore===true&&a.limit>5)e=e.slice(a.limit-15,a.limit);var j="",q=e.length-1,l;$.each(e,function(v){l="";if(this.link)l=this.link;else if(this.enclosure)l=this.enclosure.url;if((a.loadMore===true||this.pubDate>a.date)&&l){j+=v===q?'<li class="last-in-group" data-icon="false">':
'<li data-icon="false">';v=l.split(".").pop();j+="<abbr>"+this.source+"</abbr>";j+='<h3><a href="'+this.link+'" target="_blank">'+this.title+"</a></h3>";j+=$.inArray(v,h)===0?'<video src="'+l+'" width="270" height="150" controls="controls" type="video/'+v+'" preload="none"></video>':'<audio src="'+l+'" controls="controls" type="audio/'+v+'" preload="none"></audio>';j+="<p>"+this.description+"</p>";j+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";j+="</li>"}});e=$(".load-more-entries",a.$container).parents("li").first();
var o=$(j),r=$("[data-role=content] ul",a.$container);o.insertBefore(e);r.jqmData("listview")?r.listview("refresh"):r.listview();$("video, audio",o).mediaelementplayer({audioWidth:275,pluginPath:"webapp/lib/mediaelement/"});a.$container.removeClass("panel-loading")}})},g=function(a,e){var j=0,q=[];q=$.map(e.feed_account.user_feeds,function(o){return o.feed_info.address});var l=function(o,r){a.addClass("panel-loading");if(r===true)j+=15;d({sources:q,$container:a,date:new Date,loadMore:r,limit:j,callbackId:e.feed_account._id})};
(function(){$(document).height();var o=$.View("//webapp/views/module.podcast.tmpl",{});o=$.View("//webapp/views/module.tmpl",{title:e.feed_account.name,smallScreen:finfore.smallScreen,content:o});$(o).appendTo(a);$(".load-more-entries",a).click(function(v){a.trigger("refresh",[true]);v.preventDefault();return false});a.bind("refresh",l);a.bind("reinit",function(){clearInterval(r);a.unbind();a.empty();a.jqmRemoveData();g(a,e)});if(!finfore.smallScreen)var r=setInterval(l,3E5);a.page();a.trigger("init")})()};
return{init:g,management:function(a){finfore.data.panels.main.podcast||(finfore.data.panels.main.podcast=[]);var e=$.View("//webapp/views/module.podcast.management.tmpl",{panels:finfore.data.panels.main.podcast});$(e).appendTo(a);var j=$(".mtabs-container",a);finfore.manage.bindPanelData({$container:j,category:"podcast"});finfore.manage.bindPanelData({$container:j,category:"podcast"});$(".edit-column-title",a).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",j),category:"podcast"})});
$(".add-column",a).click(function(){finfore.manage.panels.create({$node:j,category:"podcast"})});$(".remove-column",a).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",j),category:"podcast"})});j.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",j),category:"podcast"})});j.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",j),category:"podcast"})});$(".add-preset-source",
a).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",j),$presets:$(".preset-tabs",a),category:"podcast"})});$(".mtab-content",j).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",j),$presets:$(".preset-tabs",a),category:"podcast"})}});var q=allCount=0,l=$(".preset-sources-suggested",a);e=$(".load-more",l);var o=$(".preset-sources-all",a),r=$(".load-more",o),v=function(){q++;finfore.manage.updateFeedInfos({$node:l,
type:"podcast",category:"podcast",count:q});return false},w=function(){allCount++;finfore.manage.updateFeedInfos({$node:o,type:"podcast",category:"all,podcast",count:allCount});return false};e.click(v);r.click(w);v();w()}}}();steal.loaded("webapp/modules/podcast.js");
finfore.modules.twitter=function(){var h=function(d,g){var a,e=20,j,q,l,o,r=function(A){empty(q[0]);d.removeClass("panel-loading");if(A.results)A=A.results;$.each(A,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});a=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:A});q.append(a);A&&$.each(A,function(){var J=new Date(this.created_at);g.company&&finfore.smallScreen||J>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},v=function(A){d.addClass("panel-loading");if(A===true)e+=5;q.removeData();if(g.company){q.unbind("load");A=g.competitor?g.company.feed_info.company_competitor.keyword.replace(/,/g," OR "):g.company.feed_info.company_competitor.company_ticker+" OR "+g.company.feed_info.company_competitor.broadcast_keyword;$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:A,rpp:e},success:r})}else $.ajax({url:finforeBaseUrl+"/tweetfores/home_timeline.json",
type:"POST",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token,feed_account_id:g.feed_account._id,count:e},success:r})},w=function(){var A,J,K=false;if(g.company){J="Breaking News";if(g.competitor)J="Competitors News"}if(!g.company){J=g.feed_account.name;K=!g.feed_account.feed_token||!g.feed_account.feed_token.token}var B=$.View("//webapp/views/module.twitter.tmpl",{connected:!K});J=$.View("//webapp/views/module.tmpl",{title:J,smallScreen:finfore.smallScreen,
content:B});$(J).appendTo(d);j=$("[data-role=content]",d);q=$(".tweets",j);l=$(".load-more-tweets",j);o=$(".twitter-connect-button",d);d.addClass("panel-loading");if(K){v();var y=finforeBaseUrl+"/feed_accounts/twitter/auth?feed_account_id="+g.feed_account._id;o.click(function(){o.hide();d.addClass("panel-loading");var I=window.open(y,"twitterAuthWindow","resizable=yes,scrollbars=yes,status=yes"),G=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,
feed_token:{feed_account_id:g.feed_account.id,user_id:g.feed_account.user_id}},success:function(L){if(L.feed_token&&L.feed_token.token){g.feed_account.feed_token=L.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();w()}else if(I.closed){o.show();d.removeClass("panel-loading")}else setTimeout(G,1E4)}})};G();return false})}else finfore.smallScreen||(A=setInterval(v,3E5));l.click(function(){d.trigger("refresh",[true])});d.page();d.bind("refresh",v);d.bind("reinit",function(){clearInterval(A);
d.unbind();d.empty();d.jqmRemoveData();h(d,g)});d.trigger("init")};w()};return{init:h,management:function(d){finfore.data.panels.main.twitter||(finfore.data.panels.main.twitter=[]);var g=$.View("//webapp/views/module.twitter.management.tmpl",{panels:finfore.data.panels.main.twitter});$(g).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"twitter"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"twitter"})});
$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"twitter"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"twitter"})});a.delegate(".add-custom-source","click",function(){finfore.manage.twitter.addCustom({$node:$(".mtab:checked",a),category:"twitter"})});a.delegate(".remove-source","click",function(){finfore.manage.twitter.remove({$node:$(".mtab:checked",a),category:"twitter"})});$(".add-preset-source",
d).click(function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"twitter"})});$(".mtab-content",a).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"twitter"})}});var e=allCount=0,j=$(".preset-sources-suggested",d);g=$(".load-more",j);var q=$(".preset-sources-all",d),l=$(".load-more",q),o=function(){e++;finfore.manage.updateFeedInfos({$node:j,
type:"twitter",category:"twitter",count:e});return false},r=function(){allCount++;finfore.manage.updateFeedInfos({$node:q,type:"twitter",category:"all,twitter",count:allCount});return false};g.click(o);l.click(r);o();r()}}}();steal.loaded("webapp/modules/twitter.js");
finfore.modules.prices=function(){var h=function(d,g){var a,e=a;g.company||$.map(g.feed_account.user_feeds,function(r){return r.feed_info_id});var j=10;e=j;var q=function(r){var v="",w;if(g.company){r=g.company.feed_info.company_competitor.company_ticker+",";w=g.company.feed_info.company_competitor.company_ticker;r+=g.company.feed_info.company_competitor.competitor_ticker;v=r}else if(g.feed_account.user_feeds[0]){r=g.feed_account.user_feeds[0].feed_info.price_tickers;$.each(r,function(A,J){v+=J.ticker+
","})}if(!v)return false;v=v.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+v,dataType:"jsonp",success:function(A){var J="",K=[];$.each(A,function(B,y){B=y.e+":"+y.t;var I=y.name,G='<a href="http://www.google.com/finance?q='+B+'" target="_blank">';y.c=parseFloat(y.c);y.cp=parseFloat(y.cp);g.company&&finfore.smallScreen||Math.abs(y.cp)>finfore.ticker.priceBridge&&finfore.ticker.updatePrices(y);var L=y.l,M=y.c;y=y.cp;if(I){I=G+I+"</a>";if(!finfore.smallScreen){L=
G+L+"</a>";M=G+M+"</a>";y=G+y+"</a>"}J+='<tr class="ui-btn-up-c">';J+="<td>"+I+"</td>";J+="<td>"+L+"</td>";J+=M<0?'<td class="negative nowrap">'+M+"</a></td>":'<td class="nowrap">'+M+"</a></td>";J+=y<0?'<td class="negative nowrap">'+y+"</a></td>":'<td class="nowrap">'+y+"</a></td>";J+="</tr>"}K.push({stock:B,price:L*1})});$(J).appendTo($("tbody",d));if(g.company){K.shift();(FlashDetect.installed?$('<embed height="340" menu="false" flashvars="displayVolume=true&amp;displayDividends=true&amp;displaySplits=true&amp;displayExtendedHours=true&amp;defaultZoomDays=true&amp;hasVolume=true&amp;hasExtendedHours=true&amp;defaultZoomDays=5&amp;q='+
w+"&amp;lcId=1302290366141&amp;compareTo="+K[0].stock+"%3B"+K[1].stock+'%3B&amp;single_viewpoints=name%3AMainViewPoint%2Cheight%3A202%2CtopMargin%3A0%3A%3Aname%3ABottomViewPoint%2Cheight%3A45%2CtopMargin%3A0%2Cdisplay%3Avisible&amp;single_layers=vp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A0%2Ctype%3Asimple%2ChasText%3Atrue%3A%3Avp%3AMainViewPoint%2Cname%3APriceLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AAHLineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALastDayLineLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Adividend%2Cpositioning%3Abottom%2CavoidObj%3Asplit%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Asplit%2Cpositioning%3Abottom%2CavoidObj%3Adividend%3A%3Avp%3ABottomViewPoint%2Cname%3AVolumeScaleLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3ABottomViewPoint%2Cname%3AECNVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3AVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A1%2Ctype%3Asimple&amp;compare_viewpoints=name%3AMainViewPoint%2Cheight%3A247%2CtopMargin%3A15&amp;compare_layers=vp%3AMainViewPoint%2Cname%3APercentLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%2CtickPosition%3A0%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3APercentLineChartLayer%2Carity%3AMultiple%2Ctype%3Asimple&amp;u=http://www.google.com/finance/getprices&amp;fieldSeparator=%2C&amp;objectSeparator=%3A%3A&amp;sparklineType=dynamic&amp;hasDefaultZoomSetting=true&amp;verticalScaling=maximized&amp;hasVerticalScaleSetting=true&amp;snapping=false&amp;minZoomDays=1&amp;infoTextAlign=left&amp;infoTextTopPadding=17&amp;disableExternalInterface=true" width="100%" base="http://www.google.com/finance/" wmode="opaque" type="application/x-shockwave-flash" src="http://www.google.com/finance/chart9.swf"></embed>'):
$('<img src="http://www.google.com/finance/chart?q='+w+'&cht=o&p=5d" class="image-stocks-chart">')).prependTo(d.find("[data-role=content]"))}},complete:function(){d.removeClass("panel-loading")}})},l=function(){d.addClass("panel-loading");q()},o=function(){e=j=10;$(".ui-content table tbody",d).empty();$(".ui-content > embed, .ui-content > img",d).remove();l()};(function(){$(document).height();var r=g.company?"Prices":g.feed_account.name;if(!d||!d.length)sandbox.debug("No container set for Module! Module *Feed* will not initalize!",
"warn");else{var v=$.View("//webapp/views/module.prices.tmpl",{});r=$.View("//webapp/views/module.tmpl",{title:r,smallScreen:finfore.smallScreen,content:v});$(r).appendTo(d);if(!finfore.smallScreen)var w=setInterval(o,3E5);d.page();d.bind("refresh",o);d.bind("reinit",function(){clearInterval(w);d.unbind();d.empty();d.jqmRemoveData();h(d,g)});d.trigger("init")}})()};return{init:h,management:function(d){finfore.data.panels.main.prices||(finfore.data.panels.main.prices=[]);var g=$.View("//webapp/views/module.prices.management.tmpl",
{panels:finfore.data.panels.main.prices});$(g).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"prices"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"prices"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"prices"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"prices"})});a.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",a),category:"prices"})});a.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",a),category:"prices"})});$(".add-preset-source",d).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"prices"})});$(".mtab-content",a).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
a),$presets:$(".preset-tabs",d),category:"prices"})}});var e=allCount=0,j=$(".preset-sources-suggested",d);g=$(".load-more",j);var q=$(".preset-sources-all",d),l=$(".load-more",q),o=function(){e++;finfore.manage.updateFeedInfos({$node:j,type:"prices",category:"chart",count:e});return false},r=function(){allCount++;finfore.manage.updateFeedInfos({$node:q,type:"prices",category:"all,chart",count:allCount});return false};g.click(o);l.click(r);o();r()}}}();steal.loaded("webapp/modules/prices.js");
finfore.modules.portfolio=function(){return{init:function(h,d){var g,a=g,e=10;a=e;var j=function(){h.addClass("panel-loading");var l="";if(d.portfolio.overview.rss.chanel.item){l="";if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(o,r){if(this.google_ticker)l+=r.google_ticker+","});else l=d.portfolio.overview.rss.chanel.item.google_ticker;l=l.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+l,dataType:"jsonp",
success:function(o){var r="";$.each(o,function(v,w){v=w.name;var A='<a href="http://www.google.com/finance?q='+(w.e+":"+w.t)+'" target="_blank">',J=w.l,K=parseFloat(w.c);w=parseFloat(w.cp);if(v){v=A+v+"</a>";if(!finfore.smallScreen){J=A+J+"</a>";K=A+K+"</a>";w=A+w+"</a>"}r+='<tr class="ui-btn-up-c">';r+="<td>"+v+"</td>";r+="<td>"+J+"</td>";r+=K<0?'<td class="negative nowrap">'+K+"</a></td>":'<td class="nowrap">'+K+"</a></td>";r+=w<0?'<td class="negative nowrap">'+w+"</a></td>":'<td class="nowrap">'+
w+"</a></td>";r+="</tr>"}});$(r).appendTo($("tbody",h));h.removeClass("panel-loading")},complete:function(){h.removeClass("panel-loading")}})}else h.remove()},q=function(){a=e=10;empty($("[data-role=content] tbody",h)[0]);j()};(function(){var l=$.View("//webapp/views/module.portfolio.tmpl",{});l=$.View("//webapp/views/module.tmpl",{title:d.portfolio.title,smallScreen:finfore.smallScreen,content:l});$(l).appendTo(h);finfore.smallScreen||setInterval(q,3E5);h.page();h.bind("refresh",q);h.trigger("init")})()},
management:function(h){var d=$.View("//webapp/views/module.portfolio.management.tmpl",{portfolios:finfore.data.portfolios});$(d).appendTo(h);var g=$(".mtabs-container",h);finfore.manage.bindPanelData({$container:g,category:"portfolio"});$(".edit-portfolio",h).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",g),category:"portfolio"})});$(".add-portfolio",h).click(function(){finfore.manage.panels.create({$node:g,category:"portfolio"})});$(".remove-portfolio",h).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
g),category:"portfolio"})})}}}();steal.loaded("webapp/modules/portfolio.js");
finfore.modules.agenda=function(){return{init:function(h,d){var g=function(e){e.$container.addClass("panel-loading");var j="",q;if(d.company){q=d.company._id;if(d.competitor){j=d.company.feed_info.company_competitor.competitor_ticker;q+="competitor"}else j=d.company.feed_info.company_competitor.company_ticker}else{if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(){if(this.google_ticker)j+=this.google_ticker+","});else if(d.portfolio.overview.rss.chanel.item)j=
d.portfolio.overview.rss.chanel.item.google_ticker;q=d.portfolio.id_bare}if(!j)return false;j=j.replace(/\s/g,"");var l='select * from json where url="http://www.google.com/finance/events?output=json&q='+j+'"';q="agendaModuleCallback"+q;window[q]=function(o){agendaCalendarCallback(o,e)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:q,cache:true,data:{q:l,format:"json",_maxage:300,diagnostics:false}})},a=function(){empty($("[data-role=content] .events-months-container",
h)[0]);g({$container:h})};(function(){$(document).height();if(d.company){var e="Calendar";if(d.competitor)e="Competitors Calendar"}else e=d.portfolio?d.portfolio.title:d.feed_account.name;var j=$.View("//webapp/views/module.agenda.tmpl",{});e=$.View("//webapp/views/module.tmpl",{title:e,smallScreen:finfore.smallScreen,content:j});$(e).appendTo(h);finfore.smallScreen||setInterval(a,3E5);h.page();h.bind("refresh",a);h.trigger("init")})()}}}();
var agendaCalendarCallback=function(h,d){var g="",a="",e=[],j=new Date,q;if(h.query.results)e=h.query.results.json.events;if($.isArray(e)&&e.length){e=e.reverse();$.each(e,function(){q=new Date(this.LocalizedInfo.start_date);q.setHours(0);if(q>=j){var l=this.LocalizedInfo.start_date,o=this.desc,r=/^[A-Za-z]{3}/.exec(l),v=/[0-9]{4}$/.exec(l);if(r!=null)h=r[0];if(v!=null)result_year=v[0];if(g!=h)if(g==""){g=h;a+='<div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+
g+" "+result_year+"</td></tr></thead><tbody>"}else{g=h;a+='</tbody></table></div><div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+g+" "+result_year+"</td></tr></thead><tbody>"}a+='<tr class="ui-btn-up-c">';a+="<td>"+l+", ";a+=this.LocalizedInfo.start_time?this.LocalizedInfo.start_time:"All Day";a+="</td><td>"+o+"</td>";a+="</tr>"}})}a||(a='<table class="events-table"><thead><tr><td class="ui-bar-d">No upcoming events </td></tr></thead></table>');
$(a).appendTo($(".events-months-container",d.$container));d.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/agenda.js");
finfore.modules.linkedin=function(){var h=function(d,g){var a,e,j=function(){d.addClass("panel-loading");empty(a[0]);$.ajax({url:finforeBaseUrl+"/linkedins/network_status.json",dataType:"json",data:{tid:g.feed_account.feed_token._id,count:25},success:function(l){var o="",r,v,w,A,J,K,B,y,I,G=new Date;if(l&&l.length)$.each(l,function(L,M){if(M.updateContent.person.id!="private"){B=M.timestamp;G.setTime(B*1);o+='<li class="ui-li ui-btn-up-c">';r=M.updateContent.person.firstName+" "+M.updateContent.person.lastName;
v=M.updateContent.person.apiStandardProfileRequest.url;if(K=M.updateContent.person.pictureUrl)o+='<a href="'+v+'" target="_blank"><img src="'+K+'" width="80" height="80" /></a>';if(M.updateContent.person.connections){w=M.updateContent.person.connections.person.firstName+" "+M.updateContent.person.connections.person.lastName;J=M.updateContent.person.connections.person.apiStandardProfileRequest.url;o+='<p><a href="'+v+'" target="_blank" class="user">'+r+'</a> connected with <a href="'+J+'" class="connection" target="_blank">'+
w+"</a></p>"}else if(M.updateContent.person.currentShare){if(M.updateContent.person.currentShare.comment){A=$.linkUrl(M.updateContent.person.currentShare.comment);o+='<p><a href="'+v+'" target="_blank" class="user">'+r+"</a> "+A+"</p>"}if(M.updateContent.person.currentShare.content){y=M.updateContent.person.currentShare.content.title;I=M.updateContent.person.currentShare.content.submittedUrl;o+='<p><a href="'+I+'" target="_blank" class="user">'+y+"</a></p>"}}o+="<time>"+G.toUTCString()+"</time>";
o+="</li>"}});else o='<li class="ui-li ui-btn-up-d">No LinkedIn events</li>';$(o).appendTo(a);d.removeClass("panel-loading")}})},q=function(){var l,o=!g.feed_account.feed_token||!g.feed_account.feed_token.token,r=$.View("//webapp/views/module.linkedin.tmpl",{connected:!o});r=$.View("//webapp/views/module.tmpl",{title:g.feed_account.name,smallScreen:finfore.smallScreen,content:r});$(r).appendTo(d);d.page();d.bind("refresh",j);d.bind("reinit",function(){clearInterval(l);d.unbind();d.empty();d.jqmRemoveData();
h(d,g)});a=$("[data-role=content] ul",d);e=$(".linkedin-connect-button",d);if(o){var v=finforeBaseUrl+"/feed_accounts/linkedin/auth?feed_account_id="+g.feed_account._id+"&callback="+finforeAppUrl+"authorize.html";e.click(function(){e.hide();d.addClass("panel-loading");var w=window.open(v,"linkedinAuthWindow","resizable=yes,scrollbars=yes,status=yes"),A=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,feed_token:{feed_account_id:g.feed_account.id,
user_id:g.feed_account.user_id}},success:function(J){if(J.feed_token&&J.feed_token.token){g.feed_account.feed_token=J.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();q()}else if(w.closed){e.show();d.removeClass("panel-loading")}else setTimeout(A,1E4)}})};A();return false})}else finfore.smallScreen||(l=setInterval(j,3E5));d.trigger("init")};q()};return{init:h,management:function(d){finfore.data.panels.main.linkedin||(finfore.data.panels.main.linkedin=[]);var g=$.View("//webapp/views/module.linkedin.management.tmpl",
{panels:finfore.data.panels.main.linkedin});$(g).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"linkedin"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"linkedin"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"linkedin"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"linkedin"})})}}}();
steal.loaded("webapp/modules/linkedin.js");
finfore.modules.blinkx=function(){var h=function(g){g.company.feed_info.company_competitor.broadcast_keyword=g.company.feed_info.company_competitor.broadcast_keyword.replace(/ /g,"+");g.company.feed_info.company_competitor.broadcast_keyword=g.company.feed_info.company_competitor.broadcast_keyword.replace(/"/g,"");g.company.feed_info.company_competitor.broadcast_keyword=g.company.feed_info.company_competitor.broadcast_keyword.replace(/&/g,"");g.company.feed_info.company_competitor.broadcast_keyword=escape(g.company.feed_info.company_competitor.broadcast_keyword);
var a="select * from xml where url='"+("http://usp1.blinkx.com/partnerapi/user/?uid=2ehiek5947&text=%22"+g.company.feed_info.company_competitor.broadcast_keyword+"%22&start="+g.start+"&MaxResults="+g.end+"&sortby=date&AdultFilter=true&ReturnLink=true")+"'",e="blinkxModuleCallback"+g.company._id;window[e]=function(j){blinkxCallback(j,g)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:e,cache:true,data:{q:a,format:"json",_maxage:300,diagnostics:false}})},d=function(g,
a){var e=0,j=0,q=function(l,o){g.addClass("panel-loading");if(o===true){e=j+1;j+=20;h({start:e,end:j,date:new Date,loadMore:o,company:a.company,$container:g})}else h({start:1,end:j,date:new Date,loadMore:o,company:a.company,$container:g})};(function(){$(document).height();var l=$.View("//webapp/views/module.blinkx.tmpl",{});l=$.View("//webapp/views/module.tmpl",{title:"Broadcast News",smallScreen:finfore.smallScreen,content:l});$(l).appendTo(g);$(".load-more-entries",g).click(function(r){g.trigger("refresh",
[true]);r.preventDefault();return false});g.bind("refresh",q);g.bind("reinit",function(){clearInterval(o);g.unbind();g.empty();g.jqmRemoveData();d(g,a)});if(!finfore.smallScreen)var o=setInterval(q,3E5);g.page();g.trigger("init")})()};return{init:d}}();
var blinkxCallback=function(h,d){var g=[],a,e,j,q,l,o,r,v,w,A;if(h.query.results&&h.query.results.response.responsedata)g=h.query.results.response.responsedata.hit;if(g){j=g.length-1;$.each(g,function(J){a=this;q=a.date;l=a.title;o=a.channel;r=a.summary;v=a.staticpreview;w=a.url;A=new Date(q*1E3);if(finfore.smallScreen||finfore.tablet)w=w.replace("http://www.blinkx.com/burl?v=","http://m.blinkx.com/info/");if(d.loadMore===true||A>d.date){e+=J===j?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';
e+='<a href="'+w+'" target="_blank"><abbr>'+o+"</abbr>";e+="<h3>"+l+"</h3>";e+='<img src="'+v+'" />';e+="<p>"+r.substring(0,100)+"..</p>";e+="<abbr>"+A.toUTCString()+"</abbr>";e+="</a></li>"}});h=$(".load-more-entries",d.$container).parents("li").first();$(e).insertBefore(h);$("[data-role=content] ul",d.$container).listview("refresh")}d.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/blinkx.js");
finfore.modules.keyword=function(){var h=function(d,g){var a=15,e,j,q,l=function(r){empty(j[0]);d.removeClass("panel-loading");if(r.results)r=r.results;$.each(r,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});tweetTemplate=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:r});j.append(tweetTemplate);r&&$.each(r,function(){var v=new Date(this.created_at);g.company&&finfore.smallScreen||v>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},o=function(r){d.addClass("panel-loading");if(r===true)a+=5;j.removeData();r=g.feed_account.keyword_column.keyword;if(!r){d.removeClass("panel-loading");return false}$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:r,rpp:a},success:l})};(function(){var r,v=g.feed_account.name,w=$.View("//webapp/views/module.keyword.tmpl",{});v=$.View("//webapp/views/module.tmpl",{title:v,smallScreen:finfore.smallScreen,content:w});$(v).appendTo(d);d.bind("refresh",
o);d.bind("reinit",function(){clearInterval(r);d.unbind();d.empty();d.jqmRemoveData();h(d,g)});e=$("[data-role=content]",d);j=$(".tweets",e);q=$(".load-more-tweets",e);d.addClass("panel-loading");q.click(function(){d.trigger("refresh",[true])});d.page();finfore.smallScreen||(r=setInterval(o,3E5));d.trigger("init")})()};return{init:h,management:function(d){finfore.data.panels.main.keyword||(finfore.data.panels.main.keyword=[]);var g=$.View("//webapp/views/module.keyword.management.tmpl",{panels:finfore.data.panels.main.keyword});
$(g).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"keyword"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"keyword"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"keyword"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"keyword"})});a.delegate(".keyword-save","click",function(){var e=$(this).parents(".keyword-panel-settings:first"),
j=e.parents(".mtab-content:first").prevAll(".mtab:first"),q=$.data(j[0],"data").feed_account,l=$(".keyword-text",e).val(),o=$(".keyword-followers",e).val(),r=false;if($(".keyword-aggregate",e).is(":checked"))r=true;e={_id:q._id,keyword_column_attributes:{is_aggregate:r,follower:o,keyword:l,_id:q.keyword_column._id}};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+e._id+".json",type:"PUT",data:{feed_account:e},success:function(v){$().toastmessage("showSuccessToast",finfore.manage.messages.updateColumn);
$.data(j[0],"data",{feed_account:v})},error:function(){$().toastmessage("showErrorToast",finfore.manage.messages.errorUpdateColumn)}})})}}}();steal.loaded("webapp/modules/keyword.js");
